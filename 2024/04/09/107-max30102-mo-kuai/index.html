<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>Max30102æ¨¡å—</title>
  
  <link rel="canonical" href="http://blog.isgeek.top/2024/04/09/107-max30102-mo-kuai/">
  
  <meta name="description" content="å¯„å­˜å™¨&amp;#x2F;*MAX30102å¯„å­˜å™¨åœ°å€å®å®šä¹‰*&amp;#x2F; #define max30100_WR_address 0xAE #define MAX30102_Device_address max30100_WR_address #define I2C_WR	0		&amp;#x2F;* å†™æ§åˆ¶bi">
  
  
  <meta name="author" content="å—åŒ—çš„çŒ«">
  
  
  
  <meta property="og:site_name" content="å—åŒ—çš„çŒ«" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Max30102æ¨¡å—" />
  
  <meta property="og:description" content="å¯„å­˜å™¨&amp;#x2F;*MAX30102å¯„å­˜å™¨åœ°å€å®å®šä¹‰*&amp;#x2F; #define max30100_WR_address 0xAE #define MAX30102_Device_address max30100_WR_address #define I2C_WR	0		&amp;#x2F;* å†™æ§åˆ¶bi">
  
  <meta property="og:url" content="http://blog.isgeek.top/2024/04/09/107-max30102-mo-kuai/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Max30102æ¨¡å—">
  
  <meta name="twitter:description" content="å¯„å­˜å™¨&amp;#x2F;*MAX30102å¯„å­˜å™¨åœ°å€å®å®šä¹‰*&amp;#x2F; #define max30100_WR_address 0xAE #define MAX30102_Device_address max30100_WR_address #define I2C_WR	0		&amp;#x2F;* å†™æ§åˆ¶bi">
  
  
  
  
  <meta name="twitter:url" content="http://blog.isgeek.top/2024/04/09/107-max30102-mo-kuai/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

  
  <script src="/js/pic.min.js" defer></script>
  

  
  <script src="/js/search.min.js" defer></script>
  

<meta name="generator" content="Hexo 6.1.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi .
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/Works" class="ml">Works</a>
          
        
          
          <a href="/About" class="ml">About</a>
          
        
        
          
            <a href="mailto:test@test.test" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>Max30102æ¨¡å—</h2>

  <h2 id="å¯„å­˜å™¨"><a href="#å¯„å­˜å™¨" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;*MAX30102å¯„å­˜å™¨åœ°å€å®å®šä¹‰*&#x2F;
#define max30100_WR_address 0xAE
#define MAX30102_Device_address max30100_WR_address
#define I2C_WR	0		&#x2F;* å†™æ§åˆ¶bit *&#x2F;
#define I2C_RD	1		&#x2F;* è¯»æ§åˆ¶bit *&#x2F;
#define REG_INTR_STATUS_1 		0x00
#define REG_INTR_STATUS_2 		0x01
#define REG_INTR_ENABLE_1 		0x02
#define REG_INTR_ENABLE_2 		0x03
#define REG_FIFO_WR_PTR 		0x04
#define REG_OVF_COUNTER 		0x05
#define REG_FIFO_RD_PTR 		0x06
#define REG_FIFO_DATA 			0x07
#define REG_FIFO_CONFIG 		0x08
#define REG_MODE_CONFIG 		0x09
#define REG_SPO2_CONFIG 		0x0A
#define REG_LED1_PA 			0x0C
#define REG_LED2_PA 			0x0D
#define REG_PILOT_PA 			0x10
#define REG_MULTI_LED_CTRL1 0x11
#define REG_MULTI_LED_CTRL2 0x12
#define REG_TEMP_INTR 			0x1F
#define REG_TEMP_FRAC 			0x20
#define REG_TEMP_CONFIG 		0x21
#define REG_PROX_INT_THRESH 0x30
#define REG_REV_ID 				0xFE
#define REG_PART_ID 			0xFF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="è¯»å–å¯„å­˜å™¨çš„æ•°æ®"><a href="#è¯»å–å¯„å­˜å™¨çš„æ•°æ®" class="headerlink" title="è¯»å–å¯„å­˜å™¨çš„æ•°æ®"></a>è¯»å–å¯„å­˜å™¨çš„æ•°æ®</h2><p>è¯»å“ªä¸ªå¯„å­˜å™¨</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">FIFO_DATA 			0x07<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>åœ¨ä½¿ç”¨MAX30102çš„FIFOæ—¶ï¼Œé€šå¸¸ä¸éœ€è¦ä½ ç›´æ¥æ“ä½œFIFOè¯»æŒ‡é’ˆï¼ˆFIFO_RD_PTRï¼‰ã€‚FIFOè¯»æŒ‡é’ˆçš„è‡ªåŠ¨é€’å¢æ˜¯MAX30102å†…éƒ¨æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨ç®€åŒ–ä»FIFOä¸­è¿ç»­è¯»å–æ•°æ®çš„è¿‡ç¨‹ã€‚</p>
<p>å½“ä½ ä»FIFO_DATAå¯„å­˜å™¨è¯»å–æ•°æ®æ—¶ï¼ŒMAX30102å†…éƒ¨çš„FIFOè¯»æŒ‡é’ˆä¼šè‡ªåŠ¨å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡è¯»å–ã€‚è¿™æ„å‘³ç€æ¯æ¬¡è¯»å–æ“ä½œåï¼ŒFIFO_RD_PTRéƒ½ä¼šè‡ªåŠ¨æ›´æ–°ï¼ŒæŒ‡å‘FIFOä¸­çš„ä¸‹ä¸€ä¸ªå¾…è¯»å–æ•°æ®ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</p>
<p>å¦‚æœä½ éœ€è¦ä»FIFOçš„ç‰¹å®šä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œæˆ–è€…éœ€è¦é‡ç½®FIFOåˆ°å·²çŸ¥çŠ¶æ€ï¼Œä½ å¯ä»¥é€šè¿‡å†™å…¥FIFOè¯»æŒ‡é’ˆã€å†™æŒ‡é’ˆå’Œæº¢å‡ºè®¡æ•°å™¨å¯„å­˜å™¨æ¥å®ç°ã€‚é€šå¸¸ï¼Œåœ¨åˆå§‹åŒ–MAX30102æˆ–å‡†å¤‡æ–°çš„æ•°æ®é‡‡é›†ä¼šè¯ä¹‹å‰ï¼Œä¼šå°†è¿™äº›æŒ‡é’ˆå¯„å­˜å™¨é‡ç½®ä¸ºé›¶ï¼š</p>
<p><strong>æ€ä¹ˆè¯»</strong></p>
<blockquote>
<p>FIFO Data RegisterThe circular FIFO depth is 32 and can hold up to 32 samples of data. The sample size depends on the number of LED channels (a.k.a. channels) configured as active. As each channel signal is stored as a 3-byte data signal, the FIFO width can be 3 bytes or 6 bytes in size.The FIFO_DATA register in the I2C register map points to the next sample to be read from the FIFO. FIFO_RD_PTR points to this sample. Reading FIFO_DATA register, does not automatically increment the I2C register address. Burst reading this register, reads the same address over and over. Each sample is 3 bytes of data per channel (i.e., 3 bytes for RED, 3 bytes for IR, etc.).The FIFO registers (0x04â€“0x07) can all be written and read, but in practice only the FIFO_RD_PTR register should be written to in operation. The others are automatically incremented or filled with data by the MAX30102. When starting a new SpO2 or heart rate conversion, it is recommended to first clear the FIFO_WR_PTR, OVF_COUNTER, and FIFO_RD_PTR registers to all zeroes (0x00) to ensure the FIFO is empty and in a known state. When reading the MAX30102 registers in one burst-read I2C transaction, the register address pointer typically increments so that the next byte of data sent is from the next register, etc. The exception to this is the FIFO data register, register 0x07. When reading this register, the address pointer does not increment, but the FIFO_RD_PTR does. So the next byte of data sent represents the next byte of data available in the FIFO.Reading from the FIFONormally, reading registers from the I2C interface autoincrements the register address pointer, so that all the registers can be read in a burst read without an I2C start event. In the MAX30102, this holds true for all registers except for the FIFO_DATA register (register 0x07).Reading the FIFO_DATA register does not automatically increment the register address. Burst reading this register reads data from the same address over and over. Each sample comprises multiple bytes of data, so multiple bytes should be read from this register (in the same transaction) to get one full sample.The other exception is 0xFF. Reading more bytes after the 0xFF register does not advance the address pointer back to 0x00, and the data read is not meaningful.FIFO Data StructureThe data FIFO consists of a 32-sample memory bank that can store IR and Red ADC data. Since each sample consists of two channels of data, there are 6 bytes of data for each sample, and therefore 192 total bytes of data can be stored in the FIFO.The FIFO data is left-justified as shown in Table 1; in other words, the MSB bit is always in the bit 17 data position regardless of ADC resolution setting. See Table 2 for a visual presentation of the FIFO data structure  </p>
</blockquote>
<img src="/2024/04/09/107-max30102-mo-kuai/image-20240410214224496.png" class="" title="image-20240410214224496">

<p><strong>ä¸ºä»€ä¹ˆè¯»6æ¬¡</strong></p>
<p>å› ä¸ºæ¯ä¸ªé‡‡æ ·æœ‰ä¸¤ä¸ªæ•°æ®é€šé“,å’Œå…­ä¸ªå­—èŠ‚</p>
<blockquote>
<p>The data FIFO consists of a 32-sample memory bank that can store IR and Red ADC data. Since each sample consists of <strong>two channels</strong> of data, there are <strong>6 bytes of data for each sample</strong></p>
</blockquote>
<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ol>
<li><strong>ä¸æ˜¯è¯´åœ°å€ä¸ä¼šè‡ªå¢å—,ä¸ºä»€ä¹ˆå¯ä»¥é‡å¤è¯»å…­æ¬¡</strong></li>
</ol>
<blockquote>
<p>å¯„å­˜å™¨æ—¶åœ°å€ä¸ä¼šè‡ªå¢ï¼ŒæŒ‡çš„æ˜¯å•ç‹¬å¯¹FIFO_DATAå¯„å­˜å™¨çš„è¯»å–æ“ä½œä¸ä¼šå¯¼è‡´I2Cå†…éƒ¨å¯„å­˜å™¨åœ°å€çš„è‡ªåŠ¨é€’å¢ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åå¤å‘å‡ºè¯»å–æŒ‡ä»¤ï¼Œè€Œä¸é‡æ–°æŒ‡å®šåœ°å€ï¼Œä½ å°†ä¼šè¿ç»­è¯»åˆ°åŒä¸€ä¸ªå¯„å­˜å™¨çš„æ•°æ®ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨ä½ æä¾›çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡ä¸€æ¬¡I2Cå¼€å§‹ä¿¡å·å’Œè®¾å¤‡åœ°å€ï¼ˆåŒ…å«è¯»ä½ï¼‰çš„å‘é€åï¼Œè¿ç»­è¯»å–6ä¸ªå­—èŠ‚çš„æ•°æ®å®é™…ä¸Šæ˜¯åœ¨è¿ç»­è¯»å–FIFO_DATAå¯„å­˜å™¨çš„å½“å‰å†…å®¹6æ¬¡ã€‚<strong>ç”±äºFIFO_RD_PTRï¼ˆFIFOè¯»æŒ‡é’ˆï¼‰ä¼šåœ¨æ¯æ¬¡ä»FIFO_DATAå¯„å­˜å™¨è¯»å–æ•°æ®åè‡ªåŠ¨é€’å¢ï¼Œæ‰€ä»¥æ¯æ¬¡è¯»å–æ“ä½œå®é™…ä¸Šéƒ½ä¼šè·å–åˆ°FIFOä¸­çš„ä¸‹ä¸€ä¸ªæ•°æ®æ ·æœ¬ï¼Œå³ä½¿å¯„å­˜å™¨åœ°å€æ²¡æœ‰æ”¹å˜</strong>ã€‚</p>
</blockquote>
<ol start="2">
<li><p><strong>ä¸å¤ªç†è§£FIFO_RD_PTRä¸FIFO_DATAçš„å…³ç³»</strong></p>
<p>FIFOè¯»æŒ‡é’ˆçš„è‡ªåŠ¨é€’å¢æ˜¯MAX30102å†…éƒ¨æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨ç®€åŒ–ä»FIFOä¸­è¿ç»­è¯»å–æ•°æ®çš„è¿‡ç¨‹ã€‚</p>
<p>å½“ä½ ä»FIFO_DATAå¯„å­˜å™¨è¯»å–æ•°æ®æ—¶ï¼ŒMAX30102å†…éƒ¨çš„FIFOè¯»æŒ‡é’ˆä¼šè‡ªåŠ¨å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡è¯»å–ã€‚è¿™æ„å‘³ç€æ¯æ¬¡è¯»å–æ“ä½œåï¼ŒFIFO_RD_PTRéƒ½ä¼šè‡ªåŠ¨æ›´æ–°ï¼ŒæŒ‡å‘FIFOä¸­çš„ä¸‹ä¸€ä¸ªå¾…è¯»å–æ•°æ®ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</p>
   <pre class="line-numbers language-c" data-language="c"><code class="language-c">void MAX30102_IIC_ReadReg(uint8_t slave_ID,uint8_t RegAddress)  &#x2F;&#x2F;è¯»å–6ä¸ªå­—èŠ‚
&#123;
    fifo_red&#x3D;0;
    fifo_ir&#x3D;0;
	uint16_t Data1,Data2,Data3,Data4,Data5,Data6;
	
	IIC_Start();						&#x2F;&#x2F;I2Cèµ·å§‹
	IIC_SendByte(slave_ID);	&#x2F;&#x2F;å‘é€ä»æœºåœ°å€ï¼Œè¯»å†™ä½ä¸º0ï¼Œè¡¨ç¤ºå³å°†å†™å…¥
	IIC_ReceiveAck();					&#x2F;&#x2F;æ¥æ”¶åº”ç­”
	IIC_SendByte(RegAddress);			&#x2F;&#x2F;å‘é€å¯„å­˜å™¨åœ°å€
	IIC_ReceiveAck();					&#x2F;&#x2F;æ¥æ”¶åº”ç­”
	
	IIC_Start();						&#x2F;&#x2F;I2Cé‡å¤èµ·å§‹
	IIC_SendByte(slave_ID | 0x01);	&#x2F;&#x2F;å‘é€ä»æœºåœ°å€ï¼Œè¯»å†™ä½ä¸º1ï¼Œè¡¨ç¤ºå³å°†è¯»å–
	IIC_ReceiveAck();					&#x2F;&#x2F;æ¥æ”¶åº”ç­”
	Data1 &#x3D; IIC_ReceiveByte();			&#x2F;&#x2F;æ¥æ”¶æŒ‡å®šå¯„å­˜å™¨çš„æ•°æ®
	IIC_SendAck(0);					&#x2F;&#x2F;å‘é€åº”ç­”ï¼Œç»™ä»æœºéåº”ç­”ï¼Œç»ˆæ­¢ä»æœºçš„æ•°æ®è¾“å‡º
	Data2 &#x3D; IIC_ReceiveByte();
	IIC_SendAck(0);	
	Data3 &#x3D; IIC_ReceiveByte();
	IIC_SendAck(0);
	Data4 &#x3D; IIC_ReceiveByte();			&#x2F;&#x2F;æ¥æ”¶æŒ‡å®šå¯„å­˜å™¨çš„æ•°æ®
	IIC_SendAck(0);					&#x2F;&#x2F;å‘é€åº”ç­”ï¼Œç»™ä»æœºéåº”ç­”ï¼Œç»ˆæ­¢ä»æœºçš„æ•°æ®è¾“å‡º
	Data5 &#x3D; IIC_ReceiveByte();
	IIC_SendAck(0);	
	Data6 &#x3D; IIC_ReceiveByte();
	IIC_SendAck(1);
	IIC_Stop();	
	&#x2F;&#x2F;I2Cç»ˆæ­¢
    &#x2F;&#x2F;å°†è¯»å–çš„6ä¸ªå­—èŠ‚æ•°æ®é€šè¿‡ä½ç§»æ“ä½œé‡ç»„æˆä¸¤ä¸ª18ä½çš„æ•°æ®ï¼Œåˆ†åˆ«ä»£è¡¨çº¢å…‰å’Œçº¢å¤–å…‰é€š
	Data1 &lt;&lt;&#x3D; 14;    
    fifo_red+&#x3D;Data1;
	Data2 &lt;&lt;&#x3D; 6;
    fifo_red+&#x3D;Data2;
	Data3 &gt;&gt;&#x3D; 2;
    fifo_red+&#x3D;Data3;
	
	Data4 &lt;&lt;&#x3D; 14;
    fifo_ir+&#x3D;Data4;
	Data5 &lt;&lt;&#x3D; 6;
    fifo_ir+&#x3D;Data5;
	Data6 &gt;&gt;&#x3D; 2;
    fifo_ir+&#x3D;Data6;
	
	if(fifo_ir&lt;&#x3D;10000)
	&#123;
		fifo_ir&#x3D;0;
	&#125;
	if(fifo_red&lt;&#x3D;10000)
	&#123;
		fifo_red&#x3D;0;
	&#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<p>MSBï¼ˆMost Significant Bitï¼‰æŒ‡çš„æ˜¯äºŒè¿›åˆ¶æ•°å­—ä¸­æœ€é«˜ä½çš„ä½ï¼Œå³æƒå€¼æœ€å¤§çš„ä½ã€‚åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ä¸­ï¼ŒMSBä½äºæœ€å·¦è¾¹ã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„éè´Ÿæ•°ï¼ŒMSBå¯¹æ•°å€¼çš„å½±å“æœ€å¤§ï¼Œå› ä¸ºå®ƒä»£è¡¨äº†æœ€å¤§çš„æƒå€¼ã€‚</p>
<ol start="3">
<li>**è¿™ä¸ªç§»ä½ç©¶ç«Ÿæ˜¯æ€ä¹ˆä¸ªç§»ä½</li>
</ol>
<ul>
<li><strong>BYTE 1</strong> åŒ…å«äº†æœ€é«˜æœ‰æ•ˆä½ï¼Œä¹Ÿå°±æ˜¯<code>FIFO_DATA[17]</code>å’Œ<code>FIFO_DATA[16]</code>ã€‚</li>
<li><strong>BYTE 2</strong> åŒ…å«äº†æ¥ä¸‹æ¥çš„ä½ï¼Œä»<code>FIFO_DATA[15]</code>åˆ°<code>FIFO_DATA[8]</code>ã€‚</li>
<li><strong>BYTE 3</strong> åŒ…å«äº†<code>FIFO_DATA[7]</code>åˆ°<code>FIFO_DATA[0]</code>ï¼Œ</li>
</ul>
<blockquote>
<p>0000 00aa</p>
<p>aa00  0000 0000 0000</p>
<p>bbccddee</p>
<p>bb ccdd ee00 0000</p>
<p>kkll mmnn</p>
<p>00kk llmm nn</p>
</blockquote>
<blockquote>
<p>aa00  0000 0000 0000 00</p>
<p>â€‹    bb ccdd ee00 0000 00 </p>
<p>â€‹                  00kk llmm nn</p>
</blockquote>
<h2 id="é€šè¿‡å…¬å¼è®¡ç®—"><a href="#é€šè¿‡å…¬å¼è®¡ç®—" class="headerlink" title="é€šè¿‡å…¬å¼è®¡ç®—"></a>é€šè¿‡å…¬å¼è®¡ç®—</h2><h2 id="å¿ƒç‡åŸç†"><a href="#å¿ƒç‡åŸç†" class="headerlink" title="å¿ƒç‡åŸç†"></a>å¿ƒç‡åŸç†</h2><img src="/2024/04/09/107-max30102-mo-kuai/image-20240412082525496.png" class="" title="image-20240412082525496">

<img src="/2024/04/09/107-max30102-mo-kuai/image-20240412082501374.png" class="" title="image-20240412082501374">

<p>é¡ºåŠ¿å¿ƒç‡å¯ä»¥é€šè¿‡æµ‹é‡è¿ç»­æ”¶ç¼©å³°å€¼ä¹‹é—´çš„æ—¶é—´æ¥è®¡ç®—</p>
<p>æ³¨æ„: åªä½¿ç”¨ä¸€ä¸ªLEDå°±å¯ä»¥æµ‹é‡å¿ƒç‡,å› ä¸ºåªéœ€è¦äº¤æµä¿¡å·åˆ†é‡</p>
<h2 id="è¡€æ°§åŸç†"><a href="#è¡€æ°§åŸç†" class="headerlink" title="è¡€æ°§åŸç†"></a>è¡€æ°§åŸç†</h2><p>1.4 è¡€æ°§è®¡ç®—(SpO2)</p>
<p>è¡€æ°§æµ“åº¦ï¼Œæ˜¯æŒ‡è¡€ä¸­æ°§é¥±å’Œè¡€çº¢è›‹ç™½ç›¸å¯¹äºæ€»<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E8%A1%80%E7%BA%A2%E8%9B%8B%E7%99%BD">è¡€çº¢è›‹ç™½</a>ï¼ˆä¸é¥±å’Œ+é¥±å’Œï¼‰çš„æ¯”ä¾‹</p>
<p>è¡€å‹è®¡ç®—å…¬å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œè¿™é‡ŒMAX30102æ˜¯ä¸€è·¯çº¢å…‰ï¼Œä¸€è·¯çº¢å¤–ã€‚åªåˆ†åˆ«ç®—å‡ºçº¢å…‰çš„äº¤æµé™¤ä»¥çº¢å…‰çš„ç›´æµå³: ACred&#x2F;DCredï¼Œå’Œçº¢å¤–çš„äº¤æµé™¤ä»¥çº¢å¤–çš„ç›´æµåˆ†é‡å³ï¼šACired&#x2F;DCiredã€‚ç„¶åä¸¤è€…å†ç›¸é™¤å¾—åˆ°Rã€‚</p>
<h3 id="å’‹ç®—"><a href="#å’‹ç®—" class="headerlink" title="å’‹ç®—???"></a>å’‹ç®—???</h3><img src="/2024/04/09/107-max30102-mo-kuai/20201107134420733.png" class="" title="img">

<p>å¾—åˆ° R ç„¶åæŸ¥è¡¨å³å¯å¾—åˆ°è¡€æ°§å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢ç¾ä¿¡æ‹Ÿåˆçš„å…¬å¼è®¡ç®—ï¼š</p>
<p><code>SpO2 = -45.060*R*R + 30.354 *R + 94.845</code></p>
<p>4ã€å¿ƒç‡è¯†åˆ«ï¼š<br>delta &#x3D; å›¾3ä¸¤ä¸ªå°–å³°æ—¶é—´ï¼›<br>å¿ƒç‡ &#x3D; 1 &#x2F; dalta.</p>
<p>5ã€è¡€æ°§è®¡ç®—<br>R&#x3D;((ir_max+ir_min)(red_max-red_min))&#x2F;((red_max+red_min)(ir_max-ir_min));<br>SpO2&#x3D; ((-45.060)RR + 30.354*R + 94.845).</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol>
<li><p>çœ‹ä¸æ‡‚æ‰‹å†Œ, ä¸­æ–‡çš„ä¹Ÿçœ‹ä¸æ‡‚</p>
</li>
<li><p>ç›®å‰é—®é¢˜æ˜¯,è¯»å‡ºäº†fifoçš„æ•°æ®, ä¸çŸ¥é“å¯¹ä¸å¯¹, ä¸çŸ¥é“å’‹é‚£ä¹ˆç”¨</p>
</li>
<li><p>æ‰“ç®—æå–ä¾‹ç¨‹åº“ç›´æ¥æ‹¿æ•°æ®è¯•è¯•</p>
</li>
<li><p>è¯»å–çš„å¯„å­˜å™¨çš„å€¼æ˜¯ä»€ä¹ˆ</p>
<p><code>çº¢å…‰å’Œçº¢å¤–å…‰çš„åå°„å€¼</code></p>
<blockquote>
<p>MAX30102è„‰æè¡€æ°§ä»ªå’Œå¿ƒç‡ä¼ æ„Ÿå™¨åŒ…å«ä¸¤ä¸ªLEDï¼Œåˆ†åˆ«å‘å°„çº¢å…‰(RED)å’Œçº¢å¤–å…‰(IR)ï¼Œå…‰çº¿ç…§å°„è¿›äººä½“ç»„ç»‡åä¸€éƒ¨åˆ†è¢«å¸æ”¶ï¼Œå¦ä¸€éƒ¨åˆ†åå°„å…‰è¢«é›†æˆçš„å…‰ç”µä¼ æ„Ÿå™¨æ•è·ã€è½¬å˜ä¸ºç”µä¿¡å·ã€‚ä¸¤ç§å…‰çš„ç”µä¿¡å·éƒ½ä¼šå‘ˆç°å‡ºå…·æœ‰ç›´æµ(DC)æˆåˆ†çš„äº¤æµ(AC)ä¿¡å·ï¼ŒACæˆåˆ†çš„é¢‘ç‡å°±æ˜¯è„‰æé¢‘ç‡ï¼Œä½¿ç”¨ä»»ä½•ä¸€ä¸ªç”µä¿¡å·å°±èƒ½è·å¾—å¿ƒè·³é¢‘ç‡ã€‚</p>
<p>è¡€æ°§æµ“åº¦(SpO2)çš„è®¡ç®—éœ€è¦åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªç”µä¿¡å·ï¼Œä¼°ç®—SpO2</p>
<img src="/2024/04/09/107-max30102-mo-kuai/image-20240418112027421.png" class="" title="image-20240418112027421"></blockquote>
</li>
<li><p>å¦‚ä½•å°†å…¶è½¬æ¢ä¸ºå¿ƒç‡å’Œè¡€æ°§(ä¹Ÿå°±æ˜¯ç®—æ³•)</p>
</li>
<li><p>ä¸è¦çº ç»“è‡ªå·±é‡æ–°åšä¸€é,è¿™æ ·ä¹Ÿæ˜¯æœ‰å¥½å¤„çš„,å¯ä»¥å‘ç°è‡ªå·±çš„é—®é¢˜</p>
<p>ä½†æ˜¯æœ€å®è´µçš„æ˜¯æ—¶é—´,æˆ‘éœ€è¦ç”¨å°½é‡å°‘çš„æ—¶é—´å°½å¯èƒ½çš„å®Œæˆè¾ƒå¤šçš„ä»»åŠ¡</p>
<p>,æ˜ç™½å…¶åŸç†,ç§»æ¤å°±å¯ä»¥äº†</p>
<p>åŠ æ²¹</p>
</li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_62425199/article/details/136096478?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~YuanLiJiHua~Position-2-136096478-blog-128573054.235%5Ev43%5Epc_blog_bottom_relevance_base8&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~YuanLiJiHua~Position-2-136096478-blog-128573054.235%5Ev43%5Epc_blog_bottom_relevance_base8&utm_relevant_index=3">MAX30102å¯„å­˜å™¨å‚è€ƒ</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u012183892/article/details/109545972?ops_request_misc=%7B%22request_id%22:%22171283555616800227478257%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=171283555616800227478257&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-1-109545972-null-null.nonecase&utm_term=max30102%E5%BF%83%E7%8E%87%E7%AE%97%E6%B3%95&spm=1018.2226.3001.4450">ç®—æ³•å‚è€ƒ</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/tutututuo/article/details/115050516">MAX30102å­¦ä¹ ç¬”è®°ï¼ˆä¸‹ï¼‰_max30102ä¸0.96å¯¸oledè¿æ¥-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u012183892/article/details/109545972?ops_request_misc=%7B%22request_id%22:%22171283555616800227478257%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=171283555616800227478257&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-1-109545972-null-null.nonecase&utm_term=max30102%E5%BF%83%E7%8E%87%E7%AE%97%E6%B3%95&spm=1018.2226.3001.4450">MAX30102 è¡€æ°§è°ƒè¯•ç¬”è®°-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_37385726/article/details/89041710">å…‰ç”µå®¹ç§¯è„‰ææ³¢æè®°æ³•PPG-CSDNåšå®¢</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_62425199/article/details/136096478?ops_request_misc=%7B%22request_id%22:%22171341003516800225526011%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=171341003516800225526011&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~times_rank-1-136096478-null-null.nonecase&utm_term=max30102%E4%BC%A0%E6%84%9F%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86&spm=1018.2226.3001.4450">MAX30102è„‰æè¡€æ°§ä»ªå’Œå¿ƒç‡ä¼ æ„Ÿå™¨ï¼ˆå«å¯„å­˜å™¨ä»‹ç»ï¼‰_max30102å¿ƒç‡ç®—æ³•è¯¦è§£-CSDNåšå®¢</a></p>

  <p> â€” Apr 9, 2024</p>
  


        </div>
        <div class="row mt-2">
  <h3>Search</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/adisaaktijrs" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://linkedin.com/in/adisaktijrs" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="LinkedIn">
        <svg class="linkedin svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://twitter.com/adisaktijrs" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="Twitter">
        <svg class="twitter svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://instagram.com/adisaktijrs" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="Instagram">
        <svg class="instagram svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Instagram</title><path d="M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://stackoverflow.com/story/tobiasreithmeier" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="StackOverflow">
        <svg class="stackoverflow svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Stack Overflow</title><path d="M15.725 0l-1.72 1.277 6.39 8.588 1.716-1.277L15.725 0zm-3.94 3.418l-1.369 1.644 8.225 6.85 1.369-1.644-8.225-6.85zm-3.15 4.465l-.905 1.94 9.702 4.517.904-1.94-9.701-4.517zm-1.85 4.86l-.44 2.093 10.473 2.201.44-2.092-10.473-2.203zM1.89 15.47V24h19.19v-8.53h-2.133v6.397H4.021v-6.396H1.89zm4.265 2.133v2.13h10.66v-2.13H6.154Z"/></svg>
      </a>
      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>
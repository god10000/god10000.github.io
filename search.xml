<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ESP32_MQTT_OTA</title>
      <link href="/2025/04/07/125-esp32-mqtt-ota/"/>
      <url>/2025/04/07/125-esp32-mqtt-ota/</url>
      
        <content type="html"><![CDATA[<h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><h2 id="OTA"><a href="#OTA" class="headerlink" title="OTA"></a>OTA</h2><h3 id="âœ…-ç¬¬äºŒæ­¥ï¼šå‡†å¤‡-OTA-å›ºä»¶ï¼ˆv2-0ï¼‰"><a href="#âœ…-ç¬¬äºŒæ­¥ï¼šå‡†å¤‡-OTA-å›ºä»¶ï¼ˆv2-0ï¼‰" class="headerlink" title="âœ… ç¬¬äºŒæ­¥ï¼šå‡†å¤‡ OTA å›ºä»¶ï¼ˆv2.0ï¼‰"></a>âœ… ç¬¬äºŒæ­¥ï¼š<strong>å‡†å¤‡ OTA å›ºä»¶ï¼ˆv2.0ï¼‰</strong></h3><p>å°†è¿™ä¸ªä»£ç ç¼–è¯‘ä¸ºä½ æƒ³å‡çº§çš„æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚ v2.0ï¼š</p><pre class="line-numbers language-none"><code class="language-none">cppå¤åˆ¶ç¼–è¾‘#include &lt;Arduino.h&gt;void setup() &#123;  Serial.begin(115200);  delay(1000);  Serial.println(&quot;âœ… Hello from OTA-updated firmware v2.0!&quot;);&#125;void loop() &#123;  Serial.println(&quot;ğŸ” Running new firmware...&quot;);  delay(3000);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç¼–è¯‘åæ‹¿åˆ° <code>.pio/build/esp32dev/firmware.bin</code>ï¼Œæ”¾åœ¨ Python HTTP æœåŠ¡å™¨ç›®å½•ä¸‹ã€‚</p></blockquote><h2 id="âœ…-ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œ-Python-OTA-æœåŠ¡å™¨"><a href="#âœ…-ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œ-Python-OTA-æœåŠ¡å™¨" class="headerlink" title="âœ… ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œ Python OTA æœåŠ¡å™¨"></a>âœ… ç¬¬ä¸‰æ­¥ï¼š<strong>è¿è¡Œ Python OTA æœåŠ¡å™¨</strong></h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">cd &lt;å« firmware.bin çš„ç›®å½•&gt;python -m http.server 8080<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ§åˆ¶å°ä¼šæ˜¾ç¤ºï¼š</p><pre class="line-numbers language-C" data-language="C"><code class="language-C">Serving HTTP on :: port 8080 ...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>1.ESP32è¿æ¥è¶…æ—¶</p><p>å¦‚æœ <code>http://localhost:8080/firmware.bin</code> å¯ä»¥è®¿é—®ï¼Œè€Œ <code>http://192.168.71.88:8080/firmware.bin</code> æ— æ³•è®¿é—®ï¼Œé‚£ä¹ˆè¯´æ˜ä½ æœ¬åœ°æœåŠ¡å™¨åªç»‘å®šäº† <code>localhost</code> åœ°å€ï¼ˆå³åªå¯¹æœ¬æœºå¯è§ï¼‰ï¼Œå¹¶æ²¡æœ‰å¯¹å¤–ç½‘æˆ–è€…å±€åŸŸç½‘å¼€æ”¾ã€‚ä¸ºäº†è®© ESP32 è®¾å¤‡é€šè¿‡ <code>192.168.71.88</code> åœ°å€è®¿é—®ï¼Œä½ éœ€è¦è®©æœåŠ¡å™¨ç»‘å®šåˆ° <code>0.0.0.0</code> æˆ–è€…æ˜ç¡®ç»‘å®šåˆ°å±€åŸŸç½‘çš„ IP åœ°å€ã€‚</p><h3 id="è§£å†³æ–¹æ³•ï¼š"><a href="#è§£å†³æ–¹æ³•ï¼š" class="headerlink" title="è§£å†³æ–¹æ³•ï¼š"></a>è§£å†³æ–¹æ³•ï¼š</h3><hr><h4 id="1-ç¡®è®¤æœåŠ¡å™¨ç»‘å®šåˆ°å±€åŸŸç½‘-IPï¼ˆ0-0-0-0ï¼‰"><a href="#1-ç¡®è®¤æœåŠ¡å™¨ç»‘å®šåˆ°å±€åŸŸç½‘-IPï¼ˆ0-0-0-0ï¼‰" class="headerlink" title="1. ç¡®è®¤æœåŠ¡å™¨ç»‘å®šåˆ°å±€åŸŸç½‘ IPï¼ˆ0.0.0.0ï¼‰"></a>1. <strong>ç¡®è®¤æœåŠ¡å™¨ç»‘å®šåˆ°å±€åŸŸç½‘ IPï¼ˆ0.0.0.0ï¼‰</strong></h4><p>ç¡®ä¿ä½ å¯åŠ¨çš„ Python æœåŠ¡å™¨ç›‘å¬æ‰€æœ‰æ¥å£ï¼ˆ0.0.0.0ï¼‰ï¼Œè€Œä¸ä»…ä»…æ˜¯æœ¬åœ° <code>localhost</code>ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤é‡æ–°å¯åŠ¨æœåŠ¡å™¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">python -m http.server 8080 --bind 0.0.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…æ˜ç¡®ç»‘å®šåˆ°ä½ çš„å±€åŸŸç½‘ IPï¼ˆåœ¨ä½ çš„æƒ…å†µä¸‹æ˜¯ <code>192.168.71.92</code>ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">python -m http.server 8080 --bind 192.168.71.92<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™å°†ç¡®ä¿ä½ åœ¨ <strong>ä»»ä½•è®¾å¤‡</strong>ï¼ˆåŒ…æ‹¬ ESP32ï¼‰ä¸Šéƒ½å¯ä»¥è®¿é—® <code>http://192.168.71.92:8080/firmware.bin</code>ã€‚</p><h3 id="DEMO"><a href="#DEMO" class="headerlink" title="DEMO"></a>DEMO</h3>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Git</title>
      <link href="/2025/04/07/132-git/"/>
      <url>/2025/04/07/132-git/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸Šä¼ "><a href="#ä¸Šä¼ " class="headerlink" title="ä¸Šä¼ "></a>ä¸Šä¼ </h2><p>1.åœ¨æ–‡ä»¶å¤¹ä¸‹<strong>git bash here</strong></p><p>2.git init</p><p>3.é…ç½®ç”¨æˆ·ä¿¡æ¯</p><blockquote><p>git config â€“global user.name â€œwangjiaqiâ€<br>git config â€“global user.email â€œ<a href="mailto:&#119;&#x61;&#110;&#x67;&#106;&#105;&#97;&#x71;&#x69;&#x40;&#118;&#x69;&#98;&#x74;&#101;&#x6b;&#x2e;&#x6f;&#110;&#x61;&#x6c;&#105;&#121;&#117;&#x6e;&#46;&#99;&#x6f;&#109;">wangjiaqi@vibtek.onaliyun.com</a>â€œ</p></blockquote><p>æŸ¥çœ‹</p><blockquote><p>git config â€“list</p></blockquote><p>4.å…‹éš†</p><blockquote><p>git clone <a href="https://wangjiaqi-T2NwK:7678321.Com@codeup.aliyun.com/67975038cfc95bafa621705d/drone/detector.git">https://wangjiaqi-T2NwK:7678321.Com@codeup.aliyun.com/67975038cfc95bafa621705d/drone/detector.git</a></p></blockquote><p>5.git add .</p><p>6.git commit -m â€œDetector_V2â€ </p><p>7.git push -u detector master</p><p>8.<strong>æ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç å¹¶åˆå¹¶</strong></p><pre class="line-numbers language-none"><code class="language-none">git pull origin master --rebase<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>è§£é‡Šï¼š</p><ul><li><code>--rebase</code> è®©ä½ çš„æäº¤å åŠ åœ¨è¿œç¨‹ä»“åº“çš„æœ€æ–°æäº¤ä¹‹ä¸Šï¼Œé¿å…ç”Ÿæˆå¤šä½™çš„åˆå¹¶è®°å½•ã€‚</li></ul></blockquote><ol start="9"><li></li></ol>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>MQTT</title>
      <link href="/2025/04/01/130-mqtt-fu-wu-qi/"/>
      <url>/2025/04/01/130-mqtt-fu-wu-qi/</url>
      
        <content type="html"><![CDATA[<h3 id="emqx"><a href="#emqx" class="headerlink" title="emqx"></a><a href="https://so.csdn.net/so/search?q=emqx&spm=1001.2101.3001.7020">emqx</a></h3><ul><li><a href="https://mqttx.app/web-client/#/recent_connections/085eebeb-c5ba-4ed6-8d68-1f74c5ccb579">çº¿ä¸Šå®¢æˆ·ç«¯</a></li></ul><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p> <strong><a href="https://docs.emqx.com/zh/emqx/latest/messaging/mqtt-concepts.html#%E6%9C%8D%E5%8A%A1%E7%AB%AF">æœåŠ¡ç«¯</a></strong></p><blockquote><p>åœ¨å‘å¸ƒæ¶ˆæ¯çš„å®¢æˆ·ç«¯å’Œè®¢é˜…çš„å®¢æˆ·ç«¯ä¹‹é—´å……å½“ä¸­ä»‹ï¼Œå°†æ‰€æœ‰æ¥æ”¶åˆ°çš„æ¶ˆæ¯è½¬å‘åˆ°åŒ¹é…çš„è®¢é˜…å®¢æˆ·ç«¯ã€‚æ‰€ä»¥æœ‰æ—¶æˆ‘ä»¬ä¹Ÿä¼šç›´æ¥å°†æœåŠ¡ç«¯ç§°ä¸º Brokerã€‚</p></blockquote><p><strong>æ‰€ä»¥æ˜¯æ— æ³•ç›´æ¥æŸ¥çœ‹æ¶ˆæ¯çš„ï¼Œå°±æ˜¯ä¸­ä»‹</strong></p><p>è¿›å…¥binç›®å½•ä¸‹ï¼ŒæŒ‰ä½é”®ç›˜Shiftï¼Œé¼ æ ‡å³å‡»æ‰“å¼€<a href="https://so.csdn.net/so/search?q=%E7%BB%88%E7%AB%AF%E7%AA%97%E5%8F%A3&spm=1001.2101.3001.7020">ç»ˆç«¯çª—å£</a> </p><p>å¯åŠ¨è½¯ä»¶</p><blockquote><p>è¾“å…¥å‘½ä»¤â€œ.\emqx startâ€å¯åŠ¨æœåŠ¡</p></blockquote><blockquote><p>æœåŠ¡å™¨åœ°å€<a href="https://so.csdn.net/so/search?q=http&spm=1001.2101.3001.7020">http</a>:&#x2F;&#x2F;localhost:18083&#x2F;</p></blockquote><p>ç™»å½•MQTTæœåŠ¡å™¨åå°ç®¡é‡Œç•Œé¢ï¼Œ</p><p>é»˜è®¤è´¦å·ä¸ºâ€œadminâ€ï¼Œ</p><p>é»˜è®¤å¯†ç ä¸ºâ€œpublicâ€</p><p>åˆ›å»ºè®¤è¯</p><p>åˆ›å»ºç”¨æˆ·</p><h3 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><p>ifconfigæŸ¥çœ‹æœ¬åœ°ip</p><p>ç„¶åå†™å¥½userï¼Œpswd,Esp32ä½¿ç”¨PubSubClient.håº“</p><h3 id="ESP32å®¢æˆ·ç«¯"><a href="#ESP32å®¢æˆ·ç«¯" class="headerlink" title="ESP32å®¢æˆ·ç«¯"></a>ESP32å®¢æˆ·ç«¯</h3><h3 id="ESP32NTPè¿œç¨‹æ ¡æ—¶"><a href="#ESP32NTPè¿œç¨‹æ ¡æ—¶" class="headerlink" title="ESP32NTPè¿œç¨‹æ ¡æ—¶"></a>ESP32NTPè¿œç¨‹æ ¡æ—¶</h3><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>ä¸¤ä¸ªå®¢æˆ·ç«¯é€šä¿¡éœ€è¦å…ˆè®¢é˜…åŒä¸€ä¸ªä¸»é¢˜ï¼Œæ‰èƒ½äº’ç›¸é€šä¿¡</p><h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><p><a href="https://blog.csdn.net/u011425939/article/details/144574619">ã€MQTT åè®® 01ã€‘MQTT æœåŠ¡å™¨æ­å»º_mqttæœåŠ¡å™¨æ­å»º-CSDNåšå®¢</a></p><p><a href="https://docs.emqx.com/zh/emqx/latest/messaging/mqtt-concepts.html">MQTT æ ¸å¿ƒæ¦‚å¿µ | EMQXæ–‡æ¡£</a></p>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Orange Pi</title>
      <link href="/2025/03/30/128-orange-pi-shang-shou/"/>
      <url>/2025/03/30/128-orange-pi-shang-shou/</url>
      
        <content type="html"><![CDATA[<h2 id="Orange-Pi"><a href="#Orange-Pi" class="headerlink" title="Orange Pi"></a>Orange Pi</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">sudo apt install python3-pip -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>nmcli d wifi connect â€œä½ çš„WiFiåç§°â€ password â€œä½ çš„WiFiå¯†ç â€</p><p>ls &#x2F;dev&#x2F;ttyUSB*</p><h4 id="2-å¯åŠ¨ç½‘ç»œæ¥å£"><a href="#2-å¯åŠ¨ç½‘ç»œæ¥å£" class="headerlink" title="2. å¯åŠ¨ç½‘ç»œæ¥å£"></a><strong>2. å¯åŠ¨ç½‘ç»œæ¥å£</strong></h4><p>å¦‚æœä½ æ˜¯é€šè¿‡ <strong>Wi-Fi</strong> è¿æ¥çš„ï¼Œæ£€æŸ¥æ— çº¿ç½‘ç»œæ˜¯å¦å¯ç”¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo ifconfig wlan0 up  # å¯ç”¨ Wi-Fi æ¥å£sudo dhclient wlan0    # è·å– IP åœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœæ˜¯ <strong>æœ‰çº¿</strong> è¿æ¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo ifconfig eth0 up  # å¯ç”¨ä»¥å¤ªç½‘æ¥å£sudo dhclient eth0    # è·å– IP åœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é…ç½‘</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl restart networkingnmcli dev wifi  # åˆ—å‡ºå¯ç”¨çš„ Wi-Fi ç½‘ç»œnmcli dev wifi connect &quot;VIBTEK-2.4G&quot; password &quot;vibrantech@1305-1&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>auto wlan0<br>iface wlan0 inet dhcp<br>    wpa-ssid â€œVIBTEK-2.4Gâ€<br>    wpa-psk â€œvibrantech@1305-1â€</p><p>sudo nmcli dev wifi connect â€œVIBTEK-2.4Gâ€ password â€œvibrantech@1305-1â€</p><p>æ˜¯çš„ï¼Œ<strong>å¦‚æœä½ å½“å‰ä½¿ç”¨çš„æ˜¯é¦™æ©™æ´¾çš„ APï¼ˆçƒ­ç‚¹ï¼‰æ¨¡å¼</strong>ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šè‡ªåŠ¨è¿æ¥å¤–éƒ¨ WiFiï¼Œä¹Ÿå°± <strong>æ— æ³•è®¿é—®äº’è”ç½‘</strong>ã€‚ä½ éœ€è¦ <strong>åˆ‡æ¢å› WiFi å®¢æˆ·ç«¯æ¨¡å¼</strong> æ¥è¿æ¥å¤–ç½‘ï¼Œç„¶åå†è¿›è¡Œè½¯ä»¶å®‰è£…å’Œæ›´æ–°ã€‚</p><hr><h2 id="ğŸš€-1-å…³é—­-AP-æ¨¡å¼"><a href="#ğŸš€-1-å…³é—­-AP-æ¨¡å¼" class="headerlink" title="ğŸš€ 1. å…³é—­ AP æ¨¡å¼"></a><strong>ğŸš€ 1. å…³é—­ AP æ¨¡å¼</strong></h2><p>ä½ ä¹‹å‰ä½¿ç”¨ <code>create_ap</code> è®¾ç½®äº† AP æ¨¡å¼ï¼Œç°åœ¨éœ€è¦ <strong>å…³é—­å®ƒ</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl stop create_apsudo systemctl disable create_ap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶å <strong>åœæ­¢ hostapd å’Œ dnsmasq</strong>ï¼ˆAP ç›¸å…³æœåŠ¡ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl stop hostapdsudo systemctl stop dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h2 id="ğŸš€-2-è¿æ¥å¤–éƒ¨-WiFi"><a href="#ğŸš€-2-è¿æ¥å¤–éƒ¨-WiFi" class="headerlink" title="ğŸš€ 2. è¿æ¥å¤–éƒ¨ WiFi"></a><strong>ğŸš€ 2. è¿æ¥å¤–éƒ¨ WiFi</strong></h2><p>å¦‚æœä½ çš„ Orange Pi éœ€è¦è¿æ¥å¤–éƒ¨ WiFi æ‰èƒ½è®¿é—®äº’è”ç½‘ï¼Œè¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">nmcli d wifi list  # åˆ—å‡ºå¯ç”¨ WiFinmcli d wifi connect &quot;ä½ çš„WiFiåç§°&quot; password &quot;ä½ çš„WiFiå¯†ç &quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶åæ£€æŸ¥ <strong>æ˜¯å¦æˆåŠŸè·å– IP</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ip addr show wlan0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœ IP ä»ç„¶æ˜¯ <code>0.0.0.0</code>ï¼Œå°è¯•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo dhclient wlan0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æµ‹è¯•ç½‘ç»œæ˜¯å¦æ¢å¤ï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">ping -c 4 8.8.8.8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœ <code>ping</code> æˆåŠŸï¼Œä½ çš„ Orange Pi <strong>å·²ç»è”ç½‘ï¼Œå¯ä»¥å®‰è£… pyserial äº†ï¼</strong></p><hr><h2 id="ğŸš€-3-å®‰è£…-pyserial"><a href="#ğŸš€-3-å®‰è£…-pyserial" class="headerlink" title="ğŸš€ 3. å®‰è£… pyserial"></a><strong>ğŸš€ 3. å®‰è£… pyserial</strong></h2><p>è”ç½‘åï¼Œè¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt updatesudo apt install python3-pip -ypip3 install pyserial<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h2 id="ğŸš€-4-é‡æ–°åˆ‡æ¢å›-AP-æ¨¡å¼ï¼ˆå¯é€‰ï¼‰"><a href="#ğŸš€-4-é‡æ–°åˆ‡æ¢å›-AP-æ¨¡å¼ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="ğŸš€ 4. é‡æ–°åˆ‡æ¢å› AP æ¨¡å¼ï¼ˆå¯é€‰ï¼‰"></a><strong>ğŸš€ 4. é‡æ–°åˆ‡æ¢å› AP æ¨¡å¼ï¼ˆå¯é€‰ï¼‰</strong></h2><p>å¦‚æœå®‰è£…å®Œæˆåï¼Œä½ æƒ³é‡æ–°å¼€å¯ <strong>APï¼ˆçƒ­ç‚¹ï¼‰æ¨¡å¼</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl enable create_apsudo systemctl start create_ap<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœä½ ä¹‹å‰ <strong>æ‰‹åŠ¨å¯åŠ¨äº† hostapd å’Œ dnsmasq</strong>ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨å¯åŠ¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl start hostapdsudo systemctl start dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h2 id="ğŸš€-æ€»ç»“"><a href="#ğŸš€-æ€»ç»“" class="headerlink" title="ğŸš€ æ€»ç»“"></a><strong>ğŸš€ æ€»ç»“</strong></h2><p>âœ… <strong>å…³é—­ AP æ¨¡å¼ï¼Œæ¢å¤ WiFi å®¢æˆ·ç«¯æ¨¡å¼</strong></p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl stop create_apsudo systemctl disable create_apsudo systemctl stop hostapdsudo systemctl stop dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>âœ… <strong>è¿æ¥å¤–éƒ¨ WiFi</strong></p><pre class="line-numbers language-none"><code class="language-none">nmcli d wifi connect &quot;WiFiåç§°&quot; password &quot;WiFiå¯†ç &quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>âœ… <strong>æ£€æŸ¥ç½‘ç»œ</strong></p><pre class="line-numbers language-none"><code class="language-none">ping -c 4 8.8.8.8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>âœ… <strong>å®‰è£… pyserial</strong></p><pre class="line-numbers language-none"><code class="language-none">sudo apt updatesudo apt install python3-pip -ypip3 install pyserial<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>âœ… <strong>å®‰è£…å®Œæˆåï¼Œæ¢å¤ APï¼ˆçƒ­ç‚¹ï¼‰æ¨¡å¼</strong></p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl start create_ap<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ä¸ºä»€ä¹ˆå¦‚æœ nmcli å¤±è´¥ï¼Œä½¿ç”¨ wpa_supplicant æ‰‹åŠ¨è¿æ¥å°±å¯è¡Œäº†å‘¢</strong></p><h6 id="ChatGPT-è¯´ï¼š"><a href="#ChatGPT-è¯´ï¼š" class="headerlink" title="ChatGPT è¯´ï¼š"></a>ChatGPT è¯´ï¼š</h6><h3 id="ğŸ”-ä¸ºä»€ä¹ˆ-nmcli-å¤±è´¥ï¼Œè€Œ-wpa-supplicant-æ‰‹åŠ¨è¿æ¥å¯ä»¥æˆåŠŸï¼Ÿ"><a href="#ğŸ”-ä¸ºä»€ä¹ˆ-nmcli-å¤±è´¥ï¼Œè€Œ-wpa-supplicant-æ‰‹åŠ¨è¿æ¥å¯ä»¥æˆåŠŸï¼Ÿ" class="headerlink" title="ğŸ” ä¸ºä»€ä¹ˆ nmcli å¤±è´¥ï¼Œè€Œ wpa_supplicant æ‰‹åŠ¨è¿æ¥å¯ä»¥æˆåŠŸï¼Ÿ"></a><strong>ğŸ” ä¸ºä»€ä¹ˆ nmcli å¤±è´¥ï¼Œè€Œ wpa_supplicant æ‰‹åŠ¨è¿æ¥å¯ä»¥æˆåŠŸï¼Ÿ</strong></h3><p>è¿™æ˜¯å› ä¸º <strong>nmcli ä¾èµ–äº NetworkManagerï¼Œè€Œ wpa_supplicant æ˜¯ç›´æ¥æ§åˆ¶ WiFi é€‚é…å™¨çš„å·¥å…·</strong>ã€‚ä»¥ä¸‹æ˜¯å…·ä½“çš„åŸå› åˆ†æï¼š</p><hr><h2 id="ğŸ”¹-1-nmcli-ä¾èµ–-NetworkManager"><a href="#ğŸ”¹-1-nmcli-ä¾èµ–-NetworkManager" class="headerlink" title="ğŸ”¹ 1. nmcli ä¾èµ– NetworkManager"></a><strong>ğŸ”¹ 1. nmcli ä¾èµ– NetworkManager</strong></h2><p><code>nmcli</code> æ˜¯ <code>NetworkManager</code> çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®ƒçš„å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š</p><ol><li><strong>æ£€æŸ¥ NetworkManager æ˜¯å¦è¿è¡Œ</strong>ï¼ˆå¦‚æœ <code>systemctl status NetworkManager</code> æ˜¾ç¤º <code>inactive</code>ï¼Œ<code>nmcli</code> ä¹Ÿä¼šå¤±è´¥ï¼‰ã€‚</li><li><strong>é€šè¿‡ NetworkManager ç®¡ç† WiFi é€‚é…å™¨</strong>ï¼Œä½†å¦‚æœ <code>NetworkManager</code> æ²¡æœ‰æ­£ç¡®æ£€æµ‹åˆ° <code>wlan0</code>ï¼Œå®ƒå°±æ— æ³•ç®¡ç† WiFi è¿æ¥ã€‚</li><li><strong>å¦‚æœ wlan0 å¤„äº Master æ¨¡å¼ï¼ˆAPæ¨¡å¼ï¼‰æˆ–è€…è¢« rfkill è½¯ç¦ç”¨</strong>ï¼Œ<code>nmcli</code> å¯èƒ½ä¸ä¼šè‡ªåŠ¨è°ƒæ•´çŠ¶æ€ï¼Œè€Œæ˜¯ç›´æ¥æŠ¥é”™ã€‚</li></ol><p>ğŸ›‘ <strong>å¦‚æœ NetworkManager æ²¡æœ‰æ­£ç¡®ç®¡ç† wlan0ï¼Œé‚£ä¹ˆ nmcli å°±ä¼šå¤±è´¥ï¼</strong></p><h3 id="APé…ç½‘"><a href="#APé…ç½‘" class="headerlink" title="APé…ç½‘"></a>APé…ç½‘</h3><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p><img src="/Orange_Pi%E4%B8%8A%E6%89%8B/1742957043881.png" alt="1742957043881"></p><p>ä½ çš„ <code>dnsmasq</code> <strong>å¯åŠ¨æˆåŠŸ</strong>ï¼Œä½†æ—¥å¿—æ˜¾ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">Failed to set DNS configuration: Unit dbus-org.freedesktop.network1.service not found.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªé”™è¯¯æ„å‘³ç€ <strong>ç³»ç»Ÿç¼ºå°‘ systemd-networkd ç›¸å…³çš„æœåŠ¡</strong>ï¼Œå¯èƒ½ä¼šå¯¼è‡´ <strong>è¿æ¥ WiFi ä½†æ— æ³•è·å– IP</strong>ã€‚</p><h2 id="ğŸ”¹-2-ä¿®å¤-systemd-networkd-æœåŠ¡"><a href="#ğŸ”¹-2-ä¿®å¤-systemd-networkd-æœåŠ¡" class="headerlink" title="ğŸ”¹ 2. ä¿®å¤ systemd-networkd æœåŠ¡"></a><strong>ğŸ”¹ 2. ä¿®å¤ systemd-networkd æœåŠ¡</strong></h2><p>å¦‚æœ <code>dnsmasq</code> ä¾èµ–çš„ <code>dbus-org.freedesktop.network1.service</code> <strong>ä¸å­˜åœ¨</strong>ï¼Œå¯èƒ½æ˜¯ <code>systemd-networkd</code> <strong>æœªå®‰è£…æˆ–æœªå¯åŠ¨</strong>ã€‚</p><p>æ£€æŸ¥ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl status systemd-networkd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœ <strong>æœªå®‰è£…</strong>ï¼Œå®‰è£…å®ƒï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt install systemd-networkd -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœ <strong>æœªå¯åŠ¨</strong>ï¼Œå¯åŠ¨å¹¶è®¾ç½®ä¸ºå¼€æœºå¯åŠ¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl enable --now systemd-networkd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶å <strong>é‡å¯ dnsmasq</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl restart dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½ çš„ <code>hostapd</code> å¤±è´¥çš„ <strong>æ ¸å¿ƒé”™è¯¯</strong> æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">nl80211: Beacon set failed: -12 (Cannot allocate memory)Failed to set beacon parameterswlan0: Unable to setup interface.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™æ„å‘³ç€ <strong>æ— çº¿ç½‘å¡é©±åŠ¨æˆ–å†…å­˜åˆ†é…é—®é¢˜</strong> å¯¼è‡´ <code>wlan0</code> æ— æ³•æ­£å¸¸å·¥ä½œã€‚æˆ‘ä»¬å¯ä»¥å°è¯•ä»¥ä¸‹æ–¹æ³•è§£å†³ã€‚</p><h2 id="ğŸš€-åœ¨-Ubuntu-ä¸Šé…ç½®-APï¼ˆWiFi-çƒ­ç‚¹ï¼‰"><a href="#ğŸš€-åœ¨-Ubuntu-ä¸Šé…ç½®-APï¼ˆWiFi-çƒ­ç‚¹ï¼‰" class="headerlink" title="ğŸš€ åœ¨ Ubuntu ä¸Šé…ç½® APï¼ˆWiFi çƒ­ç‚¹ï¼‰"></a><strong>ğŸš€ åœ¨ Ubuntu ä¸Šé…ç½® APï¼ˆWiFi çƒ­ç‚¹ï¼‰</strong></h2><p>ä½ å·²ç»é‡è£…äº† Ubuntuï¼Œç°åœ¨æˆ‘ä»¬ <strong>ä»é›¶å¼€å§‹</strong> é…ç½® <strong>AP çƒ­ç‚¹</strong>ï¼ˆå³ WiFi å…±äº«ï¼‰ã€‚</p><hr><h2 id="ğŸ“Œ-1-æ›´æ–°ç³»ç»Ÿ"><a href="#ğŸ“Œ-1-æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="ğŸ“Œ 1. æ›´æ–°ç³»ç»Ÿ"></a><strong>ğŸ“Œ 1. æ›´æ–°ç³»ç»Ÿ</strong></h2><p>ç¡®ä¿ç³»ç»Ÿæ˜¯æœ€æ–°çš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt update &amp;&amp; sudo apt upgrade -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="ğŸ“Œ-2-å®‰è£…-AP-ç›¸å…³è½¯ä»¶"><a href="#ğŸ“Œ-2-å®‰è£…-AP-ç›¸å…³è½¯ä»¶" class="headerlink" title="ğŸ“Œ 2. å®‰è£… AP ç›¸å…³è½¯ä»¶"></a><strong>ğŸ“Œ 2. å®‰è£… AP ç›¸å…³è½¯ä»¶</strong></h2><p>æˆ‘ä»¬éœ€è¦ <strong>hostapdï¼ˆWiFi çƒ­ç‚¹ç®¡ç†ï¼‰</strong> å’Œ <strong>dnsmasqï¼ˆDHCP æœåŠ¡å™¨ï¼‰</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt install -y hostapd dnsmasq iw<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®‰è£…å <strong>å…ˆåœæ­¢ hostapd å’Œ dnsmasq</strong>ï¼ˆç¨åé…ç½®ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl stop hostapdsudo systemctl stop dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><hr><h2 id="ğŸ“Œ-3-å…³é—­-wpa-supplicantï¼ˆé˜²æ­¢-WiFi-è‡ªåŠ¨è¿æ¥ï¼‰"><a href="#ğŸ“Œ-3-å…³é—­-wpa-supplicantï¼ˆé˜²æ­¢-WiFi-è‡ªåŠ¨è¿æ¥ï¼‰" class="headerlink" title="ğŸ“Œ 3. å…³é—­ wpa_supplicantï¼ˆé˜²æ­¢ WiFi è‡ªåŠ¨è¿æ¥ï¼‰"></a><strong>ğŸ“Œ 3. å…³é—­ wpa_supplicantï¼ˆé˜²æ­¢ WiFi è‡ªåŠ¨è¿æ¥ï¼‰</strong></h2><p>å¦‚æœ <code>wpa_supplicant</code> åœ¨è¿è¡Œï¼Œå®ƒä¼šå¹²æ‰° AP æ¨¡å¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl stop wpa_supplicantsudo systemctl disable wpa_supplicantsudo killall wpa_supplicant<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ£€æŸ¥æ˜¯å¦ä»åœ¨è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">ps aux | grep wpa_supplicant<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœä»ç„¶æœ‰è¾“å‡ºï¼Œåˆ é™¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo rm -rf &#x2F;var&#x2F;run&#x2F;wpa_supplicant<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="ğŸ“Œ-4-é…ç½®-hostapdï¼ˆWiFi-çƒ­ç‚¹ï¼‰"><a href="#ğŸ“Œ-4-é…ç½®-hostapdï¼ˆWiFi-çƒ­ç‚¹ï¼‰" class="headerlink" title="ğŸ“Œ 4. é…ç½® hostapdï¼ˆWiFi çƒ­ç‚¹ï¼‰"></a><strong>ğŸ“Œ 4. é…ç½® hostapdï¼ˆWiFi çƒ­ç‚¹ï¼‰</strong></h2><p>ç¼–è¾‘ <code>hostapd.conf</code>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo nano &#x2F;etc&#x2F;hostapd&#x2F;hostapd.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç²˜è´´ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">interface&#x3D;wlan0driver&#x3D;nl80211ssid&#x3D;OrangePi_APhw_mode&#x3D;gchannel&#x3D;6ieee80211n&#x3D;1wmm_enabled&#x3D;1ht_capab&#x3D;[HT40][SHORT-GI-20][DSSS_CCK-40]macaddr_acl&#x3D;0auth_algs&#x3D;1ignore_broadcast_ssid&#x3D;0wpa&#x3D;2wpa_passphrase&#x3D;12345678wpa_key_mgmt&#x3D;WPA-PSKrsn_pairwise&#x3D;CCMP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¿å­˜é€€å‡º</strong>ï¼ˆæŒ‰ <code>CTRL + X</code> â†’ <code>Y</code> â†’ <code>Enter</code>ï¼‰ã€‚</p><p>ç„¶åå‘Šè¯‰ <code>hostapd</code> è¯»å–é…ç½®ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo nano &#x2F;etc&#x2F;default&#x2F;hostapd<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰¾åˆ°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">#DAEMON_CONF&#x3D;&quot;&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ”¹æˆï¼š</p><pre class="line-numbers language-none"><code class="language-none">DAEMON_CONF&#x3D;&quot;&#x2F;etc&#x2F;hostapd&#x2F;hostapd.conf&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="ğŸ“Œ-5-é…ç½®-dnsmasqï¼ˆDHCP-æœåŠ¡å™¨ï¼‰"><a href="#ğŸ“Œ-5-é…ç½®-dnsmasqï¼ˆDHCP-æœåŠ¡å™¨ï¼‰" class="headerlink" title="ğŸ“Œ 5. é…ç½® dnsmasqï¼ˆDHCP æœåŠ¡å™¨ï¼‰"></a><strong>ğŸ“Œ 5. é…ç½® dnsmasqï¼ˆDHCP æœåŠ¡å™¨ï¼‰</strong></h2><p><strong>å¤‡ä»½åŸ dnsmasq é…ç½®</strong>ï¼ˆé˜²æ­¢å†²çªï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo mv &#x2F;etc&#x2F;dnsmasq.conf &#x2F;etc&#x2F;dnsmasq.conf.bak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>åˆ›å»ºæ–°çš„ dnsmasq.conf</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo nano &#x2F;etc&#x2F;dnsmasq.conf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç²˜è´´ï¼š</p><pre class="line-numbers language-none"><code class="language-none">interface&#x3D;wlan0dhcp-range&#x3D;192.168.4.2,192.168.4.20,255.255.255.0,24h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>ä¿å­˜é€€å‡º</strong>ï¼ˆ<code>CTRL + X</code> â†’ <code>Y</code> â†’ <code>Enter</code>ï¼‰ã€‚</p><hr><h2 id="ğŸ“Œ-6-é…ç½®-wlan0-é™æ€-IP"><a href="#ğŸ“Œ-6-é…ç½®-wlan0-é™æ€-IP" class="headerlink" title="ğŸ“Œ 6. é…ç½® wlan0 é™æ€ IP"></a><strong>ğŸ“Œ 6. é…ç½® wlan0 é™æ€ IP</strong></h2><pre class="line-numbers language-none"><code class="language-none">sudo nano &#x2F;etc&#x2F;network&#x2F;interfaces<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ·»åŠ ï¼š</p><pre class="line-numbers language-none"><code class="language-none">auto wlan0iface wlan0 inet static    address 192.168.4.1    netmask 255.255.255.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ä¿å­˜é€€å‡º</strong>ã€‚</p><hr><h2 id="ğŸ“Œ-7-æ‰‹åŠ¨åˆ‡æ¢-wlan0-åˆ°-AP-æ¨¡å¼"><a href="#ğŸ“Œ-7-æ‰‹åŠ¨åˆ‡æ¢-wlan0-åˆ°-AP-æ¨¡å¼" class="headerlink" title="ğŸ“Œ 7. æ‰‹åŠ¨åˆ‡æ¢ wlan0 åˆ° AP æ¨¡å¼"></a><strong>ğŸ“Œ 7. æ‰‹åŠ¨åˆ‡æ¢ wlan0 åˆ° AP æ¨¡å¼</strong></h2><pre class="line-numbers language-none"><code class="language-none">sudo ip link set wlan0 downsudo iw dev wlan0 set type __apsudo ip link set wlan0 up<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ£€æŸ¥ <code>wlan0</code> æ˜¯å¦æˆåŠŸè¿›å…¥ AP æ¨¡å¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">iw dev wlan0 info<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœè¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">Interface wlan0        type AP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¯´æ˜ <strong>æˆåŠŸ</strong>ï¼Œå¯ä»¥ç»§ç»­ä¸‹ä¸€æ­¥ã€‚</p><hr><h2 id="ğŸ“Œ-8-å¯åŠ¨-hostapd-å’Œ-dnsmasq"><a href="#ğŸ“Œ-8-å¯åŠ¨-hostapd-å’Œ-dnsmasq" class="headerlink" title="ğŸ“Œ 8. å¯åŠ¨ hostapd å’Œ dnsmasq"></a><strong>ğŸ“Œ 8. å¯åŠ¨ hostapd å’Œ dnsmasq</strong></h2><pre class="line-numbers language-none"><code class="language-none">sudo systemctl restart hostapdsudo systemctl restart dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>è®©å®ƒä»¬å¼€æœºè‡ªåŠ¨å¯åŠ¨</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl enable hostapdsudo systemctl enable dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ£€æŸ¥çŠ¶æ€ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo systemctl status hostapdsudo systemctl status dnsmasq<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœ <strong>æ˜¾ç¤º active (running)</strong>ï¼Œè¯´æ˜æˆåŠŸï¼</p><hr><h2 id="ğŸ“Œ-9-å¯ç”¨-NATï¼ˆè®©çƒ­ç‚¹è®¾å¤‡å¯ä»¥ä¸Šç½‘ï¼Œå¯é€‰ï¼‰"><a href="#ğŸ“Œ-9-å¯ç”¨-NATï¼ˆè®©çƒ­ç‚¹è®¾å¤‡å¯ä»¥ä¸Šç½‘ï¼Œå¯é€‰ï¼‰" class="headerlink" title="ğŸ“Œ 9. å¯ç”¨ NATï¼ˆè®©çƒ­ç‚¹è®¾å¤‡å¯ä»¥ä¸Šç½‘ï¼Œå¯é€‰ï¼‰"></a><strong>ğŸ“Œ 9. å¯ç”¨ NATï¼ˆè®©çƒ­ç‚¹è®¾å¤‡å¯ä»¥ä¸Šç½‘ï¼Œå¯é€‰ï¼‰</strong></h2><p>å¦‚æœä½ çš„ <strong>Orange Pi è¿æ¥äº†ä»¥å¤ªç½‘ eth0</strong>ï¼Œå¯ä»¥å¯ç”¨ NATï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADEsudo iptables -A FORWARD -i eth0 -o wlan0 -m state --state RELATED,ESTABLISHED -j ACCEPTsudo iptables -A FORWARD -i wlan0 -o eth0 -j ACCEPT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è®©è§„åˆ™ <strong>æ°¸ä¹…ç”Ÿæ•ˆ</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo sh -c &quot;iptables-save &gt; &#x2F;etc&#x2F;iptables.ipv4.nat&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>å¼€æœºè‡ªåŠ¨åº”ç”¨</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo nano &#x2F;etc&#x2F;rc.local<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ <code>exit 0</code> ä¹‹å‰æ·»åŠ ï¼š</p><pre class="line-numbers language-none"><code class="language-none">iptables-restore &lt; &#x2F;etc&#x2F;iptables.ipv4.nat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ä¿å­˜é€€å‡º</strong>ï¼ˆ<code>CTRL + X</code> â†’ <code>Y</code> â†’ <code>Enter</code>ï¼‰ã€‚</p><hr><h2 id="ğŸ“Œ-10-é‡æ–°å¯åŠ¨ç³»ç»Ÿ"><a href="#ğŸ“Œ-10-é‡æ–°å¯åŠ¨ç³»ç»Ÿ" class="headerlink" title="ğŸ“Œ 10. é‡æ–°å¯åŠ¨ç³»ç»Ÿ"></a><strong>ğŸ“Œ 10. é‡æ–°å¯åŠ¨ç³»ç»Ÿ</strong></h2><pre class="line-numbers language-none"><code class="language-none">sudo reboot<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="ğŸ“Œ-11-æµ‹è¯•-AP-çƒ­ç‚¹"><a href="#ğŸ“Œ-11-æµ‹è¯•-AP-çƒ­ç‚¹" class="headerlink" title="ğŸ“Œ 11. æµ‹è¯• AP çƒ­ç‚¹"></a><strong>ğŸ“Œ 11. æµ‹è¯• AP çƒ­ç‚¹</strong></h2><ol><li><p><strong>ç”¨æ‰‹æœº&#x2F;ç”µè„‘æœç´¢ WiFi</strong></p><ul><li>WiFi åç§°ï¼š<code>OrangePi_AP</code></li><li>å¯†ç ï¼š<code>12345678</code></li></ul></li><li><p><strong>è¿æ¥ WiFiï¼Œæ£€æŸ¥ IP</strong></p><ul><li>æ‰‹æœºåº”è¯¥è·å–åˆ° <code>192.168.4.x</code> çš„ IP åœ°å€</li></ul></li><li><p><strong>å¦‚æœæœ‰ eth0 è¿æ¥ï¼Œæµ‹è¯•èƒ½å¦è®¿é—®äº’è”ç½‘</strong></p><pre class="line-numbers language-none"><code class="language-none">ping -c 4 8.8.8.8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœèƒ½ ping é€šï¼Œè¯´æ˜çƒ­ç‚¹è®¾å¤‡å¯ä»¥ä¸Šç½‘ã€‚</p></li></ol><p>sudo create_ap â€“no-virt -m nat wlan0 end0 Orangepi 123456789</p>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>fusion360</title>
      <link href="/2025/03/29/127-fusion360/"/>
      <url>/2025/03/29/127-fusion360/</url>
      
        <content type="html"><![CDATA[<h2 id="fusion360"><a href="#fusion360" class="headerlink" title="fusion360"></a>fusion360</h2><h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><h3 id="è‰å›¾"><a href="#è‰å›¾" class="headerlink" title="è‰å›¾"></a>è‰å›¾</h3><h3 id="æ¨æ‹‰"><a href="#æ¨æ‹‰" class="headerlink" title="æ¨æ‹‰"></a>æ¨æ‹‰</h3><h3 id="é›¶éƒ¨ä»¶"><a href="#é›¶éƒ¨ä»¶" class="headerlink" title="é›¶éƒ¨ä»¶"></a>é›¶éƒ¨ä»¶</h3><h3 id="è”åŠ¨"><a href="#è”åŠ¨" class="headerlink" title="è”åŠ¨"></a>è”åŠ¨</h3><h3 id="ç”µæ± åç›–"><a href="#ç”µæ± åç›–" class="headerlink" title="ç”µæ± åç›–"></a>ç”µæ± åç›–</h3><p><img src="C:\Users\VIBTEK\AppData\Roaming\Typora\typora-user-images\1741330770720.png" alt="1741330770720"></p><p><strong>å¦‚ä½•åšä¸Šçª„ä¸‹æ¬¾çš„åœ†æŸ±</strong></p><p><strong>ä½¿ç”¨â€œæ”¾æ ·ï¼ˆLoftï¼‰â€å·¥å…·</strong></p><ol><li><strong>åˆ›å»ºåº•éƒ¨åœ†</strong>ï¼š</li><li><strong>åˆ›å»ºé¡¶éƒ¨åœ†</strong>ï¼š<ul><li>é€‰æ‹© <strong>â€œæ„é€ ï¼ˆConstructï¼‰â€â†’â€œåç§»å¹³é¢ï¼ˆOffset Planeï¼‰â€</strong>ã€‚</li><li>é€‰æ‹©ç¬¬ä¸€ä¸ªè‰å›¾çš„å¹³é¢ï¼Œè¾“å…¥<strong>åç§»å€¼</strong>ï¼ˆå³åœ†æŸ±é«˜åº¦ï¼‰ã€‚</li><li>åœ¨æ–°çš„å¹³é¢ä¸Š<strong>åˆ›å»ºä¸€ä¸ªè¾ƒå°çš„åœ†</strong>ï¼ˆä½œä¸ºé¡¶éƒ¨ï¼‰ã€‚</li><li><strong>å®Œæˆè‰å›¾</strong>ã€‚</li></ul></li><li><strong>æ”¾æ ·ï¼ˆLoftï¼‰æˆå‹</strong>ï¼š<ul><li>é€‰æ‹© <strong>â€œåˆ›å»ºï¼ˆCreateï¼‰â€â†’â€œæ”¾æ ·ï¼ˆLoftï¼‰â€</strong>ã€‚</li><li>é€‰æ‹©åº•éƒ¨åœ†å’Œé¡¶éƒ¨åœ†ä½œä¸º<strong>æˆªé¢</strong>ã€‚</li><li>ç¡®ä¿ä¸¤è€…å¹³æ»‘è¿æ¥ï¼Œç‚¹å‡» <strong>â€œç¡®å®šâ€</strong> ç”Ÿæˆåœ†å°ã€‚</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_MQTT_OTA</title>
      <link href="/2025/03/28/126-micradar/"/>
      <url>/2025/03/28/126-micradar/</url>
      
        <content type="html"><![CDATA[<h2 id="æ¯«ç±³æ³¢é›·è¾¾æ•°æ®å¸§è§£æ"><a href="#æ¯«ç±³æ³¢é›·è¾¾æ•°æ®å¸§è§£æ" class="headerlink" title="æ¯«ç±³æ³¢é›·è¾¾æ•°æ®å¸§è§£æ"></a>æ¯«ç±³æ³¢é›·è¾¾æ•°æ®å¸§è§£æ</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><img src="/Micradar/1743662058597.png" alt="1743662058597"></p><p><img src="/Micradar/1743661922308.png" alt="1743661922308"></p><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><p>å…³é—­ç¡çœ ç›‘æµ‹</p><blockquote><p>53 59 84 00 00 01 00 31 54 43</p></blockquote><h3 id="âœ…-æ±‚å’Œï¼š"><a href="#âœ…-æ±‚å’Œï¼š" class="headerlink" title="âœ… æ±‚å’Œï¼š"></a>âœ… æ±‚å’Œï¼š</h3><pre class="line-numbers language-none"><code class="language-none">0x53 + 0x59 + 0x84 + 0x00 + 0x00 + 0x01 + 0x00&#x3D; 83   + 89   + 132  + 0    + 0    + 1    + 0&#x3D; 305<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>â†’ 305 &#x3D; <strong>0x131</strong></p><p>æˆ‘ä»¬åªå– <strong>ä½8ä½</strong>ï¼ˆå³ <code>0x31</code>ï¼‰</p><blockquote><p>5359 84 00 0001 00 sum 5443</p></blockquote><h2 id="ğŸ“‹-æ‰€æœ‰åŠŸèƒ½å…³é—­å¯¹åº”æŒ‡ä»¤ä¸€è§ˆè¡¨ï¼ˆæ ‡å‡†æ ¼å¼ï¼‰"><a href="#ğŸ“‹-æ‰€æœ‰åŠŸèƒ½å…³é—­å¯¹åº”æŒ‡ä»¤ä¸€è§ˆè¡¨ï¼ˆæ ‡å‡†æ ¼å¼ï¼‰" class="headerlink" title="ğŸ“‹ æ‰€æœ‰åŠŸèƒ½å…³é—­å¯¹åº”æŒ‡ä»¤ä¸€è§ˆè¡¨ï¼ˆæ ‡å‡†æ ¼å¼ï¼‰"></a>ğŸ“‹ æ‰€æœ‰åŠŸèƒ½å…³é—­å¯¹åº”æŒ‡ä»¤ä¸€è§ˆè¡¨ï¼ˆæ ‡å‡†æ ¼å¼ï¼‰</h2><table><thead><tr><th>åŠŸèƒ½</th><th>æ§åˆ¶å­—</th><th>å®Œæ•´å…³é—­æŒ‡ä»¤</th><th>æ ¡éªŒå’Œè®¡ç®—ï¼ˆåè¿›åˆ¶ï¼‰</th></tr></thead><tbody><tr><td><strong>ç¡çœ ç›‘æµ‹</strong></td><td><code>0x84</code></td><td><code>53 59 84 00 00 01 00 31 54 43</code> âœ…</td><td>0x53+0x59+0x84+0x00+0x00+0x01+0x00 &#x3D; <strong>305 â†’ 0x131 â†’ 0x31</strong></td></tr><tr><td><strong>å¿ƒç‡ç›‘æµ‹</strong></td><td><code>0x85</code></td><td><code>53 59 85 00 00 01 00 32 54 43</code> âœ…</td><td>0x53+0x59+0x85+â€¦ &#x3D; <strong>306 â†’ 0x132 â†’ 0x32</strong></td></tr><tr><td><strong>å‘¼å¸æ£€æµ‹</strong></td><td><code>0x81</code></td><td><code>53 59 81 00 00 01 00 2E 54 43</code> âœ…</td><td>0x53+0x59+0x81+â€¦ &#x3D; <strong>302 â†’ 0x12E â†’ 0x2E</strong></td></tr><tr><td><strong>å­˜åœ¨æ£€æµ‹</strong></td><td><code>0x80</code></td><td><code>53 59 80 00 00 01 00 2D 54 43</code> âœ…</td><td>0x</td></tr></tbody></table><h2 id="âœ…-åŠŸèƒ½å…³é—­æŒ‡ä»¤è¡¨"><a href="#âœ…-åŠŸèƒ½å…³é—­æŒ‡ä»¤è¡¨" class="headerlink" title="âœ… åŠŸèƒ½å…³é—­æŒ‡ä»¤è¡¨"></a>âœ… åŠŸèƒ½å…³é—­æŒ‡ä»¤è¡¨</h2><table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>æ§åˆ¶å­—</th><th>å‘½ä»¤å­—</th><th>æ•°æ®</th><th>æ ¡éªŒå’Œè®¡ç®—ï¼ˆç¤ºä¾‹ï¼‰</th><th>å®Œæ•´æŒ‡ä»¤å¸§</th></tr></thead><tbody><tr><td>å­˜åœ¨æ£€æµ‹</td><td><code>0x80</code></td><td><code>0x00</code></td><td><code>0x00</code></td><td><code>0x2D</code></td><td><code>53 59 80 00 00 01 00 2D 54 43</code></td></tr><tr><td>ç¡çœ ç›‘æµ‹</td><td><code>0x84</code></td><td><code>0x00</code></td><td><code>0x00</code></td><td><code>0x31</code></td><td><code>53 59 84 00 00 01 00 31 54 43</code></td></tr><tr><td>å¿ƒç‡æ£€æµ‹</td><td><code>0x85</code></td><td><code>0x00</code></td><td><code>0x00</code></td><td><code>0x32</code></td><td><code>53 59 85 00 00 01 00 32 54 43</code></td></tr><tr><td>å‘¼å¸æ£€æµ‹</td><td><code>0x81</code></td><td><code>0x00</code></td><td><code>0x00</code></td><td><code>0x2E</code></td><td><code>53 59 81 00 00 01 00 2E 54 43</code></td></tr></tbody></table><hr><h2 id="âœ…-åŠŸèƒ½å¼€å¯æŒ‡ä»¤è¡¨"><a href="#âœ…-åŠŸèƒ½å¼€å¯æŒ‡ä»¤è¡¨" class="headerlink" title="âœ… åŠŸèƒ½å¼€å¯æŒ‡ä»¤è¡¨"></a>âœ… åŠŸèƒ½å¼€å¯æŒ‡ä»¤è¡¨</h2><table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>æ§åˆ¶å­—</th><th>å‘½ä»¤å­—</th><th>æ•°æ®</th><th>æ ¡éªŒå’Œè®¡ç®—ï¼ˆç¤ºä¾‹ï¼‰</th><th>å®Œæ•´æŒ‡ä»¤å¸§</th></tr></thead><tbody><tr><td>å­˜åœ¨æ£€æµ‹</td><td><code>0x80</code></td><td><code>0x00</code></td><td><code>0x01</code></td><td><code>0x2E</code></td><td><code>53 59 80 00 00 01 01 2E 54 43</code></td></tr><tr><td>ç¡çœ ç›‘æµ‹</td><td><code>0x84</code></td><td><code>0x00</code></td><td><code>0x01</code></td><td><code>0x32</code></td><td><code>53 59 84 00 00 01 01 32 54 43</code></td></tr><tr><td>å¿ƒç‡æ£€æµ‹</td><td><code>0x85</code></td><td><code>0x00</code></td><td><code>0x01</code></td><td><code>0x33</code></td><td><code>53 59 85 00 00 01 01 33 54 43</code></td></tr><tr><td>å‘¼å¸æ£€æµ‹</td><td><code>0x81</code></td><td><code>0x00</code></td><td><code>0x01</code></td><td><code>0x2F</code></td><td><code>53 59 81 00 00 01 01 2F 54 43</code></td></tr></tbody></table><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F; &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; å›ºå®šå¸§å®šä¹‰ &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;const uint8_t disablePresence[] &#x3D; &#123;0x53, 0x59, 0x80, 0x00, 0x00, 0x01, 0x00, 0x2D, 0x54, 0x43&#125;;const uint8_t disableSleep[]    &#x3D; &#123;0x53, 0x59, 0x84, 0x00, 0x00, 0x01, 0x00, 0x31, 0x54, 0x43&#125;;const uint8_t disableHeart[]    &#x3D; &#123;0x53, 0x59, 0x85, 0x00, 0x00, 0x01, 0x00, 0x32, 0x54, 0x43&#125;;const uint8_t disableBreath[]   &#x3D; &#123;0x53, 0x59, 0x81, 0x00, 0x00, 0x01, 0x00, 0x2E, 0x54, 0x43&#125;;const uint8_t enablePresence[]  &#x3D; &#123;0x53, 0x59, 0x80, 0x00, 0x00, 0x01, 0x01, 0x2E, 0x54, 0x43&#125;;const uint8_t enableSleep[]     &#x3D; &#123;0x53, 0x59, 0x84, 0x00, 0x00, 0x01, 0x01, 0x32, 0x54, 0x43&#125;;const uint8_t enableHeart[]     &#x3D; &#123;0x53, 0x59, 0x85, 0x00, 0x00, 0x01, 0x01, 0x33, 0x54, 0x43&#125;;const uint8_t enableBreath[]    &#x3D; &#123;0x53, 0x59, 0x81, 0x00, 0x00, 0x01, 0x01, 0x2F, 0x54, 0x43&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç°çš„é—®é¢˜</p><p>vscodeçš„ä¸²å£ç›‘è§†å™¨ï¼Œéœ€è¦<strong>é‡æ–°å¼€å…³</strong>æ‰ä¼šåˆ·æ–°çŠ¶æ€ï¼Œå…¶ä»–ä¸²å£ç›‘è§†å™¨ä¸ç”¨</p><p>é‡æ–°ä¸Šç”µä¹Ÿå¥½ç”¨ï¼Œæˆ‘è¿˜ä»¥ä¸ºåˆ·æ–°çŠ¶æ€éœ€è¦é‡æ–°ä¸Šç”µå‘¢</p><h3 id="âœ…-æ§åˆ¶åŠŸèƒ½çš„-MQTT-æŒ‡ä»¤ï¼ˆJSON-æ ¼å¼ï¼‰"><a href="#âœ…-æ§åˆ¶åŠŸèƒ½çš„-MQTT-æŒ‡ä»¤ï¼ˆJSON-æ ¼å¼ï¼‰" class="headerlink" title="âœ… æ§åˆ¶åŠŸèƒ½çš„ MQTT æŒ‡ä»¤ï¼ˆJSON æ ¼å¼ï¼‰"></a>âœ… æ§åˆ¶åŠŸèƒ½çš„ MQTT æŒ‡ä»¤ï¼ˆJSON æ ¼å¼ï¼‰</h3><table><thead><tr><th>åŠŸèƒ½</th><th>å¼€å¯æŒ‡ä»¤</th><th>å…³é—­æŒ‡ä»¤</th></tr></thead><tbody><tr><td>ç¡çœ ç›‘æµ‹</td><td><code>&#123; &quot;command&quot;: &quot;sleep&quot;, &quot;action&quot;: &quot;enable&quot; &#125;</code></td><td><code>&#123; &quot;command&quot;: &quot;sleep&quot;, &quot;action&quot;: &quot;disable&quot; &#125;</code></td></tr><tr><td>å¿ƒç‡ç›‘æµ‹</td><td><code>&#123; &quot;command&quot;: &quot;heart&quot;, &quot;action&quot;: &quot;enable&quot; &#125;</code></td><td><code>&#123; &quot;command&quot;: &quot;heart&quot;, &quot;action&quot;: &quot;disable&quot; &#125;</code></td></tr><tr><td>å‘¼å¸ç›‘æµ‹</td><td><code>&#123; &quot;command&quot;: &quot;breath&quot;, &quot;action&quot;: &quot;enable&quot; &#125;</code></td><td><code>&#123; &quot;command&quot;: &quot;breath&quot;, &quot;action&quot;: &quot;disable&quot; &#125;</code></td></tr><tr><td>å­˜åœ¨æ£€æµ‹</td><td><code>&#123; &quot;command&quot;: &quot;presence&quot;, &quot;action&quot;: &quot;enable&quot; &#125;</code></td><td><code>&#123; &quot;command&quot;: &quot;presence&quot;, &quot;action&quot;: &quot;disable&quot; &#125;</code></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32ç³»ç»Ÿæ¿</title>
      <link href="/2025/03/26/124-esp32-xi-tong-ban/"/>
      <url>/2025/03/26/124-esp32-xi-tong-ban/</url>
      
        <content type="html"><![CDATA[<h3 id="ESP32æ ¸å¿ƒéƒ¨åˆ†ç”µè·¯"><a href="#ESP32æ ¸å¿ƒéƒ¨åˆ†ç”µè·¯" class="headerlink" title="ESP32æ ¸å¿ƒéƒ¨åˆ†ç”µè·¯"></a>ESP32æ ¸å¿ƒéƒ¨åˆ†ç”µè·¯</h3><p>è¿™ä¸ªè®¾è®¡çš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>ç¨³å®šç”µå‹ã€æ»¤æ³¢é«˜é¢‘å™ªå£°ã€æä¾›ç¬æ—¶ç”µæµè¡¥å¿</strong>ã€‚ï¼ˆå»è€¦ï¼‰</p><img src="/2025/03/26/124-esp32-xi-tong-ban/1742883409569.png" class="" width="1742883409569"><table><thead><tr><th><strong>ä¿¡å·åç§°</strong></th><th><strong>åŠŸèƒ½</strong></th></tr></thead><tbody><tr><td><strong>ESP_3V3</strong></td><td>3.3V ç”µæºï¼Œé€šå¸¸æ¥è‡ª <strong>å¤–éƒ¨ LDOï¼ˆä½å‹å·®ç¨³å‹å™¨ï¼‰</strong>ï¼Œç”¨äº<strong>ç»™æ•´ä¸ª ESP32 ä¾›ç”µ</strong>ã€‚</td></tr><tr><td><strong>VDD3V3</strong></td><td>3.3V ç”µæºï¼Œå¯èƒ½æ˜¯ <strong>ESP32 å†…éƒ¨ LDO è¾“å‡ºçš„ 3.3V</strong>ï¼Œä¾›ç»™å†…éƒ¨ç”µè·¯ã€‚</td></tr></tbody></table><p> <strong>âš¡ å…³é”®å¯¹æ¯”</strong></p><table><thead><tr><th><strong>åŠŸèƒ½</strong></th><th><strong>ESP32-S3 æ¨¡å—ï¼ˆWROOM&#x2F;WROVERï¼‰</strong></th><th><strong>Arduino Nano ESP32</strong></th></tr></thead><tbody><tr><td><strong>USB ç›´è¿åŠŸèƒ½</strong></td><td>âŒ <strong>ä¸æ”¯æŒï¼ˆéƒ¨åˆ†ç‰ˆæœ¬ï¼‰</strong>ï¼Œéœ€è¦å¤–éƒ¨ UART è½¬ USB èŠ¯ç‰‡</td><td>âœ… <strong>æ”¯æŒåŸç”Ÿ USB</strong>ï¼Œæ— éœ€é¢å¤–èŠ¯ç‰‡</td></tr><tr><td><strong>ä¸²å£è°ƒè¯•</strong></td><td>éœ€è¦ <strong>CH340&#x2F;CP2102</strong> è¿æ¥ TX&#x2F;RX</td><td>USB ç›´æ¥ä½œä¸º <strong>CDC è™šæ‹Ÿä¸²å£</strong></td></tr><tr><td><strong>çƒ§å½•æ–¹å¼</strong></td><td>é€šè¿‡ UARTï¼ˆéœ€è¦ USB è½¬ä¸²å£ï¼‰</td><td>ç›´æ¥é€šè¿‡ USB-C ç«¯å£çƒ§å½•</td></tr><tr><td><strong>USB-OTG</strong></td><td>ä»…éƒ¨åˆ†æ”¯æŒ</td><td><strong>å®Œå…¨æ”¯æŒï¼ˆGPIO19, GPIO20ï¼‰</strong></td></tr></tbody></table><h3 id="TYPE-Cç”µè·¯"><a href="#TYPE-Cç”µè·¯" class="headerlink" title="TYPE-Cç”µè·¯"></a>TYPE-Cç”µè·¯</h3><h3 id="USB-to-UARTç”µè·¯"><a href="#USB-to-UARTç”µè·¯" class="headerlink" title="USB to UARTç”µè·¯"></a>USB to UARTç”µè·¯</h3><p> âœ… ä¸ºäº†æ‰©å±•æ›´å¤š USB åŠŸèƒ½ï¼Œå®é™…ä½¿ç”¨çš„ä¸¤é¢—èŠ¯ç‰‡æ˜¯ï¼š</p><ol><li><strong>CH343P</strong>ï¼šå…¸å‹çš„ <strong>USB è½¬ä¸²å£ï¼ˆUSB to UARTï¼‰èŠ¯ç‰‡</strong></li><li><strong>CH334F</strong>ï¼šä¸€é¢— <strong>å¤šå£ USB HUB æ§åˆ¶èŠ¯ç‰‡</strong></li></ol><h3 id="1-CH343P-USB-è½¬-UART"><a href="#1-CH343P-USB-è½¬-UART" class="headerlink" title="1. CH343P - USB è½¬ UART"></a>1. <strong>CH343P - USB è½¬ UART</strong></h3><ul><li>æ¥åœ¨ <strong>ESP32-S3 çš„ UART0ï¼ˆTXD0 &#x2F; RXD0ï¼‰</strong> ä¸Š</li><li>ä½œç”¨ï¼š<ul><li>æä¾› <strong>å›ºä»¶çƒ§å½•</strong></li><li>æä¾› <strong>ä¸²å£æ—¥å¿—è¾“å‡ºï¼ˆserial logï¼‰</strong></li><li>é…åˆ DTR&#x2F;RTS æ§åˆ¶ IO0&#x2F;ENï¼Œå®ç° <strong>è‡ªåŠ¨ä¸‹è½½ï¼ˆAuto Downloadï¼‰</strong></li></ul></li><li>å±äºå¼€å‘æ¿ä¸­æœ€åŸºç¡€çš„è°ƒè¯•åŠŸèƒ½ã€‚</li></ul><hr><h3 id="2-CH334F-USB-HUB-èŠ¯ç‰‡"><a href="#2-CH334F-USB-HUB-èŠ¯ç‰‡" class="headerlink" title="2. CH334F - USB HUB èŠ¯ç‰‡"></a>2. <strong>CH334F - USB HUB èŠ¯ç‰‡</strong></h3><ul><li>æ˜¯ä¸€é¢— <strong>4å£ USB Hub æ§åˆ¶å™¨</strong>ã€‚</li><li>ä½œç”¨æ˜¯ï¼š<ul><li>å°†ä¸»æ§ USB æ€»çº¿ <strong>ä¸€åˆ†å¤š</strong>ï¼Œæ‰©å±•å‡ºå¤šä¸ª USB æ¥å£</li><li>å…¶ä¸­ä¸€ä¸ªç«¯å£è¿æ¥ <strong>CH343Pï¼ˆUSBè½¬ä¸²å£ï¼‰</strong></li><li>å…¶ä½™ç«¯å£å¯ä¾›ï¼š<ul><li>å…¶ä»–å¤–è®¾ï¼ˆæ¯”å¦‚ USB HIDã€Uç›˜ã€æ‘„åƒå¤´ï¼‰</li><li>ç”šè‡³æ¥å…¥ ESP32-S3 è‡ªèº«çš„ <strong>USB OTGæ¥å£</strong></li></ul></li></ul></li></ul><h3 id="FDC6333C"><a href="#FDC6333C" class="headerlink" title="FDC6333C"></a>FDC6333C</h3><p> ğŸ”¸ Q1ï¼šPæ²ŸMOSFETï¼Œä¸»æ§3.3Vè¾“å‡ºé€šæ–­</p><ul><li><strong>è¾“å…¥ï¼š3.3V</strong></li><li><strong>è¾“å‡ºï¼š3V3_OP</strong></li><li><strong>æ§åˆ¶ç«¯ G1ï¼ˆé€šè¿‡ R3 ä¸‹æ‹‰ï¼‰</strong><ul><li>æ§åˆ¶æ¡ä»¶æ˜¯ï¼š<ul><li>è‹¥ G1 &#x3D; 0V â†’ MOSFET å¯¼é€š â†’ è¾“å‡º 3.3V</li><li>è‹¥ G1 â‰ˆ 3.3V â†’ MOSFET å…³æ–­ â†’ è¾“å‡ºæ–­å¼€</li></ul></li></ul></li><li><strong>ç”¨é€”</strong>ï¼šå½“ä½ æƒ³æ§åˆ¶æ˜¯å¦æŠŠæ¿ä¸Šçš„ 3.3V ç”µå‹è¾“å‡ºåˆ°å…¶ä»–æ¨¡å—ï¼ˆæ¯”å¦‚å¤–è®¾ï¼‰ï¼Œå¯ä»¥æ§åˆ¶è¿™ä¸ªå¼€å…³ã€‚</li></ul><p>ğŸ”¸ Q2ï¼šPMOSï¼Œç”¨äº VBUS æ§åˆ¶</p><ul><li>VBUS æ¥è‡ª USB</li><li>G2 é€šè¿‡ R5 æ‹‰é«˜ï¼ˆ100kï¼‰</li><li>R4 æ˜¯é™æµç”µé˜»ï¼ˆ100Rï¼‰</li><li>G2 æ§åˆ¶ Q2 çš„å¯¼é€š<ul><li>å¦‚æœ G2 æ‹‰ä½ï¼ˆæ¯”å¦‚è¢«èŠ¯ç‰‡æ‹‰ä½ï¼‰ï¼Œåˆ™ VBUS å¯ä»¥å¯¼é€š</li><li>å¦‚æœä¿æŒæ‹‰é«˜ï¼Œåˆ™ MOSFET å…³æ–­ï¼ŒVBUS ä¸ä¼šè¾“å‡º</li></ul></li><li><strong>ç”¨é€”çŒœæµ‹</strong>ï¼š<ul><li>èµ·åˆ° <strong>VBUS ç”µæºéš”ç¦» &#x2F; æ§åˆ¶ä½œç”¨</strong></li><li>æˆ–è€…ä¿æŠ¤ç”µè·¯ï¼Œåœ¨ USB æ’å…¥æ—¶ç”± MCU æ§åˆ¶æ˜¯å¦å¯¼é€š VBUSï¼Œé˜²æ­¢åæ’æŸå</li></ul></li></ul><h3 id="å¤ä½ç”µè·¯"><a href="#å¤ä½ç”µè·¯" class="headerlink" title="å¤ä½ç”µè·¯"></a>å¤ä½ç”µè·¯</h3><h3 id="è‡ªåŠ¨ä¸‹è½½ç”µè·¯"><a href="#è‡ªåŠ¨ä¸‹è½½ç”µè·¯" class="headerlink" title="è‡ªåŠ¨ä¸‹è½½ç”µè·¯"></a>è‡ªåŠ¨ä¸‹è½½ç”µè·¯</h3><h3 id="USB-TO-UART"><a href="#USB-TO-UART" class="headerlink" title="USB TO UART"></a>USB TO UART</h3><p>âœ… å¸¸è§çš„ USB è½¬ UART èŠ¯ç‰‡å¯¹æ¯”</p><table><thead><tr><th>èŠ¯ç‰‡å‹å·</th><th>å‚å•†</th><th>æœ€å¤§æ³¢ç‰¹ç‡</th><th>é©±åŠ¨æ”¯æŒ</th><th>ä¾›ç”µç”µå‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>CP2102N</strong></td><td>Silicon Labs</td><td>3 Mbps</td><td>Windows &#x2F; macOS &#x2F; Linux</td><td>3.3V &#x2F; 5V</td><td>ç¨³å®šã€å¹¿æ³›ä½¿ç”¨ï¼Œä½“ç§¯å°ï¼ŒåŠŸè€—ä½</td></tr><tr><td><strong>CH340G</strong></td><td>WCHï¼ˆå—äº¬æ²æ’ï¼‰</td><td>2 Mbps</td><td>Windows &#x2F; macOS &#x2F; Linux</td><td>5Vï¼ˆé»˜è®¤ï¼‰ï¼Œæ”¯æŒ3.3V</td><td>ä¾¿å®œï¼Œå…¼å®¹æ€§è¿˜è¡Œ</td></tr><tr><td><strong>FT232RL</strong></td><td>FTDI</td><td>3 Mbps</td><td>éå¸¸å¼ºï¼ˆé©±åŠ¨æˆç†Ÿï¼‰</td><td>3.3V &#x2F; 5V å¯é€‰</td><td>ç¨³å®šã€é«˜å“è´¨ï¼Œä½†è´µ</td></tr><tr><td><strong>PL2303</strong></td><td>Prolific</td><td>1 Mbps</td><td>Windows &#x2F; Linuxï¼ˆéƒ¨åˆ†æ–°ç‰ˆé©±åŠ¨ä¸ç¨³å®šï¼‰</td><td>3.3V &#x2F; 5V</td><td>è¾ƒè€ï¼Œé©±åŠ¨æœ‰å…¼å®¹é—®é¢˜</td></tr><tr><td><strong>CP2104</strong></td><td>Silicon Labs</td><td>1 Mbps</td><td>å¤šå¹³å°æ”¯æŒ</td><td>3.3V &#x2F; 5V</td><td>CP2102ç³»åˆ—çš„å˜ç§ï¼Œä½åŠŸè€—å°å°è£…</td></tr></tbody></table><hr><p>âœ… ç®€å•è¯´è¯´ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥ç”¨ USB çš„ <strong>D+ &#x2F; D-</strong> è¿åˆ° UART çš„ <strong>TX &#x2F; RX</strong></p><p>è¿™é—®é¢˜éå¸¸å…³é”®ï¼Œå¾ˆå¤šäººåˆå­¦æ—¶ä¼šè¯¯ä»¥ä¸º USB æ˜¯â€œä¸²å£â€ï¼Œå°±ç›´æ¥è¿äº†â€”â€”å…¶å®è¿™æ ·ä¼šçƒ§èŠ¯ç‰‡ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p><hr><p>âŒ <strong>USB å’Œ UART æ˜¯å®Œå…¨ä¸åŒçš„é€šä¿¡åè®®å’Œç”µæ°”æ ‡å‡†</strong></p><table><thead><tr><th>ç‰¹æ€§</th><th>USBï¼ˆD+ &#x2F; D-ï¼‰</th><th>UARTï¼ˆTX &#x2F; RXï¼‰</th></tr></thead><tbody><tr><td>ç‰©ç†ä¿¡å·</td><td>å·®åˆ†ä¿¡å·ï¼ˆä¸€å¯¹çº¿ï¼‰</td><td>å•ç«¯ä¿¡å·ï¼ˆå„ä¸€æ ¹ï¼‰</td></tr><tr><td>åè®®å¤æ‚åº¦</td><td>é«˜ï¼ˆæœ‰æ¡æ‰‹ã€åœ°å€ã€åŒ…å¤´ã€CRCç­‰ï¼‰</td><td>ä½ï¼ˆèµ·å§‹ä½+æ•°æ®+æ ¡éªŒä½ï¼‰</td></tr><tr><td>é©±åŠ¨éœ€æ±‚</td><td>éœ€è¦USBä¸»æœºæ§åˆ¶å™¨</td><td>å¯ç›´æ¥ç‚¹å¯¹ç‚¹é€šä¿¡</td></tr><tr><td>ç”µå¹³æ ‡å‡†</td><td>USB 2.0 æ˜¯ 3.3V å·®åˆ†ä¿¡å·</td><td>é€šå¸¸ä¸ºTTLç”µå¹³ï¼ˆ3.3V æˆ– 5Vï¼‰</td></tr></tbody></table><hr><p>ğŸ¯ ç®€å•æ¯”å–»ç†è§£ï¼š</p><ul><li><strong>USB</strong> åƒæ˜¯é«˜é€Ÿå…¬è·¯ï¼Œæœ‰ä¸“é—¨çš„â€œæ”¶è´¹ç«™â€ï¼ˆåè®®æ§åˆ¶å™¨ï¼‰ï¼Œè½¦è¾†ï¼ˆæ•°æ®åŒ…ï¼‰å¿…é¡»æŒ‰è§„çŸ©èµ°ï¼Œè¿˜å¾—æœ‰â€œå…¥å£â€è®¾å¤‡ï¼ˆä¸»æœºï¼‰ã€‚</li><li><strong>UART</strong> åƒæ˜¯æ‘é‡Œçš„å°è·¯ï¼Œä½ è¯´ä¸€å¥æˆ‘å›ä¸€å¥ï¼Œç®€å•ç›´æ¥ï¼Œè°éƒ½èƒ½ä¸Šã€‚</li></ul><p>ä½ æ‹¿ <strong>USB D+&#x2F;D- å»æ¥ UART TX&#x2F;RX</strong>ï¼Œå°±åƒæ‹¿ä¸¤ä¸ªæ’å¤´å¯¹ç€æ¥ï¼Œ<strong>ä¿¡å·æ ¹æœ¬ä¸ä¸€æ ·ï¼Œä¸ä½†é€šä¿¡ä¸äº†ï¼Œè¿˜å¯èƒ½çƒ§æ‰IOå£æˆ–è€…èŠ¯ç‰‡å†…éƒ¨ESDç”µè·¯</strong>ã€‚âœ… æ€»ç»“ä¸€å¥è¯</p><blockquote><p><strong>ä¸èƒ½ç›´æ¥è¿ D+&#x2F;D- åˆ° TX&#x2F;RXï¼Œæ˜¯å› ä¸ºå®ƒä»¬ç”¨çš„ä¸æ˜¯ä¸€ç§â€œè¯­è¨€â€å’Œâ€œç”µå¹³æ–¹å¼â€ï¼Œè€Œä¸” USB éœ€è¦ä¸“ç”¨æ§åˆ¶å™¨ï¼ŒUART ä¸è¡Œã€‚</strong></p></blockquote><h3 id="C3ä¸S3å¯¹æ¯”"><a href="#C3ä¸S3å¯¹æ¯”" class="headerlink" title="C3ä¸S3å¯¹æ¯”"></a>C3ä¸S3å¯¹æ¯”</h3><p>ğŸ”§ ä¸€ã€èŠ¯ç‰‡å¯¹æ¯”ï¼šESP32-C3 vs ESP32-S3</p><table><thead><tr><th>é¡¹ç›®</th><th><strong>ESP32-C3</strong></th><th><strong>ESP32-S3</strong></th></tr></thead><tbody><tr><td>CPU æ¶æ„</td><td>å•æ ¸ RISC-V @160MHz</td><td>åŒæ ¸ Xtensa LX7 @240MHz</td></tr><tr><td>RAM</td><td>~400KB SRAM</td><td>~512KB SRAM</td></tr><tr><td>PSRAM æ”¯æŒ</td><td>âŒ æ— åŸç”Ÿæ”¯æŒ</td><td>âœ… æ”¯æŒå¤–æŒ‚ PSRAM</td></tr><tr><td>Wi-Fi</td><td>âœ… 2.4GHz b&#x2F;g&#x2F;n</td><td>âœ… 2.4GHz b&#x2F;g&#x2F;n</td></tr><tr><td>BLE</td><td>âœ… BLE 5.0, Long Range</td><td>âœ… BLE 5.0, LE Audio</td></tr><tr><td>GPIO æ•°é‡</td><td>22</td><td>44</td></tr><tr><td>USB æ¥å£</td><td>âœ… USB Device</td><td>âœ… USB OTGï¼ˆHost + Deviceï¼‰</td></tr><tr><td>LCD &#x2F; æ‘„åƒå¤´æ”¯æŒ</td><td>âŒ æ— </td><td>âœ… æ”¯æŒ LCDã€CAM æ¥å£</td></tr><tr><td>å®‰å…¨ç‰¹æ€§</td><td>AES, RNG, Secure Boot, FlashåŠ å¯†</td><td>æ›´å¤šå®‰å…¨ç‰¹æ€§ + AIåŠ é€Ÿå™¨</td></tr><tr><td>å°è£…å°ºå¯¸</td><td>QFN 5x5 mm</td><td>QFN 7x7 mm</td></tr></tbody></table><hr><p>ğŸ“¦ äºŒã€æ¨¡ç»„å¯¹æ¯”ï¼šESP32-C3-WROOM-02 vs ESP32-S3-WROOM-1</p><table><thead><tr><th>é¡¹ç›®</th><th><strong>ESP32-C3-WROOM-02</strong></th><th><strong>ESP32-S3-WROOM-1&#x2F;1U</strong></th></tr></thead><tbody><tr><td>æ ¸å¿ƒèŠ¯ç‰‡</td><td>ESP32-C3</td><td>ESP32-S3</td></tr><tr><td>Flash</td><td>4MB &#x2F; 8MB</td><td>4MB &#x2F; 8MB &#x2F; 16MB</td></tr><tr><td>PSRAM</td><td>âŒ æ— </td><td>âœ… å¯é€‰ 2MB &#x2F; 8MB</td></tr><tr><td>GPIO æš´éœ²æ•°é‡</td><td>15â€“22 ä¸ªè§†å°è£…è€Œå®š</td><td>é«˜è¾¾ 42 ä¸ªè§†å°è£…è€Œå®š</td></tr><tr><td>æ¨¡ç»„å°ºå¯¸</td><td>18 Ã— 20 mm</td><td>18 Ã— 20.5 mm</td></tr><tr><td>å¤©çº¿ç±»å‹</td><td>PCB å¤©çº¿ &#x2F; å¤–æ¥ IPEX</td><td>PCB å¤©çº¿ &#x2F; å¤–æ¥ IPEX</td></tr><tr><td>å·¥ä½œæ¸©åº¦èŒƒå›´</td><td>-40Â°C ~ +85Â°C</td><td>-40Â°C ~ +105Â°C</td></tr><tr><td>è®¤è¯</td><td>CE, FCC, SRRC ç­‰</td><td>CE, FCC, SRRC ç­‰</td></tr></tbody></table><h3 id="æ»¤æ³¢"><a href="#æ»¤æ³¢" class="headerlink" title="æ»¤æ³¢"></a>æ»¤æ³¢</h3><ol><li><strong>LC æ»¤æ³¢å™¨</strong></li></ol><ul><li><p>å› ä¸ºå®ƒçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ª <strong>ç”µæ„Ÿï¼ˆLï¼‰+ ä¸€å †ç”µå®¹ï¼ˆCï¼‰</strong></p></li><li><p>æ˜¯æœ€å¸¸ç”¨çš„ç”µæºæ»¤æ³¢ç»“æ„ä¹‹ä¸€</p></li><li><p>ç®€å•è¯´å°±æ˜¯ï¼š</p><blockquote><p>â€œLC Power Filterâ€ æˆ– â€œLC æ»¤æ³¢ç½‘ç»œâ€</p></blockquote></li></ul><hr><ol start="2"><li><strong>Ï€ï¼ˆÏ€å‹ï¼‰æ»¤æ³¢å™¨ &#x2F; Pi Filter</strong></li></ol><ul><li><p>å› ä¸ºå®ƒé•¿å¾—åƒå¸Œè…Šå­—æ¯ Ï€ï¼ˆPiï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">luaå¤åˆ¶ç¼–è¾‘  C ---|      |+V ---L---+----&gt; è¾“å‡º      |   |     ---  C      GND<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>å°±æ˜¯ â€œ<strong>ç”µå®¹ - ç”µæ„Ÿ - ç”µå®¹</strong>â€ çš„ç»„åˆç»“æ„</p></li><li><p>ç‰¹ç‚¹æ˜¯æ»¤æ³¢å¸¦å®½å¹¿ã€é«˜ä½é¢‘éƒ½èƒ½å‹å¾—ä½</p></li></ul><hr><ol start="3"><li><strong>ç”µæºå»è€¦æ»¤æ³¢å™¨ &#x2F; Power Decoupling Filter</strong></li></ol><ul><li>å¼ºè°ƒå®ƒç”¨äºç»™ç”µæºå»è€¦ã€ç¨³å‹çš„ä½œç”¨</li><li>å¸¸è§äº MCUã€Wi-Fiã€å°„é¢‘ç±»èŠ¯ç‰‡å‰çº§ç”µæºå‡€åŒ–</li></ul><p> ğŸ“ äºŒã€ç”µå®¹å°è£…åŒºåˆ«ï¼ˆ0805 vs 1206ï¼‰</p><table><thead><tr><th>é¡¹ç›®</th><th><strong>0805</strong></th><th><strong>1206</strong></th></tr></thead><tbody><tr><td>å¯æ‰¿å—ç”µå‹</td><td>ä¸€èˆ¬ â‰¤ 25V</td><td>å¯è¾¾ 50Vï¼ˆçœ‹å…·ä½“å‹å·ï¼‰</td></tr><tr><td>æœ€å¤§å®¹é‡ï¼ˆX7Rï¼‰</td><td>å¸¸ç”¨å€¼ â‰¤ 22Î¼F</td><td>å¯æ”¯æŒæ›´å¤§ï¼ˆå¦‚ 47Î¼Fï¼‰</td></tr><tr><td>çº¹æ³¢ç”µæµèƒ½åŠ›</td><td>ä¸­ç­‰</td><td>æ›´å¥½ï¼Œæ›´ç¨³å®š</td></tr><tr><td>PCB å ç©ºé—´</td><td>å°ï¼Œé€‚åˆç´§å‡‘</td><td>ç•¥å¤§ï¼Œé€‚åˆä¸»ä¾›ç”µè·¯å¾„æ»¤æ³¢</td></tr></tbody></table><p>âœ… <strong>æ€»ç»“ï¼š</strong></p><blockquote><p>å¦‚æœä½ éœ€è¦æ›´å¤§ç”µå®¹å€¼ã€æ›´ç¨³å®šçš„ä¾›ç”µï¼Œ<strong>é€‰ 1206 æ›´ç¨³ï¼›</strong><br> å¦‚æœä½ ç©ºé—´å°ã€æ»¤æ³¢ä¸æ˜¯å¾ˆå…³é”®ï¼Œ<strong>é€‰ 0805 æ›´çœé¢ç§¯ã€‚</strong></p></blockquote><hr><p>ğŸŒ€ ä¸‰ã€ç”µæ„Ÿå°è£…åŒºåˆ«ï¼ˆ0805 vs 1206ï¼‰</p><table><thead><tr><th>é¡¹ç›®</th><th><strong>0805</strong></th><th><strong>1206</strong></th></tr></thead><tbody><tr><td>ç”µæ„Ÿé‡å¯é€‰èŒƒå›´</td><td>å¤šï¼Œä½†ç”µæµä½ï¼ˆ<del>0.3</del>0.6Aï¼‰</td><td>ç”µæµæ‰¿è½½æ›´é«˜ï¼ˆ<del>1</del>2Aï¼‰</td></tr><tr><td>DCR é˜»æŠ—</td><td>è¾ƒé«˜ï¼Œå‹é™å¤§</td><td>è¾ƒä½ï¼Œæ›´é€‚åˆç”µæºä¸»è·¯å¾„ä½¿ç”¨</td></tr><tr><td>EMI æŠ—æ€§</td><td>è¾ƒå¼±ï¼ˆå¤šæ•°éå±è”½ï¼‰</td><td>å¯é€‰å±è”½å‹ï¼ŒæŠ—å¹²æ‰°æ›´å¼º</td></tr><tr><td>æ˜“ç„Šæ€§</td><td>æ›´å°ï¼Œæ‰‹ç„Šå›°éš¾</td><td>æ›´å¥½ç„Šï¼Œé€‚åˆæ‰‹å·¥å’Œè´´ç‰‡æœºå…¼å®¹</td></tr></tbody></table><h3 id="B5819W-è‚–ç‰¹åŸºäºŒæç®¡"><a href="#B5819W-è‚–ç‰¹åŸºäºŒæç®¡" class="headerlink" title="B5819W è‚–ç‰¹åŸºäºŒæç®¡"></a><strong>B5819W è‚–ç‰¹åŸºäºŒæç®¡</strong></h3><p>å®ç°é˜²åçŒç”µå‹</p>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32-S3é©±åŠ¨å¤šä¼ æ„Ÿå™¨</title>
      <link href="/2025/03/21/122-esp32-s3-chuan-gan-qi/"/>
      <url>/2025/03/21/122-esp32-s3-chuan-gan-qi/</url>
      
        <content type="html"><![CDATA[<h3 id="TEMT6000"><a href="#TEMT6000" class="headerlink" title="TEMT6000"></a>TEMT6000</h3><h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>1.ADCè¯»æ•°ä»0å¢åŠ åˆ°3400ç„¶ååˆé€’å‡åˆ°0<code>GPIO4</code></p><blockquote></blockquote><ol start="2"><li></li></ol><h3 id="ADC"><a href="#ADC" class="headerlink" title="ADC"></a>ADC</h3><p>ESP32-S3 <strong>æ‰€æœ‰å¯ç”¨çš„ ADC å¼•è„š</strong>ï¼ˆæ¨¡æ‹Ÿè¾“å…¥å¼•è„šï¼‰ï¼š</p><p><strong>ğŸ“Œ ADC1 (12-bit, 0-3.3V)</strong></p><table><thead><tr><th>é€šé“ç¼–å·</th><th>GPIO</th></tr></thead><tbody><tr><td>ADC1_CH0</td><td>GPIO1</td></tr><tr><td>ADC1_CH1</td><td>GPIO2</td></tr><tr><td>ADC1_CH2</td><td>GPIO3</td></tr><tr><td>ADC1_CH3</td><td>GPIO4</td></tr><tr><td>ADC1_CH4</td><td>GPIO5</td></tr><tr><td>ADC1_CH5</td><td>GPIO6</td></tr><tr><td>ADC1_CH6</td><td>GPIO7</td></tr><tr><td>ADC1_CH7</td><td>GPIO8</td></tr><tr><td>ADC1_CH8</td><td>GPIO9</td></tr><tr><td>ADC1_CH9</td><td>GPIO10</td></tr></tbody></table><hr><p> <strong>ğŸ“Œ ADC2 (12-bit, 0-3.3V, å— WiFi å½±å“)</strong></p><table><thead><tr><th>é€šé“ç¼–å·</th><th>GPIO</th></tr></thead><tbody><tr><td>ADC2_CH0</td><td>GPIO11</td></tr><tr><td>ADC2_CH1</td><td>GPIO12</td></tr><tr><td>ADC2_CH2</td><td>GPIO13</td></tr><tr><td>ADC2_CH3</td><td>GPIO14</td></tr><tr><td>ADC2_CH4</td><td>GPIO15</td></tr><tr><td>ADC2_CH5</td><td>GPIO16</td></tr><tr><td>ADC2_CH6</td><td>GPIO17</td></tr><tr><td>ADC2_CH7</td><td>GPIO18</td></tr><tr><td>ADC2_CH8</td><td>GPIO19</td></tr><tr><td>ADC2_CH9</td><td>GPIO20</td></tr></tbody></table><hr><p> <strong>âš ï¸ æ³¨æ„äº‹é¡¹</strong></p><ol><li><strong>ADC1 å¯æ­£å¸¸ä½¿ç”¨</strong>ï¼Œé€‚ç”¨äºå¤§éƒ¨åˆ†æƒ…å†µã€‚</li><li><strong>ADC2 å— WiFi å½±å“</strong>ï¼Œå¦‚æœ WiFi ä½¿èƒ½ï¼ŒADC2 å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œã€‚</li><li><strong>ESP32-S3 æ²¡æœ‰ DAC</strong>ï¼ˆæ— æ³•ä½œä¸ºæ¨¡æ‹Ÿè¾“å‡ºï¼‰ã€‚</li><li><strong>ESP32-S3 ADC é»˜è®¤ 12-bitï¼ˆ0-4095ï¼‰</strong>ï¼Œä½†å¯ä»¥é…ç½® 9-bit, 10-bit, 11-bitã€‚</li><li><strong>analogReadResolution(bits)</strong> è®¾ç½®åˆ†è¾¨ç‡ï¼Œ<strong>analogSetAttenuation(ADC_11db)</strong> è®¾ç½®è¾“å…¥èŒƒå›´ï¼ˆæœ€å¤§ 3.3Vï¼‰ã€‚</li></ol><p>ğŸ’¡ <strong>æ¨èä½¿ç”¨ ADC1ï¼ˆGPIO1-GPIO10ï¼‰ï¼Œé¿å… ADC2 å— WiFi å¹²æ‰°ï¼</strong> ğŸš€</p><h3 id="RGBç¯"><a href="#RGBç¯" class="headerlink" title="RGBç¯"></a>RGBç¯</h3><p>ä¸çŸ¥é“ä¸ºå•¥pwmé©±åŠ¨æ‰æœ‰ç”¨ï¼Œæ™®é€šé©±åŠ¨æ²¡ååº”ï¼Œè¦ä¸<del>è®¾ç½®ä¸ªpwmå€¼å§ï¼Œå¯èƒ½äº®åº¦å¤ªä½æ²¡çœ‹åˆ°</del>ï¼Œæ— æ•ˆï¼Œåªæœ‰æ¸å˜å¯è¡Œ</p><p><strong>è‚¯å®šæ˜¯å“ªé‡Œå‡ºäº†é—®é¢˜ï¼Œå› ä¸ºarduino nano esp32å‡ºåœºè‡ªå¸¦çš„ç¨‹åºå¯ä»¥æ­£å¸¸é—ªç¯å•Š</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#define RED_PIN 45#define GREEN_PIN 0#define BLUE_PIN 46&#x2F;&#x2F; å®šä¹‰ LEDC PWM é¢‘é“#define LEDC_CHANNEL_RED   0#define LEDC_CHANNEL_GREEN 1#define LEDC_CHANNEL_BLUE  2#define PWM_FREQ 5000  &#x2F;&#x2F; PWM é¢‘ç‡#define PWM_RESOLUTION 8  &#x2F;&#x2F; 8ä½åˆ†è¾¨ç‡ï¼ˆ0-255ï¼‰void setup() &#123;  &#x2F;&#x2F; é…ç½® PWM é¢‘é“  ledcSetup(LEDC_CHANNEL_RED, PWM_FREQ, PWM_RESOLUTION);  ledcSetup(LEDC_CHANNEL_GREEN, PWM_FREQ, PWM_RESOLUTION);  ledcSetup(LEDC_CHANNEL_BLUE, PWM_FREQ, PWM_RESOLUTION);  &#x2F;&#x2F; ç»‘å®šé€šé“åˆ° GPIO å¼•è„š  ledcAttachPin(RED_PIN, LEDC_CHANNEL_RED);  ledcAttachPin(GREEN_PIN, LEDC_CHANNEL_GREEN);  ledcAttachPin(BLUE_PIN, LEDC_CHANNEL_BLUE);&#125;void loop() &#123;  int val;  &#x2F;&#x2F; é¢œè‰²æ¸å˜ - å…ˆé€’å‡  for (val &#x3D; 255; val &gt; 0; val--) &#123;    ledcWrite(LEDC_CHANNEL_RED, val);    ledcWrite(LEDC_CHANNEL_GREEN, 255 - val);    ledcWrite(LEDC_CHANNEL_BLUE, 128 - val);    delay(1);  &#125;  &#x2F;&#x2F; é¢œè‰²æ¸å˜ - å†é€’å¢  for (val &#x3D; 0; val &lt; 255; val++) &#123;    ledcWrite(LEDC_CHANNEL_RED, val);    ledcWrite(LEDC_CHANNEL_GREEN, 255 - val);    ledcWrite(LEDC_CHANNEL_BLUE, 128 - val);    delay(1);  &#125;  Serial.println(val, DEC);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çƒ§å½•å®Œåä¼šå‡ºç°usbä¸²å£å¤±æ•ˆï¼Œå¯èƒ½æ˜¯å½±å“åˆ°çš„GPIO0</p><p>SCKç¯ä¹Ÿä¸äº®ä¸åˆ°ä¸ºå•¥</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#define YELLOW_PIN 48void setup() &#123;  pinMode(YELLOW_PIN, OUTPUT);  digitalWrite(YELLOW_PIN, HIGH);  &#x2F;&#x2F; åˆå§‹çŠ¶æ€ï¼šLED ç†„ç­&#125;void loop() &#123;  digitalWrite(YELLOW_PIN, HIGH);   &#x2F;&#x2F; è“è‰²ç­  delay(1000);  digitalWrite(YELLOW_PIN, LOW);  &#x2F;&#x2F; ç»¿è‰²äº®  delay(1000);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æŒ‰é”®"><a href="#æŒ‰é”®" class="headerlink" title="æŒ‰é”®"></a>æŒ‰é”®</h3><p>ä¸çŸ¥é“ä¸ºå•¥ï¼Œä½ç”µå¹³æ£€æµ‹ä¸åˆ°</p>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32ä¸²å£é€šä¿¡</title>
      <link href="/2025/03/16/123-esp32-uart/"/>
      <url>/2025/03/16/123-esp32-uart/</url>
      
        <content type="html"><![CDATA[<h2 id="ESP32ä¸²å£é€šä¿¡"><a href="#ESP32ä¸²å£é€šä¿¡" class="headerlink" title="ESP32ä¸²å£é€šä¿¡"></a>ESP32ä¸²å£é€šä¿¡</h2><p><strong>ç¯å¢ƒ</strong></p><ul><li>Arduino IDE</li><li>Arduino nano esp32</li></ul><h3 id="å¼•è„šå®šä¹‰"><a href="#å¼•è„šå®šä¹‰" class="headerlink" title="å¼•è„šå®šä¹‰"></a>å¼•è„šå®šä¹‰</h3><img src="/2025/03/16/123-esp32-uart/1743651190192.png" class="" width="1743651190192"><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>1.å¤ä½åä¹±ç ï¼Œåªæ˜¯å¤ä½ä¹‹åå‘é€çš„æ•°æ®ä¹±ç ,esp32å¼€å‘æ¿éƒ½æœ‰</p><p>2.USBä¸²å£å¤±æ•ˆ</p><p>åŸå› ï¼š</p><blockquote><p>IDEé€‰é”™å¼€å‘æ¿å‹å·å¯¼è‡´å¼€å‘æ¿å›ºä»¶åæ‰</p></blockquote><p>è§£å†³æ–¹æ¡ˆï¼š</p><blockquote><p>ä½¿ç”¨åˆ·æœºè½¯ä»¶ï¼Œé‡åˆ·å›ºä»¶</p><img src="/2025/03/16/123-esp32-uart/1741758528187.png" class="" width="1741758528187"><img src="/2025/03/16/123-esp32-uart/f63410f72e82647dd2f27496dc898bb.png" class="" title="f63410f72e82647dd2f27496dc898bb"></blockquote><p>æ³¨æ„ï¼š</p><ol><li>å›ºä»¶åœ°å€</li><li>çŸ­æ¥Boot1ä¸GND(RGBä¸ºç»¿è‰²)</li><li>å¦‚æœè®¾å¤‡ç®¡ç†å™¨å‡ºç°Arduino DFUçš„é—®é¢˜å°±æ˜¯æ²¡æœ‰é©±åŠ¨ï¼Œéœ€è¦é‡è£…</li><li><img src="/2025/03/16/123-esp32-uart/1741758751899.png" class="" width="1741758751899"></li></ol><p>5.uart1ä¸²å£é€ä¼ å¤±æ•ˆ</p><p>  uart0å¯ä»¥ï¼ŒåŸå› æœªçŸ¥</p><p>6.å¦‚æœçƒ§å½•æ—¶å‡ºç°nodfuï¼Œå¯é‡æ–°çƒ§å½•å›ºä»¶ï¼Œç„¶åé‡æ–°ä¸Šç”µæ‰«æä¸²å£</p><h3 id="ä¸²å£å ç”¨"><a href="#ä¸²å£å ç”¨" class="headerlink" title="ä¸²å£å ç”¨"></a>ä¸²å£å ç”¨</h3><ul><li><p>æ­£å¸¸æƒ…å†µusbä¸²å£æ˜¯å¦å ç”¨uart0(ESP32-S3)?</p><blockquote><p>ä¸å ç”¨</p></blockquote></li><li></li></ul><h3 id="ä¸²å£é€ä¼ "><a href="#ä¸²å£é€ä¼ " class="headerlink" title="ä¸²å£é€ä¼ "></a>ä¸²å£é€ä¼ </h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &lt;Arduino.h&gt;void setup() &#123;  &#x2F;&#x2F; åˆå§‹åŒ– UART0ï¼Œæ³¢ç‰¹ç‡ä¸º 115200ï¼ˆæ³¨æ„è¿™é‡Œæ˜¯å’Œç›®æ ‡æ¨¡å—ä¸€è‡´çš„æ³¢ç‰¹ç‡ï¼‰  Serial0.begin(115200);   Serial.begin(115200); &#x2F;&#x2F; ä¸»ä¸²å£ï¼Œç”¨äºæ‰“å°è¾“å‡ºåˆ°ä¸²å£ç›‘è§†å™¨  Serial0.println(&quot;UART0 Loopback Test Started&quot;);  delay(1000);&#125;void loop() &#123;  &#x2F;&#x2F; å‘æ¨¡å—å‘é€æ•°æ®  Serial0.print(&quot;111&quot;);  &#x2F;&#x2F; æ¥æ”¶ Serial0 çš„æ•°æ®ï¼Œå¹¶æ‰“å°åˆ°ä¸»ä¸²å£  while (Serial0.available()) &#123;    uint8_t receivedByte &#x3D; Serial0.read();  &#x2F;&#x2F; è¯»å–æ”¶åˆ°çš„å­—èŠ‚    Serial.print(&quot;Received: 0x&quot;);    if (receivedByte &lt; 0x10) Serial.print(&quot;0&quot;); &#x2F;&#x2F; è¡¥é›¶å¯¹é½    Serial.println(receivedByte, HEX);         &#x2F;&#x2F; åå…­è¿›åˆ¶è¾“å‡º  &#125;  delay(1000);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼Œæˆ‘æ€»æ˜¯å®¹æ˜“å¤±è´¥ï¼Œå°±æ˜¯ä½¿ç”¨å…¶ä»–ä¸²å£çš„æ—¶å€™ï¼Œéœ€è¦ç ”ç©¶ä¸€ä¸‹esp32çš„ä¸²å£åˆ°åº•æ˜¯æ€ä¹ˆé…ç½®çš„</p>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_S3_WIFI</title>
      <link href="/2025/03/12/121-esp32-s3-wifi/"/>
      <url>/2025/03/12/121-esp32-s3-wifi/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ“Œ-æ ¸å¿ƒå‡½æ•°ä¸€è§ˆ"><a href="#ğŸ“Œ-æ ¸å¿ƒå‡½æ•°ä¸€è§ˆ" class="headerlink" title="ğŸ“Œ æ ¸å¿ƒå‡½æ•°ä¸€è§ˆ"></a>ğŸ“Œ æ ¸å¿ƒå‡½æ•°ä¸€è§ˆ</h2><table><thead><tr><th>å‡½æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>WiFi.begin(ssid, password)</code></td><td>è¿æ¥åˆ°æŒ‡å®š WiFi çƒ­ç‚¹</td></tr><tr><td><code>WiFi.status()</code></td><td>è¿”å›å½“å‰ WiFi çŠ¶æ€ï¼ˆå¦‚å·²è¿æ¥ã€å¤±è´¥ç­‰ï¼‰</td></tr><tr><td><code>WiFi.localIP()</code></td><td>è·å–å½“å‰è¿æ¥ WiFi ååˆ†é…çš„ IP åœ°å€</td></tr><tr><td><code>WiFi.disconnect()</code></td><td>æ–­å¼€å½“å‰ WiFi</td></tr><tr><td><code>WiFi.SSID()</code></td><td>è·å–å½“å‰è¿æ¥çš„ WiFi åç§°</td></tr><tr><td><code>WiFi.RSSI()</code></td><td>è·å–å½“å‰ WiFi ä¿¡å·å¼ºåº¦</td></tr><tr><td><code>WiFi.macAddress()</code></td><td>è·å– MAC åœ°å€</td></tr><tr><td><code>WiFi.scanNetworks()</code></td><td>æ‰«æå‘¨å›´ WiFi çƒ­ç‚¹</td></tr><tr><td><code>WiFi.mode(WIFI_STA)</code></td><td>è®¾ç½®ä¸ºâ€œå®¢æˆ·ç«¯æ¨¡å¼â€</td></tr><tr><td><code>WiFi.mode(WIFI_AP)</code></td><td>è®¾ç½®ä¸ºâ€œçƒ­ç‚¹æ¨¡å¼â€</td></tr><tr><td><code>WiFi.mode(WIFI_AP_STA)</code></td><td>åŒæ—¶ä½œä¸ºçƒ­ç‚¹å’Œå®¢æˆ·ç«¯ï¼ˆæ··åˆï¼‰</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32_S3_BLEå­¦ä¹ è®°å½•</title>
      <link href="/2025/03/10/119-esp32-ble/"/>
      <url>/2025/03/10/119-esp32-ble/</url>
      
        <content type="html"><![CDATA[<h3 id="BLE-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#BLE-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="BLE æ˜¯ä»€ä¹ˆï¼Ÿ"></a>BLE æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>BLEï¼ˆBluetooth Low Energyï¼‰æ˜¯ä¸€ç§ä½åŠŸè€—ã€çŸ­è·ç¦»çš„é€šä¿¡åè®®ï¼Œç”¨äºè®¾å¤‡é—´å°æ•°æ®ä¼ è¾“ï¼Œéå¸¸é€‚åˆä¼ æ„Ÿå™¨ã€ç©¿æˆ´è®¾å¤‡ã€æ‰‹æœºé€šä¿¡ç­‰åœºæ™¯ã€‚</p><h3 id="BLE-åŸºç¡€æ¶æ„"><a href="#BLE-åŸºç¡€æ¶æ„" class="headerlink" title="BLE åŸºç¡€æ¶æ„"></a>BLE åŸºç¡€æ¶æ„</h3><p>ESP32 åš BLE Serverï¼ˆå¤–è®¾ï¼‰æ—¶ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªé‡è¦æ¦‚å¿µï¼š</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>Serverï¼ˆæœåŠ¡ç«¯ï¼‰</strong></td><td>ESP32 ä½œä¸º BLE å¤–è®¾</td></tr><tr><td><strong>Serviceï¼ˆæœåŠ¡ï¼‰</strong></td><td>ç±»ä¼¼ä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆä¾‹å¦‚å¿ƒç‡æœåŠ¡ï¼‰</td></tr><tr><td><strong>Characteristicï¼ˆç‰¹å¾å€¼ï¼‰</strong></td><td>ä¸€ä¸ªæ•°æ®å•å…ƒï¼Œæ”¯æŒè¯»&#x2F;å†™&#x2F;é€šçŸ¥</td></tr><tr><td><strong>UUID</strong></td><td>ç”¨äºæ ‡è¯† Service å’Œ Characteristic</td></tr></tbody></table><h3 id="ç¯å¢ƒå®‰è£…é…ç½®"><a href="#ç¯å¢ƒå®‰è£…é…ç½®" class="headerlink" title="ç¯å¢ƒå®‰è£…é…ç½®"></a>ç¯å¢ƒå®‰è£…é…ç½®</h3><ul><li>VScode+Platform</li></ul><p> âœ… 1. <code>BLEServer *pServer = BLEDevice::createServer();</code></p><ul><li><code>BLEServer *</code>ï¼šæ„æ€æ˜¯ <code>pServer</code> æ˜¯ä¸€ä¸ª <strong>æŒ‡é’ˆ</strong>ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª BLE æœåŠ¡å™¨å¯¹è±¡ã€‚</li><li><code>BLEDevice::createServer()</code>ï¼šè¿™æ˜¯ <strong>ç±» BLEDevice</strong> ä¸­çš„ä¸€ä¸ª <strong>é™æ€å‡½æ•°</strong>ï¼Œå®ƒä¼šæ–°å»ºä¸€ä¸ªæœåŠ¡å™¨å¹¶è¿”å›ã€‚</li></ul><blockquote><p>ğŸ“¦ ç±»ä¼¼äºï¼šä½ æ‰“ç”µè¯å«äº†ä¸ªå¤–å–æœåŠ¡å‘˜å›æ¥ï¼Œç»™ä»–èµ·äº†ä¸ªåå­— <code>pServer</code>ã€‚</p></blockquote><hr><p> âœ… 2. <code>pService-&gt;start();</code></p><ul><li><code>pService</code> æ˜¯ä¹‹å‰ä½ é€šè¿‡ <code>pServer-&gt;createService(...)</code> å¾—åˆ°çš„æœåŠ¡å¯¹è±¡ã€‚</li><li><code>.start()</code> å°±æ˜¯å‘Šè¯‰è¿™ä¸ªæœåŠ¡ï¼š<strong>å¼€å§‹å¹¿æ’­ã€å‡†å¤‡æ¥æ”¶è¿æ¥ï¼</strong></li></ul><blockquote><p>ğŸ“¦ ç±»ä¼¼äºï¼šä½ å·²ç»è®¾ç½®å¥½äº†æœåŠ¡å‘˜è¯¥åšä»€ä¹ˆï¼Œç°åœ¨å‘Šè¯‰ä»– â€œå¼€å§‹å·¥ä½œâ€ã€‚</p></blockquote><pre class="line-numbers language-none"><code class="language-none">BLEServer* pServer &#x3D; BLEDevice::createServer();     &#x2F;&#x2F; åˆ›å»º BLE æœåŠ¡å™¨BLEService* pService &#x3D; pServer-&gt;createService(&quot;xxxx&quot;); &#x2F;&#x2F; åˆ›å»ºä¸€ä¸ªæœåŠ¡pService-&gt;start();                                  &#x2F;&#x2F; å¯åŠ¨è¿™ä¸ªæœåŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>C++ ç¬¦å·</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>*</code></td><td>æŒ‡é’ˆï¼ˆä»£è¡¨ä¸€ä¸ªå¯¹è±¡åœ°å€ï¼‰</td></tr><tr><td><code>-&gt;</code></td><td>é€šè¿‡æŒ‡é’ˆè®¿é—®å¯¹è±¡çš„æˆå‘˜</td></tr><tr><td><code>.</code></td><td>æ™®é€šå¯¹è±¡è®¿é—®æˆå‘˜</td></tr></tbody></table><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>1.å¥½çš„ï¼Œä¸æ”¯æŒnanoï¼Œ<code>nano</code>åªæœ‰<code>arduino ide</code>å’Œ<code>micropython</code>æ”¯æŒå“¦ï¼Œå–œæé‡åˆ·å›ºä»¶</p><blockquote><p>æ”¯æŒï¼Œæœç´¢nano esp32</p></blockquote><ol start="2"><li></li></ol><p>ç¬¬ä¸€ä¸ªå¯ä»¥è¿æ¥<code>serial bluetooth</code>ï¼Œç¬¬äºŒä¸ªä¸å¯ä»¥</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">BLEDevice::init(&quot;ESP32-S3-BLE&quot;);pServer &#x3D; BLEDevice::createServer();BLEService* pService &#x3D; pServer-&gt;createService(BLEUUID((uint16_t)0xFFE0));pCharacteristic &#x3D; pService-&gt;createCharacteristic(                    BLEUUID((uint16_t)0xFFE1),                    BLECharacteristic::PROPERTY_READ |                     BLECharacteristic::PROPERTY_WRITE |                     BLECharacteristic::PROPERTY_NOTIFY);pCharacteristic-&gt;addDescriptor(new BLE2902());pService-&gt;start();BLEAdvertising* pAdvertising &#x3D; BLEDevice::getAdvertising();pAdvertising-&gt;addServiceUUID(BLEUUID((uint16_t)0xFFE0));pAdvertising-&gt;start();Serial.println(&quot;âœ… BLE åˆå§‹åŒ–å®Œæˆï¼Œç­‰å¾…è¿æ¥...&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">BLEDevice::init(&quot;ESP32-BLE-Demo&quot;);BLEServer *pServer &#x3D; BLEDevice::createServer();BLEService *pService &#x3D; pServer-&gt;createService(&quot;12345678-1234-5678-1234-56789abcdef0&quot;);pCharacteristic &#x3D; pService-&gt;createCharacteristic(  &quot;abcdefab-1234-5678-1234-56789abcdef0&quot;,  BLECharacteristic::PROPERTY_READ |  BLECharacteristic::PROPERTY_WRITE |  BLECharacteristic::PROPERTY_NOTIFY);pCharacteristic-&gt;setValue(&quot;Hello BLE!&quot;);pCharacteristic-&gt;addDescriptor(new BLE2902());  &#x2F;&#x2F; å¯ç”¨ notifypService-&gt;start();BLEAdvertising *pAdvertising &#x3D; BLEDevice::getAdvertising();pAdvertising-&gt;addServiceUUID(&quot;12345678-1234-5678-1234-56789abcdef0&quot;);pAdvertising-&gt;start();Serial.println(&quot;ğŸ“¡ ç­‰å¾… BLE è¿æ¥...&quot;);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åŸå› ï¼š</strong></p><p>å¾ˆå¤šæ‰‹æœº App é»˜è®¤åªæ‰«æå¸¸è§ BLE ä¸²å£æœåŠ¡ UUIDï¼ˆå¦‚ 0xFFE0ï¼‰</p><p> ğŸ” å°ç»“å¯¹æ¯”</p><table><thead><tr><th>æ¯”è¾ƒé¡¹</th><th>ç¬¬ä¸€æ®µï¼ˆèƒ½è¿ï¼‰</th><th>ç¬¬äºŒæ®µï¼ˆä¸èƒ½è¿ï¼‰</th></tr></thead><tbody><tr><td>UUID ç±»å‹</td><td>16ä½ï¼ˆæ ‡å‡†ä¸²å£æœåŠ¡ï¼‰</td><td>128ä½ï¼ˆè‡ªå®šä¹‰ï¼‰</td></tr><tr><td>å…¼å®¹æ€§</td><td>é«˜</td><td>ä½</td></tr><tr><td>App æ”¯æŒ</td><td>nRF &#x2F; Serial Terminal å¯ç”¨</td><td>nRF æ”¯æŒï¼Œè‡ªå®šä¹‰ App æ‰èƒ½ç”¨</td></tr><tr><td>æ¨èç”¨æ³•</td><td>å¼€å‘é˜¶æ®µä¸²å£è°ƒè¯•</td><td>ç‰¹å®šé¡¹ç›®ä¸­è‡ªå®šä¹‰æœåŠ¡</td></tr></tbody></table><p>ğŸ”· <code>BLEUUID</code> æ˜¯ä»€ä¹ˆï¼Ÿ</p><p><code>BLEUUID</code> æ˜¯ <strong>ä¸€ä¸ªç±»</strong>ï¼Œç”¨æ¥è¡¨ç¤º <strong>UUIDï¼ˆé€šç”¨å”¯ä¸€è¯†åˆ«ç ï¼‰</strong>ï¼Œç”¨äºæ ‡è¯† BLE çš„ï¼š</p><ul><li>æœåŠ¡ï¼ˆServiceï¼‰</li><li>ç‰¹å¾å€¼ï¼ˆCharacteristicï¼‰</li><li>æè¿°ç¬¦ï¼ˆDescriptorï¼‰</li></ul><p>BLE ä¸­ä¸€åˆ‡éƒ½æ˜¯åŸºäº UUID æ¥è¯†åˆ«çš„ã€‚S</p><hr><p>ğŸ”¶ <code>0xFFE0</code> æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li><code>0xFFE0</code> æ˜¯ä¸€ä¸ª <strong>16 ä½çš„ UUID</strong></li><li>å®ƒå¸¸è¢«ç”¨äºç±»ä¼¼ä¸²å£æœåŠ¡ï¼ˆBLE UARTï¼‰çš„è‡ªå®šä¹‰åè®®ï¼ˆå¦‚ Nordic çš„ UART æˆ– HM-10 æ¨¡å—ï¼‰</li></ul><p>ä¾‹å¦‚ï¼š</p><ul><li><code>FFE0</code>ï¼šæœåŠ¡ UUIDï¼ˆService UUIDï¼‰</li><li><code>FFE1</code>ï¼šç‰¹å¾å€¼ UUIDï¼ˆCharacteristic UUIDï¼‰</li></ul><p>è¿™æ˜¯ä¸€ç§ <strong>ç®€åŒ–å†™æ³•</strong>ï¼Œå®Œæ•´ UUID æ˜¯ 128 ä½ï¼Œç³»ç»Ÿå†…éƒ¨ä¼šè‡ªåŠ¨æ‰©å±•å®ƒï¼š</p><pre class="line-numbers language-none"><code class="language-none">å¤åˆ¶ç¼–è¾‘0x0000FFE0-0000-1000-8000-00805F9B34FB<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>âš ï¸æ³¨æ„</p><p>è½»æ˜“ä¸è¦ä¸œGPIO0ï¼Œå¦å¤–å‡ºç°ESP32é¢‘ç¹è‡ªå¯çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å›ºä»¶çƒ§å½•å·¥å…·æ“¦é™¤åé‡æ–°çƒ§å½•å›ºä»¶</p><h2 id="ESP32-BLEå¹¿æ’­æ”¶å‘-advertise"><a href="#ESP32-BLEå¹¿æ’­æ”¶å‘-advertise" class="headerlink" title="ESP32_BLEå¹¿æ’­æ”¶å‘(advertise)"></a>ESP32_BLEå¹¿æ’­æ”¶å‘(advertise)</h2><h3 id="âœ…-å¸¸è§çš„-BLE-å¹¿æ’­-Type-ç±»å‹"><a href="#âœ…-å¸¸è§çš„-BLE-å¹¿æ’­-Type-ç±»å‹" class="headerlink" title="âœ… å¸¸è§çš„ BLE å¹¿æ’­ Type ç±»å‹"></a><strong>âœ… å¸¸è§çš„ BLE å¹¿æ’­ Type ç±»å‹</strong></h3><table><thead><tr><th><strong>Type (Hex)</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ç¤ºä¾‹æ•°æ®</strong></th><th><strong>è§£æ</strong></th></tr></thead><tbody><tr><td><code>0x01</code></td><td>è®¾å¤‡ Flagsï¼ˆæ ‡å¿—ä½ï¼‰</td><td><code>0x06</code></td><td><strong>BLE è®¾å¤‡ç±»å‹</strong></td></tr><tr><td><code>0x02</code></td><td>16-bit Service UUIDï¼ˆéƒ¨åˆ†ï¼‰</td><td><code>0x0A 18</code></td><td><strong>GATT æœåŠ¡ UUID</strong></td></tr><tr><td><code>0x03</code></td><td>16-bit Service UUIDï¼ˆå®Œæ•´ï¼‰</td><td><code>0x0A 18</code></td><td><strong>å®Œæ•´ UUID</strong></td></tr><tr><td><code>0x07</code></td><td>128-bit Service UUID</td><td><code>0xFB 34 9B 5F 80 00 00 80 00 10 00 00 00 00 00 00 00</code></td><td><strong>è‡ªå®šä¹‰æœåŠ¡ UUID</strong></td></tr><tr><td><code>0x08</code></td><td>çŸ­è®¾å¤‡åç§°ï¼ˆShort Local Nameï¼‰</td><td><code>0x45 53 50 33</code></td><td><strong>â€œESP3â€</strong></td></tr><tr><td><code>0x09</code></td><td>å®Œæ•´è®¾å¤‡åç§°ï¼ˆComplete Local Nameï¼‰</td><td><code>0x45 53 50 33 32 5F 57 49 46 49</code></td><td><strong>â€œESP32_WIFIâ€</strong></td></tr><tr><td><code>0x0A</code></td><td>å‘å°„åŠŸç‡ï¼ˆTx Power Levelï¼‰</td><td><code>0x09</code></td><td><strong>+9 dBm</strong></td></tr><tr><td><code>0x12</code></td><td>è®¾å¤‡å‚å•†æ•°æ®ï¼ˆManufacturer Dataï¼‰</td><td><code>0xDE AD BE EF 12 34 56 78</code></td><td><strong>HEX æ•°æ®</strong></td></tr><tr><td><code>0xFF</code></td><td>å‚å•†æ•°æ®ï¼ˆManufacturer Dataï¼‰</td><td>âœ… <strong>å¯è‡ªå®šä¹‰</strong></td><td>è®¾å¤‡ç§æœ‰æ•°æ®</td></tr></tbody></table><h3 id="å¹¿æ’­"><a href="#å¹¿æ’­" class="headerlink" title="å¹¿æ’­"></a>å¹¿æ’­</h3><p> <strong>ğŸ“Œ BLEAdvertisingï¼ˆå¹¿æ’­ï¼‰ vs. GATTï¼ˆè¿æ¥ï¼‰</strong></p><p><strong>BLEï¼ˆè“ç‰™ä½åŠŸè€—ï¼‰æœ‰ä¸¤ç§ä¸»è¦é€šä¿¡æ–¹å¼ï¼š</strong></p><ol><li><strong>BLEAdvertisingï¼ˆå¹¿æ’­ï¼‰</strong> â†’ <strong>ESP32 å‘é€å¹¿æ’­æ•°æ®ï¼Œæ— éœ€è¿æ¥</strong></li><li><strong>GATTï¼ˆé€šç”¨å±æ€§åè®®ï¼‰</strong> â†’ <strong>ESP32 ä½œä¸ºæœåŠ¡å™¨ï¼Œæ”¯æŒå®¢æˆ·ç«¯è¿æ¥å¹¶äº¤äº’æ•°æ®</strong></li><li>BLEAdvertisingï¼ˆå¹¿æ’­ï¼‰**</li></ol><p>ğŸ”¹ <strong>ç¤ºä¾‹ä»£ç </strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">BLEDevice::init(&quot;ESP32_Broadcaster&quot;);BLEAdvertising *pAdvertising &#x3D; BLEDevice::getAdvertising();pAdvertising-&gt;setAdvertisementData(advertisementData);pAdvertising-&gt;start();**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ğŸ”¹è¶…é•¿æ•°æ®çš„å¹¿æ’­</p><p>** æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ Scan Response å‘é€é¢å¤–æ•°æ®**</p><p><strong>åŸç†</strong>ï¼š</p><ul><li><strong>å¹¿æ’­åŒ…ï¼ˆAdvertising Dataï¼‰</strong> å‘é€å‰ <strong>éƒ¨åˆ†æ•°æ®ï¼ˆå¦‚ SSIDï¼‰</strong></li><li><strong>æ‰«æå“åº”åŒ…ï¼ˆScan Responseï¼‰</strong> å‘é€ <strong>å‰©ä½™æ•°æ®ï¼ˆå¦‚å¯†ç ï¼‰</strong></li><li><strong>nRF Connect æˆ– ESP32 æ‰«æç«¯å¯åŒæ—¶è·å–è¿™ä¸¤ä¸ªæ•°æ®åŒ…</strong></li></ul><p> <strong>ğŸ“Œ Scannable æ¨¡å¼ï¼ˆå¯æ‰«ææ¨¡å¼ï¼‰</strong></p><p>**Scannableï¼ˆå¯æ‰«æï¼‰**æ¨¡å¼æ˜¯ä¸€ç§ <strong>BLE å¹¿æ’­æ¨¡å¼</strong>ï¼Œå…è®¸æ¥æ”¶ç«¯è®¾å¤‡è¯·æ±‚é¢å¤–çš„ä¿¡æ¯ã€‚é€šå¸¸ç”¨äº <strong>å‘é€è¶…å‡ºå¹¿æ’­åŒ…é•¿åº¦çš„æ•°æ®</strong>ã€‚</p><p><strong>NRFé…ç½®</strong></p><p>âœ…scannable</p><ol start="2"><li>GATTï¼ˆè¿æ¥æ¨¡å¼)**</li></ol><p>ğŸ”¹ <strong>ç¤ºä¾‹ä»£ç </strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">BLEServer *pServer &#x3D; BLEDevice::createServer();BLEService *pService &#x3D; pServer-&gt;createService(SERVICE_UUID);BLECharacteristic *pCharacteristic &#x3D; pService-&gt;createCharacteristic(    CHARACTERISTIC_UUID,    BLECharacteristic::PROPERTY_READ | BLECharacteristic::PROPERTY_WRITE);pService-&gt;start();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ğŸ”¹ <strong>ğŸ“² æ‰‹æœºç”¨ nRF Connect è¿æ¥ ESP32 å¹¶è¯»å†™æ•°æ®</strong></p><hr><p> ğŸš€ 3. ä¸»è¦åŒºåˆ«</p><table><thead><tr><th><strong>å¯¹æ¯”é¡¹</strong></th><th><strong>BLEAdvertisingï¼ˆå¹¿æ’­ï¼‰</strong></th><th><strong>GATTï¼ˆè¿æ¥æ¨¡å¼ï¼‰</strong></th></tr></thead><tbody><tr><td><strong>è¿æ¥éœ€æ±‚</strong></td><td>âŒ æ— éœ€è¿æ¥ï¼ˆæ‰€æœ‰è®¾å¤‡å¯æ¥æ”¶ï¼‰</td><td>âœ… éœ€è¦è®¾å¤‡è¿æ¥</td></tr><tr><td><strong>æ•°æ®å¤§å°</strong></td><td>âš ï¸ é™åˆ¶ 31 å­—èŠ‚ï¼ˆBLE 4.2ï¼‰<mark>è¶…è¿‡ä¼šä¸å¹¿æ’­</mark>ï¼Œ255 å­—èŠ‚ï¼ˆBLE 5.0ï¼‰</td><td>âœ… å¯å‘é€å¤§æ•°æ®ï¼ˆåˆ†åŒ…æ–¹å¼ï¼‰</td></tr><tr><td><strong>æ•°æ®ä¼ è¾“</strong></td><td>ğŸ“¡ åªèƒ½å‘é€ï¼Œä¸èƒ½æ¥æ”¶</td><td>ğŸ”„ åŒå‘é€šä¿¡ï¼ˆè¯»&#x2F;å†™&#x2F;é€šçŸ¥ï¼‰</td></tr><tr><td><strong>ç§å¯†æ€§</strong></td><td>âŒ å…¬å¼€å¹¿æ’­ï¼Œæ‰€æœ‰è®¾å¤‡éƒ½èƒ½æ¥æ”¶</td><td>âœ… ä»…è¿æ¥è®¾å¤‡å¯è¯»å†™</td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>å¹¿å‘Šã€iBeaconã€ç®€å•æ•°æ®å¹¿æ’­</td><td>è®¾å¤‡æ§åˆ¶ã€ä¼ æ„Ÿå™¨æ•°æ®ã€BLE ä¸²å£</td></tr></tbody></table><h3 id="æ¥æ”¶"><a href="#æ¥æ”¶" class="headerlink" title="æ¥æ”¶"></a>æ¥æ”¶</h3><h3 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>1.å¸¸é”™</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">std::string manData &#x3D; advertisedDevice.getManufacturerData();Compilation error: conversion from &#39;String&#39; to non-scalar type &#39;std::string&#39; &#123;aka &#39;std::__cxx11::basic_string&lt;char&gt;&#39;&#125; requested<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p><code>advertisedDevice.getManufacturerData()</code> è¿”å› <strong>Arduino String ç±»å‹</strong></p><p>ä½ å°è¯• <strong>ç›´æ¥èµ‹å€¼ç»™ std::stringï¼Œä½†ä¸å…¼å®¹</strong></p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šæ”¹ç”¨ <strong>Arduino String</strong>ï¼Œæˆ–è€… <strong>æ‰‹åŠ¨è½¬æ¢ä¸º std::string</strong></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32 IICå¼€å‘</title>
      <link href="/2025/03/10/120-esp32-iic/"/>
      <url>/2025/03/10/120-esp32-iic/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>1.å¤šä¸ªiicåœ°å€ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªåˆå§‹åŒ–ä¼šèµ·ä½œç”¨</p><h4 id="1ï¸âƒ£-I2C-åœ°å€å†²çªæˆ–çº¿è·¯ä¸é€š"><a href="#1ï¸âƒ£-I2C-åœ°å€å†²çªæˆ–çº¿è·¯ä¸é€š" class="headerlink" title="1ï¸âƒ£ I2C åœ°å€å†²çªæˆ–çº¿è·¯ä¸é€š"></a>1ï¸âƒ£ <strong>I2C åœ°å€å†²çªæˆ–çº¿è·¯ä¸é€š</strong></h4><ul><li>APDS-9930 é»˜è®¤ I2C åœ°å€æ˜¯ <code>0x39</code>ã€‚</li><li>å¦‚æœå¤šä¸ª I2C è®¾å¤‡ï¼ˆå¦‚ TSL2591ï¼‰ä½¿ç”¨ä¸åŒçš„ I2C å¼•è„šï¼ˆä½ ç°åœ¨æ˜¯åˆ†åˆ« <code>Wire.begin(8, 9)</code> å’Œ <code>Wire.begin(10, 11)</code>ï¼‰ï¼Œé‚£ä¹ˆ <strong>åªæœ‰ä¸€ä¸ª Wire å¯¹è±¡åœ¨èµ·ä½œç”¨</strong>ï¼Œååˆå§‹åŒ–çš„ä¼šè¦†ç›–å‰é¢çš„ã€‚</li></ul><p>âœ… <strong>è§£å†³æ–¹æ³•ï¼š</strong> ä½¿ç”¨å¤šä¸ª I2C è®¾å¤‡æ—¶ï¼Œåº”åˆ›å»ºå¤šä¸ª <code>TwoWire</code> å¯¹è±¡ï¼ˆå³å¤šä¸ª I2C æ€»çº¿ï¼‰ï¼š</p><pre class="line-numbers language-C" data-language="C"><code class="language-C">TwoWire Wire_TSL &#x3D; TwoWire(0);TwoWire Wire_APDS &#x3D; TwoWire(1);Wire_TSL.begin(TSL2591_SDA, TSL2591_SCL);Wire_APDS.begin(APDS9930_SDA, APDS9930_SCL);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¹¶å‘Šè¯‰ apds.begin() ç”¨å“ªä¸ª I2C å¯¹è±¡ï¼ˆå¦‚æœåº“æ”¯æŒï¼‰ï¼Œå¦åˆ™ä½ åªèƒ½ç”¨ä¸€ä¸ªæ€»çº¿ï¼<br>ç„¶åè¿™ä¸ªåº“éœ€è¦æ‰‹åŠ¨é…ç½®ä¼ æ„Ÿå™¨çš„iicåº“ï¼Œè·å–åœ°å€ï¼Œè¯»å–æ•°æ®ä»€ä¹ˆçš„</p><h2 id="ğŸ§©-å¸¸è§æ ¼å¼ç¬¦å·è¯´æ˜"><a href="#ğŸ§©-å¸¸è§æ ¼å¼ç¬¦å·è¯´æ˜" class="headerlink" title="ğŸ§© å¸¸è§æ ¼å¼ç¬¦å·è¯´æ˜"></a>ğŸ§© å¸¸è§æ ¼å¼ç¬¦å·è¯´æ˜</h2><table><thead><tr><th>æ ¼å¼ç¬¦</th><th>ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>%d</code></td><td>int</td><td><strong>æœ‰ç¬¦å·åè¿›åˆ¶æ•´æ•°</strong>ï¼ˆe.g., <code>123</code>ï¼Œ<code>-42</code>ï¼‰</td></tr><tr><td><code>%u</code></td><td>unsigned int</td><td><strong>æ— ç¬¦å·åè¿›åˆ¶æ•´æ•°</strong>ï¼ˆä¸èƒ½æ˜¯è´Ÿæ•°ï¼‰</td></tr><tr><td><code>%x</code> &#x2F; <code>%X</code></td><td>unsigned int</td><td><strong>æ— ç¬¦å·åå…­è¿›åˆ¶</strong>ï¼ˆå°å†™ &#x2F; å¤§å†™å­—æ¯ï¼‰</td></tr><tr><td><code>%f</code></td><td>float &#x2F; double</td><td><strong>æµ®ç‚¹æ•°</strong>ï¼Œé»˜è®¤ä¿ç•™ 6 ä½å°æ•°</td></tr><tr><td><code>%0.2f</code></td><td>float &#x2F; double</td><td><strong>æµ®ç‚¹æ•°ï¼Œä¿ç•™ä¸¤ä½å°æ•°</strong></td></tr><tr><td><code>%c</code></td><td>char</td><td>å•ä¸ªå­—ç¬¦</td></tr><tr><td><code>%s</code></td><td>char*</td><td>å­—ç¬¦ä¸²ï¼ˆC é£æ ¼å­—ç¬¦ä¸²ï¼‰</td></tr><tr><td><code>%%</code></td><td>â€”</td><td>è¾“å‡º <code>%</code> å­—ç¬¦æœ¬èº«</td></tr></tbody></table><h3 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ol><li></li></ol><pre class="line-numbers language-none"><code class="language-none">ğŸ’¡ TSL2591: ï¿½ï¿½ï¿½?O luxğŸ“Ÿ APDS9930: 20ğŸ’¡ TSL2591: ï¿½ï¿½ï¿½?O lux<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ğŸ›‘ <strong>é—®é¢˜ç‚¹ï¼š</strong><br>ä½ ä¼ å…¥çš„æ˜¯ <code>String</code> ç±»å‹ï¼ˆ<code>tsl_lux</code>ï¼‰ï¼Œä½† <code>printf()</code> åªæ¥å— <em><em>C é£æ ¼å­—ç¬¦ä¸²ï¼ˆchar</em>ï¼‰</em>*ï¼Œä¸èƒ½ç›´æ¥æ¥å— Arduino çš„ <code>String</code> ç±»å‹ï¼Œä¼šå¯¼è‡´è¾“å‡ºä¹±ç ï¼ˆä¾‹å¦‚ <code>ï¿½ï¿½ï¿½?O</code>ï¼‰ã€‚</p><h3 id="âœ…-æ­£ç¡®å†™æ³•-1ï¼ˆç”¨-Serial-printï¼‰ï¼š"><a href="#âœ…-æ­£ç¡®å†™æ³•-1ï¼ˆç”¨-Serial-printï¼‰ï¼š" class="headerlink" title="âœ… æ­£ç¡®å†™æ³• 1ï¼ˆç”¨ Serial.printï¼‰ï¼š"></a>âœ… æ­£ç¡®å†™æ³• 1ï¼ˆç”¨ <code>Serial.print</code>ï¼‰ï¼š</h3><pre class="line-numbers language-none"><code class="language-none">cppå¤åˆ¶ç¼–è¾‘Serial.print(&quot;ğŸ’¡ &quot;);Serial.print(tsl_lux);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="âœ…-æ­£ç¡®å†™æ³•-2ï¼ˆè½¬æ¢ä¸º-c-str-ï¼‰ï¼š"><a href="#âœ…-æ­£ç¡®å†™æ³•-2ï¼ˆè½¬æ¢ä¸º-c-str-ï¼‰ï¼š" class="headerlink" title="âœ… æ­£ç¡®å†™æ³• 2ï¼ˆè½¬æ¢ä¸º c_str()ï¼‰ï¼š"></a>âœ… æ­£ç¡®å†™æ³• 2ï¼ˆè½¬æ¢ä¸º c_str()ï¼‰ï¼š</h3><pre class="line-numbers language-none"><code class="language-none">cppå¤åˆ¶ç¼–è¾‘Serial.printf(&quot;ğŸ’¡ TSL2591:\n%s&quot;, tsl_lux.c_str());<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸º <code>String.c_str()</code> è¿”å›çš„æ˜¯åº•å±‚çš„ <code>const char*</code>ï¼Œè¿™æ ·æ‰èƒ½è¢« <code>printf()</code> æ­£ç¡®è¯†åˆ«ã€‚</p><p>2.<strong>android è“ç‰™ble 133,Android å…³äºè“ç‰™BLEå¼•å‘Gatt133çš„é—®é¢˜</strong></p><p><a href="https://huaweicloud.csdn.net/64e5c64c4165333c3076a8b0.html">android è“ç‰™ble 133</a></p><p>3.<strong>ä¼ æ„Ÿå™¨åˆå§‹åŒ–å¤±è´¥</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">if (!tsl.begin()) &#123;  Serial.println(&quot;âŒ åˆå§‹åŒ–å¤±è´¥&quot;);  while (1);  &#x2F;&#x2F; ğŸ‘‰ æ­»å¾ªç¯ï¼šç¨‹åºå¡æ­»ï¼Œæ°¸è¿œä¸å†å¾€ä¸‹æ‰§è¡Œ&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>while(1)</code>ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜</p><ul><li>å½“è¯¥ä¼ æ„Ÿå™¨æœªè¿æ¥æ—¶ï¼Œç¨‹åºå¡æ­»ï¼Œè“ç‰™æ— æ³•è¿æ¥</li></ul>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LoRa</title>
      <link href="/2025/03/10/131-lora/"/>
      <url>/2025/03/10/131-lora/</url>
      
        <content type="html"><![CDATA[<h2 id="LoRa"><a href="#LoRa" class="headerlink" title="LoRa"></a>LoRa</h2><p>ä»€ä¹ˆæ˜¯LoRaï¼Ÿ</p><p>LoRaæ˜¯åˆ›å»º<strong>é•¿è·ç¦»é€šä¿¡è¿æ¥çš„ç‰©ç†å±‚æ— çº¿è°ƒåˆ¶æŠ€æœ¯</strong>ï¼Œå±äº<strong>çº¿æ€§è°ƒåˆ¶æ‰©é¢‘æŠ€æœ¯</strong>(Chirp Spread Spectrumï¼ŒCSS)çš„ä¸€ç§ï¼Œä¹Ÿå«<strong>å®½å¸¦çº¿æ€§è°ƒé¢‘æŠ€æœ¯</strong>(Chirp Modulation)ã€‚è¿™ç§è°ƒåˆ¶æŠ€æœ¯å¯ä»¥å®ç°åœ¨ä¸åŒé¢‘ç‡ä¸Šå‘é€<strong>é•¿è·ç¦»å’Œä½åŠŸè€—</strong>çš„ä¿¡å·ã€‚é€šè¿‡è°ƒæ•´å‘é€åŠŸç‡å’Œä¼ è¾“é€Ÿç‡ï¼Œä½¿LoRaè®¾å¤‡å¯ä»¥é€‚åº”ä¸åŒçš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚ã€‚</p><p>LoRaå±äºä½åŠŸè€—å¹¿åŸŸç‰©è”ç½‘LPWANï¼ŒLPWANæ˜¯è‹±æ–‡Low Power Wide Area Network çš„ç¼©å†™ï¼Œå³ä½åŠŸè€—å¹¿åŸŸç‰©è”ç½‘çš„æ„æ€ã€‚<strong>ä¸“ä¸ºè¿œè·ç¦»ã€è¶…å¸¦å®½ã€ä½åŠŸè€—ã€å¤§é‡è¿æ¥ã€ç»„ç½‘çµæ´»</strong>çš„ç‰©è”ç½‘åº”ç”¨è€Œè®¾è®¡ï¼Œå› æ­¤è¢«å¹¿æ³›éƒ¨ç½²åœ¨æ™ºæ…§å®‰é˜²ã€æ™ºèƒ½å®¶å±…å’Œæ¥¼å®‡ã€æ™ºèƒ½æŠ„è¡¨ã€æ™ºæ…§å†œä¸šã€å·¥ä¸šæ§åˆ¶ã€æ–°èƒ½æºç­‰å¤šä¸ªå‚ç›´è¡Œä¸šã€‚</p><p>å¸¸è§çš„LoRaåº”ç”¨ä¸­ä½¿ç”¨çš„ç½‘ç»œæ¶æ„åŒ…æ‹¬ <strong>ç§æœ‰åè®®ç½‘ç»œ</strong> å’Œ <strong>LoRaWANç½‘ç»œ</strong>ã€‚</p><h3 id="Loraé…ç½®"><a href="#Loraé…ç½®" class="headerlink" title="Loraé…ç½®"></a>Loraé…ç½®</h3><p>ç±»ä¼¼äºä¸²å£é…ç½®</p><p>ATæŒ‡ä»¤é…ç½®ï¼ŒæŒ‡ä»¤ç»“å°¾è¦åŠ \r\n</p><h3 id="Loraç½‘å…³é…ç½®"><a href="#Loraç½‘å…³é…ç½®" class="headerlink" title="Loraç½‘å…³é…ç½®"></a>Loraç½‘å…³é…ç½®</h3><ol><li>APé…ç½®&#x2F;ä¸²å£é…ç½®&#x2F;sshé…ç½®</li><li>é…ç½®mqttæœåŠ¡å™¨çš„IPã€ç«¯å£ã€ç”¨æˆ·åã€å¯†ç ã€ä¸»ä½“qos</li><li>é…ç½®loraè®¾å¤‡æ•°æ®ä¸ŠæŠ¥å‘¨æœŸ</li><li>ç½‘å…³çš„é¢‘ç‡ã€ä¿¡é“ä¸ LoRa æ¨¡å—ä¸€è‡´ã€‚</li></ol><h3 id="SN"><a href="#SN" class="headerlink" title="SN"></a>SN</h3><p>1.ç½‘å…³åå°æŸ¥çœ‹</p><p>2.è®¾å¤‡ç™½åå•ï¼Œæ‰‹åŠ¨æ·»åŠ </p><p>3.é€šè¿‡mqttè®¢é˜…æŸ¥çœ‹</p><p>4.å°†é‡‡é›†åˆ°çš„ ä¼ æ„Ÿå™¨æ•°æ®å’Œ SN ä¸€å¹¶æ‰“åŒ…ï¼Œé€šè¿‡ LoRa å‘é€</p><h2 id="ğŸ·ï¸-2-SN-å½’å±è°ï¼Ÿ"><a href="#ğŸ·ï¸-2-SN-å½’å±è°ï¼Ÿ" class="headerlink" title="ğŸ·ï¸ 2. SN å½’å±è°ï¼Ÿ"></a>ğŸ·ï¸ <strong>2. SN å½’å±è°ï¼Ÿ</strong></h2><ul><li><strong>SN æ˜¯ LoRa ç»ˆç«¯è®¾å¤‡çš„æ ‡è¯†</strong>ï¼Œè€Œä¸æ˜¯ä¼ æ„Ÿå™¨çš„ SNã€‚</li><li>ç»ˆç«¯è®¾å¤‡ &#x3D; <strong>MCU + LoRa æ¨¡å— + ä¼ æ„Ÿå™¨</strong></li></ul><h3 id="âœ…-æ•°æ®å‘é€æµç¨‹"><a href="#âœ…-æ•°æ®å‘é€æµç¨‹" class="headerlink" title="âœ… æ•°æ®å‘é€æµç¨‹"></a>âœ… <strong>æ•°æ®å‘é€æµç¨‹</strong></h3><ol><li><p><strong>æ¯«ç±³æ³¢é›·è¾¾</strong> é‡‡é›†åˆ°äººä½“æ„Ÿåº”ã€è·ç¦»ã€é€Ÿåº¦ç­‰æ•°æ®ã€‚</p></li><li><p><strong>MCU</strong> è¯»å–é›·è¾¾æ•°æ®ï¼Œå¹¶è¯»å– <strong>LoRa è®¾å¤‡çš„ SN</strong>ã€‚</p></li><li><p>MCU å°†æ•°æ®å’Œ SN ä¸€èµ·æ‰“åŒ…ï¼Œæ„é€ æˆ JSON æ ¼å¼ã€‚</p></li><li><p>é€šè¿‡ <strong>LoRa æ¨¡å—</strong>å‘é€æ•°æ®åˆ°ç½‘å…³ã€‚</p></li><li><p><strong>ç½‘å…³</strong> å°†æ•°æ®é€ä¼ åˆ° MQTT æœåŠ¡å™¨æˆ–äº‘å¹³å°ã€‚</p><pre class="line-numbers language-json" data-language="json"><code class="language-json">&#123;  &quot;sn&quot;: &quot;SN1234567890&quot;,        &#x2F;&#x2F; LoRa è®¾å¤‡çš„å”¯ä¸€æ ‡è¯†  &quot;sensor&quot;: &quot;mmWave&quot;,  &quot;distance&quot;: 1.5,             &#x2F;&#x2F; æµ‹é‡åˆ°çš„è·ç¦»ï¼ˆå•ä½ï¼šç±³ï¼‰  &quot;speed&quot;: 0.3,                &#x2F;&#x2F; é€Ÿåº¦ï¼ˆå•ä½ï¼šm&#x2F;sï¼‰  &quot;timestamp&quot;: &quot;2025-03-17T12:00:00Z&quot;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p><strong>SNï¼ˆåºåˆ—å·ï¼‰æ˜¯ç”±</strong> <strong>ESP32</strong> <strong>æˆ–ç»ˆç«¯è®¾å¤‡ï¼ˆloraï¼‰ä¸»åŠ¨å‘é€çš„</strong>ï¼Œè€Œä¸æ˜¯ LoRa ç½‘å…³è‡ªåŠ¨è¯†åˆ«çš„ã€‚</p><p>1.ç½‘å…³ä¸å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œè¯†åˆ«å’Œå¤„ç†æœåŠ¡å™¨å¹²ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“</p><p>2.ç½‘å…³ç™½åå•é…ç½®ï¼Œå¯æ·»åŠ è®¾å¤‡çš„snï¼ˆä¸æ˜¯æ‰€æœ‰çš„ç½‘å…³éƒ½æ”¯æŒè¿™ä¸ªåŠŸèƒ½ï¼‰</p><p>ä½¿ç”¨mqttå®¢æˆ·ç«¯è®¢é˜…æ•°æ®ï¼ŒéªŒè¯sn</p><h3 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h3><p><a href="https://mp.weixin.qq.com/s/Un5qMhjMacTH78gWEX3G7Q">https://mp.weixin.qq.com/s/Un5qMhjMacTH78gWEX3G7Q</a></p>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ESP32çš„APæ¨¡å¼</title>
      <link href="/2025/03/01/118-esp32-ap-mo-shi/"/>
      <url>/2025/03/01/118-esp32-ap-mo-shi/</url>
      
        <content type="html"><![CDATA[<h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>é…ç½®ç•Œé¢æ±‰å­—ä¹±ç </p><blockquote><p>charset&#x3D;utf-8</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">const char* html_page &#x3D; R&quot;rawliteral(  &lt;!DOCTYPE HTML&gt;&lt;html lang&#x3D;&quot;zh-CN&quot;&gt;  &lt;head&gt;    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;    &lt;title&gt;ESP32 é…ç½‘&lt;&#x2F;title&gt;    &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot;&gt;  &lt;&#x2F;head&gt;  &lt;body&gt;    &lt;h2&gt;ESP32 WiFi é…ç½®&lt;&#x2F;h2&gt;    &lt;form action&#x3D;&quot;&#x2F;save&quot; method&#x3D;&quot;POST&quot;&gt;      WiFi åç§°: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;ssid&quot;&gt;&lt;br&gt;      WiFi å¯†ç : &lt;input type&#x3D;&quot;password&quot; name&#x3D;&quot;password&quot;&gt;&lt;br&gt;&lt;br&gt;      &lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;æäº¤&quot;&gt;    &lt;&#x2F;form&gt;  &lt;&#x2F;body&gt;  &lt;&#x2F;html&gt;)rawliteral&quot;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Lvglå¼€å‘</title>
      <link href="/2025/03/01/129-lvgl-kai-fa/"/>
      <url>/2025/03/01/129-lvgl-kai-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="Lvglå¼€å‘"><a href="#Lvglå¼€å‘" class="headerlink" title="Lvglå¼€å‘"></a>Lvglå¼€å‘</h2><h3 id="èœ‚é¸£å™¨å¼€å…³"><a href="#èœ‚é¸£å™¨å¼€å…³" class="headerlink" title="èœ‚é¸£å™¨å¼€å…³"></a>èœ‚é¸£å™¨å¼€å…³</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;  åˆ›å»ºBeepå¼€å…³lv_obj_t  * beep_label&#x3D; lv_label_create(panel1);  &#x2F;&#x2F; åˆ›å»ºæ ‡ç­¾â€œèœ‚é¸£éŸ³â€lv_label_set_text(beep_label, &quot;èœ‚é¸£éŸ³(Beep)&quot;);  &#x2F;&#x2F; è®¾ç½®æ ‡ç­¾æ–‡æœ¬lv_obj_add_style(beep_label, &amp;style_text_muted, 0);  &#x2F;&#x2F; ä¸ºæ ‡ç­¾åº”ç”¨æ ·å¼lv_obj_t * Beep &#x3D; lv_switch_create(panel1);  &#x2F;&#x2F; åˆ›å»ºèœ‚é¸£å™¨å¼€å…³lv_obj_align(Beep, LV_ALIGN_RIGHT_MID, -10, 0);&#x2F;&#x2F; ç»™å¼€å…³æ§ä»¶æ·»åŠ äº‹ä»¶å›è°ƒï¼Œç›‘å¬å¼€å…³çŠ¶æ€çš„å˜åŒ–lv_obj_add_event_cb(Beep, beep_switch_event_cb, LV_EVENT_VALUE_CHANGED, NULL);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è·å–å¼€å…³çŠ¶æ€</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">lv_obj_has_state(switch_obj, LV_STATE_CHECKED);  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Gridå¸ƒå±€"><a href="#Gridå¸ƒå±€" class="headerlink" title="Gridå¸ƒå±€"></a><a href="https://lvgl.100ask.net/8.1/layouts/grid.html#overview">Gridå¸ƒå±€</a></h3><p>å¤§é¡¹ç›®ï¼ˆ<code>LV_GRID_CONTENT</code>ï¼‰æˆ–â€œç©ºé—²å•å…ƒâ€ï¼ˆFRï¼‰</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void lv_obj_set_grid_cell(lv_obj_t * obj, lv_grid_align_t h_align, uint16_t col, uint16_t col_span, lv_grid_align_t v_align, uint16_t row, uint16_t row_span);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th align="left">â€”â€”â€”</th><th>â€”â€”â€“</th></tr></thead><tbody><tr><td align="left"><code>LV_GRID_ALIGN_START</code>ï¼šå¯¹é½åˆ°ç½‘æ ¼å•å…ƒçš„å¼€å§‹ï¼ˆå·¦å¯¹é½ï¼‰ã€‚</td><td></td></tr><tr><td align="left"><code>LV_GRID_ALIGN_CENTER</code>ï¼šå±…ä¸­å¯¹é½ã€‚</td><td></td></tr><tr><td align="left"><code>LV_GRID_ALIGN_END</code>ï¼šå¯¹é½åˆ°ç½‘æ ¼å•å…ƒçš„ç»“æŸï¼ˆå³å¯¹é½ï¼‰ã€‚</td><td></td></tr><tr><td align="left"><code>LV_GRID_ALIGN_STRETCH</code>ï¼šæ‹‰ä¼¸å¯¹è±¡ä»¥å¡«å……æ•´ä¸ªç½‘æ ¼å•å…ƒçš„å®½åº¦ã€‚</td><td></td></tr><tr><td align="left">colï¼ˆåˆ—ä½ç½®ï¼‰(0å¼€å§‹è®¡æ•°)</td><td></td></tr><tr><td align="left">col_spanï¼ˆåˆ—è·¨è¶Šï¼‰</td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr><tr><td align="left"></td><td></td></tr></tbody></table><h3 id="ATæŒ‡ä»¤"><a href="#ATæŒ‡ä»¤" class="headerlink" title="ATæŒ‡ä»¤"></a>ATæŒ‡ä»¤</h3><p>AT+IPR&#x3D;9600</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">static lv_coord_t grid_1_col_dsc[] &#x3D; &#123;LV_GRID_CONTENT, LV_GRID_FR(1), LV_GRID_TEMPLATE_LAST&#125;;static lv_coord_t grid_1_row_dsc[] &#x3D; &#123;  LV_GRID_CONTENT,  &#x2F;*Title*&#x2F;  5,                &#x2F;*Separator*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  40,               &#x2F;*Box*&#x2F;  LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  10,    LV_GRID_CONTENT,  &#x2F;*Box title*&#x2F;  30,    LV_GRID_TEMPLATE_LAST               &#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ol><li><pre><code>Note: This error originates from pySerial. It is likely not a problem with esptool, but with the hardware connection or drivers.<pre class="line-numbers language-none"><code class="language-none">ä¸Šä¼ é€Ÿåº¦è°ƒæ…¢äº†ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯è¿™ä¸ªåŸå› 2. æ³¨é‡Šæ‰èƒŒå…‰ï¼Œç¨‹åºå¡ä½ï¼Œè¿›åº¦æ¡ä¸º0ï¼Œå±å¹•é—ªçƒï¼Œä¸²å£è¾“å‡ºå¦‚ä¸‹ï¼š   &#96;&#96;&#96;c   ELF file SHA256: 1c7e04bf5      Rebooting...   ESP-ROM:esp32s3-20210327   Build:Mar 27 2021   rst:0xc (RTC_SW_CPU_RST),boot:0x2b (SPI_FAST_FLASH_BOOT)   Saved PC:0x4037ed1e   SPIWP:0xee   mode:DIO, clock div:1   load:0x3fce2820,len:0x1188   load:0x403c8700,len:0x4   load:0x403c8704,len:0xbf0   load:0x403cb700,len:0x30e4   entry 0x403c88ac   TouchPad_ID:0x0f,0x00,0xca,0xca      TouchPad_X_MAX:15    TouchPad_Y_MAX:51914       D1F4:0x0b,0x00,0x08,0x00      D1F8:0xf0,0x00,0x40,0x01      D1FC:0x0f,0x00,0xca,0xca      D200:0xff,0xff,0xff,0xff      D204:0x05,0x4b,0x48,0x01      D208:0x01,0x00,0x00,0x01      CACA Read:0xcaca      Guru Meditation Error: Core  1 panic&#39;ed (LoadProhibited). Exception was unhandled.      Core  1 register dump:   PC      : 0x42020f53  PS      : 0x00060130  A0      : 0x803754b6  A1      : 0x3fcbf760     A2      : 0x00000000  A3      : 0x00000032  A4      : 0x00000001  A5      : 0x3fc9ca20     A6      : 0x00060023  A7      : 0x00000001  A8      : 0x00000001  A9      : 0x3fca2fe0     A10     : 0x00000001  A11     : 0x00000000  A12     : 0x00000000  A13     : 0x03c9a55c     A14     : 0x01ffffff  A15     : 0x00000000  SAR     : 0x0000001f  EXCCAUSE: 0x0000001c     EXCVADDR: 0x00000024  LBEG    : 0x4201e975  LEND    : 0x4201e995  LCOUNT  : 0x00000001           Backtrace: 0x42020f50:0x3fcbf760 0x403754b3:0x3fcbf780 0x4201f052:0x3fcbf7a0 0x42002823:0x3fcbf7d0 0x420021cb:0x3fcbf7f0 0x420317f8:0x3fcbf810 0x4038251e:0x3fcbf830<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></code></pre></li><li><p>ç¬¬äºŒåˆ—è€å¸ˆè¶…å‡ºèŒƒå›´</p><blockquote><p>ä¸€è¡Œä¸€åˆ—ç¡æ˜¯00ï¼ŒäºŒåˆ—æ˜¯1ä¸æ˜¯2</p></blockquote></li><li><p>ledæŒ‰é’®å®½åº¦ä¸å¯¹ï¼ŒåŸå› æœªçŸ¥</p><blockquote><p>æ²¡æœ‰é€‰æ€ä¸­å¿ƒå¯¹é½</p></blockquote></li><li><pre class=" language-language-c"><code class="language-language-c">Sketch uses 1228016 bytes (39%) of program storage space. Maximum is 3145728 bytes.Global variables use 115548 bytes (35%) of dynamic memory, leaving 212132 bytes for local variables. Maximum is 327680 bytes.esptool.py v4.8.1Serial port COM3Connecting....A serial exception error occurred: Write timeoutNote: This error originates from pySerial. It is likely not a problem with esptool, but with the hardware connection or drivers.For troubleshooting steps visit: https://docs.espressif.com/projects/esptool/en/latest/troubleshooting.htmlFailed uploading: uploading error: exit status 1<pre class="line-numbers language-none"><code class="language-none">6. å®å®šä¹‰ä¸èƒ½ç”¨&#96;-&#96;ä¼šè¢«å½“æˆå‰‘æ³•æ“ä½œç¬¦ï¼Œä½¿ç”¨ä¸‹åˆ’çº¿ä»£æ›¿### ä¸­æ–‡å­—åº“[ä¸‹è½½å­—ä½“](https:&#x2F;&#x2F;lvgl.100ask.net&#x2F;8.1&#x2F;tools&#x2F;fonts-zh-source.html)è®°ä½åå­—ï¼Œè¾“å…¥è¦è½¬æ¢çš„æ±‰å­—[å­—ä½“è½¬æ¢å™¨ â€” LVGL](https:&#x2F;&#x2F;lvgl.io&#x2F;tools&#x2F;fontconverter)æ·»åŠ åˆ°ç¨‹åºä¸­ï¼Œå¹¶åŠ å…¥&#96;&#96;&#96;c&#x2F;&#x2F;ä¸­æ–‡å­—ä½“å£°æ˜LV_FONT_DECLARE(NotoSansCJK-Medium-5);lv_label_set_text(Beep_label, "èœ‚é¸£éŸ³");  &#x2F;&#x2F; è®¾ç½®æ ‡ç­¾æ–‡æœ¬lv_obj_add_style_text_font(Beep_label, &NotoSansCJK-Medium-5, 0);  &#x2F;&#x2F;ååŠ çš„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></code></pre></li></ol><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;LV_FONT_DECLARE(å­—ä½“å);LV_FONT_DECLARE(lv_font_gb2312_regular_script_14); &#x2F;&#x2F;æ ·å¼ä¸­è®¾ç½®å­—ä½“APIæ¥å£ï¼šlv_obj_set_style_text_font();    &#x2F;&#x2F;ç§æœ‰ï¼ˆæœ¬åœ°ï¼‰æ ·å¼lv_style_set_text_font();        &#x2F;&#x2F;æ™®é€šï¼ˆå…±äº«ï¼‰æ ·å¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/weixin_49337111/article/details/139175997">æ•™ç¨‹</a></p><h2 id="æå–ä¸åˆ°æ•°æ®"><a href="#æå–ä¸åˆ°æ•°æ®" class="headerlink" title="æå–ä¸åˆ°æ•°æ®"></a><strong>æå–ä¸åˆ°æ•°æ®</strong></h2><ol><li><p><strong>ä½¿ç”¨ strncpy() ç¡®ä¿ pData æ˜¯ä¸€ä¸ª â€˜\0â€™ ç»“å°¾çš„å­—ç¬¦ä¸²</strong></p><pre class="line-numbers language-none"><code class="language-none">strncpy(buffer, (char*)pData, length);buffer[length] &#x3D; &#39;\0&#39;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li><li><p><strong>ä¿®æ­£ strstr() æœç´¢çš„å­—ç¬¦ä¸²</strong></p><ul><li><p>ä½ çš„æ•°æ®æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">+PN &#x3D; A1-20-00<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ä½† <code>strstr(buffer, &quot;+PN=&quot;)</code> <strong>ä¸ä¼šåŒ¹é…</strong>ï¼Œå› ä¸ºæ•°æ®ä¸­æœ‰ç©ºæ ¼ <code>&quot; &quot;</code>ã€‚</p></li><li><p>æ”¹æˆ <code>strstr(buffer, &quot;+PN =&quot;)</code> <strong>ç¡®ä¿æ­£ç¡®åŒ¹é…</strong>ã€‚</p></li></ul></li><li><p><strong>ä¿®æ­£ sscanf() è§£æå­—ç¬¦ä¸²</strong></p><pre class="line-numbers language-none"><code class="language-none">sscanf(pnPtr, &quot;+PN &#x3D; %s&quot;, pnValue);sscanf(snPtr, &quot;+SN &#x3D; %s&quot;, snValue);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>è¿™æ · <code>pnValue</code> å’Œ <code>snValue</code> <strong>åªæå–å®é™…æ•°æ®</strong>ï¼Œä¸ä¼šåŒ…å« <code>&quot;+PN =&quot;</code> <strong>è¿™éƒ¨åˆ†å­—ç¬¦ä¸²</strong>ã€‚</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> ESP32 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>117_ä¸ªäººä¸»é¡µ</title>
      <link href="/2025/02/13/117-ge-ren-zhu-ye/"/>
      <url>/2025/02/13/117-ge-ren-zhu-ye/</url>
      
        <content type="html"><![CDATA[<p>æƒ³åšä¸€ä¸ªå¯¼èˆªé¡µï¼Œ<del>æŠ„</del>å‚è€ƒè¿™ä¸ªå¤§ä½¬çš„<a href="https://zyyo.cc/">Zyyo</a>ï¼Œç¼ç¼è¡¥è¡¥</p><h1 id="CSS-å¸¸ç”¨å±æ€§"><a href="#CSS-å¸¸ç”¨å±æ€§" class="headerlink" title="CSS å¸¸ç”¨å±æ€§"></a>CSS å¸¸ç”¨å±æ€§</h1><h2 id="1-å¸ƒå±€"><a href="#1-å¸ƒå±€" class="headerlink" title="1. å¸ƒå±€"></a>1. <strong>å¸ƒå±€</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>display</code></td><td>è®¾ç½®å…ƒç´ çš„æ˜¾ç¤ºæ–¹å¼</td><td><code>display: flex;</code></td></tr><tr><td><code>flex</code></td><td>å®šä¹‰ flex å®¹å™¨å†…çš„é¡¹ç›®å¦‚ä½•åˆ†é…ç©ºé—´</td><td><code>flex: 1;</code></td></tr><tr><td><code>flex-direction</code></td><td>è®¾ç½® flex å®¹å™¨å†…å­å…ƒç´ çš„æ’åˆ—æ–¹å‘</td><td><code>flex-direction: column;</code></td></tr><tr><td><code>justify-content</code></td><td>æ§åˆ¶ flex é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼</td><td><code>justify-content: center;</code></td></tr><tr><td><code>align-items</code></td><td>æ§åˆ¶ flex é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼</td><td><code>align-items: flex-start;</code></td></tr><tr><td><code>align-self</code></td><td>æ§åˆ¶å•ä¸ª flex é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼</td><td><code>align-self: center;</code></td></tr><tr><td><code>grid-template-columns</code></td><td>å®šä¹‰ grid å®¹å™¨çš„åˆ—å®½</td><td><code>grid-template-columns: 1fr 2fr;</code></td></tr><tr><td><code>position</code></td><td>è®¾ç½®å…ƒç´ çš„å®šä½æ–¹å¼</td><td><code>position: absolute;</code></td></tr><tr><td><code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code></td><td>å®šä½å…ƒç´ çš„ä½ç½®</td><td><code>top: 10px; left: 20px;</code></td></tr><tr><td><code>z-index</code></td><td>è®¾ç½®å…ƒç´ çš„å †å é¡ºåº</td><td><code>z-index: 10;</code></td></tr></tbody></table><h2 id="2-å°ºå¯¸ä¸è¾¹è·"><a href="#2-å°ºå¯¸ä¸è¾¹è·" class="headerlink" title="2. å°ºå¯¸ä¸è¾¹è·"></a>2. <strong>å°ºå¯¸ä¸è¾¹è·</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>width</code></td><td>è®¾ç½®å…ƒç´ çš„å®½åº¦</td><td><code>width: 100px;</code></td></tr><tr><td><code>height</code></td><td>è®¾ç½®å…ƒç´ çš„é«˜åº¦</td><td><code>height: 200px;</code></td></tr><tr><td><code>min-width</code></td><td>è®¾ç½®å…ƒç´ çš„æœ€å°å®½åº¦</td><td><code>min-width: 200px;</code></td></tr><tr><td><code>min-height</code></td><td>è®¾ç½®å…ƒç´ çš„æœ€å°é«˜åº¦</td><td><code>min-height: 100px;</code></td></tr><tr><td><code>max-width</code></td><td>è®¾ç½®å…ƒç´ çš„æœ€å¤§å®½åº¦</td><td><code>max-width: 500px;</code></td></tr><tr><td><code>max-height</code></td><td>è®¾ç½®å…ƒç´ çš„æœ€å¤§é«˜åº¦</td><td><code>max-height: 500px;</code></td></tr><tr><td><code>margin</code></td><td>è®¾ç½®å…ƒç´ çš„å¤–è¾¹è·ï¼ˆä¸Šã€å³ã€ä¸‹ã€å·¦ï¼‰</td><td><code>margin: 10px 20px 30px 40px;</code></td></tr><tr><td><code>padding</code></td><td>è®¾ç½®å…ƒç´ çš„å†…è¾¹è·ï¼ˆä¸Šã€å³ã€ä¸‹ã€å·¦ï¼‰</td><td><code>padding: 10px 20px;</code></td></tr><tr><td><code>box-sizing</code></td><td>æ§åˆ¶å…ƒç´ çš„ç›’å­æ¨¡å‹ï¼ˆ<code>content-box</code>ã€<code>border-box</code>ï¼‰</td><td><code>box-sizing: border-box;</code></td></tr></tbody></table><h2 id="3-èƒŒæ™¯ä¸é¢œè‰²"><a href="#3-èƒŒæ™¯ä¸é¢œè‰²" class="headerlink" title="3. èƒŒæ™¯ä¸é¢œè‰²"></a>3. <strong>èƒŒæ™¯ä¸é¢œè‰²</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>background-color</code></td><td>è®¾ç½®å…ƒç´ çš„èƒŒæ™¯é¢œè‰²</td><td><code>background-color: #f0f0f0;</code></td></tr><tr><td><code>background-image</code></td><td>è®¾ç½®å…ƒç´ çš„èƒŒæ™¯å›¾ç‰‡</td><td><code>background-image: url(&#39;image.jpg&#39;);</code></td></tr><tr><td><code>background-position</code></td><td>è®¾ç½®èƒŒæ™¯å›¾ç‰‡çš„ä½ç½®</td><td><code>background-position: center;</code></td></tr><tr><td><code>background-size</code></td><td>è®¾ç½®èƒŒæ™¯å›¾ç‰‡çš„å°ºå¯¸ï¼ˆ<code>cover</code>ã€<code>contain</code>ï¼‰</td><td><code>background-size: cover;</code></td></tr><tr><td><code>background-repeat</code></td><td>è®¾ç½®èƒŒæ™¯å›¾ç‰‡æ˜¯å¦å¹³é“º</td><td><code>background-repeat: no-repeat;</code></td></tr><tr><td><code>color</code></td><td>è®¾ç½®æ–‡æœ¬çš„é¢œè‰²</td><td><code>color: red;</code></td></tr><tr><td><code>opacity</code></td><td>è®¾ç½®å…ƒç´ çš„é€æ˜åº¦</td><td><code>opacity: 0.5;</code></td></tr></tbody></table><h2 id="4-æ–‡æœ¬"><a href="#4-æ–‡æœ¬" class="headerlink" title="4. æ–‡æœ¬"></a>4. <strong>æ–‡æœ¬</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>font-size</code></td><td>è®¾ç½®å­—ä½“å¤§å°</td><td><code>font-size: 16px;</code></td></tr><tr><td><code>font-family</code></td><td>è®¾ç½®å­—ä½“ç³»åˆ—</td><td><code>font-family: Arial, sans-serif;</code></td></tr><tr><td><code>font-weight</code></td><td>è®¾ç½®å­—ä½“çš„ç²—ç»†</td><td><code>font-weight: bold;</code></td></tr><tr><td><code>line-height</code></td><td>è®¾ç½®æ–‡æœ¬çš„è¡Œé«˜</td><td><code>line-height: 1.5;</code></td></tr><tr><td><code>text-align</code></td><td>è®¾ç½®æ–‡æœ¬çš„æ°´å¹³å¯¹é½æ–¹å¼</td><td><code>text-align: center;</code></td></tr><tr><td><code>text-transform</code></td><td>æ§åˆ¶æ–‡æœ¬çš„å¤§å°å†™</td><td><code>text-transform: uppercase;</code></td></tr><tr><td><code>letter-spacing</code></td><td>è®¾ç½®å­—ç¬¦é—´è·</td><td><code>letter-spacing: 1px;</code></td></tr><tr><td><code>word-spacing</code></td><td>è®¾ç½®å•è¯é—´è·</td><td><code>word-spacing: 2px;</code></td></tr><tr><td><code>text-decoration</code></td><td>è®¾ç½®æ–‡æœ¬çš„ä¿®é¥°</td><td><code>text-decoration: underline;</code></td></tr><tr><td><code>white-space</code></td><td>è®¾ç½®å¦‚ä½•å¤„ç†ç©ºç™½ç¬¦</td><td><code>white-space: nowrap;</code></td></tr><tr><td><code>text-shadow</code></td><td>ç»™æ–‡æœ¬æ·»åŠ é˜´å½±æ•ˆæœ</td><td><code>text-shadow: 2px 2px 5px gray;</code></td></tr></tbody></table><h2 id="5-è¾¹æ¡†"><a href="#5-è¾¹æ¡†" class="headerlink" title="5. è¾¹æ¡†"></a>5. <strong>è¾¹æ¡†</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>border</code></td><td>è®¾ç½®è¾¹æ¡†æ ·å¼ï¼ˆ<code>border-width</code>, <code>border-style</code>, <code>border-color</code>ï¼‰</td><td><code>border: 2px solid red;</code></td></tr><tr><td><code>border-radius</code></td><td>è®¾ç½®å…ƒç´ çš„åœ†è§’</td><td><code>border-radius: 10px;</code></td></tr><tr><td><code>border-top</code></td><td>è®¾ç½®ä¸Šè¾¹æ¡†</td><td><code>border-top: 3px solid blue;</code></td></tr><tr><td><code>border-right</code></td><td>è®¾ç½®å³è¾¹æ¡†</td><td><code>border-right: 2px dashed green;</code></td></tr><tr><td><code>border-bottom</code></td><td>è®¾ç½®ä¸‹è¾¹æ¡†</td><td><code>border-bottom: 1px dotted black;</code></td></tr><tr><td><code>border-left</code></td><td>è®¾ç½®å·¦è¾¹æ¡†</td><td><code>border-left: 5px solid purple;</code></td></tr></tbody></table><h2 id="6-ç›’å­æ¨¡å‹"><a href="#6-ç›’å­æ¨¡å‹" class="headerlink" title="6. ç›’å­æ¨¡å‹"></a>6. <strong>ç›’å­æ¨¡å‹</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>box-shadow</code></td><td>ç»™å…ƒç´ æ·»åŠ é˜´å½±</td><td><code>box-shadow: 10px 10px 5px gray;</code></td></tr><tr><td><code>outline</code></td><td>è®¾ç½®å…ƒç´ çš„è½®å»“çº¿ï¼ˆä¸å½±å“å¸ƒå±€ï¼‰</td><td><code>outline: 2px solid red;</code></td></tr><tr><td><code>outline-offset</code></td><td>è®¾ç½®è½®å»“çš„åç§»é‡</td><td><code>outline-offset: 5px;</code></td></tr><tr><td><code>resize</code></td><td>æ§åˆ¶å…ƒç´ æ˜¯å¦å¯è°ƒæ•´å¤§å°</td><td><code>resize: both;</code></td></tr></tbody></table><h2 id="7-è¿‡æ¸¡ä¸åŠ¨ç”»"><a href="#7-è¿‡æ¸¡ä¸åŠ¨ç”»" class="headerlink" title="7. è¿‡æ¸¡ä¸åŠ¨ç”»"></a>7. <strong>è¿‡æ¸¡ä¸åŠ¨ç”»</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>transition</code></td><td>è®¾ç½®å…ƒç´ çš„è¿‡æ¸¡æ•ˆæœ</td><td><code>transition: all 0.3s ease;</code></td></tr><tr><td><code>transition-duration</code></td><td>è®¾ç½®è¿‡æ¸¡çš„æŒç»­æ—¶é—´</td><td><code>transition-duration: 0.5s;</code></td></tr><tr><td><code>transition-timing-function</code></td><td>è®¾ç½®è¿‡æ¸¡çš„æ—¶é—´å‡½æ•°ï¼ˆ<code>ease</code>, <code>linear</code> ç­‰ï¼‰</td><td><code>transition-timing-function: ease-in;</code></td></tr><tr><td><code>animation</code></td><td>è®¾ç½®å…ƒç´ çš„åŠ¨ç”»æ•ˆæœ</td><td><code>animation: spin 2s infinite;</code></td></tr><tr><td><code>keyframes</code></td><td>å®šä¹‰åŠ¨ç”»çš„å…³é”®å¸§</td><td><code>@keyframes spin &#123; 0% &#123; transform: rotate(0); &#125; 100% &#123; transform: rotate(360deg); &#125; &#125;</code></td></tr></tbody></table><h2 id="8-å…¶ä»–"><a href="#8-å…¶ä»–" class="headerlink" title="8. å…¶ä»–"></a>8. <strong>å…¶ä»–</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>visibility</code></td><td>æ§åˆ¶å…ƒç´ çš„å¯è§æ€§</td><td><code>visibility: hidden;</code></td></tr><tr><td><code>cursor</code></td><td>è®¾ç½®é¼ æ ‡å…‰æ ‡çš„æ ·å¼</td><td><code>cursor: pointer;</code></td></tr><tr><td><code>filter</code></td><td>åº”ç”¨è§†è§‰æ•ˆæœï¼ˆå¦‚æ¨¡ç³Šã€äº®åº¦ç­‰ï¼‰</td><td><code>filter: blur(5px);</code></td></tr><tr><td><code>clip-path</code></td><td>å®šä¹‰å…ƒç´ çš„å‰ªè£è·¯å¾„</td><td><code>clip-path: circle(50%);</code></td></tr><tr><td><code>object-fit</code></td><td>è®¾ç½®åµŒå…¥å…ƒç´ çš„é€‚åº”æ–¹å¼</td><td><code>object-fit: cover;</code></td></tr></tbody></table><h2 id="9-å“åº”å¼è®¾è®¡"><a href="#9-å“åº”å¼è®¾è®¡" class="headerlink" title="9. å“åº”å¼è®¾è®¡"></a>9. <strong>å“åº”å¼è®¾è®¡</strong></h2><table><thead><tr><th><strong>å±æ€§</strong></th><th><strong>åŠŸèƒ½</strong></th><th><strong>ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><code>@media</code></td><td>ä½¿ç”¨åª’ä½“æŸ¥è¯¢è¿›è¡Œå“åº”å¼è®¾è®¡</td><td><code>@media (max-width: 768px) &#123; /* CSS */ &#125;</code></td></tr><tr><td><code>min-width</code></td><td>åœ¨åª’ä½“æŸ¥è¯¢ä¸­è®¾ç½®æœ€å°å®½åº¦</td><td><code>@media (min-width: 600px) &#123; /* CSS */ &#125;</code></td></tr><tr><td><code>max-width</code></td><td>åœ¨åª’ä½“æŸ¥è¯¢ä¸­è®¾ç½®æœ€å¤§å®½åº¦</td><td><code>@media (max-width: 1200px) &#123; /* CSS */ &#125;</code></td></tr></tbody></table><h3 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h3><p>è¿™ä¸ªè¡¨æ ¼æ¶µç›–äº†å¸¸ç”¨çš„ CSS å±æ€§ï¼ŒåŒ…æ‹¬å¸ƒå±€ã€å°ºå¯¸ã€æ–‡æœ¬ã€èƒŒæ™¯ã€è¾¹æ¡†ã€åŠ¨ç”»ç­‰æ–¹é¢ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦æŸ¥æ‰¾å’Œä½¿ç”¨è¿™äº›å±æ€§æ¥è®¾è®¡å’Œè°ƒæ•´ç½‘é¡µçš„æ ·å¼ã€‚</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li><p>æœ¬åº”è¯¥å‡ºå³ä¾§çš„ï¼Œå‡ºç°åœ¨äº†ä¸‹ä¾§</p><blockquote><p>å®¹å™¨ä½¿ç”¨flexï¼Œçˆ¶å®¹å™¨ä¸­è®¾ç½®flexçš„å‚ç›´æ’åˆ—ï¼Œæ”¹ä¸ºæ¨ªå‘æ’åˆ—<code>flex-direction: row;</code></p></blockquote></li><li><p>è®©å¤´åƒå±…ä¸­</p><blockquote><p>text-align: center;</p></blockquote></li><li><p>è°ƒæ•´å·¦å³ä¾§å®½åº¦çš„æ—¶å€™ï¼Œå‡ºç°æ»šåŠ¨æ¡ï¼Œä¸”å³ä¾§æ— æ³•è°ƒèŠ‚</p></li></ol><blockquote><ul><li><p>åœ¨ <code>position: relative</code> çš„æƒ…å†µä¸‹ï¼Œ<code>left</code> ä»…ä»…æ˜¯ <strong>ç›¸å¯¹äºå®ƒåŸæœ¬çš„ä½ç½®ç§»åŠ¨</strong>ï¼Œå¹¶ä¸ä¼šçœŸæ­£æ”¹å˜å¸ƒå±€ã€‚</p></li><li><p><code>right</code> åœ¨ <code>relative</code> ä¸‹ä¸ä¼šå½±å“ <code>left</code>ï¼Œåªæœ‰å½“ <code>position: absolute</code> æˆ– <code>fixed</code> æ—¶ï¼Œ<code>right</code> æ‰ä¼šçœŸæ­£èµ·ä½œç”¨ã€‚</p></li><li><p><strong><code>left: 200px;</code> å¯¼è‡´ <code>.main</code> å‘å³åç§»ï¼Œä½†å®½åº¦ä¸å˜</strong>ï¼Œæ‰€ä»¥å®ƒå¯èƒ½æº¢å‡ºäº†è§†å£ï¼ˆæµè§ˆå™¨å¯è§†åŒºåŸŸï¼‰ã€‚</p></li><li><p><strong><code>flex</code> é»˜è®¤è®©å­å…ƒç´ æŒ‰åŸå§‹å®½åº¦æ’åˆ—</strong>ï¼Œå¦‚æœ <code>.main</code> é‡Œçš„å­å…ƒç´ å®½åº¦è¶…å‡ºäº† <code>.main</code> çš„ <code>width</code>ï¼Œå°±ä¼šå¯¼è‡´æº¢å‡ºï¼Œè§¦å‘æ°´å¹³æ»šåŠ¨æ¡ã€‚</p></li><li><p><strong>æ²¡æœ‰ä½¿ç”¨ <code>overflow: hidden;</code></strong>ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œè¶…å‡ºå®¹å™¨çš„å†…å®¹ä¸ä¼šè‡ªåŠ¨éšè—ï¼Œè€Œæ˜¯ä¼šè§¦å‘æ»šåŠ¨æ¡ã€‚</p></li></ul></blockquote><p>1. </p><blockquote></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>116_æ²¹çŒ´è„šæœ¬</title>
      <link href="/2024/09/10/116-bai-du-wang-pan-lian-jie-tiao-zhuan/"/>
      <url>/2024/09/10/116-bai-du-wang-pan-lian-jie-tiao-zhuan/</url>
      
        <content type="html"><![CDATA[<h2 id="æµè§ˆå™¨è„šæœ¬-vs-ç”¨æˆ·è„šæœ¬å‘¢"><a href="#æµè§ˆå™¨è„šæœ¬-vs-ç”¨æˆ·è„šæœ¬å‘¢" class="headerlink" title="æµè§ˆå™¨è„šæœ¬ vs. ç”¨æˆ·è„šæœ¬å‘¢"></a>æµè§ˆå™¨è„šæœ¬ vs. ç”¨æˆ·è„šæœ¬å‘¢</h2><ol><li><strong>JavaScript è„šæœ¬</strong>ï¼š<ul><li><strong>æ‰§è¡Œç¯å¢ƒ</strong>ï¼šé€šå¸¸åµŒå…¥åœ¨ç½‘é¡µä¸­ï¼Œé€šè¿‡ <code>&lt;script&gt;</code> æ ‡ç­¾åŠ è½½ï¼Œæˆ–è€…åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­è¿è¡Œã€‚</li><li><strong>ç›®çš„</strong>ï¼šå®ç°é¡µé¢åŠŸèƒ½ã€å¤„ç†ç”¨æˆ·äº¤äº’ã€æ“ä½œ DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰ç­‰ã€‚</li></ul></li><li><strong>ç”¨æˆ·è„šæœ¬</strong>ï¼š<ul><li><strong>æ‰§è¡Œç¯å¢ƒ</strong>ï¼šç”±ç”¨æˆ·è„šæœ¬ç®¡ç†å™¨ï¼ˆå¦‚ Tampermonkey æˆ– Greasemonkeyï¼‰æ³¨å…¥åˆ°ç½‘é¡µä¸­ã€‚å®ƒä»¬è¿è¡Œåœ¨ç”¨æˆ·çš„æµè§ˆå™¨ä¸­ï¼Œå¯ä»¥ä¿®æ”¹ç½‘é¡µçš„è¡Œä¸ºå’Œå¤–è§‚ã€‚</li><li><strong>ç›®çš„</strong>ï¼šç”¨æˆ·å®šåˆ¶ç½‘é¡µçš„åŠŸèƒ½ï¼Œæ·»åŠ é¢å¤–çš„åŠŸèƒ½æˆ–ä¿®å¤ç½‘é¡µä¸Šçš„é—®é¢˜ã€‚</li></ul></li></ol><h3 id="document-addEventListener"><a href="#document-addEventListener" class="headerlink" title="document.addEventListener"></a><code>document.addEventListener</code></h3><p><code>document.addEventListener</code> æ˜¯ JavaScript çš„æ ‡å‡†æ–¹æ³•ï¼Œç”¨äºåœ¨æŒ‡å®šçš„äº‹ä»¶å‘ç”Ÿæ—¶æ‰§è¡ŒæŒ‡å®šçš„å‡½æ•°ã€‚è¿™æ˜¯ DOM API çš„ä¸€éƒ¨åˆ†ï¼Œå…è®¸ä½ åœ¨ç½‘é¡µä¸Šç›‘å¬å’Œå¤„ç†ç”¨æˆ·äº¤äº’æˆ–å…¶ä»–äº‹ä»¶ã€‚</p><p>ç”¨æ³•ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">javascriptå¤åˆ¶ä»£ç document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// ä»£ç åœ¨æ–‡æ¡£å®Œå…¨åŠ è½½åè¿è¡Œ</span>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'é¡µé¢åŠ è½½å®Œæˆ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>Node.js ç¯å¢ƒ</strong></p><p>å¦‚æœä½ åœ¨ Node.js ç¯å¢ƒä¸­è¿è¡Œ JavaScript ä»£ç ï¼Œ<code>document</code> å¯¹è±¡æ˜¯ä¸å­˜åœ¨çš„ï¼Œå› ä¸º Node.js æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯çš„ JavaScript ç¯å¢ƒï¼Œæ²¡æœ‰æµè§ˆå™¨æä¾›çš„ DOM APIã€‚</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p><ul><li>å¦‚æœä½ éœ€è¦åœ¨ Node.js ä¸­å¤„ç†ç½‘é¡µå†…å®¹ï¼Œè€ƒè™‘ä½¿ç”¨ç±»ä¼¼ <code>jsdom</code> çš„åº“æ¥æ¨¡æ‹Ÿæµè§ˆå™¨ç¯å¢ƒã€‚</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">javascriptå¤åˆ¶ä»£ç <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> <span class="token constant">JSDOM</span> <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'jsdom'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> dom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSDOM</span><span class="token punctuation">(</span><span class="token string">'&lt;html>&lt;body>&lt;h1>Hello world&lt;/h1>&lt;/body>&lt;/html>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">const</span> document <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>document<span class="token punctuation">;</span><span class="token comment">// ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨ document å¯¹è±¡</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º: Hello world</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸çŸ¥é“ä¸ºå•¥ï¼Œå®‰è£…å®Œè¿˜æ˜¯ä¸å¥½ä½¿"><a href="#ä¸çŸ¥é“ä¸ºå•¥ï¼Œå®‰è£…å®Œè¿˜æ˜¯ä¸å¥½ä½¿" class="headerlink" title="ä¸çŸ¥é“ä¸ºå•¥ï¼Œå®‰è£…å®Œè¿˜æ˜¯ä¸å¥½ä½¿"></a><strong>ä¸çŸ¥é“ä¸ºå•¥ï¼Œå®‰è£…å®Œè¿˜æ˜¯ä¸å¥½ä½¿</strong></h3><p>##è‡ªåŠ¨ç™»å½•å®ä¾‹</p><p>ç¨€åœŸæ˜é‡‘</p><ul><li>é€Ÿåº¦å¤ªå¿«ä¼šè·³éªŒè¯ç </li><li>éœ€è¦è¿‡æ‹–å›¾éªŒè¯ç </li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">'use strict'</span><span class="token punctuation">;</span>    <span class="token comment">//alert('HelloWorld')</span>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".login-button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">let</span> time<span class="token operator">=</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".clickable"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[name="mobile"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token string">'13304272398'</span>    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[name="loginPassword"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token operator">=</span><span class="token string">'522411Wjq.'</span>    <span class="token comment">//document.querySelector('[class="btn btn-login"]').click()</span>    <span class="token keyword">let</span> submitButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.btn.btn-login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// æ£€æŸ¥æäº¤æŒ‰é’®æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ç‚¹å‡»æäº¤</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>submitButton<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                submitButton<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç‚¹å‡»ç™»å½•æŒ‰é’®</span>                <span class="token function">clearInterval</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å…¥ä¼¼ä¹å¹¶æ²¡æœ‰å»¶æ—¶ï¼Œä»ä¼šè·³è½¬éªŒè¯1</p><h3 id="V1-1"><a href="#V1-1" class="headerlink" title="V1.1"></a>V1.1</h3><ul><li>ä¼šæ¥å›åˆ‡æ¢ç™»å½•</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">'use strict'</span><span class="token punctuation">;</span>    <span class="token comment">// ç‚¹å‡»ç™»å½•æŒ‰é’®</span>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> loginButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".login-button"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>loginButton<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            loginButton<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function">getRandomDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ¨¡æ‹Ÿç‚¹å‡»éªŒè¯ç æŒ‰é’®ï¼Œå¹¶å¡«å†™æ‰‹æœºå·å’Œå¯†ç </span>    <span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">let</span> secretcheckButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".clickable"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> mobileField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[name="mobile"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> passwordField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'[name="loginPassword"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> submitButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.btn.btn-login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¦‚æœéªŒè¯ç æŒ‰é’®å­˜åœ¨ï¼Œå¼€å§‹åç»­æ“ä½œ</span>        <span class="token comment">//if (secretcheckButton) &#123;</span>            <span class="token comment">// ç‚¹å‡»éªŒè¯ç æŒ‰é’®</span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                secretcheckButton<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function">getRandomDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>mobileField<span class="token operator">&amp;&amp;</span>passwordField<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">// è¾“å…¥æ‰‹æœºå·</span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                mobileField<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'13304272398'</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function">getRandomDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// è¾“å…¥å¯†ç </span>            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                passwordField<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'522411Wjq.'</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function">getRandomDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// æ£€æŸ¥æäº¤æŒ‰é’®æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ç‚¹å‡»æäº¤</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>submitButton<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>                    submitButton<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç‚¹å‡»ç™»å½•æŒ‰é’®</span>                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token function">getRandomDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>       <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// éšæœºå»¶è¿Ÿå‡½æ•°ï¼Œè¿”å› 500ms åˆ° 3500ms ä¹‹é—´çš„éšæœºå€¼</span>    <span class="token keyword">function</span> <span class="token function">getRandomDelay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3000</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2000</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¾…å®Œæˆã€ã€ã€ã€"><a href="#å¾…å®Œæˆã€ã€ã€ã€" class="headerlink" title="å¾…å®Œæˆã€ã€ã€ã€"></a>å¾…å®Œæˆã€ã€ã€ã€</h3><h2 id="ç™¾åº¦ç½‘ç›˜é“¾æ¥æå–"><a href="#ç™¾åº¦ç½‘ç›˜é“¾æ¥æå–" class="headerlink" title="ç™¾åº¦ç½‘ç›˜é“¾æ¥æå–"></a>ç™¾åº¦ç½‘ç›˜é“¾æ¥æå–</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// ==UserScript==</span><span class="token comment">// @name         ç™¾åº¦ç½‘ç›˜é“¾æ¥åŠæå–ç å¤„ç†</span><span class="token comment">// @namespace    http://tampermonkey.net/</span><span class="token comment">// @version      1.0</span><span class="token comment">// @description  è¯†åˆ«å¹¶å¤„ç†ç™¾åº¦ç½‘ç›˜é“¾æ¥åŠå…¶æå–ç ï¼Œè‡ªåŠ¨å¡«å†™æå–ç </span><span class="token comment">// @author       å—åŒ—çš„çŒ«</span><span class="token comment">// @match        *://*/*</span><span class="token comment">// @match        *://pan.baidu.com/*</span><span class="token comment">// @grant        none</span><span class="token comment">// ==/UserScript==</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">'use strict'</span><span class="token punctuation">;</span>    <span class="token comment">// åœ¨éç™¾åº¦ç½‘ç›˜é¡µé¢ä¸Šè¯†åˆ«é“¾æ¥åŠæå–ç </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"pan.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> selectedText <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">let</span> match <span class="token operator">=</span> selectedText<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https?:\/\/pan.baidu.com\/s\/[a-zA-Z0-9_\-]+(\s*æå–ç :\s*(\w+))?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">let</span> link <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">let</span> extractCode <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>extractCode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">let</span> confirmJump <span class="token operator">=</span> <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æ£€æµ‹åˆ°ç™¾åº¦ç½‘ç›˜é“¾æ¥ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>link<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">\næå–ç ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>extractCode<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">\næ˜¯å¦è·³è½¬å¹¶å°è¯•ä½¿ç”¨æå–ç ï¼Ÿ</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>confirmJump<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token comment">// å°†æå–ç å­˜å‚¨åœ¨localStorageï¼Œä»¥ä¾¿åœ¨è·³è½¬åä½¿ç”¨</span>                        localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'autoFillExtractCode'</span><span class="token punctuation">,</span> extractCode<span class="token punctuation">)</span><span class="token punctuation">;</span>                        window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æ£€æµ‹åˆ°ç™¾åº¦ç½‘ç›˜é“¾æ¥ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>link<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">\næ˜¯å¦è·³è½¬ï¼Ÿ</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åœ¨ç™¾åº¦ç½‘ç›˜é¡µé¢å°è¯•è‡ªåŠ¨å¡«å†™æå–ç </span>        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> autoFillExtractCode <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'autoFillExtractCode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>autoFillExtractCode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">let</span> codeInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ›´æ–°ä¸ºå®é™…çš„æå–ç è¾“å…¥æ¡†é€‰æ‹©å™¨</span>                <span class="token keyword">let</span> submitButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button selector'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ›´æ–°ä¸ºå®é™…çš„æäº¤æŒ‰é’®é€‰æ‹©å™¨</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>codeInput <span class="token operator">&amp;&amp;</span> submitButton<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    codeInput<span class="token punctuation">.</span>value <span class="token operator">=</span> autoFillExtractCode<span class="token punctuation">;</span>                    submitButton<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'autoFillExtractCode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¸…ç†localStorage</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ”¹è¿›ç‰ˆ"><a href="#æ”¹è¿›ç‰ˆ" class="headerlink" title="æ”¹è¿›ç‰ˆ"></a>æ”¹è¿›ç‰ˆ</h3><p>ç¾åŒ–å¼¹çª—</p><ul><li>å¼¹çª—æŒ‰é’®éœ€è¦å…ˆç‚¹å‡»ä¸€ä¸‹æŒ‰é’®ä»¥å¤–ï¼Œæ‰èƒ½æˆåŠŸç‚¹å‡»æŒ‰é’®ï¼ˆæœªè§£å†³ï¼‰</li></ul><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token string">'use strict'</span><span class="token punctuation">;</span>    <span class="token comment">// æ˜¾ç¤ºè‡ªå®šä¹‰å¼¹çª—çš„å‡½æ•°</span>    <span class="token keyword">function</span> <span class="token function">showCustomDialog</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ç§»é™¤ç°æœ‰å¼¹çª—å’Œé®ç½©å±‚</span>        <span class="token keyword">let</span> existingDialog <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.custom-dialog'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">let</span> existingOverlay <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.custom-overlay'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>existingDialog<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>existingDialog<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>existingOverlay<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>existingOverlay<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// åˆ›å»ºé®ç½©å±‚</span>        <span class="token keyword">let</span> overlay <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'custom-overlay'</span><span class="token punctuation">;</span>         overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'0'</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100%'</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token string">'100%'</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'rgba(0, 0, 0, 0.5)'</span><span class="token punctuation">;</span>        overlay<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token string">'1000'</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>overlay<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ›å»ºå¼¹çª—å®¹å™¨</span>        <span class="token keyword">let</span> dialog <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'custom-dialog'</span><span class="token punctuation">;</span>         dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">'fixed'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'20px'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token string">'50%'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'translateX(-50%)'</span><span class="token punctuation">;</span>         dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>padding <span class="token operator">=</span> <span class="token string">'20px'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderRadius <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>boxShadow <span class="token operator">=</span> <span class="token string">'0px 4px 10px rgba(0, 0, 0, 0.1)'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zIndex <span class="token operator">=</span> <span class="token string">'1001'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>textAlign <span class="token operator">=</span> <span class="token string">'center'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'300px'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>maxHeight <span class="token operator">=</span> <span class="token string">'80vh'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span>style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">'auto'</span><span class="token punctuation">;</span>        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>dialog<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ˜¾ç¤ºæ¶ˆæ¯ï¼ˆæ¢è¡Œå¤„ç†ï¼‰</span>        <span class="token keyword">let</span> messageEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        messageEl<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> message<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&lt;br>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         messageEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginBottom <span class="token operator">=</span> <span class="token string">'20px'</span><span class="token punctuation">;</span>        messageEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>wordWrap <span class="token operator">=</span> <span class="token string">'break-word'</span><span class="token punctuation">;</span>         messageEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>wordBreak <span class="token operator">=</span> <span class="token string">'break-all'</span><span class="token punctuation">;</span>         dialog<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>messageEl<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ›å»ºæŒ‰é’®å®¹å™¨</span>        <span class="token keyword">let</span> buttonsContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        buttonsContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'flex'</span><span class="token punctuation">;</span>        buttonsContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>justifyContent <span class="token operator">=</span> <span class="token string">'space-between'</span><span class="token punctuation">;</span>        buttonsContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100%'</span><span class="token punctuation">;</span>        dialog<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>buttonsContainer<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ›å»ºç¡®å®šæŒ‰é’®</span>        <span class="token keyword">let</span> confirmButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'ç¡®å®š'</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'#007bff'</span><span class="token punctuation">;</span>         confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>padding <span class="token operator">=</span> <span class="token string">'10px 20px'</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderRadius <span class="token operator">=</span> <span class="token string">'5px'</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cursor <span class="token operator">=</span> <span class="token string">'pointer'</span><span class="token punctuation">;</span>        confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>flex <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>          confirmButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginRight <span class="token operator">=</span> <span class="token string">'10px'</span><span class="token punctuation">;</span>        buttonsContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>confirmButton<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ›å»ºå–æ¶ˆæŒ‰é’®</span>        <span class="token keyword">let</span> cancelButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'å–æ¶ˆ'</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'#6c757d'</span><span class="token punctuation">;</span>         cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'#fff'</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>border <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>padding <span class="token operator">=</span> <span class="token string">'10px 20px'</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderRadius <span class="token operator">=</span> <span class="token string">'5px'</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cursor <span class="token operator">=</span> <span class="token string">'pointer'</span><span class="token punctuation">;</span>        cancelButton<span class="token punctuation">.</span>style<span class="token punctuation">.</span>flex <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>          buttonsContainer<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>cancelButton<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ·»åŠ æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span>        <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å¼¹çª—åˆ›å»ºå®Œæˆ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            confirmButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç¡®å®šæŒ‰é’®ç‚¹å‡»'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">callback</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token function">removeDialogAndOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            cancelButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å–æ¶ˆæŒ‰é’®ç‚¹å‡»'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">callback</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token function">removeDialogAndOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ç§»é™¤å¼¹çª—å’Œé®ç½©å±‚</span>        <span class="token keyword">function</span> <span class="token function">removeDialogAndOverlay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ç§»é™¤å¼¹çª—å’Œé®ç½©å±‚'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>dialog<span class="token punctuation">)</span><span class="token punctuation">;</span>            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>overlay<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ç›‘å¬ç™¾åº¦ç½‘ç›˜é“¾æ¥å’Œæå–ç </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>location<span class="token punctuation">.</span>href<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"pan.baidu.com"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseup'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> selectedText <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">let</span> match <span class="token operator">=</span> selectedText<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">https?:\/\/pan.baidu.com\/s\/[a-zA-Z0-9_\-]+(\s*æå–ç :\s*(\w+))?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">let</span> link <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">let</span> extractCode <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>extractCode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token function">showCustomDialog</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æ£€æµ‹åˆ°ç™¾åº¦ç½‘ç›˜é“¾æ¥ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>link<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">\næå–ç ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>extractCode<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">\næ˜¯å¦è·³è½¬å¹¶å°è¯•ä½¿ç”¨æå–ç ï¼Ÿ</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">confirmJump</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>confirmJump<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'autoFillExtractCode'</span><span class="token punctuation">,</span> extractCode<span class="token punctuation">)</span><span class="token punctuation">;</span>                            window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token function">showCustomDialog</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æ£€æµ‹åˆ°ç™¾åº¦ç½‘ç›˜é“¾æ¥ï¼š</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>link<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">\næ˜¯å¦è·³è½¬ï¼Ÿ</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">confirmJump</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>confirmJump<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>link<span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è‡ªåŠ¨å¡«å†™æå–ç </span>        window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">let</span> autoFillExtractCode <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'autoFillExtractCode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>autoFillExtractCode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">let</span> codeInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input#code'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">let</span> submitButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button#submitBtn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>codeInput <span class="token operator">&amp;&amp;</span> submitButton<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    codeInput<span class="token punctuation">.</span>value <span class="token operator">=</span> autoFillExtractCode<span class="token punctuation">;</span>                    submitButton<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'autoFillExtractCode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ„Ÿå—"><a href="#æ„Ÿå—" class="headerlink" title="æ„Ÿå—"></a>æ„Ÿå—</h2><p>ä¸pythonè„šæœ¬ä¸åŒï¼Œpythonæ˜¯å‘èµ·è¯·æ±‚ï¼Œjså¯ä»¥è°ƒåº“ç‚¹å‡»ï¼Œä¸€ä¸ªæ˜¯æ¨¡æ‹Ÿæµè§ˆå™¨å‘è¯·æ±‚ï¼Œä¸€ä¸ªæ˜¯è®©æµè§ˆå™¨å‘è¯·æ±‚</p><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://learn.scriptcat.org/%E6%B2%B9%E7%8C%B4%E6%95%99%E7%A8%8B/%E5%85%A5%E9%97%A8%E7%AF%87/%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E5%8C%96%E4%B9%8B%E6%A8%A1%E6%8B%9F%E7%82%B9%E5%87%BB%E5%92%8C%E8%A1%A8%E5%8D%95%E5%A1%AB%E5%86%99/">è„šæœ¬è‡ªåŠ¨åŒ–ä¹‹æ¨¡æ‹Ÿç‚¹å‡»å’Œè¡¨å•å¡«å†™ | æ²¹çŒ´å¼€å‘æŒ‡å— (scriptcat.org)</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>115_å®æ—¶æ±‡ç‡APIæ›´æ–°</title>
      <link href="/2024/07/28/115-shi-shi-hui-lu-api-wan-shan/"/>
      <url>/2024/07/28/115-shi-shi-hui-lu-api-wan-shan/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¼ºé™·"><a href="#ç¼ºé™·" class="headerlink" title="ç¼ºé™·"></a>ç¼ºé™·</h2><ul><li>ç”¨æˆ·è°ƒç”¨ä¸€æ¬¡APIï¼Œåˆ™çˆ¬å–ä¸€æ¬¡æºç«™ï¼Œæµªè´¹èµ„æº</li><li>ä¸èƒ½å¹¶å‘</li></ul><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li>æ–°çš„æºç«™ <a href="https://www.msn.cn/zh-cn/money/watchlist?id=auzy5r&tab=Recent">1 BMD &#x3D; 7.2502 CNY (msn.cn)</a></li><li>æ•°æ®åº“</li></ul><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>æ¯ä¸‰ä¸ªå°æ—¶è·å–ä¸€æ¬¡æ•°æ®ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“ä¸­ï¼Œç”¨æˆ·ç›´æ¥ä»æ•°æ®åº“ä¸­è·å–ã€‚ </p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>éœ€è¦jså‘èµ·è¯·æ±‚ï¼Œæ‰¹é‡è·å–</p><p>æš‚æ—¶å®Œå–„ä¸äº†ï¼Œå…ˆé¸½å­</p><h3 id="éœ€è¦çš„å‚æ•°"><a href="#éœ€è¦çš„å‚æ•°" class="headerlink" title="éœ€è¦çš„å‚æ•°"></a>éœ€è¦çš„å‚æ•°</h3><p>è·å–idï¼Œä¼¼ä¹ä¸æ˜¯ç”Ÿæˆçš„</p><p><strong>url</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">base_url &#x3D; &quot;https:&#x2F;&#x2F;assets.msn.cn&#x2F;service&#x2F;Finance&#x2F;IdMap&quot;   url &#x3D; &#39;https:&#x2F;&#x2F;assets.msn.cn&#x2F;service&#x2F;Finance&#x2F;Charts&#39;   base_url &#x3D; &quot;https:&#x2F;&#x2F;assets.msn.cn&#x2F;service&#x2F;Finance&#x2F;Quotes&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/2024/07/28/115-shi-shi-hui-lu-api-wan-shan/image-20240730181641735.png" class="" title="image-20240730181641735"><pre class="line-numbers language-python" data-language="python"><code class="language-python">import requests# åŸºæœ¬ URLbase_url &#x3D; &quot;https:&#x2F;&#x2F;assets.msn.cn&#x2F;service&#x2F;Finance&#x2F;IdMap&quot;# å‚æ•°params &#x3D; &#123;    &quot;apikey&quot;: &quot;0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM&quot;,    &quot;activityId&quot;: &quot;0FA1F737-A1E8-4A29-A842-180324023DF7&quot;,#å˜åŒ–    &quot;ocid&quot;: &quot;finance-utils-peregrine&quot;,    &quot;cm&quot;: &quot;zh-cn&quot;,    &quot;it&quot;: &quot;edgeid&quot;,    &quot;scn&quot;: &quot;APP_ANON&quot;,    &quot;MStarIds&quot;: &quot;PKRCNY&quot;#å˜åŒ–ARSCNY&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">base_url &#x3D; &quot;https:&#x2F;&#x2F;assets.msn.cn&#x2F;service&#x2F;Finance&#x2F;Quotes&quot;# å‚æ•°params &#x3D; &#123;    &quot;apikey&quot;: &quot;0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM&quot;,    &quot;activityId&quot;: &quot;0FA1F737-A1E8-4A29-A842-180324023DF7&quot;,    &quot;ocid&quot;: &quot;finance-utils-peregrine&quot;,    &quot;cm&quot;: &quot;zh-cn&quot;,    &quot;it&quot;: &quot;edgeid&quot;,    &quot;scn&quot;: &quot;APP_ANON&quot;,    &quot;ids&quot;: &quot;auxj9c&quot;,  ## å¦‚ä½•è·å–    &quot;wrapodata&quot;: &quot;false&quot;&#125;# å‘èµ·è¯·æ±‚response &#x3D; requests.get(base_url, params&#x3D;params)# æ£€æŸ¥å“åº”çŠ¶æ€å¹¶è·å–æ•°æ®if response.status_code &#x3D;&#x3D; 200:    data &#x3D; response.json()    print(data)else:    print(f&quot;è¯·æ±‚å¤±è´¥ï¼ŒçŠ¶æ€ç ï¼š&#123;response.status_code&#125;&quot;)if isinstance(data, list) and len(data) &gt; 0 and &#39;price&#39; in data[0]:    price &#x3D; data[0][&#39;price&#39;]    Currency &#x3D; data[0][&#39;fromCurrency&#39;]    print(f&quot;&#123;Currency&#125;: &#123;price&#125;&quot;)else:    print(&quot;å“åº”æ•°æ®æ ¼å¼ä¸æ­£ç¡®æˆ–ä¸åŒ…å«&#39;price&#39;&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æœ€åå®Œæˆ"><a href="#æœ€åå®Œæˆ" class="headerlink" title="æœ€åå®Œæˆ"></a>æœ€åå®Œæˆ</h2><p>é€‰æ‹©åŸæ¥çš„ç½‘ç«™,ä½†æ˜¯æ˜¯ä¸€æ¬¡ä¸€æ¬¡å‘èµ·è¯·æ±‚è·å–åå­˜å‚¨,æ¯ä¸ªè¯·æ±‚é—´éš”3s,æ¯ä¸¤ä¸ªå°æ—¶è·å–ä¸€æ¬¡,pså¸¸ç”¨è´§å¸</p><ul><li>mongoåº“</li><li>redisæ˜¯ä½¿ç”¨å†…å­˜å¿«é€Ÿå“åº”çš„åº“</li><li>è¿æ¥ï¼Œæ’å…¥ï¼Œæ›´æ–°ï¼Œåˆ é™¤</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">import pymongoimport time# è¿æ¥MongoDBclient &#x3D; pymongo.MongoClient(&quot;mongodb:&#x2F;&#x2F;localhost:27017&#x2F;&quot;)# åˆ›å»ºæ•°æ®åº“å’Œé›†åˆdb &#x3D; client[&quot;test_db&quot;]collection &#x3D; db[&quot;test_collection&quot;]# å‡†å¤‡æ•°æ®data &#x3D; [&#123;&quot;name&quot;: chr(97 + i), &quot;value&quot;: i + 1&#125; for i in range(10)]print(&quot;åˆå§‹æ•°æ®: &quot;, data)# æ’å…¥æ•°æ®collection.insert_many(data)print(&quot;æ•°æ®å·²æ’å…¥&quot;)# ç­‰å¾…30ç§’time.sleep(5)# æ›´æ–°æ•°æ®ï¼Œå°†nameä¸valueå¯¹è°ƒfor item in data:    collection.update_one(&#123;&quot;name&quot;: item[&quot;name&quot;]&#125;, &#123;&quot;$set&quot;: &#123;&quot;name&quot;: item[&quot;value&quot;], &quot;value&quot;: item[&quot;name&quot;]&#125;&#125;)# éªŒè¯æ›´æ–°updated_data &#x3D; list(collection.find(&#123;&#125;))print(&quot;æ›´æ–°åçš„æ•°æ®: &quot;, updated_data)# æ¸…ç†æ•°æ®åº“# collection.drop()# client.drop_database(&quot;test_db&quot;)client.close()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ„Ÿè§‰ç¨‹åºæ²¡æœ‰è¢«è°ƒç”¨</p><p>ä¸æ˜¯ï¼Œæ˜¯è¢«é™åˆ¶è®¿é—®äº†</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">data &#x3D; [    &#123;&quot;currency&quot;: COMMON_ABBREVIATIONS[i], &quot;value&quot;: get_exchange_rate(COMMON_ABBREVIATIONS[i])&#125;    for i in range(len(COMMON_ABBREVIATIONS))]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>113_ğŸ¥³ç½‘é¡µç›‘æ§</title>
      <link href="/2024/07/28/113-wang-ye-jian-kong/"/>
      <url>/2024/07/28/113-wang-ye-jian-kong/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><ul><li>å®šæ—¶æŠ“å–</li><li>å†…å®¹ä¿å­˜ä¸å¯¹æ¯”(å“ˆå¸Œå€¼)</li><li>é‚®ç®±æˆ–è€…å¾®ä¿¡é€šçŸ¥</li></ul><h2 id="å®šæ—¶æŠ“å–"><a href="#å®šæ—¶æŠ“å–" class="headerlink" title="å®šæ—¶æŠ“å–"></a>å®šæ—¶æŠ“å–</h2><ul><li>æŠ“å–ååº”è¯¥æ¯”è¾ƒæ ‡é¢˜å’Œå†…å®¹(å®¹æ˜“å‡ºç°ç›¸åŒæ ‡é¢˜çš„æ–‡ç« )ï¼Œæ‰€ä»¥é€‰æ‹©æ¯”è¾ƒæ–‡ç« é“¾æ¥</li><li><em>æ›´æ–°</em></li><li><em>å†…å®¹æ›´æ”¹</em>(æ‰€ä»¥æ˜¯ä¸æ˜¯åº”è¯¥çˆ¬å–æ•´ç‰‡çš„å†…å®¹åšæˆå“ˆå¸Œå€¼è¿›è¡Œæ¯”å¯¹ï¼Œé‚£å°±è¦æ¯”è¾ƒæ‰€æœ‰æ–‡ç« çš„å“ˆå¸Œå€¼ï¼Œè¿™æ ·ä¸æ˜¯å¾ˆå¿…è¦ï¼‰</li></ul><h2 id="å†…å®¹ä¿å­˜"><a href="#å†…å®¹ä¿å­˜" class="headerlink" title="å†…å®¹ä¿å­˜"></a>å†…å®¹ä¿å­˜</h2><p>ä¿å­˜å“ˆå¸Œå€¼</p><h2 id="æ¶ˆæ¯é€šçŸ¥"><a href="#æ¶ˆæ¯é€šçŸ¥" class="headerlink" title="æ¶ˆæ¯é€šçŸ¥"></a>æ¶ˆæ¯é€šçŸ¥</h2><ul><li>ä½¿ç”¨æ­å»ºå¥½çš„å¾®ä¿¡æ¨é€api</li><li>é‚®ä»¶</li><li>çŸ­ä¿¡</li></ul><h3 id="æ¨é€æ ¼å¼"><a href="#æ¨é€æ ¼å¼" class="headerlink" title="æ¨é€æ ¼å¼"></a>æ¨é€æ ¼å¼</h3><blockquote><p>ç±»åˆ«ï¼šblogæ›´æ–°</p><p>æ ‡é¢˜ï¼š</p><p>é“¾æ¥ï¼š</p><p>æ—¶é—´</p></blockquote><h2 id="æ­å»ºé¡¹ç›®ç¯å¢ƒ"><a href="#æ­å»ºé¡¹ç›®ç¯å¢ƒ" class="headerlink" title="æ­å»ºé¡¹ç›®ç¯å¢ƒ"></a>æ­å»ºé¡¹ç›®ç¯å¢ƒ</h2><h3 id="ä½¿ç”¨-venv-æ¨¡å—åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#ä½¿ç”¨-venv-æ¨¡å—åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="ä½¿ç”¨ venv æ¨¡å—åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>ä½¿ç”¨ <code>venv</code> æ¨¡å—åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h3><h4 id="æ­¥éª¤ä¸€ï¼šå®‰è£…-venv"><a href="#æ­¥éª¤ä¸€ï¼šå®‰è£…-venv" class="headerlink" title="æ­¥éª¤ä¸€ï¼šå®‰è£… venv"></a>æ­¥éª¤ä¸€ï¼šå®‰è£… <code>venv</code></h4><p>é€šå¸¸Python 3å·²ç»è‡ªå¸¦ <code>venv</code> æ¨¡å—ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install python3-venv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ­¥éª¤äºŒï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#æ­¥éª¤äºŒï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æ­¥éª¤äºŒï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>æ­¥éª¤äºŒï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h4><ol><li><p><strong>è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd &#x2F;path&#x2F;to&#x2F;your&#x2F;project#æˆ‘çš„é¡¹ç›®ç›®å½•åœ¨optcd opt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li><li><p><strong>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python3 -m venv venv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™å°†åœ¨ä½ çš„é¡¹ç›®ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªåä¸º <code>venv</code> çš„æ–‡ä»¶å¤¹ï¼ŒåŒ…å«è™šæ‹Ÿç¯å¢ƒã€‚</p></li></ol><h4 id="æ­¥éª¤ä¸‰ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"><a href="#æ­¥éª¤ä¸‰ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æ­¥éª¤ä¸‰ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ"></a>æ­¥éª¤ä¸‰ï¼šæ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">source venv&#x2F;bin&#x2F;activate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¿€æ´»åï¼Œä½ çš„å‘½ä»¤è¡Œæç¤ºç¬¦ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒçš„åç§°ï¼Œä¾‹å¦‚ <code>(venv)</code>ã€‚</p><h4 id="æ­¥éª¤å››ï¼šå®‰è£…æ‰€éœ€çš„PythonåŒ…"><a href="#æ­¥éª¤å››ï¼šå®‰è£…æ‰€éœ€çš„PythonåŒ…" class="headerlink" title="æ­¥éª¤å››ï¼šå®‰è£…æ‰€éœ€çš„PythonåŒ…"></a>æ­¥éª¤å››ï¼šå®‰è£…æ‰€éœ€çš„PythonåŒ…</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip install -r requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ­¥éª¤äº”ï¼šé€€å‡ºè™šæ‹Ÿç¯å¢ƒ"><a href="#æ­¥éª¤äº”ï¼šé€€å‡ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æ­¥éª¤äº”ï¼šé€€å‡ºè™šæ‹Ÿç¯å¢ƒ"></a>æ­¥éª¤äº”ï¼šé€€å‡ºè™šæ‹Ÿç¯å¢ƒ</h4><p>å®Œæˆå·¥ä½œåï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤é€€å‡ºè™šæ‹Ÿç¯å¢ƒï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="é‡å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#é‡å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="é‡å»ºè™šæ‹Ÿç¯å¢ƒ"></a>é‡å»ºè™šæ‹Ÿç¯å¢ƒ</h2><p><strong>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">rm -rf &#x2F;opt&#x2F;venv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>é‡æ–°åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python3 -m venv &#x2F;opt&#x2F;env<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">source &#x2F;opt&#x2F;venv&#x2F;bin&#x2F;activate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="ç¬¦å·é“¾æ¥"><a href="#ç¬¦å·é“¾æ¥" class="headerlink" title="ç¬¦å·é“¾æ¥"></a>ç¬¦å·é“¾æ¥</h2><p>ç³»ç»Ÿä¸­å·²ç»å®‰è£…äº† Python 3.9.2ï¼Œä½†æ²¡æœ‰ <code>python</code> å‘½ä»¤çš„åˆ«åã€‚ä½¿ç”¨<code>ç¬¦å·é“¾æ¥</code>ï¼Œå°† <code>python3</code> å‘½ä»¤åˆ›å»ºä¸€ä¸ªåˆ«åä¸º <code>python</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">sudo ln -s &#x2F;usr&#x2F;bin&#x2F;python3 &#x2F;usr&#x2F;bin&#x2F;pythonpython3 --versionpython --version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¦å·é“¾æ¥-å¿«æ·æ–¹å¼"><a href="#ç¬¦å·é“¾æ¥-å¿«æ·æ–¹å¼" class="headerlink" title="ç¬¦å·é“¾æ¥(å¿«æ·æ–¹å¼)"></a>ç¬¦å·é“¾æ¥(å¿«æ·æ–¹å¼)</h3><ol><li><strong>å¯è§æ€§</strong>ï¼šç¬¦å·é“¾æ¥æ–‡ä»¶å¯ä»¥é€šè¿‡ <code>ls -l</code> å‘½ä»¤çœ‹åˆ°é“¾æ¥å…³ç³»ã€‚</li><li><strong>ç›®æ ‡æ–‡ä»¶åˆ é™¤</strong>ï¼šå¦‚æœç›®æ ‡æ–‡ä»¶è¢«åˆ é™¤ï¼Œç¬¦å·é“¾æ¥å°†æŒ‡å‘ä¸€ä¸ªæ— æ•ˆçš„ä½ç½®ï¼Œæˆä¸ºâ€œæ‚¬æŒ‚â€é“¾æ¥ã€‚</li></ol><h3 id="åˆ›å»ºç¬¦å·é“¾æ¥"><a href="#åˆ›å»ºç¬¦å·é“¾æ¥" class="headerlink" title="åˆ›å»ºç¬¦å·é“¾æ¥"></a>åˆ›å»ºç¬¦å·é“¾æ¥</h3><p>ä½¿ç”¨ <code>ln -s</code> å‘½ä»¤å¯ä»¥åˆ›å»ºç¬¦å·é“¾æ¥ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ln -s [ç›®æ ‡æ–‡ä»¶æˆ–ç›®å½•] [ç¬¦å·é“¾æ¥å]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ln -s &#x2F;usr&#x2F;bin&#x2F;python3 &#x2F;usr&#x2F;bin&#x2F;python<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ é™¤ç¬¦å·é“¾æ¥"><a href="#åˆ é™¤ç¬¦å·é“¾æ¥" class="headerlink" title="åˆ é™¤ç¬¦å·é“¾æ¥"></a>åˆ é™¤ç¬¦å·é“¾æ¥</h3><p>åˆ é™¤ç¬¦å·é“¾æ¥æ—¶åªéœ€è¦åˆ é™¤é“¾æ¥æ–‡ä»¶æœ¬èº«ï¼Œä¸ä¼šå½±å“ç›®æ ‡æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">rm &#x2F;usr&#x2F;bin&#x2F;python<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ¡å‘½ä»¤åªåˆ é™¤ç¬¦å·é“¾æ¥ <code>link_to_file.txt</code>ï¼Œä¸å½±å“ <code>original_file.txt</code>ã€‚</p><h2 id="æ‹›ç”Ÿä¿¡æ¯ç›‘æµ‹"><a href="#æ‹›ç”Ÿä¿¡æ¯ç›‘æµ‹" class="headerlink" title="æ‹›ç”Ÿä¿¡æ¯ç›‘æµ‹"></a>æ‹›ç”Ÿä¿¡æ¯ç›‘æµ‹</h2><p><a href="https://gs.dlut.edu.cn/yjszs/zcwj1.htm">å¤§è¿ç†å·¥å¤§å­¦ç ”ç©¶ç”Ÿé™¢ï¼ˆæ–°ï¼‰ (dlut.edu.cn)</a></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">/html/body/div[2]/div[2]/div[2]/div/ul/li[1]/a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><a href="http://yz.neu.edu.cn/sszs/list.htm">ä¸œåŒ—å¤§å­¦ç¡•å£«å…¬å‘Š (neu.edu.cn)</a></p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">//*[@id="wp_news_w6"]/ul/li[1]/div[1]/span[2]/a<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>114_ç½‘ç«™è¿ç§»222</title>
      <link href="/2024/07/28/114-wang-zhan-qian-yi/"/>
      <url>/2024/07/28/114-wang-zhan-qian-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="å¯¼å‡ºé¡¹ç›®åŒ…"><a href="#å¯¼å‡ºé¡¹ç›®åŒ…" class="headerlink" title="å¯¼å‡ºé¡¹ç›®åŒ…"></a>å¯¼å‡ºé¡¹ç›®åŒ…</h2><p>ä¸ºäº†åªè¾“å‡ºå½“å‰ Python é¡¹ç›®ä¸­å®é™…ä½¿ç”¨åˆ°çš„åº“çš„ requirements æ–‡ä»¶ï¼Œ<code>pipreqs</code> ä¼šæ ¹æ®é¡¹ç›®ä¸­çš„å¯¼å…¥è¯­å¥è‡ªåŠ¨ç”Ÿæˆ <code>requirements.txt</code> æ–‡ä»¶ï¼Œä»…åŒ…å«é¡¹ç›®å®é™…ä½¿ç”¨åˆ°çš„åº“ã€‚</p><ol><li>å®‰è£… pipreqs</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip install pipreqs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-none"><code class="language-none">pip freeze &gt; requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="2"><li>ä½¿ç”¨ pipreqs</li></ol><p>å¯¼èˆªåˆ°ä½ çš„é¡¹ç›®ç›®å½•ï¼Œå¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pipreqs &#x2F;path&#x2F;to&#x2F;your&#x2F;project<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœä½ çš„é¡¹ç›®ä½äºå½“å‰ç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pipreqs .pipreqs . --encoding&#x3D;utf-8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-none"><code class="language-none">pip install -r requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éœ€è¦å…³é—­ä»£ç†</p><h2 id="æ‰¹é‡åˆ é™¤åŒ…"><a href="#æ‰¹é‡åˆ é™¤åŒ…" class="headerlink" title="æ‰¹é‡åˆ é™¤åŒ…"></a>æ‰¹é‡åˆ é™¤åŒ…</h2><h3 id="æ–¹æ³•-1ï¼šä½¿ç”¨-pip-freeze-å’Œ-xargs"><a href="#æ–¹æ³•-1ï¼šä½¿ç”¨-pip-freeze-å’Œ-xargs" class="headerlink" title="æ–¹æ³• 1ï¼šä½¿ç”¨ pip freeze å’Œ xargs"></a>æ–¹æ³• 1ï¼šä½¿ç”¨ pip freeze å’Œ xargs</h3><ol><li><p><strong>åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åŒ…å¹¶ä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">pip freeze &gt; requirements.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p><strong>ç¼–è¾‘ requirements.txt æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰ï¼š</strong> å¦‚æœä½ æƒ³è¦ä¿ç•™æŸäº›åŒ…ï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ <code>requirements.txt</code> æ–‡ä»¶ï¼Œåˆ é™¤é‚£äº›ä½ ä¸æƒ³å¸è½½çš„åŒ…ã€‚</p></li><li><p><strong>æ‰¹é‡åˆ é™¤åŒ…ï¼š</strong> ä½¿ç”¨ <code>xargs</code> å‘½ä»¤ä» <code>requirements.txt</code> æ–‡ä»¶ä¸­è¯»å–åŒ…åå¹¶åˆ é™¤å®ƒä»¬</p><pre class="line-numbers language-none"><code class="language-none">cat requirements.txt | xargs pip uninstall -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>112_å¾®ä¿¡æ¶ˆæ¯æ¨é€</title>
      <link href="/2024/07/20/112-wei-xin-xiao-xi-tui-song/"/>
      <url>/2024/07/20/112-wei-xin-xiao-xi-tui-song/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li>ä¸€ä¸ªä¼ä¸šå¾®ä¿¡</li><li>ä¼ä¸šå¾®ä¿¡é‡Œé¢å»ºç«‹ä¸€ä¸ª<code>åº”ç”¨</code></li><li>è®°å½•åº”ç”¨çš„<code>agentid</code>ä¸<code>secret</code></li></ul><h2 id="è·å–access-token"><a href="#è·å–access-token" class="headerlink" title="è·å–access_token"></a><a href="https://developer.work.weixin.qq.com/document/path/91039">è·å–access_token</a></h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">url &#x3D; f&quot;https:&#x2F;&#x2F;qyapi.weixin.qq.com&#x2F;cgi-bin&#x2F;gettoken?corpid&#x3D;&#123;corp_id&#125;&amp;corpsecret&#x3D;&#123;corp_secret&#125;&quot;response &#x3D; requests.get(url)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>7200ç§’æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥è·å–åå¯ä»¥ç¼“å­˜ä¸€ä¸‹</p><h2 id="è¯·æ±‚å‚æ•°"><a href="#è¯·æ±‚å‚æ•°" class="headerlink" title="è¯·æ±‚å‚æ•°"></a>è¯·æ±‚å‚æ•°</h2><ol><li>æ¯ä¸ªæˆå‘˜éƒ½æœ‰å”¯ä¸€çš„<code>userid</code>ï¼Œå³æ‰€è°“â€œè´¦å·â€ã€‚åœ¨ç®¡ç†åå°-&gt;â€œé€šè®¯å½•â€-&gt;ç‚¹è¿›æŸä¸ªæˆå‘˜çš„è¯¦æƒ…é¡µ</li></ol><img src="/2024/07/20/112-wei-xin-xiao-xi-tui-song/image-20240728123528837.png" class="" title="image-20240728123528837"><ol start="2"><li><p>åœ¨ç®¡ç†åå°-&gt;â€œåº”ç”¨ç®¡ç†â€-&gt;â€œåº”ç”¨â€ï¼Œç‚¹è¿›æŸä¸ªåº”ç”¨ï¼Œå³å¯çœ‹åˆ°<code>agentid</code>ã€‚</p></li><li><p>åœ¨ç®¡ç†åå°-&gt;â€œåº”ç”¨ç®¡ç†â€-&gt;â€œåº”ç”¨â€-&gt;â€œè‡ªå»ºâ€ï¼Œç‚¹è¿›æŸä¸ªåº”ç”¨ï¼Œå³å¯çœ‹åˆ°<code>secret</code></p></li></ol><img src="/2024/07/20/112-wei-xin-xiao-xi-tui-song/image-20240728123643793.png" class="" title="image-20240728123643793"><ol start="4"><li><p>â€œæˆ‘çš„ä¼ä¸šâ€ï¼â€œä¼ä¸šä¿¡æ¯â€ä¸‹æŸ¥çœ‹â€œ<code>ä¼ä¸šID</code>â€</p></li><li><p>æ¯ä¸ªéƒ¨é—¨éƒ½æœ‰å”¯ä¸€çš„éƒ¨é—¨idï¼Œåœ¨ç®¡ç†åå°-&gt;â€œé€šè®¯å½•â€-&gt;â€œç»„ç»‡æ¶æ„â€-&gt;ç‚¹å‡»æŸä¸ªéƒ¨é—¨å³è¾¹çš„å°åœ†ç‚¹å¯ä»¥çœ‹åˆ°ï¼Œä»1å¼€å§‹ã€‚</p></li></ol><img src="/2024/07/20/112-wei-xin-xiao-xi-tui-song/image-20240728123757440.png" class="" title="image-20240728123757440"><ol start="6"><li>æ¯ä¸ªæ ‡ç­¾éƒ½æœ‰å”¯ä¸€çš„<code>æ ‡ç­¾id</code>ï¼Œåœ¨ç®¡ç†åå°-&gt;â€œé€šè®¯å½•â€-&gt;â€œæ ‡ç­¾â€ï¼Œé€‰ä¸­æŸä¸ªæ ‡ç­¾ï¼Œåœ¨å³ä¸Šè§’ä¼šæœ‰â€œæ ‡ç­¾è¯¦æƒ…â€æŒ‰é’®ï¼Œ</li></ol><img src="/2024/07/20/112-wei-xin-xiao-xi-tui-song/image-20240728124149544.png" class="" title="image-20240728124149544"><img src="/2024/07/20/112-wei-xin-xiao-xi-tui-song/image-20240728124117234.png" class="" title="image-20240728124117234"><h2 id="è®¾ç½®ipç™½åå•"><a href="#è®¾ç½®ipç™½åå•" class="headerlink" title="è®¾ç½®ipç™½åå•"></a>è®¾ç½®ipç™½åå•</h2><ul><li>è¿›å…¥å…·ä½“åº”ç”¨ä¸‹ï¼Œæ­å»ºç½‘ç«™ï¼Œæ”¾å…¥æ ¡éªŒæ–‡ä»¶</li><li>éªŒè¯å¯ä¿¡åŸŸå</li><li>è®¾ç½®ipç™½åå•</li></ul><img src="/2024/07/20/112-wei-xin-xiao-xi-tui-song/image-20240728124515817.png" class="" title="image-20240728124515817"><h3 id="æ­å»ºæ ¡éªŒç½‘ç«™"><a href="#æ­å»ºæ ¡éªŒç½‘ç«™" class="headerlink" title="æ­å»ºæ ¡éªŒç½‘ç«™"></a>æ­å»ºæ ¡éªŒç½‘ç«™</h3><p>ç”¨flaskå¼€å¯ç«¯å£ï¼Œç„¶ånginxæ˜ å°„åŸŸååˆ°è¿™ä¸ªç«¯å£ã€‚</p><h3 id="nginxé…ç½®"><a href="#nginxé…ç½®" class="headerlink" title="nginxé…ç½®"></a>nginxé…ç½®</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    server_name wx.destroy.cool;    root &#x2F;var&#x2F;www&#x2F;weixin;        # æä¾›é™æ€æ–‡ä»¶(æ ¡éªŒæ–‡ä»¶)    location &#x2F;WW_verify_b2PoGgNZ2RLswi2p.txt &#123;        alias &#x2F;var&#x2F;www&#x2F;weixin&#x2F;WW_verify_b2PoGgNZ2RLswi2p.txt;    &#125;        location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;127.0.0.1:5001;  # æŒ‡å‘ç°æœ‰çš„Flaskåº”ç”¨        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®¾ç½®è½¯è¿æ¥(æ‰€æœ‰çš„nginxé…ç½®éƒ½éœ€è¦ï¼Œè¿™æ˜¯nginxçš„é…ç½®æ–¹å¼)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ln -s &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;weixin.conf &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>é—®é¢˜</strong></p><p>nginxé…ç½®æ²¡é—®é¢˜ï¼Œå¦ä¸€ä¸ªapiä¾ç„¶å¥½ç”¨ï¼Œipè®¿é—®æ²¡é—®é¢˜ï¼ŒåŸŸåå‡ºäº†é—®é¢˜ã€‚</p><p>ç ´æ¡ˆäº†ï¼ŒåŸŸåæ‰“é”™äº†ã€‚</p><ul><li><p><a href="http://wx.destory.cool/wechat">wx.destory.cool&#x2F;wechat</a></p></li><li><p><a href="http://wx.destroy.cool/wechat">wx.destroy.cool</a>æ˜¯æ­£ç¡®çš„</p></li></ul><h2 id="æ­å»ºå¾®ä¿¡é€šçŸ¥Api"><a href="#æ­å»ºå¾®ä¿¡é€šçŸ¥Api" class="headerlink" title="æ­å»ºå¾®ä¿¡é€šçŸ¥Api"></a>æ­å»ºå¾®ä¿¡é€šçŸ¥Api</h2><ol><li><p>ä½¿ç”¨åº”ç”¨idä¸å¯†é’¥è·å–access_access_token(ç¼“å­˜ä¸¤å°æ—¶)</p></li><li><p>ä½¿ç”¨tokenæ„å»ºurlï¼Œæ„å»ºuseridç­‰è¯·æ±‚å‚æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">payload &#x3D; &#123;    &quot;touser&quot;: to_user,  # æ¥æ”¶æ¶ˆæ¯çš„æˆå‘˜IDåˆ—è¡¨ï¼Œå¤šä¸ªç”¨ &#39;|&#39; åˆ†éš”    &quot;msgtype&quot;: &quot;text&quot;,    &quot;agentid&quot;: agent_id,    &quot;text&quot;: &#123;        &quot;content&quot;: f&quot;&#123;title&#125;\n&#123;content&#125;&quot;    &#125;,    &quot;safe&quot;: 0&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç¼“å­˜åº“ä¸é™æµå™¨çš„ä½¿ç”¨</p></li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">from flask import Flask, request, jsonifyimport requestsimport jsonimport requests_cachefrom flask_limiter import Limiter, RateLimitExceededfrom flask_limiter.util import get_remote_addressapp &#x3D; Flask(__name__)# é…ç½®ç¼“å­˜ï¼Œè®¾ç½®ç¼“å­˜æœ‰æ•ˆæœŸä¸º1å°æ—¶requests_cache.install_cache(&#39;wechat_cache&#39;, expire_after&#x3D;3600)# é…ç½®é€Ÿç‡é™åˆ¶limiter &#x3D; Limiter(    get_remote_address,    app&#x3D;app,    default_limits&#x3D;[&quot;200 per day&quot;, &quot;20 per minute&quot;])def get_access_token(corp_id, corp_secret):    &quot;&quot;&quot;è·å–token&quot;&quot;&quot;    url &#x3D; f&quot;https:&#x2F;&#x2F;qyapi.weixin.qq.com&#x2F;cgi-bin&#x2F;gettoken?corpid&#x3D;&#123;corp_id&#125;&amp;corpsecret&#x3D;&#123;corp_secret&#125;&quot;    response &#x3D; requests.get(url)    data &#x3D; response.json()    if data[&#39;errcode&#39;] &#x3D;&#x3D; 0:        return data[&#39;access_token&#39;]    else:        raise Exception(f&quot;è·å–access_tokenå¤±è´¥: &#123;data[&#39;errmsg&#39;]&#125;&quot;)@app.route(&#39;&#x2F;&#39;, methods&#x3D;[&#39;GET&#39;])@limiter.limit(&quot;3 per 5 seconds&quot;, error_message&#x3D;&quot;æ‚¨çš„è¯·æ±‚é¢‘ç‡è¿‡é«˜ï¼Œè¯·ç¨åå†è¯•ã€‚&quot;)  # æ·»åŠ é€Ÿç‡é™åˆ¶def send():    corp_id &#x3D; &quot;xxxxxxxxx&quot;  # æ›¿æ¢ä¸ºä½ çš„ä¼ä¸šID    corp_secret &#x3D; &quot;xxxxxxxxx&quot;  # æ›¿æ¢ä¸ºä½ çš„åº”ç”¨Secret    agent_id &#x3D; &quot;xxxxxxxxx&quot;  # æ›¿æ¢ä¸ºä½ çš„åº”ç”¨AgentId    to_user &#x3D; &quot;xxxxxxxxx|xxxxxxxxx&quot;  # æ›¿æ¢ä¸ºæ¥æ”¶è€…çš„UserIDï¼Œå¤šä¸ªç”¨ &#39;|&#39; åˆ†éš”    title &#x3D; request.args.get(&#39;title&#39;)    content &#x3D; request.args.get(&#39;content&#39;)    if not title or not content:        return jsonify(&#123;&quot;error&quot;: &quot;title å’Œ content å‚æ•°æ˜¯å¿…é¡»çš„&quot;&#125;), 400    try:        # ä»ç¼“å­˜ä¸­è·å–access_token        access_token &#x3D; get_access_token(corp_id, corp_secret)    except Exception as e:        return jsonify(&#123;&quot;error&quot;: f&quot;è·å–access_tokenæ—¶å‘ç”Ÿé”™è¯¯: &#123;str(e)&#125;&quot;&#125;), 500    try:        response &#x3D; send_message(access_token, agent_id, to_user, title, content)    except Exception as e:        return jsonify(&#123;&quot;error&quot;: f&quot;å‘é€æ¶ˆæ¯æ—¶å‘ç”Ÿé”™è¯¯: &#123;str(e)&#125;&quot;&#125;), 500    # return jsonify(response)    return &quot;ok&quot;def send_message(access_token, agent_id, to_user, title, content):    &quot;&quot;&quot;æ¶ˆæ¯å‘é€&quot;&quot;&quot;    url &#x3D; f&quot;https:&#x2F;&#x2F;qyapi.weixin.qq.com&#x2F;cgi-bin&#x2F;message&#x2F;send?access_token&#x3D;&#123;access_token&#125;&quot;    payload &#x3D; &#123;        &quot;touser&quot;: to_user,  # æ¥æ”¶æ¶ˆæ¯çš„æˆå‘˜IDåˆ—è¡¨ï¼Œå¤šä¸ªç”¨ &#39;|&#39; åˆ†éš”        &quot;msgtype&quot;: &quot;text&quot;,        &quot;agentid&quot;: agent_id,        &quot;text&quot;: &#123;            &quot;content&quot;: f&quot;&#123;title&#125;\n&#123;content&#125;&quot;        &#125;,        &quot;safe&quot;: 0    &#125;    headers &#x3D; &#123;        &#39;Content-Type&#39;: &#39;application&#x2F;json&#39;    &#125;    response &#x3D; requests.post(url, headers&#x3D;headers, data&#x3D;json.dumps(payload))    response_data &#x3D; response.json()    if response_data[&#39;errcode&#39;] !&#x3D; 0:        raise Exception(f&quot;å‘é€æ¶ˆæ¯å¤±è´¥: &#123;response_data[&#39;errmsg&#39;]&#125;&quot;)    return response_dataif __name__ &#x3D;&#x3D; &quot;__main__&quot;:    app.run(host&#x3D;&#39;0.0.0.0&#39;, port&#x3D;5001, debug&#x3D;False)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Apiæµ‹è¯•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">http:&#x2F;&#x2F;localhost:5000&#x2F;?title&#x3D;å‘œå‘¼&amp;content&#x3D;å•Šå“ˆ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å¾®ä¿¡åŒæ­¥"><a href="#å¾®ä¿¡åŒæ­¥" class="headerlink" title="å¾®ä¿¡åŒæ­¥"></a>å¾®ä¿¡åŒæ­¥</h2><p>ä¼ä¸šå¾®ä¿¡çš„é€šçŸ¥æ¶ˆæ¯ä¸ä¼šåŒæ­¥åˆ°å¾®ä¿¡æ€ä¹ˆåŠ</p><p>åœ¨<strong>webç®¡ç†åå°-æˆ‘çš„ä¼ä¸š-å¾®ä¿¡æ’ä»¶</strong>ä¸­ï¼Œå¯è·å–â€œé‚€è¯·å…³æ³¨å¾®ä¿¡æ’ä»¶â€çš„äºŒç»´ç ã€‚</p><h2 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h2><p><a href="https://developer.work.weixin.qq.com/document/path/90665#14953">ä¼ä¸šå¾®ä¿¡å¼€å‘è€…æ–‡æ¡£</a></p><p><a href="https://work.weixin.qq.com/wework_admin/frame#apps/modApiApp/5629501444574894">ä¼ä¸šå¾®ä¿¡ (qq.com)</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>111_TGæ¶ˆæ¯è½¬å‘æœºå™¨äºº</title>
      <link href="/2024/07/14/111-tg-xiao-xi-zhuan-fa-ji-qi-ren/"/>
      <url>/2024/07/14/111-tg-xiao-xi-zhuan-fa-ji-qi-ren/</url>
      
        <content type="html"><![CDATA[<h2 id="é€šè¿‡CF-Workers"><a href="#é€šè¿‡CF-Workers" class="headerlink" title="é€šè¿‡CF Workers"></a>é€šè¿‡CF Workers</h2><p>ä½†æ˜¯ä¸å¥½ä½¿ä¸çŸ¥é“ä¸ºä»€ä¹ˆ</p><blockquote><p>å¯èƒ½æ˜¯æŸä¸ªæ­¥éª¤å‡ºç°é—®é¢˜ï¼Œåˆ é™¤é‡å¤ä¸€éå°±å¥½äº†</p></blockquote><p>é‡å¼„äº†ä¸€ä¸ªå°±å¥½äº†[Bot](<a href="https://t.me/KittyTech_bot">Telegram: Contact @KittyTech_bot</a>)</p><p><a href="https://www.nodeseek.com/post-31988-1">é…’ç¥è¯†åˆ«éª—å­BOTéƒ¨ç½²æ•™ç¨‹ (nodeseek.com)</a></p><h2 id="LivegramBot"><a href="#LivegramBot" class="headerlink" title="LivegramBot"></a>LivegramBot</h2><ul><li>@<a href="https://t.me/botfather">BotFather</a></li><li>@<a href="https://t.me/LivegramBot">LivegramBot</a></li></ul><p>é€šè¿‡<em>BotFather</em>åˆ›å»ºbotï¼Œå¹¶è·å–<em>token</em>ï¼Œå‘é€ç»™<em>LivegramBot</em>ï¼Œ&#x2F;startåå°±å¯ä»¥äº†ï¼Œä¸å¥½çš„åœ°æ–¹æ˜¯æˆ‘å›å¤çš„ä¿¡æ¯å›å†æ˜¾ç¤ºä¸€é</p><p>å¦‚ä½•å›å¤ä¿¡æ¯</p><blockquote><p>é€‰ä¸­ç„¶åReply</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>110_NRF24L01æ— çº¿é€šä¿¡æ¨¡å—</title>
      <link href="/2024/05/30/110-nrf24l01-wu-xian-tong-xin-mo-kuai/"/>
      <url>/2024/05/30/110-nrf24l01-wu-xian-tong-xin-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="SPIé€šä¿¡åè®®"><a href="#SPIé€šä¿¡åè®®" class="headerlink" title="SPIé€šä¿¡åè®®"></a>SPIé€šä¿¡åè®®</h2><p>åŒæ­¥:åŒæ­¥é€šä¿¡è¦æ±‚æ¥æ”¶ç«¯æ—¶é’Ÿé¢‘ç‡å’Œå‘é€ç«¯æ—¶é’Ÿé¢‘ç‡ä¸€è‡´ï¼Œå‘é€ç«¯å‘é€è¿ç»­çš„æ¯”ç‰¹æµï¼›æ²¡æœ‰æ•°æ®å‘é€çš„æ—¶å€™,å‘é€ç©ºå­—ç¬¦,æ•°æ®å¸§ä¹‹é—´ä¸èƒ½æœ‰é—´éš™</p><p>å¼‚æ­¥:å¯ä»¥é—´éš”ä»»æ„æ—¶é—´å‘é€æ•°æ®,ç”±äºå¼€å§‹ä½å’Œåœæ­¢ä½,æ‰€ä»¥ä¼ è¾“æ•ˆç‡è¾ƒä½</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>109_è“ç‰™æ¨¡å—</title>
      <link href="/2024/04/18/109-lan-ya-mo-kuai/"/>
      <url>/2024/04/18/109-lan-ya-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="HC-05"><a href="#HC-05" class="headerlink" title="HC-05"></a>HC-05</h2><p>æ¨¡å—çš„æŒ‡ä»¤ç»“æ„ä¸ºï¼šAT+&lt;&#x3D;PARAM&gt;ï¼Œ<strong>åœ¨å‘é€æœ«å°¾æ·»åŠ å›è½¦\r\nï¼‰</strong>ï¼Œå¦åˆ™æ¨¡å—ä¸å“åº”ã€‚</p><p>è¿›å…¥å‘½ä»¤å“åº”å·¥ä½œæ¨¡å¼æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>æ¨¡å—ä¸Šç”µï¼Œæœªé…å¯¹æƒ…å†µä¸‹å°±æ˜¯ATæ¨¡å¼ï¼Œæ³¢ç‰¹ç‡ä¸ºæ¨¡å—æœ¬èº«çš„æ³¢ç‰¹ç‡ï¼Œé»˜è®¤ï¼š9600ï¼Œå‘é€ä¸€æ¬¡ATæŒ‡ä»¤æ—¶éœ€è¦ç½®é«˜ä¸€æ¬¡PIO11ï¼›</li><li>PIO11 ç½®é«˜ç”µå¹³åï¼Œå†ç»™æ¨¡å—ä¸Šç”µï¼Œæ­¤æ—¶æ¨¡å—è¿›å…¥AT æ¨¡å¼ï¼Œæ³¢ç‰¹ç‡å›ºå®šä¸ºï¼š38400ï¼Œå¯ä»¥ç›´æ¥å‘é€ATæŒ‡ä»¤ã€‚</li></ul><h3 id="ATæŒ‡ä»¤"><a href="#ATæŒ‡ä»¤" class="headerlink" title="ATæŒ‡ä»¤"></a>ATæŒ‡ä»¤</h3><p>æ¯”å¦‚æˆ‘è¦æŸ¥çœ‹æ¨¡å—çš„ç‰ˆæœ¬ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">ä¸²å£å‘é€ï¼šAT+VERSION?\r\næ¨¡å—å›åº”ï¼š+VERSION:2.0-20100601<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">AT+NAME &#x3D; xlg è®¾ç½®è“ç‰™åç§°ä¸ºxlgAT+ROLE&#x3D;0     è“ç‰™æ¨¡å¼ä¸ºä»æ¨¡å¼ AT+ROLE&#x3D;1 è“ç‰™æ¨¡å¼ä¸ºä¸»æ¨¡å¼AT+CMODE&#x3D;0    è“ç‰™è¿æ¥æ¨¡å¼ä¸ºä»»æ„åœ°å€è¿æ¥æ¨¡å¼AT+PSWD&#x3D;1234  è“ç‰™é…å¯¹å¯†ç ä¸º1234AT+UART&#x3D;9600ï¼Œ0ï¼Œ0 è“ç‰™é€šä¿¡ä¸²å£æ³¢ç‰¹ç‡ä¸º9600ï¼Œåœæ­¢ä½1ä½ï¼Œæ— æ ¡éªŒä½AT+RMAAD           æ¸…ç©ºé…å¯¹åˆ—è¡¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>AT+NAME?ï¼šè·å¾—è®¾å¤‡åç§°ï¼Œè¿™ä¸ªATæŒ‡ä»¤æœ‰å¾ˆå¤§å¯èƒ½æ€§æ˜¯æ²¡æœ‰è¿”å›çš„ï¼Œå› ä¸ºæˆ‘ä¹Ÿçœ‹åˆ°äº†å¾ˆå¤šçš„ä¾‹å­â€¦â€¦ï¼Œä½†æ˜¯å…¶ä»–çš„æŒ‡ä»¤éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œç›´æ¥è®¾ç½®è®¾å¤‡åç§°å°±è¡Œäº†ï¼›</p><p>ä¸å¸¸ç”¨æŒ‡ä»¤</p><pre class="line-numbers language-none"><code class="language-none">2.AT+RESET:HC-05å¤ä½3. AT+VERSION?ï¼šè·å–HC-05çš„è½¯ä»¶ç‰ˆæœ¬å·ï¼Œåªèƒ½è·å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚4. AT+ORGL:æ¢å¤å‡ºå‚é»˜è®¤è®¾ç½®ï¼Œå½“æŠŠæ¨¡å—è®¾ç½®ä¹±äº†ï¼Œä½¿ç”¨æ­¤å‘½ä»¤è¿›è¡Œæ¢å¤é»˜è®¤å€¼ã€‚5. AT+ADDR?ï¼šè·å–HC-05çš„è“ç‰™åœ°å€ç ï¼Œåªèƒ½è·å–ï¼Œä¸èƒ½ä¿®æ”¹ã€‚6. AT+NAMEï¼Ÿ:è·å–HC-05çš„åå­—,AT+NAME&#x3D;xlgï¼Œä¿®æ”¹æ¨¡å—çš„åå­—ä¸ºxlgï¼Œå…·ä½“åå­—è‡ªè¡Œä¿®æ”¹ã€‚7. AT+CLASS?ï¼šè®¾ç½®æŸ¥è¯¢è®¾å¤‡çš„ç±»å‹ï¼Œå°½é‡ä¸è¦å»ä¿®æ”¹æ­¤å‚æ•°ã€‚é»˜è®¤æ˜¯1F00ã€‚8. AT+IAC?ï¼šæŸ¥è¯¢è®¾ç½®æŸ¥è¯¢è®¿é—®ç ï¼Œé»˜è®¤æ˜¯9E8B33ï¼Œå°½é‡ä¸è¦å»ä¿®æ”¹æ­¤å‚æ•°ã€‚9. AT+PSWDï¼Ÿ:æŸ¥è¯¢è®¾ç½®é…å¯¹å¯†ç ,AT+PSWD&#x3D;â€0000â€,å¯†ç è¦æœ‰åŒå¼•å·,å¯†ç æ˜¯å››ä½æ•°å­—.10. AT+UARTï¼šAT+UARTï¼Ÿæ˜¯æŸ¥è¯¢å½“å‰æ¨¡å—çš„æ³¢ç‰¹ç‡ï¼ŒAT+UART&#x3D;æ³¢ç‰¹ç‡,0,0ã€‚11. AT+CMODEï¼šAT+CMODEï¼Ÿæ˜¯æŸ¥è¯¢å½“å‰è¿æ¥æ¨¡å¼ã€‚AT+CMODE&#x3D;0ï¼Œ1ï¼Œ2(0â€”â€”æŒ‡å®šè“ç‰™åœ°å€è¿æ¥æ¨¡å¼ï¼ˆæŒ‡å®šè“ç‰™åœ°å€ç”±ç»‘å®šæŒ‡ä»¤è®¾ç½®ï¼‰1â€”â€”ä»»æ„è“ç‰™åœ°å€è¿æ¥æ¨¡å¼ï¼ˆä¸å—ç»‘å®šæŒ‡ä»¤è®¾ç½®åœ°å€çš„çº¦æŸï¼‰2â€”â€”å›ç¯è§’è‰²ï¼ˆSlave-Loopï¼‰é»˜è®¤è¿æ¥æ¨¡å¼ï¼š0)ã€‚12. AT+BIND:AT+BIND?æŸ¥è¯¢å½“å‰ç»‘å®šåœ°å€,AT+BIND&#x3D;NAPï¼ŒUAPï¼ŒLAP(ç”¨é€—å·éš”å¼€)ã€‚13. AT+RMADD:ä»è“ç‰™é…å¯¹åˆ—è¡¨ä¸­åˆ é™¤æ‰€æœ‰è®¤è¯è®¾å¤‡.14. AT+STATEï¼Ÿ:è·å–è“ç‰™æ¨¡å—å·¥ä½œçŠ¶æ€.15. AT+LINK&#x3D;NAP,UAP,LAPï¼šä¸è¿œç¨‹è®¾å¤‡å»ºç«‹è¿æ¥ã€‚17. AT+RNAMEï¼ŸNAPï¼ŒUAPï¼ŒLAP:è·å–è¿œç¨‹è“ç‰™è®¾å¤‡åç§°.18. AT+ADCN?ï¼šè·å–è“ç‰™é…å¯¹åˆ—è¡¨ä¸­è®¤è¯è®¾å¤‡æ•°ã€‚19. AT+MRADï¼Ÿè·å–æœ€è¿‘ä½¿ç”¨è¿‡çš„è“ç‰™è®¤è¯è®¾å¤‡åœ°å€ã€‚20. AT+INQM:è®¾ç½®æŸ¥è¯¢æ¨¡å¼,AT+INQM&#x3D;1ï¼Œ9ï¼Œ48(1-å¸¦RSSIä¿¡å·å¼ºåº¦æŒ‡ç¤º,9-è¶…è¿‡9ä¸ªè“ç‰™è®¾å¤‡å“åº”åˆ™ç»ˆæ­¢æŸ¥è¯¢,48-è®¾å®šè¶…æ—¶ä¸º48*1.28&#x3D;61.44ç§’)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="HC-06"><a href="#HC-06" class="headerlink" title="HC-06"></a>HC-06</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>è“ç‰™æ¨¡å—ä¸Šæœ‰ä¸€ä¸ªLEDï¼ŒLED æŒ‡ç¤ºè“ç‰™è¿æ¥çŠ¶æ€ï¼Œ é—ªçƒè¡¨ç¤ºæ²¡æœ‰è“ç‰™è¿æ¥ï¼Œå¸¸äº®è¡¨ç¤ºè“ç‰™å·²è¿æ¥å¹¶æ‰“å¼€äº†ç«¯å£</p><h3 id="ATæŒ‡ä»¤-1"><a href="#ATæŒ‡ä»¤-1" class="headerlink" title="ATæŒ‡ä»¤"></a>ATæŒ‡ä»¤</h3><blockquote><p>åœ¨æœªå»ºç«‹è“ç‰™è¿æ¥æ—¶æ”¯æŒé€šè¿‡ AT æŒ‡ä»¤è®¾ç½®æ³¢ç‰¹ç‡ã€åç§°ã€é…å¯¹å¯†ç ï¼Œ è®¾ç½®çš„å‚æ•°æ‰ç”µä¿å­˜</p></blockquote><p>é»˜è®¤çš„æ—¶å€™æ³¢ç‰¹ç‡ä¸º ï¼š9600<br>é…å¯¹å¯†ç ï¼š 1234</p><p>(1)æµ‹è¯•é€šè®¯<br>å‘é€ï¼š ATï¼ˆè¿”å› OKï¼Œä¸€ç§’å·¦å³å‘ä¸€æ¬¡ï¼‰<br>è¿”å›ï¼š OK</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">(1)æ”¹è“ç‰™ä¸²å£é€šè®¯æ³¢ç‰¹ç‡å‘é€ï¼š AT+BAUD1è¿”å›ï¼š +BAUD&#x3D;1æ­¤æ—¶æ³¢ç‰¹ç‡ä¸º 1200å‘é€ï¼š AT+BAUD2è¿”å›ï¼š +BAUD&#x3D;2æ­¤æ—¶æ³¢ç‰¹ç‡ä¸º 2400(2)æ”¹è“ç‰™åç§°å‘é€ï¼š AT+NAMEnameè¿”å›ï¼š OKå‚æ•° nameï¼šæ‰€è¦è®¾ç½®çš„å½“å‰åç§°ï¼Œå³è“ç‰™è¢«æœç´¢åˆ°çš„åç§°ã€‚ 20 ä¸ªå­—ç¬¦ä»¥å†…ã€‚å‘é€ AT+NAME123è¿”å›+NAME&#x3D;123è¿™æ—¶è“ç‰™åç§°æ”¹ä¸º 123(3)æ”¹è“ç‰™é…å¯¹å¯†ç å‘é€ï¼š AT+PINxxxxè¿”å›ï¼š +PIN&#x3D;xxxxå‚æ•° xxxxï¼šæ‰€è¦è®¾ç½®çš„é…å¯¹å¯†ç ï¼Œ 4 ä¸ªå­—èŠ‚ï¼Œæ­¤å‘½ä»¤å¯ç”¨äºä»æœºæˆ–ä¸»æœºã€‚ä»æœºåˆ™æ˜¯é€‚é…å™¨æˆ–æ‰‹æœºå¼¹å‡ºè¦æ±‚è¾“å…¥é…å¯¹å¯†ç çª—å£æ—¶ï¼Œåˆ™æ‰‹å·¥è¾“å…¥æ­¤å‚æ•°å°±å¯ä»¥è¿æ¥ä»æœºã€‚ä¸»æœºåˆ™æ˜¯åœ¨ç”¨ä¸»è“ç‰™æ¨¡å—è¿æ•°ç ç›¸æœºæ—¶ï¼Œæ•°ç ç›¸æœºæ˜¯ä»æœºï¼Œæ‰¾åˆ°ç›¸æœºçš„é…å¯¹å¯†ç ï¼Œå†è®¾å…¥ä¸»è“ç‰™æ¨¡å—ï¼Œåˆ™ä¸»è“ç‰™æ¨¡å—å°±å¯ä»¥è‡ªåŠ¨è¿æ¥ç›¸æœºã€‚ä¾‹ï¼šå‘é€ AT+PIN8888è¿”å›+PIN&#x3D;8888(4)æ›´æ”¹æ¨¡å—çš„ä¸»ä»æ¨¡å¼ï¼ˆV1.7 ç‰ˆæœ¬ä»¥åæ”¯æŒï¼‰å‘é€ï¼š AT+ROLE&#x3D;1ï¼ˆè®¾ç½®æ¨¡å—ä¸ºä¸»æ¨¡å¼ Masterï¼‰è¿”å›ï¼š +ROLE&#x3D;1å‘é€ï¼š AT+ROLE&#x3D;0ï¼ˆè®¾ç½®æ¨¡å—ä¸ºä»æ¨¡å¼ Slaveï¼‰è¿”å›ï¼š +ROLE&#x3D;0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¢ç‰¹ç‡å‚æ•°</p><blockquote><p>1â€”â€”â€”1200<br>2â€”â€”â€”2400<br>3â€”â€”â€”4800<br>4â€”â€”â€”9600<br>5â€”â€”â€”19200<br>6â€”â€”â€”38400<br>7â€”â€”â€”57600<br>8â€”â€”â€”115200<br>9â€”â€”â€”230400<br>Aâ€”â€”â€”460800<br>Bâ€”â€”â€”921600<br>Câ€”â€”â€”1382400</p></blockquote><h2 id="ç”µè„‘è¿æ¥è“ç‰™æ¨¡å—"><a href="#ç”µè„‘è¿æ¥è“ç‰™æ¨¡å—" class="headerlink" title="ç”µè„‘è¿æ¥è“ç‰™æ¨¡å—"></a>ç”µè„‘è¿æ¥è“ç‰™æ¨¡å—</h2><p><a href="https://so.csdn.net/so/search?q=%E8%93%9D%E7%89%99%E6%A8%A1%E5%9D%97&spm=1001.2101.3001.7020">è“ç‰™æ¨¡å—</a>HC05æ”¯æŒSPPåè®®ï¼Œä½¿ç”¨PCæœºè‡ªå¸¦è“ç‰™ï¼ˆæˆ–è€…è“ç‰™é€‚é…å™¨ï¼‰ä¸HC05è¿æ¥åï¼Œå¯åœ¨ç”µè„‘ç«¯è™šæ‹Ÿå‡ºä¸²å£ï¼Œè¿™æ ·ä¸Šä½æœºè½¯ä»¶å°±å¯ä»¥åƒæ“ä½œä¸²å£ä¸€æ ·ä¸HC05é€šä¿¡ã€‚</p><img src="/2024/04/18/109-lan-ya-mo-kuai/image-20240418150252453.png" class="" title="image-20240418150252453"><img src="/2024/04/18/109-lan-ya-mo-kuai/image-20240418150309451.png" class="" title="image-20240418150309451">## <p>ä¸²å£è½¯ä»¶è½¯ä»¶è¿æ¥COM23å°±å¯ä»¥å®ç°æ— çº¿ä¸²å£åŠŸèƒ½äº†</p><p>2017å¹´ç›˜é”¦å¸‚å…´éš†å°åŒºå…´éš†ä¸­å­¦ç­ä¸»ä»»é›·æ•¬å,</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><a href="https://shequ.stmicroelectronics.cn/thread-627049-1-1.html">HC-05è“ç‰™ä¸²å£é€šä¿¡æ¨¡å—ä½¿ç”¨è¯¦è§£ï¼ˆæ‰‹æœºè“ç‰™æ§åˆ¶STM32å•ç‰‡æœºï¼‰ (stmicroelectronics.cn)</a></p><p><a href="https://blog.csdn.net/lisgsheng/article/details/131690150?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-131690150-blog-121734788.235%5Ev43%5Epc_blog_bottom_relevance_base8&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-131690150-blog-121734788.235%5Ev43%5Epc_blog_bottom_relevance_base8&utm_relevant_index=4">HC05æ¨¡å—ä¸ç¬”è®°æœ¬è“ç‰™è¿æ¥_hc-05 ç”µè„‘-CSDNåšå®¢</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>108_åŸºäºPythonçš„ä¸Šä½æœºå¹³å°</title>
      <link href="/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/"/>
      <url>/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p><a href="https://pythonspot.com/pyqt5/">PyQT5 - Python æ•™ç¨‹ (pythonspot.com)</a></p><h2 id="-1"><a href="#-1" class="headerlink" title=""></a></h2><p>æˆ‘çš„å»ºè®®æ˜¯å…ˆç”¨tkinterå®ç°åŠŸèƒ½, ç¾è§‚å°±å†è¯´å§, èŠ‚çœæ—¶é—´è¦ç´§, å‡¡äº‹æœ‰ä¸ªè½»é‡ç¼“æ€¥</p><p>Error running â€˜QtDisignerâ€™: Cannot start process, the working directory â€˜E:\400_Pycharm\000_Project\programâ€™ does not exis</p><blockquote><p>mkdir â€œE:\400_Pycharm\000_Project\programâ€</p></blockquote><img src="/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/image-20240413072346514.png" class="" title="image-20240413072346514"><img src="/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/image-20240413072418715.png" class="" title="image-20240413072418715"><h2 id="çª—å£è‡ªé€‚åº”"><a href="#çª—å£è‡ªé€‚åº”" class="headerlink" title="çª—å£è‡ªé€‚åº”"></a>çª—å£è‡ªé€‚åº”</h2><p>é€‰äº†gridæ ¼å¼å°±æ— æ³•æ”¹å˜æŒ‰é’®çš„å½¢çŠ¶å¤§å°äº†</p><p>ä»å°åˆ°å¤§, æœ€åè®¾ç½®ä¸»çª—å£çš„å¸ƒå±€æ ¼å¼, è¿™æ ·å°±èƒ½å®ç°çª—å£è‡ªé€‚åº”äº†</p><h3 id="1-è®¾ç½®æŒ‰é’®å¤§å°å’Œæ ·å¼"><a href="#1-è®¾ç½®æŒ‰é’®å¤§å°å’Œæ ·å¼" class="headerlink" title="1. è®¾ç½®æŒ‰é’®å¤§å°å’Œæ ·å¼"></a>1. è®¾ç½®æŒ‰é’®å¤§å°å’Œæ ·å¼</h3><p>å¦‚æœä½ æƒ³åœ¨Qt Designerä¸­è®¾ç½®æŒ‰é’®çš„æœ€å°æˆ–æœ€å¤§å°ºå¯¸ï¼Œæˆ–è€…åº”ç”¨CSSæ ·å¼ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><ul><li><strong>æ‰“å¼€Qt Designer</strong> å¹¶åŠ è½½ä½ çš„<code>.ui</code>æ–‡ä»¶ã€‚</li><li><strong>é€‰æ‹©æŒ‰é’®</strong>ï¼šåœ¨è®¾è®¡è§†å›¾ä¸­ï¼Œç‚¹å‡»ä½ æƒ³è¦ä¿®æ”¹çš„æŒ‰é’®ã€‚</li><li>è®¾ç½®å±æ€§<ul><li>åœ¨å³ä¾§çš„<strong>å±æ€§ç¼–è¾‘å™¨</strong>ä¸­ï¼Œæ‰¾åˆ°<code>minimumSize</code>å’Œ<code>maximumSize</code>å±æ€§ï¼Œè¾“å…¥ä½ å¸Œæœ›çš„å°ºå¯¸å€¼ã€‚</li><li>è¦è®¾ç½®æ ·å¼ï¼ˆCSSï¼‰ï¼Œæ‰¾åˆ°<code>styleSheet</code>å±æ€§ï¼Œç‚¹å‡»å…¶å³ä¾§çš„å°æŒ‰é’®ï¼ˆâ€¦ï¼‰ï¼Œè¿™å°†æ‰“å¼€ä¸€ä¸ªç¼–è¾‘å™¨çª—å£ï¼Œåœ¨å…¶ä¸­ä½ å¯ä»¥è¾“å…¥CSSæ ·å¼ã€‚</li></ul></li></ul><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li><p>çª—å£é—ªé€€</p><p>æŸäº›åœ°æ–¹æŠ¥é”™,ä½¿ç”¨try exceptä¼˜åŒ–</p></li><li><p>æ¥æ”¶å¤šæ¡</p><p>å®šæ—¶å™¨é—´éš”å¤ªé•¿, è¯»å–æ¨¡å¼ä¸ºè¡Œè¯»å–</p><p>é—´éš”å¤ªé•¿å®¹æ˜“æ¥æ”¶ä¸¤ä»½æ•°æ®æ˜¾ç¤º</p></li><li><p>ä¸èƒ½æ¥å—ä¸­æ–‡</p><blockquote><p>å¯èƒ½æ˜¯å› ä¸ºè§£ç ä½¿ç”¨utf_8çš„æ ¼å¼, æ¢æˆGBKæ ¼å¼</p><p>**data &#x3D; self.serial.read_all().decode(â€˜gbkâ€™).strip() **</p><h3 id="å¸¸è§çš„ç¼–ç æ ¼å¼"><a href="#å¸¸è§çš„ç¼–ç æ ¼å¼" class="headerlink" title="å¸¸è§çš„ç¼–ç æ ¼å¼"></a><strong>å¸¸è§çš„ç¼–ç æ ¼å¼</strong></h3><ul><li><strong>UTF-8</strong>ï¼šæ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¯å˜é•¿åº¦å­—ç¬¦ç¼–ç ç³»ç»Ÿï¼Œå®ƒèƒ½è¡¨ç¤ºä»»ä½•ç°å­˜çš„å­—ç¬¦ï¼Œæ˜¯ç½‘ç»œä¸Šçš„æ ‡å‡†ã€‚</li><li><strong>GBK</strong>ï¼šæ˜¯ç”¨äºç®€åŒ–å­—ä¸­æ–‡çš„æ‰©å±•ç¼–ç ï¼Œæ¯”GB2312è¦†ç›–æ›´å¤šçš„ä¸­æ–‡å­—ç¬¦ã€‚</li><li><strong>GB2312</strong>ï¼šæ˜¯è¾ƒæ—©çš„ç®€ä½“ä¸­æ–‡å­—ç¬¦é›†æ ‡å‡†ï¼ŒåŒ…å«6763ä¸ªæ±‰å­—ã€‚</li><li><strong>GB18030</strong>ï¼šæ˜¯ä¸­å›½çš„ç°è¡Œå›½å®¶æ ‡å‡†ï¼Œå®ƒå…¼å®¹GBKå’ŒGB2312ï¼Œæ”¯æŒä»å•å­—èŠ‚çš„ASCIIåˆ°å››å­—èŠ‚çš„å¤æ‚å­—ç¬¦ã€‚</li></ul></blockquote></li><li><p>å¼‚å¸¸å¤„ç†å¾ˆé‡è¦</p><blockquote><p>å½“å‡ºç°ç¨‹åºè‡ªåŠ¨åœæ­¢ä½†æ˜¯æ²¡æœ‰æŠ¥é”™æ—¶,å¯ä»¥é€šè¿‡æ˜¯æŒ‡å¼‚å¸¸å¤„ç†æ‰¾åˆ°æŠ¥é”™</p></blockquote></li></ol><h2 id="ä¸€"><a href="#ä¸€" class="headerlink" title="ä¸€"></a>ä¸€</h2><p>è¿™ç§è°ƒåº“çš„å†™æ³•, åƒæ˜¯åœ¨çœ‹è¯´æ˜ä¹¦</p><h2 id="æŒ‰é’®"><a href="#æŒ‰é’®" class="headerlink" title="æŒ‰é’®"></a>æŒ‰é’®</h2><p>å›¾æ ‡</p><img src="/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/image-20240604222739540.png" class="" title="image-20240604222739540"><p>æŒ‰é’®é£æ ¼</p><img src="/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/image-20240604222757132.png" class="" title="image-20240604222757132"><p>æ ·å¼è¡¨ç”¨CSSæ”¹å˜å½¢çŠ¶</p><p><strong>é™åˆ¶æœ€å°å€¼</strong></p><h2 id="widget"><a href="#widget" class="headerlink" title="widget"></a>widget</h2><p>å®¹å™¨å¸ƒå±€</p><h2 id="æŒ‰é’®æŒ‰ä¸‹å’Œå¼¹"><a href="#æŒ‰é’®æŒ‰ä¸‹å’Œå¼¹" class="headerlink" title="æŒ‰é’®æŒ‰ä¸‹å’Œå¼¹"></a>æŒ‰é’®æŒ‰ä¸‹å’Œå¼¹</h2><p>åœ¨ PyQt çš„æ ·å¼è¡¨ä¸­ï¼Œä¼ªçŠ¶æ€é€‰æ‹©å™¨ç”¨äºå®šä¹‰æ§ä»¶åœ¨ç‰¹å®šçŠ¶æ€ä¸‹çš„å¤–è§‚ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„ä¼ªçŠ¶æ€é€‰æ‹©å™¨ï¼š</p><ul><li><code>QPushButton:hover</code>ï¼šå®šä¹‰é¼ æ ‡æ‚¬åœåœ¨æŒ‰é’®ä¸Šæ—¶çš„å¤–è§‚ã€‚</li><li><code>QPushButton:pressed</code>ï¼šå®šä¹‰æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶çš„å¤–è§‚ã€‚</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"># åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ ä¿¡å·æ§½è¿æ¥å’Œå…¶ä»–åˆå§‹åŒ–ä»£ç        self.apply_styles()       self.pushButton_start.clicked.connect(self.handle_start_button)       self.pushButton_a.clicked.connect(self.handle_button_a)       self.pushButton_b.clicked.connect(self.handle_button_b)       self.pushButton_forward.clicked.connect(self.handle_forward_button)       self.pushButton_backward.clicked.connect(self.handle_backward_button)       self.pushButton_left.clicked.connect(self.handle_left_button)       self.pushButton_right.clicked.connect(self.handle_right_button)       self.pushButton_stop.clicked.connect(self.handle_stop_button)   def apply_styles(self):       # è®¾ç½®æŒ‰é’®æ ·å¼è¡¨ï¼Œæ·»åŠ æŒ‰å‹æ•ˆæœ       button_style &#x3D; &quot;&quot;&quot;       QPushButton &#123;           border: 1px solid black;           border-radius: 10px;           background-color: #82A6FF;           min-width: 80px;           min-height: 40px;           font: bold 14px;           color: white;       &#125;       # æŒ‰å‹åœ¨åé¢æ‰èƒ½ç”Ÿæ•ˆ         QPushButton:hover &#123;           background-color: #9BBFFF;       &#125;       QPushButton:pressed &#123;           background-color:#000000;       &#125;            &quot;&quot;&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¸ƒå±€çº¦æŸäº†æŒ‰é’®çš„å¤§å°ï¼Œå¦‚ä½•è§£å†³</p><p><strong>æš‚æ—¶æœªéªŒè¯</strong></p><ol><li><strong>å–æ¶ˆç½‘æ ¼å¸ƒå±€</strong>ï¼š<ul><li>ä½¿ç”¨å‚ç›´å’Œæ°´å¹³å¸ƒå±€æ¥æ’åˆ—æŒ‰é’®ï¼Œç¡®ä¿æŒ‰é’®å’Œå›¾æ ‡å¤§å°ä¸€è‡´ï¼Œå¹¶ä½¿å¸ƒå±€æ•´æ´ã€‚</li></ul></li><li><strong>è°ƒæ•´æŒ‰é’®å’Œå›¾æ ‡çš„å¤§å°</strong>ï¼š<ul><li>åœ¨ <code>setup_button</code> æ–¹æ³•ä¸­ï¼Œè®¾ç½®æŒ‰é’®çš„å¤§å°ç­–ç•¥ä¸º <code>QtWidgets.QSizePolicy.Expanding</code>ï¼Œå¹¶è®¾ç½®æŒ‰é’®å’Œå›¾æ ‡çš„æœ€å°å’Œæœ€å¤§å°ºå¯¸ï¼Œä½¿å®ƒä»¬å®Œå…¨é‡åˆã€‚</li></ul></li><li><strong>ä½¿ç”¨å‚ç›´å’Œæ°´å¹³å¸ƒå±€æ’åˆ—æŒ‰é’®</strong>ï¼š<ul><li>å°†ä¸Šæ–¹å‘æŒ‰é’®å’Œä¸‹æ–¹å‘æŒ‰é’®æ”¾åœ¨å‚ç›´å¸ƒå±€ä¸­ï¼Œå¹¶å°†å·¦å³æ–¹å‘æŒ‰é’®å’Œåœæ­¢æŒ‰é’®æ”¾åœ¨æ°´å¹³å¸ƒå±€ä¸­ï¼Œç¡®ä¿å¸ƒå±€æ•´é½ã€‚</li></ul></li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">self.pushButton_start.clicked.connect(self.open_serial_port) è¿™è¡Œä»£ç çš„åŠŸèƒ½æ˜¯å°† self.pushButton_start æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ä¸ self.open_serial_port æ–¹æ³•è¿æ¥èµ·æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·ç‚¹å‡» self.pushButton_start æŒ‰é’®æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ self.open_serial_port æ–¹æ³•ã€‚è¯¦ç»†è®²è§£ï¼šself.pushButton_start:self.pushButton_start æ˜¯ä¸€ä¸ª QPushButton å¯¹è±¡ï¼Œè¡¨ç¤ºç”¨æˆ·ç•Œé¢ä¸­çš„ä¸€ä¸ªæŒ‰é’®ã€‚clicked ä¿¡å·:åœ¨ PyQt ä¸­ï¼Œæ¯ä¸ªæŒ‰é’®ï¼ˆQPushButtonï¼‰éƒ½æœ‰è®¸å¤šä¿¡å·ï¼Œå…¶ä¸­ä¸€ä¸ªæœ€å¸¸ç”¨çš„ä¿¡å·æ˜¯ clickedã€‚å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œè¿™ä¸ªä¿¡å·ä¼šè¢«è§¦å‘ã€‚connect æ–¹æ³•:connect æ–¹æ³•ç”¨äºå°†ä¿¡å·ä¸æ§½ï¼ˆslotï¼‰è¿æ¥èµ·æ¥ã€‚æ§½æ˜¯ä¸€ä¸ªå¯ä»¥è¢«è°ƒç”¨çš„å‡½æ•°æˆ–æ–¹æ³•ï¼Œå½“ä¿¡å·è§¦å‘æ—¶ï¼Œæ§½ä¼šè¢«è°ƒç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œconnect æ–¹æ³•å°† clicked ä¿¡å·ä¸ self.open_serial_port æ–¹æ³•è¿æ¥ã€‚self.open_serial_port æ–¹æ³•:self.open_serial_port æ˜¯åœ¨ç±»ä¸­å®šä¹‰çš„ä¸€ä¸ªæ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨æ˜¯æ‰“å¼€é€‰å®šçš„ä¸²å£ã€‚å·¥ä½œæµç¨‹ï¼šå½“ç”¨æˆ·ç‚¹å‡» self.pushButton_start æŒ‰é’®æ—¶ï¼Œself.pushButton_start å¯¹è±¡ä¼šå‘å‡º clicked ä¿¡å·ã€‚ç”±äº clicked ä¿¡å·å·²ç»é€šè¿‡ connect æ–¹æ³•ä¸ self.open_serial_port æ–¹æ³•è¿æ¥ï¼Œå› æ­¤ self.open_serial_port æ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚self.open_serial_port æ–¹æ³•ä¼šæ‰§è¡Œç›¸å…³ä»£ç ï¼Œå°è¯•æ‰“å¼€ç”¨æˆ·åœ¨ comboBox ä¸­é€‰æ‹©çš„ä¸²å£ï¼Œå¹¶è¿›è¡Œåˆå§‹åŒ–è®¾ç½®ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç”±å°åˆ°å¤§"><a href="#ç”±å°åˆ°å¤§" class="headerlink" title="ç”±å°åˆ°å¤§"></a>ç”±å°åˆ°å¤§</h2><p>æ€ç»´å¯¼å›¾åŠæ—¶å†™ï¼Œå®šæœŸå¤ä¹ æ‰€å­¦</p><p>æ¸©æ•…è€ŒçŸ¥æ–°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">UIç•Œé¢è®¾è®¡ç¨‹åºå¦‚ä¸‹ï¼šfrom PyQt5 import QtWidgets #å¯¼å…¥æ¨¡å— from THREE import Ui_MainWindow  Class MainApp(QtWidgets.QMainWindow, Ui_MainWindow):â€‹def __init__(self):  â€‹#  è¿™æ˜¯ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå½“åˆ›å»º MainApp ç±»çš„å®ä¾‹æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•ã€‚â€‹# self æ˜¯å¯¹ç±»å®ä¾‹è‡ªèº«çš„å¼•ç”¨ï¼Œç”¨äºè®¿é—®å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ã€‚  super(MainApp, self).__init__()â€‹# è°ƒç”¨äº†çˆ¶ç±»ï¼ˆQtWidgets.QMainWindow å’Œ Ui_MainWindowï¼‰çš„åˆå§‹åŒ–æ–¹æ³•ã€‚â€‹# super() å‡½æ•°ç”¨äºè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œç¡®ä¿çˆ¶ç±»ä¸­çš„åˆå§‹åŒ–ä»£ç åœ¨å­ç±»ä¸­ä¹Ÿèƒ½æ­£ç¡®æ‰§è¡Œã€‚é€šè¿‡è°ƒç”¨çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼ŒMainApp ç±»ç»§æ‰¿äº† QtWidgets.QMainWindow å’Œ Ui_MainWindow ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚ â€‹    self.setupUi(self)Â·  è°ƒç”¨äº† Ui_MainWindow ç±»ä¸­çš„ setupUi æ–¹æ³•ï¼Œå¹¶ä¼ é€’äº†å½“å‰ç±»çš„å®ä¾‹ self ä½œä¸ºå‚æ•°ã€‚Â· setupUi æ–¹æ³•ç”¨äºè®¾ç½®å’Œåˆå§‹åŒ–ç”¨æˆ·ç•Œé¢ï¼Œé…ç½®çª—å£çš„å¸ƒå±€ã€ç»„ä»¶ä»¥åŠä¿¡å·æ§½è¿æ¥ã€‚Â· é€šè¿‡è°ƒç”¨ setupUi æ–¹æ³•ï¼ŒMainApp ç±»å®ä¾‹ä¼šæ ¹æ® Ui_MainWindow ä¸­å®šä¹‰çš„å¸ƒå±€å’Œç»„ä»¶åˆå§‹åŒ–ç•Œé¢ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="try-except"><a href="#try-except" class="headerlink" title="try except"></a>try except</h2><p>å¯ä»¥é˜²æ­¢ç¨‹åºè‡ªåŠ¨é€€å‡ºï¼Œä¸æ˜¾ç¤ºæŠ¥é”™</p><h2 id="labelåˆ‡æ¢å›¾ç‰‡æ¨¡ä»¿led"><a href="#labelåˆ‡æ¢å›¾ç‰‡æ¨¡ä»¿led" class="headerlink" title="labelåˆ‡æ¢å›¾ç‰‡æ¨¡ä»¿led"></a>labelåˆ‡æ¢å›¾ç‰‡æ¨¡ä»¿led</h2><h2 id="æ€è€ƒåŠŸèƒ½"><a href="#æ€è€ƒåŠŸèƒ½" class="headerlink" title="æ€è€ƒåŠŸèƒ½"></a>æ€è€ƒåŠŸèƒ½</h2><img src="/2024/04/11/108-ji-yu-python-de-shang-wei-ji-ping-tai/image-20240608212622365.png" class="" title="image-20240608212622365"><h2 id="è¶…å£°æ³¢"><a href="#è¶…å£°æ³¢" class="headerlink" title="è¶…å£°æ³¢"></a>è¶…å£°æ³¢</h2><ol><li>Pyinstaller -F py_word.py æ‰“åŒ…exe</li><li></li><li>Pyinstaller -F -w py_word.py ä¸å¸¦æ§åˆ¶å°çš„æ‰“åŒ…</li><li></li><li>Pyinstaller -F -w -i chengzi.ico py_word.py æ‰“åŒ…æŒ‡å®šexeå›¾æ ‡æ‰“åŒ…</li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://www.byhy.net/py/qt/qt_03/">ç•Œé¢è®¾è®¡å’Œå¸ƒå±€ - ç™½æœˆé»‘ç¾½ (byhy.net)</a>1</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>107_Max30102æ¨¡å—</title>
      <link href="/2024/04/09/107-max30102-mo-kuai/"/>
      <url>/2024/04/09/107-max30102-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="å¯„å­˜å™¨"><a href="#å¯„å­˜å™¨" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;*MAX30102å¯„å­˜å™¨åœ°å€å®å®šä¹‰*&#x2F;#define max30100_WR_address 0xAE#define MAX30102_Device_address max30100_WR_address#define I2C_WR0&#x2F;* å†™æ§åˆ¶bit *&#x2F;#define I2C_RD1&#x2F;* è¯»æ§åˆ¶bit *&#x2F;#define REG_INTR_STATUS_1 0x00#define REG_INTR_STATUS_2 0x01#define REG_INTR_ENABLE_1 0x02#define REG_INTR_ENABLE_2 0x03#define REG_FIFO_WR_PTR 0x04#define REG_OVF_COUNTER 0x05#define REG_FIFO_RD_PTR 0x06#define REG_FIFO_DATA 0x07#define REG_FIFO_CONFIG 0x08#define REG_MODE_CONFIG 0x09#define REG_SPO2_CONFIG 0x0A#define REG_LED1_PA 0x0C#define REG_LED2_PA 0x0D#define REG_PILOT_PA 0x10#define REG_MULTI_LED_CTRL1 0x11#define REG_MULTI_LED_CTRL2 0x12#define REG_TEMP_INTR 0x1F#define REG_TEMP_FRAC 0x20#define REG_TEMP_CONFIG 0x21#define REG_PROX_INT_THRESH 0x30#define REG_REV_ID 0xFE#define REG_PART_ID 0xFF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¯»å–å¯„å­˜å™¨çš„æ•°æ®"><a href="#è¯»å–å¯„å­˜å™¨çš„æ•°æ®" class="headerlink" title="è¯»å–å¯„å­˜å™¨çš„æ•°æ®"></a>è¯»å–å¯„å­˜å™¨çš„æ•°æ®</h2><p>è¯»å“ªä¸ªå¯„å­˜å™¨</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">FIFO_DATA 0x07<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ä½¿ç”¨MAX30102çš„FIFOæ—¶ï¼Œé€šå¸¸ä¸éœ€è¦ä½ ç›´æ¥æ“ä½œFIFOè¯»æŒ‡é’ˆï¼ˆFIFO_RD_PTRï¼‰ã€‚FIFOè¯»æŒ‡é’ˆçš„è‡ªåŠ¨é€’å¢æ˜¯MAX30102å†…éƒ¨æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨ç®€åŒ–ä»FIFOä¸­è¿ç»­è¯»å–æ•°æ®çš„è¿‡ç¨‹ã€‚</p><p>å½“ä½ ä»FIFO_DATAå¯„å­˜å™¨è¯»å–æ•°æ®æ—¶ï¼ŒMAX30102å†…éƒ¨çš„FIFOè¯»æŒ‡é’ˆä¼šè‡ªåŠ¨å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡è¯»å–ã€‚è¿™æ„å‘³ç€æ¯æ¬¡è¯»å–æ“ä½œåï¼ŒFIFO_RD_PTRéƒ½ä¼šè‡ªåŠ¨æ›´æ–°ï¼ŒæŒ‡å‘FIFOä¸­çš„ä¸‹ä¸€ä¸ªå¾…è¯»å–æ•°æ®ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</p><p>å¦‚æœä½ éœ€è¦ä»FIFOçš„ç‰¹å®šä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œæˆ–è€…éœ€è¦é‡ç½®FIFOåˆ°å·²çŸ¥çŠ¶æ€ï¼Œä½ å¯ä»¥é€šè¿‡å†™å…¥FIFOè¯»æŒ‡é’ˆã€å†™æŒ‡é’ˆå’Œæº¢å‡ºè®¡æ•°å™¨å¯„å­˜å™¨æ¥å®ç°ã€‚é€šå¸¸ï¼Œåœ¨åˆå§‹åŒ–MAX30102æˆ–å‡†å¤‡æ–°çš„æ•°æ®é‡‡é›†ä¼šè¯ä¹‹å‰ï¼Œä¼šå°†è¿™äº›æŒ‡é’ˆå¯„å­˜å™¨é‡ç½®ä¸ºé›¶ï¼š</p><p><strong>æ€ä¹ˆè¯»</strong></p><blockquote><p>FIFO Data RegisterThe circular FIFO depth is 32 and can hold up to 32 samples of data. The sample size depends on the number of LED channels (a.k.a. channels) configured as active. As each channel signal is stored as a 3-byte data signal, the FIFO width can be 3 bytes or 6 bytes in size.The FIFO_DATA register in the I2C register map points to the next sample to be read from the FIFO. FIFO_RD_PTR points to this sample. Reading FIFO_DATA register, does not automatically increment the I2C register address. Burst reading this register, reads the same address over and over. Each sample is 3 bytes of data per channel (i.e., 3 bytes for RED, 3 bytes for IR, etc.).The FIFO registers (0x04â€“0x07) can all be written and read, but in practice only the FIFO_RD_PTR register should be written to in operation. The others are automatically incremented or filled with data by the MAX30102. When starting a new SpO2 or heart rate conversion, it is recommended to first clear the FIFO_WR_PTR, OVF_COUNTER, and FIFO_RD_PTR registers to all zeroes (0x00) to ensure the FIFO is empty and in a known state. When reading the MAX30102 registers in one burst-read I2C transaction, the register address pointer typically increments so that the next byte of data sent is from the next register, etc. The exception to this is the FIFO data register, register 0x07. When reading this register, the address pointer does not increment, but the FIFO_RD_PTR does. So the next byte of data sent represents the next byte of data available in the FIFO.Reading from the FIFONormally, reading registers from the I2C interface autoincrements the register address pointer, so that all the registers can be read in a burst read without an I2C start event. In the MAX30102, this holds true for all registers except for the FIFO_DATA register (register 0x07).Reading the FIFO_DATA register does not automatically increment the register address. Burst reading this register reads data from the same address over and over. Each sample comprises multiple bytes of data, so multiple bytes should be read from this register (in the same transaction) to get one full sample.The other exception is 0xFF. Reading more bytes after the 0xFF register does not advance the address pointer back to 0x00, and the data read is not meaningful.FIFO Data StructureThe data FIFO consists of a 32-sample memory bank that can store IR and Red ADC data. Since each sample consists of two channels of data, there are 6 bytes of data for each sample, and therefore 192 total bytes of data can be stored in the FIFO.The FIFO data is left-justified as shown in Table 1; in other words, the MSB bit is always in the bit 17 data position regardless of ADC resolution setting. See Table 2 for a visual presentation of the FIFO data structure  </p></blockquote><img src="/2024/04/09/107-max30102-mo-kuai/image-20240410214224496.png" class="" title="image-20240410214224496"><p><strong>ä¸ºä»€ä¹ˆè¯»6æ¬¡</strong></p><p>å› ä¸ºæ¯ä¸ªé‡‡æ ·æœ‰ä¸¤ä¸ªæ•°æ®é€šé“,å’Œå…­ä¸ªå­—èŠ‚</p><blockquote><p>The data FIFO consists of a 32-sample memory bank that can store IR and Red ADC data. Since each sample consists of <strong>two channels</strong> of data, there are <strong>6 bytes of data for each sample</strong></p></blockquote><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><ol><li><strong>ä¸æ˜¯è¯´åœ°å€ä¸ä¼šè‡ªå¢å—,ä¸ºä»€ä¹ˆå¯ä»¥é‡å¤è¯»å…­æ¬¡</strong></li></ol><blockquote><p>å¯„å­˜å™¨æ—¶åœ°å€ä¸ä¼šè‡ªå¢ï¼ŒæŒ‡çš„æ˜¯å•ç‹¬å¯¹FIFO_DATAå¯„å­˜å™¨çš„è¯»å–æ“ä½œä¸ä¼šå¯¼è‡´I2Cå†…éƒ¨å¯„å­˜å™¨åœ°å€çš„è‡ªåŠ¨é€’å¢ï¼Œè¿™æ„å‘³ç€å¦‚æœä½ åå¤å‘å‡ºè¯»å–æŒ‡ä»¤ï¼Œè€Œä¸é‡æ–°æŒ‡å®šåœ°å€ï¼Œä½ å°†ä¼šè¿ç»­è¯»åˆ°åŒä¸€ä¸ªå¯„å­˜å™¨çš„æ•°æ®ã€‚</p></blockquote><blockquote><p>åœ¨ä½ æä¾›çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡ä¸€æ¬¡I2Cå¼€å§‹ä¿¡å·å’Œè®¾å¤‡åœ°å€ï¼ˆåŒ…å«è¯»ä½ï¼‰çš„å‘é€åï¼Œè¿ç»­è¯»å–6ä¸ªå­—èŠ‚çš„æ•°æ®å®é™…ä¸Šæ˜¯åœ¨è¿ç»­è¯»å–FIFO_DATAå¯„å­˜å™¨çš„å½“å‰å†…å®¹6æ¬¡ã€‚<strong>ç”±äºFIFO_RD_PTRï¼ˆFIFOè¯»æŒ‡é’ˆï¼‰ä¼šåœ¨æ¯æ¬¡ä»FIFO_DATAå¯„å­˜å™¨è¯»å–æ•°æ®åè‡ªåŠ¨é€’å¢ï¼Œæ‰€ä»¥æ¯æ¬¡è¯»å–æ“ä½œå®é™…ä¸Šéƒ½ä¼šè·å–åˆ°FIFOä¸­çš„ä¸‹ä¸€ä¸ªæ•°æ®æ ·æœ¬ï¼Œå³ä½¿å¯„å­˜å™¨åœ°å€æ²¡æœ‰æ”¹å˜</strong>ã€‚</p></blockquote><ol start="2"><li><p><strong>ä¸å¤ªç†è§£FIFO_RD_PTRä¸FIFO_DATAçš„å…³ç³»</strong></p><p>FIFOè¯»æŒ‡é’ˆçš„è‡ªåŠ¨é€’å¢æ˜¯MAX30102å†…éƒ¨æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨ç®€åŒ–ä»FIFOä¸­è¿ç»­è¯»å–æ•°æ®çš„è¿‡ç¨‹ã€‚</p><p>å½“ä½ ä»FIFO_DATAå¯„å­˜å™¨è¯»å–æ•°æ®æ—¶ï¼ŒMAX30102å†…éƒ¨çš„FIFOè¯»æŒ‡é’ˆä¼šè‡ªåŠ¨å‘å‰ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä½ç½®ï¼Œå‡†å¤‡ä¸‹ä¸€æ¬¡è¯»å–ã€‚è¿™æ„å‘³ç€æ¯æ¬¡è¯»å–æ“ä½œåï¼ŒFIFO_RD_PTRéƒ½ä¼šè‡ªåŠ¨æ›´æ–°ï¼ŒæŒ‡å‘FIFOä¸­çš„ä¸‹ä¸€ä¸ªå¾…è¯»å–æ•°æ®ï¼Œè€Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ã€‚</p>   <pre class="line-numbers language-c" data-language="c"><code class="language-c">void MAX30102_IIC_ReadReg(uint8_t slave_ID,uint8_t RegAddress)  &#x2F;&#x2F;è¯»å–6ä¸ªå­—èŠ‚&#123;    fifo_red&#x3D;0;    fifo_ir&#x3D;0;uint16_t Data1,Data2,Data3,Data4,Data5,Data6;IIC_Start();&#x2F;&#x2F;I2Cèµ·å§‹IIC_SendByte(slave_ID);&#x2F;&#x2F;å‘é€ä»æœºåœ°å€ï¼Œè¯»å†™ä½ä¸º0ï¼Œè¡¨ç¤ºå³å°†å†™å…¥IIC_ReceiveAck();&#x2F;&#x2F;æ¥æ”¶åº”ç­”IIC_SendByte(RegAddress);&#x2F;&#x2F;å‘é€å¯„å­˜å™¨åœ°å€IIC_ReceiveAck();&#x2F;&#x2F;æ¥æ”¶åº”ç­”IIC_Start();&#x2F;&#x2F;I2Cé‡å¤èµ·å§‹IIC_SendByte(slave_ID | 0x01);&#x2F;&#x2F;å‘é€ä»æœºåœ°å€ï¼Œè¯»å†™ä½ä¸º1ï¼Œè¡¨ç¤ºå³å°†è¯»å–IIC_ReceiveAck();&#x2F;&#x2F;æ¥æ”¶åº”ç­”Data1 &#x3D; IIC_ReceiveByte();&#x2F;&#x2F;æ¥æ”¶æŒ‡å®šå¯„å­˜å™¨çš„æ•°æ®IIC_SendAck(0);&#x2F;&#x2F;å‘é€åº”ç­”ï¼Œç»™ä»æœºéåº”ç­”ï¼Œç»ˆæ­¢ä»æœºçš„æ•°æ®è¾“å‡ºData2 &#x3D; IIC_ReceiveByte();IIC_SendAck(0);Data3 &#x3D; IIC_ReceiveByte();IIC_SendAck(0);Data4 &#x3D; IIC_ReceiveByte();&#x2F;&#x2F;æ¥æ”¶æŒ‡å®šå¯„å­˜å™¨çš„æ•°æ®IIC_SendAck(0);&#x2F;&#x2F;å‘é€åº”ç­”ï¼Œç»™ä»æœºéåº”ç­”ï¼Œç»ˆæ­¢ä»æœºçš„æ•°æ®è¾“å‡ºData5 &#x3D; IIC_ReceiveByte();IIC_SendAck(0);Data6 &#x3D; IIC_ReceiveByte();IIC_SendAck(1);IIC_Stop();&#x2F;&#x2F;I2Cç»ˆæ­¢    &#x2F;&#x2F;å°†è¯»å–çš„6ä¸ªå­—èŠ‚æ•°æ®é€šè¿‡ä½ç§»æ“ä½œé‡ç»„æˆä¸¤ä¸ª18ä½çš„æ•°æ®ï¼Œåˆ†åˆ«ä»£è¡¨çº¢å…‰å’Œçº¢å¤–å…‰é€šData1 &lt;&lt;&#x3D; 14;        fifo_red+&#x3D;Data1;Data2 &lt;&lt;&#x3D; 6;    fifo_red+&#x3D;Data2;Data3 &gt;&gt;&#x3D; 2;    fifo_red+&#x3D;Data3;Data4 &lt;&lt;&#x3D; 14;    fifo_ir+&#x3D;Data4;Data5 &lt;&lt;&#x3D; 6;    fifo_ir+&#x3D;Data5;Data6 &gt;&gt;&#x3D; 2;    fifo_ir+&#x3D;Data6;if(fifo_ir&lt;&#x3D;10000)&#123;fifo_ir&#x3D;0;&#125;if(fifo_red&lt;&#x3D;10000)&#123;fifo_red&#x3D;0;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><p>MSBï¼ˆMost Significant Bitï¼‰æŒ‡çš„æ˜¯äºŒè¿›åˆ¶æ•°å­—ä¸­æœ€é«˜ä½çš„ä½ï¼Œå³æƒå€¼æœ€å¤§çš„ä½ã€‚åœ¨ä¸€ä¸ªäºŒè¿›åˆ¶æ•°ä¸­ï¼ŒMSBä½äºæœ€å·¦è¾¹ã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„éè´Ÿæ•°ï¼ŒMSBå¯¹æ•°å€¼çš„å½±å“æœ€å¤§ï¼Œå› ä¸ºå®ƒä»£è¡¨äº†æœ€å¤§çš„æƒå€¼ã€‚</p><ol start="3"><li>**è¿™ä¸ªç§»ä½ç©¶ç«Ÿæ˜¯æ€ä¹ˆä¸ªç§»ä½</li></ol><ul><li><strong>BYTE 1</strong> åŒ…å«äº†æœ€é«˜æœ‰æ•ˆä½ï¼Œä¹Ÿå°±æ˜¯<code>FIFO_DATA[17]</code>å’Œ<code>FIFO_DATA[16]</code>ã€‚</li><li><strong>BYTE 2</strong> åŒ…å«äº†æ¥ä¸‹æ¥çš„ä½ï¼Œä»<code>FIFO_DATA[15]</code>åˆ°<code>FIFO_DATA[8]</code>ã€‚</li><li><strong>BYTE 3</strong> åŒ…å«äº†<code>FIFO_DATA[7]</code>åˆ°<code>FIFO_DATA[0]</code>ï¼Œ</li></ul><blockquote><p>0000 00aa</p><p>aa00  0000 0000 0000</p><p>bbccddee</p><p>bb ccdd ee00 0000</p><p>kkll mmnn</p><p>00kk llmm nn</p></blockquote><blockquote><p>aa00  0000 0000 0000 00</p><p>â€‹    bb ccdd ee00 0000 00 </p><p>â€‹                  00kk llmm nn</p></blockquote><h2 id="é€šè¿‡å…¬å¼è®¡ç®—"><a href="#é€šè¿‡å…¬å¼è®¡ç®—" class="headerlink" title="é€šè¿‡å…¬å¼è®¡ç®—"></a>é€šè¿‡å…¬å¼è®¡ç®—</h2><h2 id="å¿ƒç‡åŸç†"><a href="#å¿ƒç‡åŸç†" class="headerlink" title="å¿ƒç‡åŸç†"></a>å¿ƒç‡åŸç†</h2><img src="/2024/04/09/107-max30102-mo-kuai/image-20240412082525496.png" class="" title="image-20240412082525496"><img src="/2024/04/09/107-max30102-mo-kuai/image-20240412082501374.png" class="" title="image-20240412082501374"><p>é¡ºåŠ¿å¿ƒç‡å¯ä»¥é€šè¿‡æµ‹é‡è¿ç»­æ”¶ç¼©å³°å€¼ä¹‹é—´çš„æ—¶é—´æ¥è®¡ç®—</p><p>æ³¨æ„: åªä½¿ç”¨ä¸€ä¸ªLEDå°±å¯ä»¥æµ‹é‡å¿ƒç‡,å› ä¸ºåªéœ€è¦äº¤æµä¿¡å·åˆ†é‡</p><h2 id="è¡€æ°§åŸç†"><a href="#è¡€æ°§åŸç†" class="headerlink" title="è¡€æ°§åŸç†"></a>è¡€æ°§åŸç†</h2><p>1.4 è¡€æ°§è®¡ç®—(SpO2)</p><p>è¡€æ°§æµ“åº¦ï¼Œæ˜¯æŒ‡è¡€ä¸­æ°§é¥±å’Œè¡€çº¢è›‹ç™½ç›¸å¯¹äºæ€»<a href="https://zh.wikipedia.org/wiki/%E8%A1%80%E7%BA%A2%E8%9B%8B%E7%99%BD">è¡€çº¢è›‹ç™½</a>ï¼ˆä¸é¥±å’Œ+é¥±å’Œï¼‰çš„æ¯”ä¾‹</p><p>è¡€å‹è®¡ç®—å…¬å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œè¿™é‡ŒMAX30102æ˜¯ä¸€è·¯çº¢å…‰ï¼Œä¸€è·¯çº¢å¤–ã€‚åªåˆ†åˆ«ç®—å‡ºçº¢å…‰çš„äº¤æµé™¤ä»¥çº¢å…‰çš„ç›´æµå³: ACred&#x2F;DCredï¼Œå’Œçº¢å¤–çš„äº¤æµé™¤ä»¥çº¢å¤–çš„ç›´æµåˆ†é‡å³ï¼šACired&#x2F;DCiredã€‚ç„¶åä¸¤è€…å†ç›¸é™¤å¾—åˆ°Rã€‚</p><h3 id="å’‹ç®—"><a href="#å’‹ç®—" class="headerlink" title="å’‹ç®—???"></a>å’‹ç®—???</h3><img src="/2024/04/09/107-max30102-mo-kuai/20201107134420733.png" class="" title="img"><p>å¾—åˆ° R ç„¶åæŸ¥è¡¨å³å¯å¾—åˆ°è¡€æ°§å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢ç¾ä¿¡æ‹Ÿåˆçš„å…¬å¼è®¡ç®—ï¼š</p><p><code>SpO2 = -45.060*R*R + 30.354 *R + 94.845</code></p><p>4ã€å¿ƒç‡è¯†åˆ«ï¼š<br>delta &#x3D; å›¾3ä¸¤ä¸ªå°–å³°æ—¶é—´ï¼›<br>å¿ƒç‡ &#x3D; 1 &#x2F; dalta.</p><p>5ã€è¡€æ°§è®¡ç®—<br>R&#x3D;((ir_max+ir_min)(red_max-red_min))&#x2F;((red_max+red_min)(ir_max-ir_min));<br>SpO2&#x3D; ((-45.060)RR + 30.354*R + 94.845).</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li><p>çœ‹ä¸æ‡‚æ‰‹å†Œ, ä¸­æ–‡çš„ä¹Ÿçœ‹ä¸æ‡‚</p></li><li><p>ç›®å‰é—®é¢˜æ˜¯,è¯»å‡ºäº†fifoçš„æ•°æ®, ä¸çŸ¥é“å¯¹ä¸å¯¹, ä¸çŸ¥é“å’‹é‚£ä¹ˆç”¨</p></li><li><p>æ‰“ç®—æå–ä¾‹ç¨‹åº“ç›´æ¥æ‹¿æ•°æ®è¯•è¯•</p></li><li><p>è¯»å–çš„å¯„å­˜å™¨çš„å€¼æ˜¯ä»€ä¹ˆ</p><p><code>çº¢å…‰å’Œçº¢å¤–å…‰çš„åå°„å€¼</code></p><blockquote><p>MAX30102è„‰æè¡€æ°§ä»ªå’Œå¿ƒç‡ä¼ æ„Ÿå™¨åŒ…å«ä¸¤ä¸ªLEDï¼Œåˆ†åˆ«å‘å°„çº¢å…‰(RED)å’Œçº¢å¤–å…‰(IR)ï¼Œå…‰çº¿ç…§å°„è¿›äººä½“ç»„ç»‡åä¸€éƒ¨åˆ†è¢«å¸æ”¶ï¼Œå¦ä¸€éƒ¨åˆ†åå°„å…‰è¢«é›†æˆçš„å…‰ç”µä¼ æ„Ÿå™¨æ•è·ã€è½¬å˜ä¸ºç”µä¿¡å·ã€‚ä¸¤ç§å…‰çš„ç”µä¿¡å·éƒ½ä¼šå‘ˆç°å‡ºå…·æœ‰ç›´æµ(DC)æˆåˆ†çš„äº¤æµ(AC)ä¿¡å·ï¼ŒACæˆåˆ†çš„é¢‘ç‡å°±æ˜¯è„‰æé¢‘ç‡ï¼Œä½¿ç”¨ä»»ä½•ä¸€ä¸ªç”µä¿¡å·å°±èƒ½è·å¾—å¿ƒè·³é¢‘ç‡ã€‚</p><p>è¡€æ°§æµ“åº¦(SpO2)çš„è®¡ç®—éœ€è¦åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªç”µä¿¡å·ï¼Œä¼°ç®—SpO2</p><img src="/2024/04/09/107-max30102-mo-kuai/image-20240418112027421.png" class="" title="image-20240418112027421"></blockquote></li><li><p>å¦‚ä½•å°†å…¶è½¬æ¢ä¸ºå¿ƒç‡å’Œè¡€æ°§(ä¹Ÿå°±æ˜¯ç®—æ³•)</p></li><li><p>ä¸è¦çº ç»“è‡ªå·±é‡æ–°åšä¸€é,è¿™æ ·ä¹Ÿæ˜¯æœ‰å¥½å¤„çš„,å¯ä»¥å‘ç°è‡ªå·±çš„é—®é¢˜</p><p>ä½†æ˜¯æœ€å®è´µçš„æ˜¯æ—¶é—´,æˆ‘éœ€è¦ç”¨å°½é‡å°‘çš„æ—¶é—´å°½å¯èƒ½çš„å®Œæˆè¾ƒå¤šçš„ä»»åŠ¡</p><p>,æ˜ç™½å…¶åŸç†,ç§»æ¤å°±å¯ä»¥äº†</p><p>åŠ æ²¹</p></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://blog.csdn.net/weixin_62425199/article/details/136096478?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~YuanLiJiHua~Position-2-136096478-blog-128573054.235%5Ev43%5Epc_blog_bottom_relevance_base8&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~YuanLiJiHua~Position-2-136096478-blog-128573054.235%5Ev43%5Epc_blog_bottom_relevance_base8&utm_relevant_index=3">MAX30102å¯„å­˜å™¨å‚è€ƒ</a></p><p><a href="https://blog.csdn.net/u012183892/article/details/109545972?ops_request_misc=%7B%22request_id%22:%22171283555616800227478257%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=171283555616800227478257&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-1-109545972-null-null.nonecase&utm_term=max30102%E5%BF%83%E7%8E%87%E7%AE%97%E6%B3%95&spm=1018.2226.3001.4450">ç®—æ³•å‚è€ƒ</a></p><p><a href="https://blog.csdn.net/tutututuo/article/details/115050516">MAX30102å­¦ä¹ ç¬”è®°ï¼ˆä¸‹ï¼‰_max30102ä¸0.96å¯¸oledè¿æ¥-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/u012183892/article/details/109545972?ops_request_misc=%7B%22request_id%22:%22171283555616800227478257%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=171283555616800227478257&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-1-109545972-null-null.nonecase&utm_term=max30102%E5%BF%83%E7%8E%87%E7%AE%97%E6%B3%95&spm=1018.2226.3001.4450">MAX30102 è¡€æ°§è°ƒè¯•ç¬”è®°-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_37385726/article/details/89041710">å…‰ç”µå®¹ç§¯è„‰ææ³¢æè®°æ³•PPG-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/weixin_62425199/article/details/136096478?ops_request_misc=%7B%22request_id%22:%22171341003516800225526011%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=171341003516800225526011&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~times_rank-1-136096478-null-null.nonecase&utm_term=max30102%E4%BC%A0%E6%84%9F%E5%99%A8%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86&spm=1018.2226.3001.4450">MAX30102è„‰æè¡€æ°§ä»ªå’Œå¿ƒç‡ä¼ æ„Ÿå™¨ï¼ˆå«å¯„å­˜å™¨ä»‹ç»ï¼‰_max30102å¿ƒç‡ç®—æ³•è¯¦è§£-CSDNåšå®¢</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è¶…å£°æ³¢æ¨¡å—</title>
      <link href="/2024/04/08/106-chao-sheng-bo-mo-kuai/"/>
      <url>/2024/04/08/106-chao-sheng-bo-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="å¤–éƒ¨ä¸­æ–­"><a href="#å¤–éƒ¨ä¸­æ–­" class="headerlink" title="å¤–éƒ¨ä¸­æ–­"></a>å¤–éƒ¨ä¸­æ–­</h2><h2 id="è¾“å…¥æ•è·"><a href="#è¾“å…¥æ•è·" class="headerlink" title="è¾“å…¥æ•è·"></a>è¾“å…¥æ•è·</h2><p>åº”è¯¥éœ€è¦ä¸­æ–­å§</p><p>å®šæ—¶å™¨ä¸­æ–­&#x2F;æ•è·ä¸­æ–­</p><p><strong>ä¸­æ–­é‡Œå¦‚ä½•å¤„ç†</strong></p><blockquote><p>åœ¨STM32å¾®æ§åˆ¶å™¨ä¸­ï¼Œåˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†æ•è·äº‹ä»¶ä¸»è¦ä¾èµ–äºå®šæ—¶å™¨çš„çŠ¶æ€å¯„å­˜å™¨ï¼ˆStatus Register, SRï¼‰ï¼Œå…·ä½“æ¥è¯´ï¼Œæ˜¯é€šè¿‡æ£€æŸ¥è¯¥å¯„å­˜å™¨ä¸­çš„æ•è·&#x2F;æ¯”è¾ƒä¸­æ–­æ ‡å¿—ä½ã€‚å¯¹äºä¸åŒçš„é€šé“ï¼Œè¿™äº›æ ‡å¿—ä½ä¼šæœ‰æ‰€ä¸åŒã€‚ä»¥å®šæ—¶å™¨3ä¸ºä¾‹ï¼Œè‹¥æƒ³çŸ¥é“ç‰¹å®šé€šé“ï¼ˆæ¯”å¦‚é€šé“3ï¼‰æ˜¯å¦å‘ç”Ÿäº†æ•è·äº‹ä»¶ï¼Œä½ å¯ä»¥æ£€æŸ¥SRå¯„å­˜å™¨ä¸­ç›¸åº”çš„CC3IFï¼ˆCapture&#x2F;Compare 3 Interrupt Flagï¼‰ä½ã€‚</p></blockquote><p>è¯»å–çŠ¶æ€å¯„å­˜å™¨:</p><blockquote><p>å®šæ—¶å™¨çš„SRå¯„å­˜å™¨åŒ…å«äº†å¤šä¸ªæ ‡å¿—ä½ï¼Œæ¯ä¸ªæ ‡å¿—ä½éƒ½æŒ‡ç¤ºäº†æŸç§ç±»å‹çš„äº‹ä»¶æ˜¯å¦å‘ç”Ÿã€‚å¯¹äºæ•è·äº‹ä»¶ï¼Œä¸»è¦å…³æ³¨çš„æ˜¯CCxIFä½ï¼ˆxä»£è¡¨é€šé“å·ï¼‰ã€‚</p></blockquote><p>æ£€æŸ¥æ•è·æ ‡å¿—ä½:</p><blockquote><p>æ¯ä¸ªé€šé“éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ•è·&#x2F;æ¯”è¾ƒä¸­æ–­æ ‡å¿—ä½ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯å®šæ—¶å™¨3çš„é€šé“3ï¼Œåˆ™éœ€è¦æ£€æŸ¥CC3IFä½ã€‚å½“æ•è·äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œç¡¬ä»¶ä¼šè‡ªåŠ¨å°†æ­¤ä½è®¾ç½®ä¸º1ã€‚</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">if (TIM3-&gt;SR &amp; TIM_SR_CC3IF) &#123;    &#x2F;&#x2F; æ•è·äº‹ä»¶å‘ç”Ÿåœ¨é€šé“3&#125;åœ¨è¿™æ®µä»£ç ä¸­ï¼ŒTIM_SR_CC3IFæ˜¯ä¸€ä¸ªå®ï¼Œé€šå¸¸åœ¨å¤´æ–‡ä»¶ä¸­å®šä¹‰ï¼ŒæŒ‡å‘SRå¯„å­˜å™¨ä¸­ç›¸åº”çš„ä½ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¸…é™¤æ•è·æ ‡å¿—ä½:</p><blockquote><p>åœ¨STM32ä¸­ï¼Œæ•è·æ ‡å¿—ä½åœ¨è¯»å–æ•è·å€¼åä¸ä¼šè‡ªåŠ¨æ¸…é›¶ã€‚ä¸ºäº†é˜²æ­¢è¯¯åˆ¤ä¸ºæ–°çš„æ•è·äº‹ä»¶ï¼Œä½ éœ€è¦åœ¨å¤„ç†å®Œæ•è·äº‹ä»¶åæ‰‹åŠ¨æ¸…é™¤è¯¥æ ‡å¿—ä½ã€‚<br>é€šè¿‡è¯»å–å®šæ—¶å™¨çš„æ•è·å¯„å­˜å™¨ï¼ˆå¦‚CCR3ï¼‰å®Œæˆï¼Œæˆ–è€…ç›´æ¥å‘SRå¯„å­˜å™¨å†™0åˆ°å¯¹åº”çš„æ ‡å¿—ä½ã€‚</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">TIM3-&gt;SR &amp;&#x3D; ~TIM_SR_CC3IF;  &#x2F;&#x2F; æ¸…é™¤é€šé“3çš„æ•è·æ ‡å¿—ä½<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li>é”™è¯¯å†™æ³•</li></ol><p>è®¤ä¸ºå®šæ—¶å™¨0.1sè®¡æ•°ä¸€æ¬¡,å…¶å®ä¸æ˜¯, è€Œæ˜¯0.1sè®¡æ•°10000æ¬¡</p><pre><code> TIM_TimeBaseInitStructure.TIM_Period = 10000-1;                //è‡ªåŠ¨é‡è£…è½½å€¼ ARR, 72MHz/720=0.1MHz  1/0.1MHz=10us 10us*10000=0.1sè®¡æ•°ä¸€æ¬¡  TIM_TimeBaseInitStructure.TIM_Prescaler = 720-1;               //é¢„åˆ†é¢‘ç³»æ•° PSCTimeElapsed = TIM_GetCounter(TIM2);  // è¯»å–è®¡æ—¶å™¨å€¼ï¼Œå•ä½æ ¹æ®å®šæ—¶å™¨é…ç½®è€Œå®š    // è®¡ç®—è·ç¦»ï¼ˆå•ä½ï¼šå˜ç±³ï¼‰    Distance = TimeElapsed * 0.1*340;  // å‡è®¾TimeElapsedçš„å•ä½ä¸ºå¾®ç§’ï¼Œé€Ÿåº¦ä¸º340m/s</code></pre><ol start="2"><li><p>ä¸å¤Ÿçµæ•,ä¸å‡†ç¡®</p><p>é¦–å…ˆæ˜¯æœ¬åº”è¯¥æ˜¯1såˆ·æ–°ä¸€ä¸‹, åˆ«äººçš„ä»£ç ä¹Ÿæ˜¯</p><p>å…¶æ¬¡,æ•°æ®ä¸å¯¹</p><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆç”¨åˆ«äººçš„ä»£ç ä¹Ÿæ˜¯ä¸€æ ·çš„é—®é¢˜(æ€€ç–‘ç¡¬ä»¶æœ‰é—®é¢˜, ä½†æ˜¯ä»–ä»¬çœ‹ä¸Šå»éƒ½æ²¡ä»€ä¹ˆé—®é¢˜,é€‰æ‹©å…ˆå­¦ä¹ è¡€æ°§æ¨¡å—)</p><p>(æ¢è¿‡hc-sr04)</p></li></ol><p>æœ¬æ¥ä»¥ä¸ºæœ€å¤šä¸€ä¸Šåˆ,ç„¶åæäº†ä¸€å¤©,éƒ½æ²¡å¼„å¥½,å› ä¸ºä¸çŸ¥é“ä¸ºä»€ä¹ˆæ˜¯è¿™ç§ç°è±¡</p><ol start="3"><li>ä¼šå¡ä½</li></ol><pre class="line-numbers language-none"><code class="language-none">while (GPIO_ReadInputDataBit(GPIOB, GPIO_Pin_1)&#x3D;&#x3D;1);  &#x2F;&#x2F; ç­‰å¾…å›å£°ä¿¡å·ç»“æŸ,è¿™é‡Œä¹Ÿä¸å¯¹   <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F; è§¦å‘HC-SR04å‘é€è¶…å£°æ³¢void HCSR04_Trig(void) &#123;    GPIO_SetBits(GPIOB, GPIO_Pin_0);  &#x2F;&#x2F; GPIOB Pin 0è¾“å‡ºé«˜ç”µå¹³    delay_us(40);                      &#x2F;&#x2F; å»¶æ—¶10å¾®ç§’    GPIO_ResetBits(GPIOB, GPIO_Pin_0); &#x2F;&#x2F; GPIOB Pin 0è¾“å‡ºä½ç”µå¹³&#125;void Distance_Get(void) &#123;    HCSR04_Trig();    delay_ms(300);        printf(&quot;ç­‰å¾…å›å£°ä¿¡å·å¼€å§‹&quot;);    while (GPIO_ReadInputDataBit(GPIOB, GPIO_Pin_1));     TIM_SetCounter(TIM2, 0);    TIM_Cmd(TIM2, ENABLE);        printf(&quot;å›å£°ä¿¡å·å³å°†ç»“æŸ&quot;);      while (GPIO_ReadInputDataBit(GPIOB, GPIO_Pin_1)&#x3D;&#x3D;0);  &#x2F;&#x2F;!!!!?å¡ä½    printf(&quot;å›å£°ä¿¡å·ç»“æŸ&quot;);    TIM_Cmd(TIM2,DISABLE);    Distance&#x3D;(Num&#x2F;5000*340*100)&#x2F;2;    if(Distance&gt;0)    &#123;      printf(&quot;Distance:%fcm\r\n&quot;,Distance);    &#125;  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li><p>3cmä»¥ä¸‹ä¼šä¸å‡†ç¡®</p></li><li><p>ç°æˆç¨‹åºä¸å¥½ç”¨, <strong>æœ‰ç¡¬ä»¶å‡ºé—®é¢˜äº†</strong></p><p>ä¼šæ··æ·†while(1)æ˜¯å¡ä½</p></li></ol><p><strong>é˜»å¡å¼ç­‰å¾…å›å£°ä¿¡å·ç»“æŸ</strong>ï¼š</p><ul><li>ä½¿ç”¨<code>while</code>å¾ªç¯ç­‰å¾…å›å£°ä¿¡å·çš„ç»“æŸï¼ˆ<code>GPIO_ReadInputDataBit(GPIOB, GPIO_Pin_1)==1</code>ï¼‰æ˜¯ä¸ç†æƒ³çš„ã€‚è¿™ç§é˜»å¡å¼ç­‰å¾…ä¼šä½¿æ•´ä¸ªä¸­æ–­æœåŠ¡ä¾‹ç¨‹åœç•™åœ¨ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°å›å£°ä¿¡å·ç»“æŸã€‚è¿™ä¼šé˜»å¡å…¶ä»–ä¸­æ–­çš„å¤„ç†ï¼Œå½±å“ç³»ç»Ÿçš„å“åº”èƒ½åŠ›å’Œå®æ—¶æ€§ã€‚</li></ul><p><strong>åœ¨ISRä¸­ä½¿ç”¨<code>printf</code></strong>ï¼š</p><ul><li>åœ¨ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ä¸­è°ƒç”¨<code>printf</code>æˆ–ä»»ä½•å¯èƒ½è€—æ—¶è¾ƒé•¿çš„å‡½æ•°éƒ½æ˜¯ä¸æ¨èçš„ã€‚è¿™ä¼šå¤§å¹…å¢åŠ ä¸­æ–­æœåŠ¡ä¾‹ç¨‹çš„æ‰§è¡Œæ—¶é—´ï¼Œé™ä½ç³»ç»Ÿçš„å®æ—¶æ€§èƒ½ã€‚å°¤å…¶æ˜¯<code>printf</code>å¯èƒ½ä¼šæ¶‰åŠåˆ°ä¸²å£é€šä¿¡ï¼Œå…¶é€Ÿåº¦è¿œä¸å¦‚CPUæ‰§è¡Œé€Ÿåº¦ï¼Œä»è€Œå¯¼è‡´åœ¨ä¸­æ–­ä¸­äº§ç”Ÿä¸å¿…è¦çš„å»¶è¿Ÿã€‚</li></ul><p>stm3f103c8t6 5.68cm</p><p>stm32f103rct6 56.88cm</p><p>å¦å¤–ç¨‹åºéƒ½ä¸å¥½ä½¿äº†,æ˜¯ç¡¬ä»¶çš„é—®é¢˜,å¯èƒ½æ˜¯ç¡¬ä»¶æ²¡ä¾›ç”µ</p><h2 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h2><p>echoä¸ç”¨5vè½¬3.3v,å¦åˆ™ä¼šä¸å¥½ä½¿</p><p>æœ‰çš„å¼•è„šæœ‰è¯¯å·®,å¯ä»¥æ¢ä¸€ä¸ªè¯•è¯•</p><p>ä¸ºä»€ä¹ˆåŒæ ·çš„ç¨‹åºåˆ°æˆ‘è¿™ä¸å¥½ä½¿äº†</p><p>ä¸€æ ·çš„ä¼ æ„Ÿå™¨,æœ‰çš„èƒ½æ˜¾ç¤º,æœ‰çš„ä¸èƒ½æ˜¾ç¤º</p><h3 id="Stm32-RCT6-C8T6-ç§»æ¤è¿‡ç¨‹çš„é—®é¢˜"><a href="#Stm32-RCT6-C8T6-ç§»æ¤è¿‡ç¨‹çš„é—®é¢˜" class="headerlink" title="Stm32 RCT6 C8T6 ç§»æ¤è¿‡ç¨‹çš„é—®é¢˜"></a>Stm32 RCT6 C8T6 ç§»æ¤è¿‡ç¨‹çš„é—®é¢˜</h3><p>ç§»æ¤è¦æ”¹å¯åŠ¨æ–‡ä»¶,å¦åˆ™æ—¶é’Ÿå¿«åå€</p><p>unsigned char stateInit &#x3D; 0;<br>volatile unsigned char adjusted &#x3D; 1;<br>unsigned int paraIndex &#x3D; 1;<br>unsigned char paraTest &#x3D; 1;<br>unsigned char TestTemp &#x3D; 0;<br>signed char plscnt &#x3D; 1;</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">SystemInit();<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœªè§£å†³</p><p>rct6ç§»æ¤åå‡ºç°æ—¶é’Ÿå˜å¿«åå€</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>105_ç®€æ˜“æ•°å­—ç¤ºæ³¢å™¨</title>
      <link href="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/"/>
      <url>/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="è™šçŸ­å’Œè™šæ–­"><a href="#è™šçŸ­å’Œè™šæ–­" class="headerlink" title="è™šçŸ­å’Œè™šæ–­"></a>è™šçŸ­å’Œè™šæ–­</h2><ol><li>è™šæ–­<ul><li>ç†æƒ³è¿æ”¾çš„è¾“å…¥é˜»æŠ—æ˜¯æ— ç©·å¤§ï¼ŒçœŸæ˜¯çš„è¿æ”¾è¾“å…¥é˜»æŠ—æ˜¯æœ‰é™çš„ï¼Œï¼Œè¾“å…¥ç«¯åŠ ç”µå‹ï¼Œç”µæµå‡ ä¹ä¸ºé›¶ï¼Œåƒè¿æ”¾å†…éƒ¨æ–­å¼€ä¸€æ ·</li><li>æ·±åº¦è´Ÿåé¦ˆæ˜¯ä¼šå‡ºç°è™šçŸ­ç°è±¡ï¼Œæ˜¯ä¸¤ä¸ªè¾“å…¥ç«¯çš„ç‚¹ä½ç›¸ç­‰ï¼Œåƒä¸¤ä¸ªè¾“å…¥ç«¯çŸ­æ¥åˆ°äº†ä¸€èµ·ï¼Œåé¦ˆä½œç”¨æ˜¯è¿æ”¾çš„ä¸¤ä¸ªè¾“å…¥ç«¯ï¼ˆæ­£è¾“å…¥å’Œè´Ÿè¾“å…¥çš„ç”µå‹å·®è¶‹è¿‘äºé¢†åŸŸ0ï¼‰</li></ul></li></ol><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240705221455212.png" class="" title="image-20240705221455212"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240705221942716.png" class="" title="image-20240705221942716"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240705222640788.png" class="" title="image-20240705222640788"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240705222449708.png" class="" title="image-20240705222449708"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240705223816782.png" class="" title="image-20240705223816782"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240707202255594.png" class="" title="image-20240707202255594"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240707202308105.png" class="" title="image-20240707202308105"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240707202429314.png" class="" title="image-20240707202429314"><img src="/2024/04/05/105-jian-yi-shu-zi-shi-bo-qi/image-20240707202927142.png" class="" title="image-20240707202927142">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>104_STM32é©±åŠ¨æ— åˆ·ç”µæœº</title>
      <link href="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/"/>
      <url>/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="æ— åˆ·ç”µæœº"><a href="#æ— åˆ·ç”µæœº" class="headerlink" title="æ— åˆ·ç”µæœº"></a>æ— åˆ·ç”µæœº</h2><h3 id="KVå€¼"><a href="#KVå€¼" class="headerlink" title="KVå€¼"></a>KVå€¼</h3><p>å®é™…è½¬é€Ÿ&#x3D;KVå€¼*å·¥ä½œç”µå‹</p><h3 id="ç›´æµæ— åˆ·ç”µæœºå·¥ä½œåŸç†"><a href="#ç›´æµæ— åˆ·ç”µæœºå·¥ä½œåŸç†" class="headerlink" title="ç›´æµæ— åˆ·ç”µæœºå·¥ä½œåŸç†"></a>ç›´æµæ— åˆ·ç”µæœºå·¥ä½œåŸç†</h3><p>å®‰åŸ¹å®šåˆ™ï¼Œä¹Ÿå«å³æ‰‹èºæ—‹å®šåˆ™ï¼Œæ˜¯è¡¨ç¤ºç”µæµå’Œç”µæµæ¿€å‘ ç£åœºçš„ç£æ„Ÿçº¿æ–¹å‘é—´å…³ç³»çš„å®šåˆ™ã€‚</p><p>é€šç”µç›´å¯¼çº¿ä¸­çš„å®‰åŸ¹å®šåˆ™ï¼ˆå®‰åŸ¹å®šåˆ™ä¸€ï¼‰ï¼šç”¨å³æ‰‹æ¡ä½é€šç”µç›´å¯¼çº¿ï¼Œ è®©å¤§æ‹‡æŒ‡æŒ‡å‘ç”µæµçš„æ–¹å‘ï¼Œé‚£ä¹ˆå››æŒ‡æŒ‡å‘å°±æ˜¯ç£æ„Ÿçº¿çš„ç¯ç»•æ–¹å‘ï¼›é€šç”µèºçº¿ç®¡ä¸­çš„å®‰åŸ¹å®šåˆ™ï¼ˆå®‰åŸ¹å®šåˆ™äºŒï¼‰ï¼š ç”¨å³æ‰‹æ¡ä½é€šç”µèºçº¿ç®¡ï¼Œè®©å››æŒ‡æŒ‡å‘ç”µæµçš„æ–¹å‘ï¼Œé‚£ä¹ˆå¤§æ‹‡æŒ‡æ‰€æŒ‡çš„é‚£ä¸€ç«¯æ˜¯é€šç”µèºçº¿ç®¡çš„Næï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406082359565.png" class="" title="image-20240406082359565"><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406082549676.png" class="" title="image-20240406082549676"><p>å½“ä¸¤è¾¹çš„çº¿åœˆé€šä¸Šç”µåï¼Œç”±å³æ‰‹èºæ—‹å®šåˆ™å¯çŸ¥ä¸¤ä¸ªçº¿åœˆä¸­å°†ä¼šäº§ç”Ÿæ–¹å‘å‘å³çš„ç£åœºï¼Œè€Œ<strong>ä¸­é—´çš„è½¬å­ä¼šå°½é‡ä½¿ è‡ªå·±å†…éƒ¨çš„ç£æ„Ÿçº¿æ–¹å‘ä¸å¤–ç£æ„Ÿçº¿æ–¹å‘ä¿æŒä¸€è‡´ï¼Œä»¥å½¢æˆä¸€ä¸ªæœ€çŸ­é—­åˆç£åŠ›çº¿å›è·¯</strong>ï¼ŒNæä¸Sæç›¸äº’å¸å¼•ï¼Œ è¿™æ ·å†…è½¬å­å°±ä¼šæŒ‰é¡ºæ—¶é’ˆæ–¹å‘æ—‹è½¬äº†ã€‚å½“è½¬å­æ—‹è½¬åˆ°å¦‚å›¾æ‰€ç¤ºçš„æ°´å¹³ä½ç½®æ—¶è½¬å­å°†ä¸ä¼šå—åˆ°ä½œç”¨åŠ›ã€‚</p><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406082600016.png" class="" title="image-20240406082600016"><p>ä½†æ˜¯ç”±äº<strong>æƒ¯æ€§</strong>çš„ä½œç”¨è½¬å­å°†ä¼šç»§ç»­æ—‹è½¬ï¼Œå½“è½¬å­æ—‹è½¬è‡³æ°´å¹³ä½ç½®æ—¶ï¼Œ<strong>äº¤æ¢ä¸¤ä¸ªçº¿åœˆä¸­çš„ç”µæµæ–¹å‘</strong>ï¼Œ è¿™æ—¶è½¬å­å°±ä¼š<strong>ç»§ç»­å‘é¡ºæ—¶é’ˆæ–¹å‘è½¬åŠ¨</strong>äº†ã€‚å½“è½¬å­å†æ¬¡æ—‹è½¬è‡³æ°´å¹³ä½ç½®æ—¶ï¼Œå†æ¬¡äº¤æ¢ä¸¤ä¸ªçº¿åœˆä¸­çš„ç”µæµæ–¹å‘ï¼Œ è¿™æ ·è½¬å­å°±å¯ä»¥ä¸€ç›´æ—‹è½¬äº†ã€‚</p><p>æœ‰äº†ä¸Šé¢çš„åŸºç¡€ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸‹é¢çš„â€œ<strong>ä¸‰ç›¸æ˜Ÿå½¢è”ç»“</strong>çš„äºŒäºŒå¯¼é€šæ–¹å¼â€ã€‚</p><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406082708898.png" class="" title="image-20240406082708898"><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406084253202.png" class="" title="image-20240406084253202"><p>æƒ³è¦è½¬å­è½¬åŠ¨å°±éœ€è¦æ¥å…¥ä¸åŒçš„ç”µå‹ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹å›¾ä¸­çš„6ä¸ªè¿‡ç¨‹ã€‚</p><ol><li>åœ¨Aç«¯æ¥å…¥æ­£ç”µå‹ï¼ŒBç«¯æ¥å…¥è´Ÿç”µå‹ï¼ŒCç«¯æ‚¬ç©ºï¼Œè½¬å­å°†ä¼šæ—‹è½¬è‡³å›¾ä¸­1çš„ä½ç½®ã€‚</li><li>åœ¨1çš„åŸºç¡€ä¸Šï¼ŒCç«¯æ¥å…¥æ­£ç”µå‹ï¼ŒBç«¯æ¥å…¥è´Ÿç”µå‹ï¼ŒAç«¯æ‚¬ç©ºï¼Œè½¬å­å°†ä¼šä»1çš„ä½ç½®æ—‹è½¬è‡³å›¾ä¸­2çš„ä½ç½®ã€‚</li><li>åœ¨2çš„åŸºç¡€ä¸Šï¼ŒCç«¯æ¥å…¥æ­£ç”µå‹ï¼ŒAç«¯æ¥å…¥è´Ÿç”µå‹ï¼ŒBç«¯æ‚¬ç©ºï¼Œè½¬å­å°†ä¼šä»2çš„ä½ç½®æ—‹è½¬è‡³å›¾ä¸­3çš„ä½ç½®ã€‚</li><li>åœ¨3çš„åŸºç¡€ä¸Šï¼ŒBç«¯æ¥å…¥æ­£ç”µå‹ï¼ŒAç«¯æ¥å…¥è´Ÿç”µå‹ï¼ŒCç«¯æ‚¬ç©ºï¼Œè½¬å­å°†ä¼šä»3çš„ä½ç½®æ—‹è½¬è‡³å›¾ä¸­4çš„ä½ç½®ã€‚</li><li>åœ¨4çš„åŸºç¡€ä¸Šï¼ŒBç«¯æ¥å…¥æ­£ç”µå‹ï¼ŒCç«¯æ¥å…¥è´Ÿç”µå‹ï¼ŒAç«¯æ‚¬ç©ºï¼Œè½¬å­å°†ä¼šä»4çš„ä½ç½®æ—‹è½¬è‡³å›¾ä¸­5çš„ä½ç½®ã€‚</li><li>åœ¨5çš„åŸºç¡€ä¸Šï¼ŒAç«¯æ¥å…¥æ­£ç”µå‹ï¼ŒCç«¯æ¥å…¥è´Ÿç”µå‹ï¼ŒBç«¯æ‚¬ç©ºï¼Œè½¬å­å°†ä¼šä»5çš„ä½ç½®æ—‹è½¬è‡³å›¾ä¸­6çš„ä½ç½®ã€‚</li></ol><p>å½“è½¬å­æ—‹è½¬åˆ°ä½ç½®6æ—¶ï¼Œåœ¨é‡å¤1çš„ä¾›ç”µçŠ¶æ€ï¼Œè½¬å­å°†ä¼šä»6çš„ä½ç½®æ—‹è½¬åˆ°1çš„ä½ç½®ã€‚ åœ¨ç»è¿‡ä¸Šé¢çš„6ä¸ªè¿‡ç¨‹åè½¬å­æ­£å¥½è½¬äº†ä¸€åœˆï¼Œæˆ‘ä»¬å°†è¿™ç§é©±åŠ¨æ–¹æ³•ç§°ä¸º6æ‹å·¥ä½œæ–¹å¼ï¼Œ<strong>æ¯æ¬¡ç”µå‹çš„å˜åŒ–ç§°ä¸ºæ¢ç›¸</strong>ã€‚æƒ³è¦ç”µæœºæŒç»­çš„æ—‹è½¬æˆ‘ä»¬åªè¦æŒ‰ä¸Šé¢è½¬å­ç›¸åº”çš„ä½ç½®æ¥å…¥ç›¸åº”çš„ç”µå‹å³å¯ã€‚</p><h2 id="ç”µè°ƒ"><a href="#ç”µè°ƒ" class="headerlink" title="ç”µè°ƒ"></a>ç”µè°ƒ</h2><p>ç”µè°ƒå…¨ç§°ç”µå­è°ƒé€Ÿå™¨, ä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆè§£é”(<strong>ä¹Ÿå°±æ˜¯è¯´æ˜è¯´ä¸Šçš„è¡Œç¨‹æ ¡å‡†</strong>)</p><p><strong>ä¸ºä»€ä¹ˆéœ€è¦ç”µè°ƒ</strong><br>å› ä¸ºå•ç‰‡æœºIOé©±åŠ¨èƒ½åŠ›å¼±ï¼Œæ‰€ä»¥æˆ‘ä»¬æƒ³<strong>å®ç°ä¸€ä¸ªå°ç”µæµæ§åˆ¶å¤§ç”µæµ</strong>çš„æ•ˆæœï¼Œå°±åƒç›´æµæœ‰åˆ·ç”µæœºç”¨L298Nç”µæœºé©±åŠ¨å™¨é©±åŠ¨ä¸€æ ·ï¼Œç”¨æ— åˆ·ç”µè°ƒæ§åˆ¶æ— åˆ·ç”µæœºã€‚</p><p><strong>æ¥çº¿</strong></p><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406101522856.png" class="" title="image-20240406101522856"><ul><li><a href="https://www.hobbywing.com/uploads/file/20230321/573ff85876cf18a48d8f0b92b3244065.pdf">HW-SM048DUL_Platinum-HV-300A-V4.1è¯´æ˜ä¹¦</a>)</li></ul><h3 id="è¡Œç¨‹æ ¡å‡†"><a href="#è¡Œç¨‹æ ¡å‡†" class="headerlink" title="è¡Œç¨‹æ ¡å‡†"></a>è¡Œç¨‹æ ¡å‡†</h3><p>ç”µè°ƒæ¯æ¬¡ä¸Šç”µéƒ½éœ€è¦æ ¡å‡†, å³ç¡®å®šé‡ç¨‹</p><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240406101653735.png" class="" title="image-20240406101653735"><p>å¤§éƒ¨åˆ†ç”µè°ƒéƒ½æ˜¯éœ€è¦<strong>50Hz</strong>çš„PWMè„‰å†²é¢‘ç‡ï¼Œå…¶ä¸­ï¼Œé«˜ç”µå¹³çš„è„‰å®½éœ€è¦åœ¨<strong>1-2ms</strong>ï¼Œ50Hzå°±æ˜¯20mså‘¨æœŸçš„æ–¹æ³¢ï¼Œå…¶ä¸­é«˜ç”µå¹³æ—¶é—´æ˜¯1-2msï¼Œé‚£å ç©ºæ¯”å°±æ˜¯<strong>5%-10%</strong>ã€‚</p><blockquote><ol><li>å•ç‰‡æœºç»™2msé«˜ç”µå¹³ï¼ˆæœ€å¤§æ²¹é—¨ï¼‰ï¼Œæ­¤æ—¶ç”µè°ƒä¸ä¸Šç”µ</li><li>ç”µè°ƒä¸Šç”µ(ä¼šæœ‰å£°éŸ³æç¤º)</li><li>å•ç‰‡æœºç»™1msé«˜ç”µå¹³ï¼ˆæœ€å°æ²¹é—¨ï¼‰ï¼ˆè§£é”å®Œæˆï¼‰</li><li>ç»™ä»»æ„1-2msèŒƒå›´å†…çš„é«˜ç”µå¹³ï¼Œè½¬</li></ol></blockquote><p>å…ˆå°†PWMå ç©ºæ¯”è®¾ç½®ä¸º10%ï¼Œç„¶åä¸Šç”µï¼Œé¦–å…ˆä¼šå¬åˆ°æ»´æ»´çš„å£°éŸ³ï¼Œä¹‹åç«‹åˆ»PWMå ç©ºæ¯”è®¾ç½®ä¸º5%ï¼Œç„¶åä¼šå‘å‡ºæ»´æ»´æ»´ã€æ»´çš„å£°éŸ³è¡¨ç¤ºæ ¡å‡†å®Œæˆï¼Œæœ€åæŠŠæ¥çº¿æ¢å¤ã€‚</p><p><strong>å°è¯•é€šç”µå¤ä½å®Œæˆè‡ªåŠ¨æ ¡å‡†</strong>,å“”å“”, å“”å“”å“”-å“”â€“</p><p><strong>é—®é¢˜1</strong></p><p>å®éªŒç°è±¡: 1800 800   1200 1800ä¼šè½¬</p><p>â€‹              1200<del>1350,é€Ÿåº¦ä¸»æ¬¡é€’å‡,1800ä¹Ÿæ˜¯1800</del>1850</p><p>æˆ‘è¿˜æ˜¯ä¸æ˜ç™½æ˜¯ä¸ºä»€ä¹ˆ,éš¾é“ä¸æ˜¯åº”è¯¥800-1800ä¹‹é—´å—</p><p><a href="(https://blog.csdn.net/weixin_42119432/article/details/102962533#:~:text=%E5%8E%9F%E7%90%86%EF%BC%9A,%E7%94%B5%E8%B0%83%E6%AF%8F%E6%AC%A1%E4%B8%8A%E7%94%B5%EF%BC%88%E7%94%B5%E8%B0%83%E7%94%B1%E6%9D%BF%E5%AD%90%E4%BE%9B%E7%94%B5%EF%BC%89%EF%BC%8C%E5%8D%B3%E6%9D%BF%E5%AD%90%E6%AF%8F%E6%AC%A1%E5%90%AF%E5%8A%A8%EF%BC%8C%E9%83%BD%E8%A6%81%E7%BB%99%E7%94%B5%E8%B0%83%E8%AE%BE%E7%BD%AE%E6%B2%B9%E9%97%A8%E8%A1%8C%E7%A8%8B%EF%BC%9A%E6%9C%80%E9%AB%98%E6%B2%B9%E9%97%A8%E4%B8%8E%E6%9C%80%E4%BD%8E%E6%B2%B9%E9%97%A8%EF%BC%8C%E6%96%B9%E5%BC%8F%E6%98%AF%EF%BC%9A%E8%B0%83%E5%88%B6%E4%B8%80%E4%B8%AA%E5%8D%A0%E7%A9%BA%E6%AF%94%E9%AB%98%E4%B8%80%E7%82%B9pwn%E6%B3%A2%E8%AE%BE%E7%BD%AE%E6%9C%80%E9%AB%98%E6%B2%B9%E9%97%A8%E4%B8%8E%E8%B0%83%E5%88%B6%E4%B8%80%E4%B8%AA%E5%8D%A0%E7%A9%BA%E6%AF%94%E4%BD%8E%E4%B8%80%E7%82%B9pwn%E6%B3%A2%E8%AE%BE%E7%BD%AE%E6%9C%80%E4%BD%8E%E6%B2%B9%E9%97%A8%EF%BC%8C%E8%BF%99%E9%87%8C%E7%9A%84%E5%8D%A0%E7%A9%BA%E6%AF%94%E6%98%AF%E6%8C%87%E4%B8%80%E4%B8%AApwn%E5%91%A8%E6%9C%9F%E5%86%85%E9%AB%98%E7%94%B5%E5%B9%B3%E6%8C%81%E7%BB%AD%E7%9A%84%E6%97%B6%E9%97%B4%EF%BC%8C%E5%8D%B3%E9%AB%98%E7%94%B5%E5%B9%B3%E8%84%89%E5%AE%BD%E3%80%82)">å¥½ç›ˆæ— åˆ·ç”µè°ƒé©±åŠ¨</a></p><p><strong>é—®é¢˜2</strong>(2024.4.7)</p><p>æ— æ³•è¿›å…¥æ ¡å‡†, ä¹Ÿæ— æ³•é©±åŠ¨</p><img src="/2024/04/02/104-stm32-qu-dong-wu-shua-dian-ji/image-20240407214554713.png" class="" title="image-20240407214554713"><p>æ²¡æœ‰pwmä¿¡å·</p><ul><li><p>ä½†æ˜¯æ¥äº†ä¸ªledè¯æ˜,æ˜¯æœ‰çš„, é‚£åº”è¯¥æ˜¯<strong>ç”µè°ƒ</strong>åäº†</p></li><li><p>å·²æ¢å·¥ç¨‹è¯•è¿‡, è¯´æ˜ä¸æ˜¯ç„å­¦</p></li></ul><p><strong>åè½¬ç”µè°ƒ</strong></p><p>æ ¹æ®è¯´æ˜ä¹¦: åè½¬éœ€è¦å°†é»„è‰²çº¿æ¥å…¥ä¸€ä¸ªç©ºé—²é€šé“, ä¹Ÿå°±æ˜¯è¯´,è¿™æ ¹åè½¬çº¿ä¹Ÿéœ€è¦pwmæ¥æ§åˆ¶</p><blockquote><p>é‚£å…¶å®å°±ç›¸å½“äºä¸¤è·¯pwm,ä¸€è·¯æ­£è½¬,ä¸€è·¯åè½¬</p><p>åæ¨åˆ¹è½¦, å°±æ˜¯æ­£è½¬åœæ­¢è¾“å‡º, åè½¬è¾“å‡º</p></blockquote><p>æš‚æ—¶ä¸éœ€è¦é»„çº¿, åè½¬<strong>ä»»æ„äº¤æ¢ä¸¤ä¸ªç”µæœºçº¿å°±å¯ä»¥æ”¹å˜ç”µæœºåå‘</strong>å°±å¯ä»¥äº†</p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><strong>é—®é¢˜</strong>(2024.4.7)</p><p>1.ç”µè°ƒä¸æŒ‰ç…§é¢„æœŸæ—‹è½¬</p><p>1000-2000,ç»“æœåªæœ‰800-1800æ‰å¯ä»¥,å¹¶ä¸”1200-1350ä¸1800-1950éƒ½ä¼šè½¬</p><p>2.ç”µè°ƒæ— æ³•æ£€æµ‹pwmä¿¡å·</p><ul><li><p>æ— åˆ·ç”µæœºé©±åŠ¨éœ€è¦å…­ä¸ªMOSç®¡æ§åˆ¶ä¸‰ä¸ªç”µç£é“çš„ç”µæµæ–¹å‘</p></li><li><p>ä½¿ç”¨æ— åˆ·ç”µè°ƒåªéœ€åƒæ§åˆ¶æœ‰åˆ·ç”µæœºçš„ç”µæœºä¸€æ ·æ§åˆ¶PWM</p></li><li><p>å¼€å‘æ¿çš„é—®é¢˜</p></li></ul><p><a href="https://blog.csdn.net/qq_28056277/article/details/91347436?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-5-91347436-blog-119865081.235%5Ev43%5Epc_blog_bottom_relevance_base8&spm=1001.2101.3001.4242.4&utm_relevant_index=6">ç”¨STM32F103å•ç‰‡æœºæ§åˆ¶ç”µè°ƒåˆ¶åŠ¨æ— åˆ·ç”µæœº_stm32f103 c61ç”µè°ƒ-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_51472581/article/details/132189694?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-132189694-blog-86555732.235%5Ev43%5Epc_blog_bottom_relevance_base8&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-132189694-blog-86555732.235%5Ev43%5Epc_blog_bottom_relevance_base8&utm_relevant_index=3">STM32ç”µè°ƒæ§åˆ¶æ— æ„Ÿæ— åˆ·ç”µæœº_stm32æ— åˆ·ç”µè°ƒ-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_21405333/article/details/119860088?spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-119860088-blog-91347436.235%5Ev43%5Epc_blog_bottom_relevance_base8&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-119860088-blog-91347436.235%5Ev43%5Epc_blog_bottom_relevance_base8&utm_relevant_index=7">ç”¨stm32æ¨¡æ‹Ÿé¥æ§å™¨åˆå§‹åŒ–ç”µè°ƒï¼ˆç”µè°ƒè§£é”ï¼‰ï¼ˆç”µè°ƒè¡Œç¨‹æ ¡å‡†ï¼‰ï¼ˆé™„ç™¾åº¦äº‘ä¾‹ç¨‹ï¼‰_stm32æ§åˆ¶ç”µè°ƒ-CSDNåšå®¢</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>103_MPU6050IICé€šä¿¡</title>
      <link href="/2024/04/02/103-mpu6050iic-tong-xin/"/>
      <url>/2024/04/02/103-mpu6050iic-tong-xin/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>102_IICåè®®</title>
      <link href="/2024/03/28/102-iic-xie-yi/"/>
      <url>/2024/03/28/102-iic-xie-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="IICé€šä¿¡åè®®"><a href="#IICé€šä¿¡åè®®" class="headerlink" title="IICé€šä¿¡åè®®"></a>IICé€šä¿¡åè®®</h2><p>IICæ˜¯ç”±Philipså…¬å¸å¼€å‘çš„ä¸€ç§é€šç”¨æ•°æ®æ€»çº¿,åˆ†ä¸ºç¡¬ä»¶IICå’Œè½¯ä»¶IICã€‚</p><ul><li>ä¸¤ä¸ªé€šä¿¡çº¿: SCL(Serial Clock)ã€SDA(Serial Data)</li><li>åŒåŒæ­¥ã€åŠåŒå·¥</li><li>æ”¯æŒæ•°æ®åº”ç­”ã€æ”¯æŒæ€»çº¿æŒ‚è½½å¤šè®¾å¤‡</li></ul><img src="/2024/03/28/102-iic-xie-yi/image-20240329113138335.png" class="" title="image-20240329113138335"><p><strong>æŒ‡å®šåœ°å€å†™</strong><img src="/2024/03/28/102-iic-xie-yi/image-20240407100559867.png" class="" title="image-20240407100559867"></p><p><strong>å½“å‰åœ°å€è¯»</strong><img src="/2024/03/28/102-iic-xie-yi/image-20240407100622763.png" class="" title="image-20240407100622763"></p><p><strong>æŒ‡å®šåœ°å€è¯»</strong><img src="/2024/03/28/102-iic-xie-yi/image-20240407100703062.png" class="" title="image-20240407100703062"></p><p>é»˜è®¤é«˜ç”µå¹³</p><h2 id="æ¨¡æ‹ŸIIC"><a href="#æ¨¡æ‹ŸIIC" class="headerlink" title="æ¨¡æ‹ŸIIC"></a>æ¨¡æ‹ŸIIC</h2><h3 id="æœ‰æ•ˆçŠ¶æ€"><a href="#æœ‰æ•ˆçŠ¶æ€" class="headerlink" title="æœ‰æ•ˆçŠ¶æ€"></a>æœ‰æ•ˆçŠ¶æ€</h3><p>SDAçº¿ä¸Šçš„æ•°æ®å¿…é¡»åœ¨æ—¶é’Ÿçš„<strong>é«˜ç”µå¹³å‘¨æœŸä¿æŒç¨³å®š</strong>ã€‚æ•°æ®çº¿çš„é«˜æˆ–ä½çŠ¶æ€åªæœ‰åœ¨SCLçº¿çš„æ—¶é’Ÿä¿¡å·æ˜¯<strong>ä½ç”µå¹³æ—¶æ‰èƒ½æ”¹å˜</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯åªæœ‰SCLå¤„äºä½ç”µå¹³çŠ¶æ€æ—¶,æ‰èƒ½å¤Ÿä¼ è¾“æ•°æ®</p><img src="/2024/03/28/102-iic-xie-yi/image-20240329130838773.png" class="" title="image-20240329130838773"><h3 id="èµ·å§‹å’Œåœæ­¢çŠ¶æ€"><a href="#èµ·å§‹å’Œåœæ­¢çŠ¶æ€" class="headerlink" title="èµ·å§‹å’Œåœæ­¢çŠ¶æ€"></a>èµ·å§‹å’Œåœæ­¢çŠ¶æ€</h3><img src="/2024/03/28/102-iic-xie-yi/image-20240329130756843.png" class="" title="image-20240329130756843"><p>æ‰€æœ‰çš„æ•°æ®ä¼ è¾“éƒ½ä»¥START (S)å¼€å§‹,ä»¥ STOP (P)åœæ­¢</p><ul><li>SCLé«˜ç”µå¹³,SDAç”±é«˜åˆ°ä½åˆ‡æ¢,åˆ™ä¸ºSTART</li><li>SCLé«˜ç”µå¹³,SDAç”±ä½åˆ°é«˜åˆ‡æ¢,åˆ™ä¸ºSTOP</li></ul><h3 id="Byte-format"><a href="#Byte-format" class="headerlink" title="Byte format"></a>Byte format</h3><ul><li>SDAçº¿ä¸Šçš„æ¯ä¸ªå­—èŠ‚éƒ½å¿…é¡»ä¸º8ä½é•¿ã€‚</li><li>æ¯ä¸ªå­—èŠ‚åé¢å¿…é¡»è·Ÿä¸€ä¸ªAcknowledgebit(åº”ç­”ä½)ã€‚</li><li>æ•°æ®ä¼ è¾“<strong>é«˜ä½å…ˆè¡Œ</strong>ã€‚å¯ä»¥å°†SCLæ‹‰é«˜</li><li>å½“<strong>ä»æœºä¸èƒ½å“åº”</strong>ä»æœºåœ°å€æ—¶ï¼ˆå¦‚ï¼Œæ­£åœ¨æ‰§è¡Œä¸€äº›å®æ—¶å‡½æ•°ä¸èƒ½æ¥å—å’Œå‘é€ï¼‰ï¼Œ<strong>ä»æœºå¿…é¡»ä½¿æ•°æ®çº¿ä¿æŒé«˜ç”µå¹³</strong>ï¼Œ<strong>ä¸»æœº</strong>ç„¶å<strong>äº§ç”Ÿä¸€ä¸ªåœæ­¢æ¡ä»¶</strong>ç»ˆæ­¢ä¼ è¾“æˆ–è€…äº§ç”Ÿé‡å¤èµ·å§‹æ¡ä»¶å¼€å§‹æ–°çš„ä¼ è¾“ã€‚</li></ul><img src="/2024/03/28/102-iic-xie-yi/image-20240329131225835.png" class="" title="image-20240329131225835"><blockquote><p>æ•°æ®ä¼ è¾“éµå¾ªå›¾9æ‰€ç¤ºçš„æ ¼å¼ã€‚åœ¨STARTæ¡ä»¶ï¼ˆSï¼‰ä¹‹åå‘é€ç›®æ ‡åœ°å€ã€‚åœ°å€æœ‰ä¸ƒä½é•¿ï¼Œç¬¬å…«ä½ä¸º<br>æ•°æ®æ–¹å‘ä½ï¼ˆR&#x2F;Wï¼‰â€”â€”â€œé›¶â€è¡¨ç¤ºä¼ è¾“ï¼ˆWRITEï¼‰ã€‚æ•°æ®ä¼ è¾“æ€»æ˜¯ç”±æ§åˆ¶å™¨ç”Ÿæˆçš„STOPæ¡ä»¶ï¼ˆPï¼‰ç»ˆæ­¢ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ§åˆ¶å™¨ä»ç„¶å¸Œæœ›åœ¨æ€»çº¿ä¸Šé€šä¿¡ï¼Œå®ƒå¯ä»¥ç”Ÿæˆ<strong>é‡å¤çš„STARTæ¡ä»¶ï¼ˆSrï¼‰å’Œåœ°å€</strong>å¦ä¸€ä¸ªç›®æ ‡ï¼Œè€Œä¸é¦–å…ˆç”ŸæˆSTOPæ¡ä»¶ã€‚</p></blockquote><img src="/2024/03/28/102-iic-xie-yi/image-20240401091944785.png" class="" title="image-20240401091944785"><h3 id="å‘é€ä¸æ¥æ”¶å­—èŠ‚"><a href="#å‘é€ä¸æ¥æ”¶å­—èŠ‚" class="headerlink" title="å‘é€ä¸æ¥æ”¶å­—èŠ‚"></a>å‘é€ä¸æ¥æ”¶å­—èŠ‚</h3><img src="/2024/03/28/102-iic-xie-yi/image-20240329152846927.png" class="" title="image-20240329152846927"><img src="/2024/03/28/102-iic-xie-yi/image-20240329152906915.png" class="" title="image-20240329152906915"><img src="/2024/03/28/102-iic-xie-yi/image-20240329152938792.png" class="" title="image-20240329152938792"><h3 id="åº”ç­”-ACK-ä¸æœªåº”ç­”-NACK"><a href="#åº”ç­”-ACK-ä¸æœªåº”ç­”-NACK" class="headerlink" title="åº”ç­”(ACK) ä¸æœªåº”ç­” (NACK)"></a>åº”ç­”(ACK) ä¸æœªåº”ç­” (NACK)</h3><img src="/2024/03/28/102-iic-xie-yi/image-20240331153821788.png" class="" title="image-20240331153821788"><p>ç¡®è®¤ä»æœºæ˜¯å¦æ”¶åˆ°æ•°æ®</p><p>ä¸»æœºé‡Šæ”¾SDA,è‹¥ä¿æŒé«˜ç”µå¹³,åˆ™ä¸ºNACKæœªåº”ç­”</p><h3 id="å…³äºæ¨¡æ‹ŸIICå»¶æ—¶"><a href="#å…³äºæ¨¡æ‹ŸIICå»¶æ—¶" class="headerlink" title="å…³äºæ¨¡æ‹ŸIICå»¶æ—¶"></a>å…³äºæ¨¡æ‹ŸIICå»¶æ—¶</h3><img src="/2024/03/28/102-iic-xie-yi/image-20240329221718764.png" class="" title="image-20240329221718764"><p>æ˜¯å¦éœ€è¦å»¶æ—¶, å»¶æ—¶å¤šä¹…</p><p>å®˜æ–¹æ‰‹å†Œç»™çš„å¤§å¤šæ˜¯0-160ns, çš„å…¶ä»–å¤§ä½¬æ¡ˆä¾‹æœ‰2us,æˆ–è€…10usçš„</p><p><strong>éªŒè¯ç¡¬ä»¶</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">int main(void)&#123;  uint8_t ack ;  delay_init();  OLED_Init();  IIC_Init();        IIC_Start();        &#x2F;&#x2F;å¼€å§‹&#x2F;å†å¼€å§‹  IIC_SendByte(0xD0); &#x2F;&#x2F; 1110 000 0R&#x2F;W å‰ä¸ƒä½æ˜¯åœ°å€  ack &#x3D; IIC_ReadAck();&#x2F;&#x2F;è¯»å–å“åº”  IIC_Stop();         &#x2F;&#x2F;åœæ­¢      OLED_ShowString(1,1,&quot;ACK:&quot;);  OLED_ShowNum(1,5,ack,3);  while(1)&#123;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="MPU6050"><a href="#MPU6050" class="headerlink" title="MPU6050"></a>MPU6050</h2><ol><li><p>åˆå§‹åŒ–, è§£é™¤ç¡çœ æ¨¡å¼</p></li><li><p>å¼€å§‹-&gt;å‘é€åœ°å€å†™-&gt;æ¥æ”¶åº”ç­”-&gt;å‘é€MPU6050å¯„å­˜å™¨åœ°å€-&gt;æ¥æ”¶åº”ç­”-&gt;å‘é€æ•°æ®-&gt;æ¥å—åº”ç­”-&gt;åœæ­¢</p></li><li><p>è¯»å–æ•°æ®(æŒ‡å®šåœ°å€è¯»):</p></li></ol><blockquote><p>å¼€å§‹-&gt;å‘é€åœ°å€å†™-&gt;æ¥æ”¶åº”ç­”-&gt;å‘é€MPU6050å¯„å­˜å™¨åœ°å€-&gt;æ¥æ”¶åº”ç­”-&gt;<em><strong>é‡å¤å¼€å§‹</strong></em>-&gt;å‘é€å¯„å­˜å™¨åœ°å€ | 0x01-&gt;æ¥å—åº”ç­”-&gt;è¯»å–å­—èŠ‚-&gt;ä¸å‘é€åº”ç­”(å› ä¸ºåªè¯»å–ä¸€ä¸ªå­—èŠ‚)-&gt;åœæ­¢</p><p><strong>ä¸»è®¾å¤‡å‘é€ä»è®¾å¤‡çš„åœ°å€å’Œå†™å‘½ä»¤</strong>ï¼Œä»¥è¡¨æ˜å®ƒæƒ³è¦è¿›è¡Œå†™æ“ä½œã€‚è¿™é‡Œçš„å†™æ“ä½œå®é™…ä¸Šæ˜¯å‘Šè¯‰ä»è®¾å¤‡â€œæˆ‘æ¥ä¸‹æ¥æƒ³è¦è¯»å–å“ªä¸ªå¯„å­˜å™¨â€ã€‚</p><p><strong>ä¸»è®¾å¤‡å‘é€é‡å¤èµ·å§‹ä¿¡å·</strong>ï¼Œè½¬æ¢ä¸ºè¯»æ¨¡å¼ã€‚</p></blockquote><p>è½¬ä¸ºè¯»çš„æ—¶åº, å¿…é¡»é‡æ–°æŒ‡å®šè¯»å†™ä½, éœ€è¦é‡å¤èµ·å§‹</p><p><strong>è¿™éƒ¨åˆ†å†…å®¹åœ¨æ‰‹å†Œå“ªé‡Œæˆ‘è¿˜æ²¡æœ‰ç ”ç©¶æ˜ç™½</strong></p><ol start="4"><li>è·å–å¯„å­˜å™¨ä¸‰è½´è§’é€Ÿåº¦ä¸åŠ é€Ÿåº¦å€¼</li></ol><h3 id="å¯„å­˜å™¨"><a href="#å¯„å­˜å™¨" class="headerlink" title="å¯„å­˜å™¨"></a>å¯„å­˜å™¨</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">#define MPU6050_SMPLRT_DIV0x19#defineMPU6050_CONFIG0x1A#defineMPU6050_GYRO_CONFIG0x1B#defineMPU6050_ACCEL_CONFIG0x1C#defineMPU6050_ACCEL_XOUT_H0x3B#defineMPU6050_ACCEL_XOUT_L0x3C#defineMPU6050_ACCEL_YOUT_H0x3D#defineMPU6050_ACCEL_YOUT_L0x3E#defineMPU6050_ACCEL_ZOUT_H0x3F#defineMPU6050_ACCEL_ZOUT_L0x40#defineMPU6050_TEMP_OUT_H0x41#defineMPU6050_TEMP_OUT_L0x42#defineMPU6050_GYRO_XOUT_H0x43#defineMPU6050_GYRO_XOUT_L0x44#defineMPU6050_GYRO_YOUT_H0x45#defineMPU6050_GYRO_YOUT_L0x46#defineMPU6050_GYRO_ZOUT_H0x47#defineMPU6050_GYRO_ZOUT_L0x48#defineMPU6050_PWR_MGMT_10x6B#defineMPU6050_PWR_MGMT_20x6C#defineMPU6050_WHO_AM_I0x75<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><strong>MPU6050_SMPLRT_DIV</strong></li></ol><p>é‡‡æ ·åˆ†é¢‘å¯„å­˜å™¨, å½“DLPFè¢«å¯ç”¨æ—¶ï¼ˆå‚è§å¯„å­˜å™¨26ï¼‰ã€‚åŠ é€Ÿåº¦è®¡çš„è¾“å‡ºç‡ä¸º<strong>1kHz</strong>ã€‚è¿™æ„å‘³ç€ï¼Œå¯¹äºé‡‡æ ·ç‡è¶…è¿‡1kHzçš„æƒ…å†µï¼Œç›¸åŒçš„åŠ é€Ÿåº¦è®¡æ ·æœ¬å¯èƒ½ä¼šè¢«å¤šæ¬¡è¾“å‡ºåˆ°FIFOï¼ˆå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼‰ã€DMPï¼ˆæ•°å­—è¿åŠ¨å¤„ç†å™¨ï¼‰å’Œä¼ æ„Ÿå™¨å¯„å­˜å™¨ä¸­ã€‚</p><p>Parameters:</p><blockquote><p>SMPLRT_DIV 8-bit unsigned value. The Sample Rate is determined by dividing the gyroscope output rate by this value.</p></blockquote><ol start="2"><li><p><strong>CONFIG</strong></p><p>å¤–éƒ¨åŒæ­¥0,æ•°å­—ä½é€šæ»¤æ³¢å™¨6æœ€å¹³æ»‘</p></li><li><p>**GYRO_CONFIG **</p></li></ol><p>â€‹      æ­¤å¯„å­˜å™¨ç”¨äºè§¦å‘é™€èºä»ªè‡ªæ£€å¹¶é…ç½®é™€èºä»ªçš„æ»¡é‡ç¨‹ã€‚</p><ol start="4"><li><strong>ACCEL_CONFIG</strong></li></ol><p>â€‹      æ­¤å¯„å­˜å™¨ç”¨äºè§¦å‘åŠ é€Ÿè®¡è‡ªæ£€å¹¶é…ç½®åŠ é€Ÿè®¡æ»¡é‡ç¨‹èŒƒå›´, è¯¥å¯„å­˜å™¨è¿˜é…ç½®æ•°å­—é«˜é€šæ»¤æ³¢å™¨ï¼ˆDHPFï¼‰</p><ol start="5"><li><strong>MPU6050_PWR_MGMT_1</strong></li></ol><p>â€‹      è®¾ç½®æˆ0x00,sleepä½ç»™0,è§£é™¤ç¡çœ æ¨¡å¼,å…¶ä»–ä½é…ç½®å‚ç…§æ‰‹å†Œ</p><ol start="6"><li><strong>MPU6050_PWR_MGMT_2</strong></li></ol><p>â€‹      ä¸éœ€è¦ä½åŠŸè€—æ¨¡å¼</p><p>è®¾ç½®é™€èºä»ªå’ŒåŠ é€Ÿåº¦è®¡çš„å¤–éƒ¨å¸§åŒæ­¥ï¼ˆFSYNCï¼‰å¼•è„šé‡‡æ ·ä»¥åŠæ•°å­—ä½é€šæ»¤æ³¢å™¨ï¼ˆDLPFï¼‰</p><p>é…ç½®é™€èºä»ªå¤–éƒ¨æ—¶é’Ÿ</p><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>å·²ç»ç¬¬äºŒæ¬¡äº†,å› ä¸ºå¿˜è®°<em><strong>åˆå§‹åŒ–delay</strong></em>,å¯¼è‡´ç¨‹åºå¡æ­»</p><p>æ˜¯å› ä¸ºdelay_uså‡½æ•°æœ‰ä¸€ä¸ªdo while,æ²¡åˆå§‹åŒ–<em><strong>fac_usçš„å€¼å°±æ— æ³•åˆå§‹åŒ–</strong></em>,æ‰€ä»¥å°±ä¸€ç›´åœ¨whileé‡Œé¢ç­‰å¾…,</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void delay_us(u32 nus)&#123;u32 temp;     SysTick-&gt;LOAD&#x3D;nus*fac_us; &#x2F;&#x2F;æ—¶é—´åŠ è½½   SysTick-&gt;VAL&#x3D;0x00;        &#x2F;&#x2F;æ¸…ç©ºè®¡æ•°å™¨SysTick-&gt;CTRL|&#x3D;SysTick_CTRL_ENABLE_Msk ;&#x2F;&#x2F;å¼€å§‹å€’æ•°  do&#123;temp&#x3D;SysTick-&gt;CTRL;&#125;while((temp&amp;0x01)&amp;&amp;!(temp&amp;(1&lt;&lt;16)));&#x2F;&#x2F;ç­‰å¾…æ—¶é—´åˆ°è¾¾   SysTick-&gt;CTRL&amp;&#x3D;~SysTick_CTRL_ENABLE_Msk;&#x2F;&#x2F;å…³é—­è®¡æ•°å™¨SysTick-&gt;VAL &#x3D;0X00;       &#x2F;&#x2F;æ¸…ç©ºè®¡æ•°å™¨ &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç¡¬ä»¶IIC"><a href="#ç¡¬ä»¶IIC" class="headerlink" title="ç¡¬ä»¶IIC"></a>ç¡¬ä»¶IIC</h2><p><strong>è½¯ä»¶IICä¸ç¡¬ä»¶IICçš„åŒºåˆ«</strong></p><p>è½¯ä»¶æ‰‹åŠ¨æ¨¡æ‹ŸIICåè®®</p><p>ç¡¬ä»¶è°ƒç”¨å‡½æ•°å³å¯(ç¡¬ä»¶IICåè®®åº”è¯¥ä¼šè‡ªåŠ¨å‘é€æ¥æ”¶åº”ç­”~çŒœçš„)</p><h3 id="è½¯ç¡¬ä»¶æ³¢å½¢å›¾å¯¹æ¯”"><a href="#è½¯ç¡¬ä»¶æ³¢å½¢å›¾å¯¹æ¯”" class="headerlink" title="è½¯ç¡¬ä»¶æ³¢å½¢å›¾å¯¹æ¯”"></a>è½¯ç¡¬ä»¶æ³¢å½¢å›¾å¯¹æ¯”</h3><img src="/2024/03/28/102-iic-xie-yi/image-20240407101421162.png" class="" title="image-20240407101421162"><p>å¯ä»¥çœ‹å‡ºç¡¬ä»¶IICæ›´è§„æ•´,ä½†æ˜¯IICæ˜¯åŒæ­¥æ—¶åº,æ‰€ä»¥å¹¶ä¸å½±å“</p><p>å¼€å¯IICæ—¶é’Ÿ, è®¾ç½®ä¸ºå¤ç”¨å¼€æ¼æ¨¡å¼, å¼•è„šè¦äº¤ç»™å¤–è®¾</p><img src="/2024/03/28/102-iic-xie-yi/image-20240407221756088.png" class="" title="image-20240407221756088"><img src="/2024/03/28/102-iic-xie-yi/image-20240407221827545.png" class="" title="image-20240407221827545"><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1.å…³äºä»€ä¹ˆæ—¶å€™ç”¨å¤ç”¨æ¨¡å¼</p><blockquote><p>å¯¹å¯„å­˜å™¨AFIO_MAPRï¼ŒAFIO_EXTICRXå’ŒAFIO_EVCRè¿›è¡Œè¯»å†™æ“ä½œå‰ï¼Œåº”å½“é¦–å…ˆæ‰“å¼€AFIOæ—¶é’Ÿã€‚</p><p>- FIO_MAPRï¼šé…ç½®å¤ç”¨åŠŸèƒ½é‡æ˜ å°„</p><p>- AFIO_EXTICRXï¼šé…ç½®å¤–éƒ¨ä¸­æ–­çº¿æ˜ å°„</p><p>- AFIO_EVCRï¼šé…ç½®EVENTOUTäº‹ä»¶è¾“å‡º</p></blockquote><p>2.ä¸ºä»€ä¹ˆåªæœ‰è¯»å–åº”ç­”ä½,è€Œä¸ç”¨å†™å…¥åº”ç­”ä½</p><blockquote><p>checkäº‹ä»¶å°±ç›¸å½“äºæ£€æµ‹åº”ç­”ä½äº†</p></blockquote><blockquote><img src="/2024/03/28/102-iic-xie-yi/image-20240407230637790.png" class="" title="image-20240407230637790"></blockquote><p>3.å…³äºè¯»æ•°æ®è¦å…ˆå½“å‰åœ°å€å†™çš„é€»è¾‘æ²¡ææ¸…æ¥š</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>101_STM32é€šä¿¡æ¥å£</title>
      <link href="/2024/03/24/101-stm32-tong-xin-jie-kou/"/>
      <url>/2024/03/24/101-stm32-tong-xin-jie-kou/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€ç»´å¯¼å›¾"><a href="#æ€ç»´å¯¼å›¾" class="headerlink" title="æ€ç»´å¯¼å›¾"></a>æ€ç»´å¯¼å›¾</h2><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1.png" class="" title="ä¸²å£é€šä¿¡"><h2 id="ä¸²å£é€šä¿¡"><a href="#ä¸²å£é€šä¿¡" class="headerlink" title="ä¸²å£é€šä¿¡"></a>ä¸²å£é€šä¿¡</h2><p>UARTã€RS-232å’ŒRS-485 æ˜¯å•ç‰‡æœºä¸­å¸¸è§çš„ä¸²å£é€šä¿¡åè®®ï¼Œè€Œ I2C å’Œ SPI æ˜¯æ€»çº¿é€šä¿¡åè®®</p><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324111732602.png" class="" title="image-20240324111732602"><h3 id="uart"><a href="#uart" class="headerlink" title="uart"></a>uart</h3><p><strong>uartä¸usartçš„åŒºåˆ«</strong></p><ol><li><strong>uart</strong>å¼‚æ­¥é€šä¿¡<strong>ä¸ä½¿ç”¨å¤–éƒ¨æ—¶é’Ÿä¿¡å·</strong>æ¥åŒæ­¥æ•°æ®ä¼ è¾“ï¼›ç›¸åï¼Œå‘é€å’Œæ¥æ”¶è®¾å¤‡å¿…é¡»äº‹å…ˆåŒæ„æ•°æ®ä¼ è¾“çš„é€Ÿç‡ï¼ˆæ³¢ç‰¹ç‡ï¼‰ã€‚</li><li><strong>USART</strong>: å®ƒæ”¯æŒå¼‚æ­¥ä¸²è¡Œé€šä¿¡å’ŒåŒæ­¥ä¸²è¡Œé€šä¿¡ã€‚åœ¨åŒæ­¥é€šä¿¡æ¨¡å¼ä¸‹ï¼Œæ•°æ®ä»¥è¿ç»­çš„æ¯”ç‰¹æµå½¢å¼ä¼ è¾“ï¼Œé€šå¸¸ç”±<strong>å¤–éƒ¨æ—¶é’Ÿä¿¡å·</strong>æˆ–æ•°æ®ä¸­çš„æ—¶é’Ÿä¿¡æ¯<strong>æ¥åŒæ­¥</strong>ã€‚åŒæ­¥é€šä¿¡å…è®¸æ›´é«˜çš„æ•°æ®ä¼ è¾“é€Ÿç‡ï¼Œå› ä¸ºæ•°æ®åœ¨æ²¡æœ‰èµ·å§‹ä½å’Œåœæ­¢ä½çš„æƒ…å†µä¸‹è¿ç»­å‘é€ï¼Œä»è€Œæé«˜äº†æ•ˆç‡ã€‚</li></ol><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324114048999.png" class="" title="image-20240324114048999"><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324114810970.png" class="" title="image-20240324114810970"><p>å‚è€ƒæ‰‹å†Œæ¨èUSART çš„GPIOé…ç½®</p><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324120755083.png" class="" title="image-20240324120755083"><h2 id="æ•°æ®å‘é€"><a href="#æ•°æ®å‘é€" class="headerlink" title="æ•°æ®å‘é€"></a>æ•°æ®å‘é€</h2><p>TXï¼šä¸å‘é€æ•°æ®æ—¶ï¼ŒTXå¼•è„šå¤„äºé«˜ç”µå¹³</p><p><strong>å•å­—èŠ‚é€šä¿¡</strong></p><p><strong>æ¸…é›¶TXEä½</strong>æ€»æ˜¯é€šè¿‡å¯¹æ•°æ®å¯„å­˜å™¨çš„å†™æ“ä½œæ¥å®Œæˆçš„ã€‚TXEä½ç”±ç¡¬ä»¶æ¥è®¾ç½®ï¼Œå®ƒè¡¨æ˜ï¼š</p><p>æ•…<strong>ä¸éœ€è¦æ‰‹åŠ¨æ¸…é›¶TXE</strong></p><p>â— æ•°æ®å·²ç»ä»TDRç§»é€åˆ°ç§»ä½å¯„å­˜å™¨ï¼Œæ•°æ®å‘é€å·²ç»å¼€å§‹</p><p>â— TDRå¯„å­˜å™¨è¢«æ¸…ç©º</p><p>â— ä¸‹ä¸€ä¸ªæ•°æ®å¯ä»¥è¢«å†™è¿›USART_DRå¯„å­˜å™¨è€Œä¸ä¼šè¦†ç›–å…ˆå‰çš„æ•°æ®</p><h3 id="å‘é€å­—ç¬¦ä¸²"><a href="#å‘é€å­—ç¬¦ä¸²" class="headerlink" title="å‘é€å­—ç¬¦ä¸²"></a>å‘é€å­—ç¬¦ä¸²</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;*å‘é€å­—ç¬¦ä¸²å‡½æ•°*&#x2F;void Serial_SendString(char *string)&#123;  for(uint16_t i&#x3D;0;string[i]!&#x3D;&#39;\0&#39;;i++)                   &#x2F;&#x2F;Cè¯­è¨€ä¸­å­—ç¬¦ä¸²æœ€åä¸€ä½ä¸º&#39;\0&#39;  &#123;    Serial_SendByte(string[i]);  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> è¿™æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œå®ƒä¼šæŒç»­æ£€æŸ¥å½“å‰å­—ç¬¦æ˜¯å¦æ˜¯å­—ç¬¦ä¸²çš„ç»ˆç»“ç¬¦ï¼ˆå³ç©ºå­—ç¬¦ <code>&#39;\0&#39;</code>ï¼‰ã€‚</p><p> åœ¨ C è¯­è¨€ä¸­ï¼Œ<strong>æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä»¥ç©ºå­—ç¬¦ç»“æŸ</strong>ï¼Œè¿™ä¸ªå¾ªç¯åˆ©ç”¨è¿™ä¸€ç‚¹æ¥åˆ¤æ–­ä½•æ—¶åœæ­¢å‘é€ã€‚</p><p>ç”¨æŒ‡é’ˆç±»å‹,æ˜¯å› ä¸ºè¦å¯¹å­—ç¬¦ä¸²ä¸€ä½ä¸€ä½è¯»å–</p><h3 id="å‘é€æ•°å­—"><a href="#å‘é€æ•°å­—" class="headerlink" title="å‘é€æ•°å­—"></a>å‘é€æ•°å­—</h3><p>æ³¨æ„: 0~9å¯¹åº”ASCIIç åˆ†åˆ«æ˜¯48-57</p><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324113452009.png" class="" title="image-20240324113452009"><h2 id="æ•°æ®æ¥æ”¶"><a href="#æ•°æ®æ¥æ”¶" class="headerlink" title="æ•°æ®æ¥æ”¶"></a>æ•°æ®æ¥æ”¶</h2><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324175812486.png" class="" title="image-20240324175812486"><h3 id="ä¸­æ–­"><a href="#ä¸­æ–­" class="headerlink" title="ä¸­æ–­"></a>ä¸­æ–­</h3><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240324183231834.png" class="" title="image-20240324183231834"><p>å‘é€å’Œæ¥æ”¶ç”±ä¸€<strong>å…±ç”¨çš„æ³¢ç‰¹ç‡å‘ç”Ÿå™¨</strong>é©±åŠ¨ï¼Œå½“å‘é€å™¨å’Œæ¥æ”¶å™¨çš„ä½¿èƒ½ä½åˆ†åˆ«ç½®ä½æ—¶ï¼Œåˆ†åˆ«ä¸ºå…¶äº§ç”Ÿæ—¶é’Ÿã€‚</p><p>åœ¨USARTæ¥æ”¶æœŸé—´ï¼Œæ•°æ®çš„<strong>æœ€ä½</strong>æœ‰æ•ˆä½é¦–å…ˆä»RXè„šç§»è¿›RXNEä½è¢«ç½®ä½ã€‚å®ƒè¡¨æ˜ç§»ä½å¯„å­˜å™¨çš„å†…å®¹è¢«è½¬ç§»åˆ°RDRã€‚æ¢å¥è¯è¯´ï¼Œæ•°æ®å·²ç»è¢«æ¥æ”¶å¹¶ä¸”å¯ä»¥è¢«è¯»å‡º</p><p>å¦‚æœRXNEIEä½è¢«è®¾ç½®ï¼Œäº§ç”Ÿä¸­æ–­</p><h2 id="ä¸²å£æ•°æ®åŒ…"><a href="#ä¸²å£æ•°æ®åŒ…" class="headerlink" title="ä¸²å£æ•°æ®åŒ…"></a>ä¸²å£æ•°æ®åŒ…</h2><p>æ³¨æ„çš„åœ°æ–¹å°±æ˜¯æ¡ä»¶åˆ¤æ–­, æ³¨æ„æ¡ä»¶å¾ªç¯åˆ°ç¬¬å‡ æ¬¡æ—¶é—´æˆç«‹</p><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240325223953120.png" class="" title="image-20240325223953120"><h2 id="ä¸²å£æ–‡æœ¬åŒ…"><a href="#ä¸²å£æ–‡æœ¬åŒ…" class="headerlink" title="ä¸²å£æ–‡æœ¬åŒ…"></a>ä¸²å£æ–‡æœ¬åŒ…</h2><img src="/2024/03/24/101-stm32-tong-xin-jie-kou/image-20240326074656495.png" class=""><p>é—®é¢˜1</p><p>oledæ˜¾ç¤ºå±åé¢æœ‰ä¹±ç </p><p>è§£å†³: ä»£ç çš„é€»è¾‘é—®é¢˜, è¿™æ®µä»£ç ,ä¼šå°†\rå†™å…¥å‘é€çš„æ•°æ®åŒ…,æ‰€ä»¥OLEDä¼šä¹±ç </p><pre class="line-numbers language-c" data-language="c"><code class="language-c">else if(RxState&#x3D;&#x3D;1)  &#123;    Serial_RxPacket[pRxPacket]&#x3D;RxData;            pRxPacket++;      if(RxData&#x3D;&#x3D;&#39;\r&#39;)    &#123;      RxState&#x3D;2;     &#125;   &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;ä¿®æ”¹é€»è¾‘å, åªèƒ½è¿”å›ä¸€æ¬¡æ”¶åˆ°çš„æ•°æ®Serial_SendString((char *)Serial_RxPacket); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æœªè§£å†³"><a href="#æœªè§£å†³" class="headerlink" title="æœªè§£å†³"></a>æœªè§£å†³</h3><p>é—®é¢˜2</p><p>ä¸²å£å‘å›æ•°æ®åŒ…ä¼šå½±å“ä¸»å¾ªç¯çš„oledæ˜¾ç¤º,ä¸”æ•°æ®åªèƒ½å‘å›ä¸€æ¬¡,ä½†æ˜¯å¦‚æœæ˜¯@11å¯ä»¥ä¸€ç›´è¿”å›,@111é•¿åº¦ä»¥åå°±ä¸å¯ä»¥äº†,åº”è¯¥æ˜¯æº¢å‡ºå¡æ­»äº†</p><p>ä½†ä¸æ˜¯<strong>æ•°ç»„æº¢å‡º</strong>å› ä¸ºæˆ‘å¢å¤§äº†æ•°ç»„å€¼,ä¹Ÿæ²¡æœ‰æ”¹å˜</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Serial_RxFlag &#x3D; 1;Serial_SendString((char *)Serial_RxPacket); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ ¼å¼é—®é¢˜"><a href="#æ ¼å¼é—®é¢˜" class="headerlink" title="æ ¼å¼é—®é¢˜"></a>æ ¼å¼é—®é¢˜</h2><p>å¦‚ä½•å‘é€å­—ç¬¦ä¸²</p><p>å‘é€æ•°å­—</p><p>è§£æå­—ç¬¦ä¸²</p><p>å‘é€ä¸€å¸§æ•°æ®</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">snprintfï¼šå°†å››ä¸ªæ•´å‹æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æ ¼å¼åŒ–ä¸º&lt;data1,data2,data3,data4&gt;çš„å½¢å¼ã€‚Serial_SendStringï¼šé€å­—ç¬¦å‘é€æ„é€ å¥½çš„æ•°æ®å¸§å­—ç¬¦ä¸²ã€‚å‘é€å‡½æ•°è¯´æ˜cå¤åˆ¶ä»£ç void Send_Monitor_Data(int data1, int data2, int data3, int data4)&#123;    snprintf(Serial_TxPacket, sizeof(Serial_TxPacket), &quot;&lt;%d,%d,%d,%d&gt;&quot;, data1, data2, data3, data4);    Serial_SendString(Serial_TxPacket);&#125;snprintfï¼šå°†æ•´æ•°æ•°æ®æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶å­˜å‚¨åœ¨Serial_TxPacketä¸­ã€‚ç¡®ä¿æ„é€ çš„å­—ç¬¦ä¸²ç¬¦åˆ&lt;1,2,3,4&gt;çš„æ ¼å¼ã€‚Serial_SendStringï¼šå‘é€æ ¼å¼åŒ–å¥½çš„å­—ç¬¦ä¸²ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>100_æœºæ¢°è‡‚matlabä»¿çœŸ</title>
      <link href="/2024/03/21/100-ji-jie-bi-matlab-fang-zhen/"/>
      <url>/2024/03/21/100-ji-jie-bi-matlab-fang-zhen/</url>
      
        <content type="html"><![CDATA[<h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>1.å®ç‰©</p><p>2.å»ºæ¨¡</p><p>3.matlabä»¿çœŸ</p><p><strong>åŸºäºSTM32å•ç‰‡æœºå®šä½æŠ“å–å’Œåˆ†æ‹£çš„æœºæ¢°è‡‚æ§åˆ¶ç³»ç»Ÿè®¾è®¡</strong>,é€‰æ‹©<strong>STM32å•ç‰‡æœº</strong>ä½œä¸ºä¸»æ§åˆ¶å™¨ï¼Œ<strong>æŒ‰é’®</strong>ã€<strong>ä¼ æ„Ÿå™¨</strong>ã€<strong>æŒ‡ç¤ºç¯</strong>ï¼Œç”¨äºæœºæ¢°è‡‚çš„æ§åˆ¶å’Œ<strong>çŠ¶æ€ç›‘æµ‹</strong>ã€‚å°†æœºæ¢°è‡‚å®‰è£…åˆ°å·¥ä½œç¯å¢ƒä¸­ï¼Œ(<strong>æ—‹è½¬,æœ‰ç‰©ä½“å°±æ”¾ç½®</strong>),*ã€‚<strong>ä¸€é”®æ ¡å‡†</strong>,å†™æ­»çš„,ä¸€é”®å®šä½,ä¸€é”®æ‰§è¡ŒåŠ¨ä½œå¯¹æœºæ¢°è‡‚è¿›è¡Œç»¼åˆæµ‹è¯•ï¼ŒåŒ…æ‹¬å®šä½ç²¾åº¦æµ‹è¯•ã€æŠ“å–åŠ›åº¦æµ‹è¯•ã€<strong>åˆ†æ‹£é€Ÿåº¦æµ‹è¯•</strong>ç­‰ï¼ŒéªŒè¯æœºæ¢°è‡‚çš„æ€§èƒ½å’Œå¯é æ€§,<strong>æ‹¿èµ·ä¸¤ä¸ªç‰©ä½“ç„¶åæ”¾ä¸‹</strong></p><h2 id="è½¯ä»¶è®¾è®¡"><a href="#è½¯ä»¶è®¾è®¡" class="headerlink" title="è½¯ä»¶è®¾è®¡"></a>è½¯ä»¶è®¾è®¡</h2><p>é¦–å…ˆéœ€è¦å…­è·¯PWM,ä¸¤ä¸ªå®šæ—¶å™¨å°±å¤Ÿäº†</p><table><thead><tr><th align="center">å¤–è®¾</th><th align="center">å¼•è„š</th><th align="center">è¯´æ˜</th></tr></thead><tbody><tr><td align="center">å…­è½´èˆµæœºé©±åŠ¨</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">HC-SR04è¶…å£°æ³¢</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">è“ç‰™æ¨¡å—</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">æŒ‰é”®</td><td align="center"></td><td align="center"></td></tr><tr><td align="center">LED</td><td align="center"></td><td align="center"></td></tr></tbody></table><p>è®©gptæ¥</p><p>æ‰¾ä¸ªæ€ç»´å¯¼å›¾çš„è½¯ä»¶</p><p>ä»»åŠ¡è¡¨çš„è½¯ä»¶</p><p>å…­è½´æœºæ¢°è‡‚</p><p>å…ˆå®ç‰©</p><p>åå»ºæ¨¡</p><p>æœ€åmatlabä»¿çœŸ</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>99_æ³°å±±æ´¾å­¦ä¹ ç¬”è®°(1)</title>
      <link href="/2024/03/17/99-tai-shan-pai-xue-xi-bi-ji-1/"/>
      <url>/2024/03/17/99-tai-shan-pai-xue-xi-bi-ji-1/</url>
      
        <content type="html"><![CDATA[<h2 id="å­¦å‰é—®é¢˜"><a href="#å­¦å‰é—®é¢˜" class="headerlink" title="å­¦å‰é—®é¢˜"></a>å­¦å‰é—®é¢˜</h2><h3 id="SDKæ˜¯ä»€ä¹ˆ"><a href="#SDKæ˜¯ä»€ä¹ˆ" class="headerlink" title="SDKæ˜¯ä»€ä¹ˆ"></a>SDKæ˜¯ä»€ä¹ˆ</h3><p><em><strong>SDK</strong>å…¨ç§°Software Development Kit(è½¯ä»¶å¼€å‘å·¥å…·åŒ…), SDKé€šå¸¸å¯ä»¥ä»å¼€å‘æ¿æˆ–èŠ¯ç‰‡åˆ¶é€ å•†çš„å®˜æ–¹ç½‘ç«™ä¸‹è½½,åŒæ—¶å®˜æ–¹ä¸€èˆ¬ä¹Ÿä¼šæœ‰ç¼–è¯‘å¥½çš„é•œåƒ, ä½†æ˜¯é€šè¿‡</em><em>ä¸‹è½½ç¼–è¯‘sdk<strong>å¯ä»¥</strong>å®šåˆ¶è‡ªå·±æƒ³è¦çš„ç³»ç»Ÿé•œåƒ*</em></p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li><p>æ­å»ºlinuxç¼–è¯‘ç¯å¢ƒ</p><ul><li><p>å®‰è£…Ubuntuæ“ä½œç³»ç»Ÿ(ä¸€èˆ¬å®˜æ–¹éƒ½æ˜¯ubuntuç³»ç»Ÿé…ç½®çš„,æ‰€ä»¥ä¿æŒä¸€æ ·å¯ä»¥å‡å°‘é”™è¯¯)</p></li><li><p>å®‰è£…è™šæ‹Ÿæœº(VmWareæˆ–è€…VirtualBox)</p></li></ul></li><li><p>ä¸‹è½½SDK</p></li><li><p>ç¼–è¯‘</p></li></ul><h2 id="æ­å»ºlinuxå¼€å‘ç¯å¢ƒ"><a href="#æ­å»ºlinuxå¼€å‘ç¯å¢ƒ" class="headerlink" title="æ­å»ºlinuxå¼€å‘ç¯å¢ƒ"></a>æ­å»ºlinuxå¼€å‘ç¯å¢ƒ</h2><h3 id="å®‰è£…è™šæ‹Ÿæœº"><a href="#å®‰è£…è™šæ‹Ÿæœº" class="headerlink" title="å®‰è£…è™šæ‹Ÿæœº"></a>å®‰è£…è™šæ‹Ÿæœº</h3><p><a href="https://www.virtualbox.org/wiki/Downloads">VirtualBoxå®˜æ–¹ä¸‹è½½</a></p><p>[VmWareå®˜æ–¹ä¸‹è½½](<a href="https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html">Download VMware Workstation Pro</a>)</p><h3 id="å®‰è£…Ubuntu"><a href="#å®‰è£…Ubuntu" class="headerlink" title="å®‰è£…Ubuntu"></a>å®‰è£…Ubuntu</h3><p>æ‹‰å–é•œåƒ</p><ul><li><p>ä¸­ç§‘å¤§æºï¼š<a href="https://mirrors.ustc.edu.cn/ubuntu-releases/">Index of &#x2F;ubuntu-releases&#x2F; (ustc.edu.cn)</a></p></li><li><p>é˜¿é‡Œäº‘æºï¼š<a href="https://mirrors.aliyun.com/ubuntu-releases/">ubuntu-releaseså®‰è£…åŒ…ä¸‹è½½_å¼€æºé•œåƒç«™-é˜¿é‡Œäº‘ (aliyun.com)</a></p></li><li><p>å®˜æ–¹ï¼ˆå¾ˆæ…¢ä¸æ¨èï¼‰<a href="https://ubuntu.com/download">Get Ubuntu | Download | Ubuntu</a></p></li></ul><p>â—æ³¨æ„:</p><p>å®‰è£…ç²¾ç®€ç‰ˆå, å°†CD&#x2F;DVDå…‰ç›˜æ¢æˆè‡ªåŠ¨æ£€æµ‹,ç„¶åé‡å¯,å¦åˆ™ä¼šæ‰“ä¸å¼€</p><p>Ubuntuå®‰è£…VMware-Toolséœ€è¦åœ¨rootä¸‹, ç„¶åæ‹–åŠ¨æ–‡ä»¶åˆ°terminalä¸­,ç»ˆç«¯ä¼šè‡ªåŠ¨å‡ºç°è·¯å¾„</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">passwd root  #è®¾ç½®rootå¯†ç <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶å</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">tar zxvf VMware-Toolsxxxxxxxx.tarcd vmware-tools-distrib.&#x2F;vmware-install.pl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®‰è£…åå‘ç°è¿˜æ˜¯æ— æ³•å…±äº«ç²˜è´´æ¿</p><ol><li>éœ€è¦å®‰è£…è™šæ‹Ÿæœºå¢å¼ºå·¥å…·åŒ…open-vm-toolså’Œopen-vm-tools-desktopã€‚</li></ol><h3 id="å®‰è£…open-vm-tools"><a href="#å®‰è£…open-vm-tools" class="headerlink" title="å®‰è£…open-vm-tools"></a>å®‰è£…open-vm-tools</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install open-vm-tools<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å®‰è£…open-vm-tools-desktop"><a href="#å®‰è£…open-vm-tools-desktop" class="headerlink" title="å®‰è£…open-vm-tools-desktop"></a>å®‰è£…open-vm-tools-desktop</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install open-vm-tools-desktop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åç¡®å®š<code>è™šæ‹Ÿæœºè®¾ç½®-&gt;é€‰é¡¹-&gt;å®¢æˆ·æœºéš”ç¦»</code>å…¨éƒ¨å‹¾é€‰å¯¹å·, é‡å¯å³å¯å®Œæˆå®‰è£…</p><h2 id="è§£å‹SDK"><a href="#è§£å‹SDK" class="headerlink" title="è§£å‹SDK"></a>è§£å‹SDK</h2><p>å°†tspi_linux_sdk_xxxxxxxx.tar.gz ä¸Šä¼ åˆ°ubuntuè™šæ‹Ÿæœºä¸­ï¼Œç›®å½•è·¯å¾„ä¸èƒ½åŒ…å«ä¸­æ–‡ï¼Œä¸”éœ€ä¿è¯è‡³å°‘æœ‰100Gçš„å®¹é‡ï¼Œæœ€ç»ˆç¼–è¯‘å®Œæˆåæ•´ä¸ªSDKå¤§å°ä¼šåˆ°80Gå·¦å³ï¼Œä¸Šä¼ çš„æ–¹å¼æœ‰å¾ˆå¤šç§æ¯”å¦‚<code>samba</code>ã€<code>å…±äº«æ–‡ä»¶å¤¹</code>ã€<code>sftp</code>ç­‰</p><p>æˆ‘è¿™é‡Œç›´æ¥ä½¿ç”¨Vmtoolså¤åˆ¶ç²˜è´´åˆ°æ¡Œé¢, ç„¶åä½¿ç”¨å‘½ä»¤å¤åˆ¶åˆ°æ ¹ç›®å½•</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cp xxxx &#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">md5sum tspi_linux_sdk_repo_20240131.tar.gzcat tspi_linux_sdk_repo_20240131_md5sum.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>çœ‹ä¸€ä¸‹è¿™ä¸ªå€¼æ˜¯å¦å’Œå†…å®¹ä¸€è‡´</p><p>è§£å‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">tar -xzf tspi_linux_sdk_repo_20240131.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§£å‹å®Œæˆååªæœ‰.repoç›®å½•æˆ‘ä»¬è¿˜éœ€è¦æŠŠä»£ç åŒæ­¥å‡ºæ¥</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">.repo&#x2F;repo&#x2F;repo sync -l -j88<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æŠ¥é”™</strong></p><ul><li><p>æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd repo&#x2F;repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç»§ç»­cd repoæ—¶å‡ºç°<code>root@maobin-virtual-machine:/taishanpi/.repo/repo# cd repo -bash: cd: repo: Not a directory</code></p></li><li><p>æ‰§è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">.&#x2F;repo sync -l -j88<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@maobin-virtual-machine:&#x2F;taishanpi&#x2F;.repo&#x2F;repo# .&#x2F;repo sync -l -j88&#x2F;usr&#x2F;bin&#x2F;env: â€˜pythonâ€™: No such file or directoryroot@maobin-virtual-machine:&#x2F;taishanpi&#x2F;.repo&#x2F;repo# .&#x2F;repo &#x2F;usr&#x2F;bin&#x2F;env: â€˜pythonâ€™: No such file or directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt-get python3vim .&#x2F;repo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>jå°†**#!&#x2F;usr&#x2F;bin&#x2F;env python<strong>å˜ä¸º</strong>#!&#x2F;usr&#x2F;bin&#x2F;env python3**</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">.&#x2F;repo sync -l -j88<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@maobin-virtual-machine:&#x2F;taishanpi&#x2F;.repo&#x2F;repo# .&#x2F;repo sync -l -j88repo: error: &quot;git&quot; is not availablerepo: error: [Errno 2] No such file or directory: &#39;git&#39;: &#39;git&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å®‰è£…åç»§ç»­è¿è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt install git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="/2024/03/17/99-tai-shan-pai-xue-xi-bi-ji-1/image-20240317221641540.png" class="" title="image-20240317221641540"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">- appï¼š å­˜æ”¾ä¸Šå±‚åº”â½¤ appï¼Œä¸»è¦æ˜¯ qcamera&#x2F;qfm&#x2F;qplayer&#x2F;settings ç­‰â¼€äº›åº”â½¤ç¨‹åºã€‚- buildrootï¼š åŸºäº buildroot (2018.02-rc3) å¼€å‘çš„æ ¹â½‚ä»¶ç³»ç»Ÿã€‚- debianï¼š åŸºäºdebian 10 å¼€å‘çš„æ ¹â½‚ä»¶ç³»ç»Ÿï¼Œâ½€æŒéƒ¨åˆ†èŠ¯â½šã€‚- device&#x2F;rockchipï¼š å­˜æ”¾å„èŠ¯â½šæ¿çº§é…ç½®å’ŒParameterâ½‚ä»¶ï¼Œä»¥åŠâ¼€äº›ç¼–è¯‘ä¸æ‰“åŒ…å›ºä»¶çš„è„šæœ¬å’Œé¢„å¤‡â½‚ä»¶ã€‚- IMAGEï¼š å­˜æ”¾æ¯æ¬¡â½£æˆç¼–è¯‘æ—¶é—´ã€XMLã€è¡¥ä¸å’Œå›ºä»¶â½¬å½•ã€‚- externalï¼š å­˜æ”¾ç¬¬ä¸‰â½…ç›¸å…³ä»“åº“,åŒ…æ‹¬â¾³é¢‘ã€è§†é¢‘ã€â½¹ç»œã€recovery ç­‰ã€‚- kernelï¼š å­˜æ”¾ kernel 4.4 æˆ– 4.19 å¼€å‘çš„ä»£ç ã€‚- prebuiltsï¼š å­˜æ”¾äº¤å‰ç¼–è¯‘â¼¯å…·é“¾ã€‚- rkbinï¼š å­˜æ”¾ Rockchip ç›¸å…³çš„ Binary å’Œâ¼¯å…·ã€‚- rockdevï¼š å­˜æ”¾ç¼–è¯‘è¾“å‡ºå›ºä»¶ã€‚- toolsï¼š å­˜æ”¾ Linux å’Œ Windows æ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹å¸¸â½¤â¼¯å…·ã€‚- u-bootï¼šå­˜æ”¾åŸºäº v2017.09 ç‰ˆæœ¬è¿›â¾å¼€å‘çš„ uboot ä»£ç ã€‚- yoctoï¼šåŸºäº yocto gatesgarth 3.2 å¼€å‘çš„æ ¹â½‚ä»¶ç³»ç»Ÿï¼Œâ½€æŒéƒ¨åˆ†èŠ¯â½šã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h2 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h2><h3 id="ç¼–è¯‘ç¯å¢ƒé…ç½®"><a href="#ç¼–è¯‘ç¯å¢ƒé…ç½®" class="headerlink" title="ç¼–è¯‘ç¯å¢ƒé…ç½®"></a>ç¼–è¯‘ç¯å¢ƒé…ç½®</h3><p>ç¼–è¯‘Linux SDKéœ€è¦å®‰è£…ä¸‹åˆ—åº“ï¼šï¼ˆæ³¨æ„ä¸æ˜¯å…¨éƒ¨å¤åˆ¶ç²˜è´´ï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install git ssh make gcc libssl-dev liblz4-tool expect \g++ patchelf chrpath gawk texinfo chrpath diffstat binfmt-support \qemu-user-static live-build bison flex fakeroot cmake gcc-multilib \g++-multilib unzip device-tree-compiler ncurses-dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ®è¯´ç¼–è¯‘è¦å¾ˆä¹…, å¯¹ç”µè„‘å†…å­˜, ç¡¬ç›˜éƒ½æœ‰è¦æ±‚</p><p>å¼€å§‹å¯¹SDKè¿›è¡Œé…ç½®</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>98_STM32å•ç‰‡æœºçš„å®šæ—¶å™¨</title>
      <link href="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/"/>
      <url>/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="åŸºæœ¬å®šæ—¶å™¨æ¡†å›¾"><a href="#åŸºæœ¬å®šæ—¶å™¨æ¡†å›¾" class="headerlink" title="åŸºæœ¬å®šæ—¶å™¨æ¡†å›¾"></a>åŸºæœ¬å®šæ—¶å™¨æ¡†å›¾</h2><p>å®šæ—¶å™¨çš„å¸¸ç”¨åŠŸèƒ½ä¸»è¦ä¸º<strong>å®šæ—¶ä¸­æ–­</strong>, <strong>PWMç”Ÿæˆ</strong></p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240316213946464.png" class="" title="image-20240316213946464"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240316213942990.png" class="" title="image-20240316213942990"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240316213952782.png" class="" title="image-20240316213952782"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240316213956447.png" class="" title="image-20240316213956447"><h2 id="STM32æ—¶é’Ÿæ ‘"><a href="#STM32æ—¶é’Ÿæ ‘" class="headerlink" title="STM32æ—¶é’Ÿæ ‘"></a>STM32æ—¶é’Ÿæ ‘</h2><p>SystemInit()å°±æ˜¯ç”¨æ¥é…ç½®æ—¶é’Ÿæ ‘çš„,å·¦è¾¹ä¸ºæ—¶é’Ÿäº§ç”Ÿç”µè·¯,å³è¾¹ä¸ºåˆ†é…ç”µè·¯, å†…éƒ¨å››ä¸ªæŒ¯è¡æº, å¯åŠ¨å†…éƒ¨æ—¶é’Ÿ, æš‚æ—¶ä»¥å†…éƒ¨8MHzä¸ºç³»ç»Ÿæ—¶é’Ÿ,å¯åŠ¨å¤–éƒ¨æ—¶é’Ÿ,PLLé”ç›¸ç¯9å€é¢‘åˆ°72MHz,é”ç›¸ç¯ç¨³å®šè¾“å‡ºååˆ‡æ¢ç³»ç»Ÿæ—¶é’Ÿä¸º72MHz</p><p>â—æ³¨æ„:</p><p>è‹¥å¤–éƒ¨æ™¶æŒ¯å‡ºç°é—®é¢˜, cssä¼šæŠŠæ—¶é’Ÿåˆ‡æ¢åˆ°å†…éƒ¨æ—¶é’Ÿ,æ­¤æ—¶ç³»ç»Ÿçš„æ—¶é’Ÿå°±æ…¢äº†ä¹å€</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240317081714282.png" class="" title="image-20240317081714282"><h2 id="å®šæ—¶ä¸­æ–­æ¨¡å¼"><a href="#å®šæ—¶ä¸­æ–­æ¨¡å¼" class="headerlink" title="å®šæ—¶ä¸­æ–­æ¨¡å¼"></a>å®šæ—¶ä¸­æ–­æ¨¡å¼</h2><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240316214042758.png" class="" title="image-20240316214042758"><p>è¿™ä¸¤ä¸ªå‡½æ•°çš„åŒºåˆ«</p><blockquote><ul><li><p><strong>TIM_TimeBaseInit</strong>æ˜¯æ ¹æ®ä½ è®¾å®šçš„å‚æ•°åˆå§‹åŒ–æ—¶åŸºå•å…ƒ</p></li><li><p><strong>TIM_TimeBaseStructInit</strong>æ˜¯å°†æ¯ä¸€ä¸ªå‚æ•°æŒ‰é»˜è®¤å‚æ•°åˆå§‹åŒ–</p><ul><li>(å³è®¾ç½®ä¸ºé¢„å®šä¹‰çš„é»˜è®¤å€¼ã€‚è¿™äº›é»˜è®¤å€¼æ˜¯æ ¹æ®STM32å¾®æ§åˆ¶å™¨åº“çš„è§„å®šé¢„è®¾çš„ï¼Œé€šå¸¸æ˜¯ä¸ºäº†ç¡®ä¿å®šæ—¶å™¨æ¨¡å—èƒ½ä»¥ä¸€ä¸ªåŸºæœ¬ä¸”ç¨³å®šçš„é…ç½®å¼€å§‹å·¥ä½œï¼Œå³ä½¿å¼€å‘è€…æ²¡æœ‰æ˜¾å¼è®¾ç½®æ‰€æœ‰çš„å‚æ•°)ã€‚</li></ul></li></ul></blockquote><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240317075352159.png" class="" title="image-20240317075352159"><h3 id="TIM1-RepetitionCounter"><a href="#TIM1-RepetitionCounter" class="headerlink" title="TIM1_RepetitionCounter"></a>TIM1_RepetitionCounter</h3><p><code>TIM1_RepetitionCounter</code>è®¾ç½®æ¶‰åŠåˆ°STM32å¾®æ§åˆ¶å™¨ä¸­é«˜çº§å®šæ—¶å™¨çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå³é‡å¤è®¡æ•°å™¨ï¼ˆRepetition Counterï¼Œç®€ç§°RCRï¼‰ã€‚</p><p>è¿™ä¸ªè®¡æ•°å™¨çš„ä½œç”¨æ˜¯<strong>å®šä¹‰åœ¨å®šæ—¶å™¨äº§ç”Ÿä¸€ä¸ªæ›´æ–°äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯è®¡æ—¶å‘¨æœŸç»“æŸå¹¶é‡æ–°å¼€å§‹çš„æ ‡å¿—ï¼‰ä¹‹å‰, è®¡æ•°å™¨éœ€è¦å®Œæˆçš„è®¡æ•°å‘¨æœŸæ•°</strong>ã€‚æ¢å¥è¯è¯´ï¼Œ<em>RCRå†³å®šäº†å®šæ—¶å™¨éœ€è¦è®¡æ•°å¤šå°‘æ¬¡æ‰è§¦å‘ä¸€æ¬¡æ›´æ–°äº‹ä»¶</em>ã€‚</p><h3 id="RCRçš„å·¥ä½œåŸç†"><a href="#RCRçš„å·¥ä½œåŸç†" class="headerlink" title="RCRçš„å·¥ä½œåŸç†"></a>RCRçš„å·¥ä½œåŸç†</h3><blockquote><p>å½“RCRè®¾ç½®ä¸ºæŸä¸ªå€¼Næ—¶ï¼Œå®šæ—¶å™¨çš„å‘ä¸‹è®¡æ•°å™¨ä¼šä»Nå¼€å§‹è®¡æ•°ï¼Œæ¯æ¬¡åˆ°0æ—¶ï¼Œäº§ç”Ÿä¸€ä¸ªæ›´æ–°äº‹ä»¶ï¼Œå¹¶ä¸”è®¡æ•°å™¨é‡æ–°ä»Nå¼€å§‹è®¡æ•°ã€‚è¿™æ ·ï¼Œæ›´æ–°äº‹ä»¶çš„äº§ç”Ÿä¸å†æ˜¯æ¯ä¸ªè®¡æ•°å‘¨æœŸç»“æŸæ—¶å‘ç”Ÿï¼Œè€Œæ˜¯æ¯N+1ä¸ªå‘¨æœŸå‘ç”Ÿä¸€æ¬¡ã€‚</p></blockquote><p>è®¾ç½®ä¸º0æ—¶ï¼Œè¡¨ç¤ºæ¯ä¸ªå‘¨æœŸç»“æŸéƒ½ä¼šäº§ç”Ÿæ›´æ–°äº‹ä»¶ï¼Œå³æ²¡æœ‰é‡å¤è®¡æ•°çš„å»¶è¿Ÿã€‚</p><h3 id="TIM-ClearFlag"><a href="#TIM-ClearFlag" class="headerlink" title="TIM_ ClearFlag"></a>TIM_ ClearFlag</h3><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240317080908937.png" class="" title="image-20240317080908937"><p>æ”¾åœ¨è¿™é‡Œæ¸…é™¤</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">TIM_ClearFlag(TIM2, TIM_FLAG_Update);                           TIM_ITConfig(TIM2,TIM_IT_Update,ENABLE);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å› ä¸º<strong>TIM_TimeBaseInit()åˆå§‹åŒ–å‡½æ•°</strong>çš„æœ«å°¾æ‰‹åŠ¨ç”Ÿæˆäº†ä¸€ä¸ªæ›´æ–°äº‹ä»¶,é‡æ–°è£…åœ¨é¢„åˆ†é¢‘å™¨å’Œé‡å¤è®¡æ•°å™¨çš„å€¼</p><blockquote><p>é¢„åˆ†é¢‘å™¨æœ‰ç¼“å†²å¯„å­˜å™¨,å†™å…¥çš„å€¼åªæœ‰åœ¨æ›´æ–°äº‹ä»¶æ—¶, æ‰ä¼šçœŸæ­£èµ·ä½œç”¨,</p><p>è¿™å¥ä»£ç æ‰‹åŠ¨ç”Ÿæˆäº†ä¸€ä¸ªæ›´æ–°äº‹ä»¶, è®©é¢„åˆ†é¢‘å™¨çš„å€¼ç«‹åˆ»ç”Ÿæ•ˆ</p></blockquote><p>äº§ç”Ÿçš„é—®é¢˜:</p><ul><li>æ›´æ–°äº‹ä»¶ä¸æ›´æ–°ä¸­æ–­å‡ ä¹åŒæ—¶å‘ç”Ÿ, <strong>æ›´æ–°ä¸­æ–­ä¼šç½®ä¸­æ–­æ ‡å¿—ä½, åˆå§‹åŒ–ç»“æŸåå°±ä¼šç«‹åˆ»è¿›å…¥ä¸­æ–­</strong>, æ‰€ä»¥åœ¨åˆå§‹åŒ–ä¹‹å, <strong>æ‰‹åŠ¨æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½</strong>å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜</li></ul><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;* Generate an update event to reload the Prescaler and the Repetition counter   values immediately *&#x2F;TIMx-&gt;EGR &#x3D; TIM_PSCReloadMode_Immediate;   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ARRä¸PSC"><a href="#ARRä¸PSC" class="headerlink" title="ARRä¸PSC"></a>ARRä¸PSC</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">TIM_TimeBaseInitStructure.TIM_Period &#x3D; 10000-1;                &#x2F;&#x2F;è‡ªåŠ¨é‡è£…è½½å€¼ ARRTIM_TimeBaseInitStructure.TIM_Prescaler &#x3D; 7200-1;              &#x2F;&#x2F;é¢„åˆ†é¢‘ç³»æ•° PSC<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ARRâ†‘, PSCâ†“,ä»¥æ›´å¿«çš„é€Ÿåº¦è®¡æ›´å¤šçš„æ•°</p><p>ä¹Ÿå°±æ˜¯è¯´ARRè¶Šå¤§, è®¡æ•°ä¸Šé™è¶Šå¤§, åŒæ—¶é¢‘ç‡è¶Šé«˜;PSCè¶Šå°, é¢‘ç‡è¶Šé«˜</p><blockquote><p>72MHz&#x2F;720&#x3D;0.1MHz  1&#x2F;0.1MHz&#x3D;10us 10us*10000&#x3D;0.1sè®¡æ•°ä¸€æ¬¡</p><p>1&#x2F;((72MHz&#x2F;7200)*10000)&#x3D;1s</p></blockquote><h2 id="å¤–éƒ¨ä¸­æ–­æ¨¡å¼"><a href="#å¤–éƒ¨ä¸­æ–­æ¨¡å¼" class="headerlink" title="å¤–éƒ¨ä¸­æ–­æ¨¡å¼"></a>å¤–éƒ¨ä¸­æ–­æ¨¡å¼</h2><p>å¤–éƒ¨è§¦å‘å®šæ—¶å™¨è®¡æ•°, ä¸å¤–éƒ¨ä¸­æ–­ç›¸ä¼¼</p><h2 id="è¾“å‡ºæ¯”è¾ƒæ¨¡å¼"><a href="#è¾“å‡ºæ¯”è¾ƒæ¨¡å¼" class="headerlink" title="è¾“å‡ºæ¯”è¾ƒæ¨¡å¼"></a>è¾“å‡ºæ¯”è¾ƒæ¨¡å¼</h2><p>ä¹Ÿå°±æ˜¯PWMæ¨¡å¼</p><p>PWMè„‰å†²å®½åº¦è°ƒåˆ¶, å®é™…ä¸Šæ˜¯é€šè¿‡å¼€ã€å…³ã€å¼€ã€å…³å®ç°ç­‰æ•ˆæ¨¡æ‹Ÿé‡(åªå¯¹æœ‰æƒ¯æ€§ä½œç”¨çš„èµ·ä½œç”¨,æ¯”å¦‚ç”µæœºã€LEDç­‰)</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113441437.png" class="" title="image-20240319113441437"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113626758.png" class="" title="image-20240319113626758"><p>ä¸‹å›¾, å¦‚æœæ²¡æœ‰ccr, å°±æ˜¯æ­£å¸¸çš„è®¡æ•°å€¼åˆ°è‡ªåŠ¨é‡è£…è½½å€¼æ¸…é›¶ä¸ºä¸€ä¸ªå‘¨æœŸ</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240318114913262.png" class="" title="image-20240318114913262"><p>å…¬å¼å¦‚ä¸‹:</p><p>æ¯”å¦‚: </p><ul><li><p>è¦é¢‘ç‡ä¸º10k, é‚£ä¹ˆ72M&#x2F;(psc+1)&#x2F;100&#x3D;10k, åˆ™psc+1&#x3D;72</p></li><li><p>å ç©ºæ¯”ä¸º50%, ccr&#x3D;50</p></li><li><p>åˆ†è¾¨ç‡ä¸º1%, é‚£ä¹ˆä»åå¾€å‰æ¨arr+1&#x3D;100</p></li></ul><p>å…³äºä¸ºä»€éƒ½æ˜¯+1</p><p>å› ä¸ºè®¡æ•°å™¨æº¢å‡ºä¸æ˜¯65535æº¢å‡ºè€Œæ˜¯ç¬¬65536æ—¶æº¢å‡º, æ‰€ä»¥å®é™…ä¸Šè®¡æ•°å€¼è¦å¤š1</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113356763.png" class="" title="image-20240319113356763"><h3 id="å‘¼å¸ç¯"><a href="#å‘¼å¸ç¯" class="headerlink" title="å‘¼å¸ç¯"></a>å‘¼å¸ç¯</h3><p>åŸç†: é€šè¿‡è°ƒèŠ‚å ç©ºæ¯”, æ”¹å˜LEDäº®ç­æ—¶é•¿, äººçœ¼çœ‹ä¸Šå»å°±æ˜¯å‘¼å¸ç¯çš„æ•ˆæœ</p><p>å‡ºç°BUG, ä¸çŸ¥é“ä¸ºå•¥, å°±æ˜¯æ±Ÿåç§‘æŠ€çš„ä»£ç çƒ§è¿›å»æ­£å¸¸ä½¿ç”¨, å¤åˆ¶åˆ°æ–°çš„å·¥ç¨‹å°±ä¸å¥½ä½¿äº†</p><p>è§£å†³: </p><p>åŠ ä¸Šå°±æ²¡ååº”äº†,å…¶å®è¿™é‡Œåº”è¯¥æ–­ç‚¹è°ƒè¯•,ä½†æ˜¯æˆ‘é€‰æ‹©äº†ä¸€ä¸ªä¸€ä¸ªå¯¹,åæ¥å‘ç°å°±å‰©delayä¸ä¸€æ ·äº†,æ¢äº†ä¹‹åä¹Ÿå¥½äº†</p><p>è¿˜ä»¥ä¸ºæ˜¯delayå‡ºäº†é—®é¢˜,ç»“æœæ˜¯<strong>æˆ‘æ²¡åˆå§‹åŒ–delay</strong>, æ‰€ä»¥ç¨‹åºåº”è¯¥æ˜¯å¡ä½äº†</p><p>å¦å¤–,é¢‘ç‡ä¸èƒ½å¤ªä½å¦åˆ™ä¼šä¸€ç›´é—ªçƒ</p><h3 id="èˆµæœºæ§åˆ¶"><a href="#èˆµæœºæ§åˆ¶" class="headerlink" title="èˆµæœºæ§åˆ¶"></a>èˆµæœºæ§åˆ¶</h3><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113514350.png" class="" title="image-20240319113514350"><p><strong>è§’åº¦å ç©ºæ¯”æ¢ç®—</strong></p><p>æ‰€ä»¥**(angle&#x2F;180<em>2+0.5)&#x2F;20*100</em>*, </p><blockquote><ul><li>è§’åº¦æ˜ å°„æˆè„‰å†²å®½åº¦ angle&#x2F;180*(2.5-0.5)</li><li>è„‰å†²å®½åº¦&#x2F;20(å‘¨æœŸ)&#x3D;å ç©ºæ¯”</li><li>å› ä¸ºccr&#x2F;arr&#x3D;å ç©ºæ¯”,æ•…æ¢ç®—å‡ºæ­¤æ—¶çš„ccr</li></ul></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">âŒTIM_SetCompare2(TIM2,((angle&#x2F;180)*2+0.5)&#x2F;20*100);  æ²¡é”™,è¿™ä¹ˆç®—æ˜¯æ­£ç¡®çš„,å…¬å¼å¤æ‚äº†ä¸€äº›   CCR &#x3D; (æœ€å°è„‰å®½ + (angle&#x2F;180) * è„‰å®½èŒƒå›´) &#x2F; å®šæ—¶å™¨å‘¨æœŸ * ARR<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>pulse&#x3D;(180&#x2F;180)*(2.5-0.5)+0.5è§’åº¦æ¢ç®—è„‰å†²å®½åº¦</p><p>pulse&#x2F;20(å‘¨æœŸ)&#x3D;å ç©ºæ¯”&#x3D;0.125&#x3D;12.5%&#x2F;100(ARR)&#x3D;CCR</p></blockquote><p>ç®€å•æƒ³,å°±æ˜¯æŠŠ0<del>180å¯¹åº”åˆ°2.5</del>12.5</p><p>æ ¹æ®å ç©ºæ¯”ä¸º2.5%~12.5%</p><p>æ ¹æ®<strong>0.5&#x2F;20</strong><del><strong>2.5&#x2F;20</strong>&#x3D;<strong>2.5&#x2F;100</strong></del><strong>12.5&#x2F;100</strong>çš„å¯¹åº”å…³ç³»,å…¶å®å°±æ˜¯<strong>å ç©ºæ¯”</strong></p><p>âœ”ï¸å…¶å®å°±æ˜¯0.5~2.5ms&#x2F;20ms&#x3D;å ç©ºæ¯”(2.5%12.5%)  ARR&#x3D;100,é‚£ä¹ˆå¯¹åº”å ç©ºæ¯”çš„CCRä¸º2.5-12.5</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">TIM_SetCompare2(TIM2,angle&#x2F;180*10+2.5);           &#x2F;&#x2F;è¿™ä¸ªä¹Ÿæ²¡é”™,ä¹‹å‰å¤±æ•ˆçš„åŸå› æ˜¯æ›´æ”¹ARRåæ²¡æœ‰æ›´æ”¹PSC,å¯¼è‡´å‘¨æœŸå‘ç”Ÿå˜åŒ–<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å•ä½HZå¯¹åº”s,å³20msçš„é¢‘ç‡ä¸º1&#x2F;0.02&#x3D;50hz,å³èˆµæœºé¢‘ç‡ä¸º50HZ</p><p>é‚£ä¹ˆ<strong>Freq&#x3D;CK_PSC&#x2F;(PSC+1)&#x2F;(ARR+1)&#x3D;50HZ,</strong></p><p>æ‰¾ä¸€ä¸ªæ¯”è¾ƒå¥½è®¡ç®—çš„å€¼,å¯ä»¥è®¾ç½®PSCä¸º72,ARRä¸º20000, 20kå¯¹åº”20ms,CCR&#x3D;500å¯¹åº”0.5ms</p><h3 id="é©±åŠ¨ç”µæœº"><a href="#é©±åŠ¨ç”µæœº" class="headerlink" title="é©±åŠ¨ç”µæœº"></a>é©±åŠ¨ç”µæœº</h3><p>ç”µæœºçš„é¢‘ç‡ä¸€èˆ¬å¼<strong>5K~20KHZ</strong>,æ ¹æ®å…¬å¼72&#x2F;(psc+1)&#x2F;(arr+1)&#x3D;20K</p><p>å¯ä»¤(psc+1)&#x3D;0, (arr+1)&#x3D;3600</p><h3 id="éPIDæ§åˆ¶ç”µæœºä½ç½®"><a href="#éPIDæ§åˆ¶ç”µæœºä½ç½®" class="headerlink" title="éPIDæ§åˆ¶ç”µæœºä½ç½®"></a>éPIDæ§åˆ¶ç”µæœºä½ç½®</h3><p>ä»¥å‰å†™çš„,å¿˜äº†å’‹ç®—,éš¾é“æ˜¯è¯•å‡ºæ¥çš„</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Load(-800,1000);  &#x2F;&#x2F;0.73sä¸€åœˆå·¦å³                               delay_ms(762);    &#x2F;&#x2F;ä½†æ˜¯æ²¡æœ‰è¾¾åˆ°,å–ä¸‰æ¬¡è„‰å†²å¹³å‡å€¼è®¡ç®—,æœ‰è¯¯å·®,ä½†æ˜¯è¯¯å·®å˜å°äº†t2&#x3D;Read_Speed(2);t4&#x3D;Read_Speed(4);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>72m&#x2F;7200&#x3D;10k,1560&#x2F;10k&#x2F;2&#x3D;760</p><p>æˆ‘å½“æ—¶å¾ˆæœ‰å¯èƒ½æ˜¯é€šè¿‡<strong>å®é™…æµ‹è¯•å›ºå®šå ç©ºæ¯”çš„è„‰å†²æ•°</strong>,ç„¶å<strong>1560é™¤ä»¥è„‰å†²æ•°</strong>å°±å¾—åˆ°äº†<strong>å›ºå®šå ç©ºæ¯”è½¬ä¸€åœˆ</strong>çš„æ—¶é—´</p><h2 id="è¾“å…¥æ•è·æ¨¡å¼"><a href="#è¾“å…¥æ•è·æ¨¡å¼" class="headerlink" title="è¾“å…¥æ•è·æ¨¡å¼"></a>è¾“å…¥æ•è·æ¨¡å¼</h2><p>ICï¼ˆInput Captureï¼‰è¾“å…¥æ•è·</p><blockquote><p>è¾“å…¥æ•è·æ¨¡å¼ä¸‹ï¼Œå½“é€šé“è¾“å…¥å¼•è„šå‡ºç°æŒ‡å®šç”µå¹³è·³å˜æ—¶ï¼Œå½“å‰CNTçš„å€¼å°†è¢«é”å­˜åˆ°CCRä¸­ï¼Œå¯ç”¨äºæµ‹é‡PWMæ³¢å½¢çš„é¢‘ç‡ã€å ç©ºæ¯”ã€è„‰å†²é—´éš”ã€ç”µå¹³æŒç»­æ—¶é—´ç­‰å‚æ•°æ¯ä¸ªé«˜çº§å®šæ—¶å™¨å’Œé€šç”¨å®šæ—¶å™¨éƒ½æ‹¥æœ‰4ä¸ªè¾“å…¥æ•è·é€šé“</p><p>å¯é…ç½®ä¸ºPWMIæ¨¡å¼ï¼ŒåŒæ—¶æµ‹é‡é¢‘ç‡å’Œå ç©ºæ¯”å¯é…åˆä¸»ä»è§¦å‘æ¨¡å¼ï¼Œå®ç°ç¡¬ä»¶å…¨è‡ªåŠ¨æµ‹é‡</p></blockquote><p>ps: ç”µæœºæŒ¯åŠ¨å¯ä»¥å‘å£°</p><p><strong>æµ‹é¢‘æ–¹æ³•</strong></p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113335201.png" class="" title="image-20240319113335201"><p>æ ‡å‡†é¢‘ç‡Fcå°±æ˜¯æ—¶é’Ÿ&#x2F;é¢„åˆ†é¢‘ç³»æ•°,å°±æ˜¯å®šæ—¶å™¨è‡ªå¢çš„é¢‘ç‡</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113712211.png" class="" title="image-20240319113712211"><p><strong>ä¸»ä»è§¦å‘æ¨¡å¼</strong></p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113804333.png" class="" title="image-20240319113804333"><p>ğŸ”ºé‡ç‚¹</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113836650.png" class="" title="image-20240319113836650"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240319113852705.png" class="" title="image-20240319113852705"><h3 id="æ˜“é”™"><a href="#æ˜“é”™" class="headerlink" title="æ˜“é”™"></a>æ˜“é”™</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">void IC_Init(void)&#123;  &#x2F;&#x2F; åˆå§‹åŒ–RCCæ—¶é’Ÿé…ç½®  &#x2F;&#x2F;å®šæ—¶å™¨æ—¶é’Ÿå¼€å¯      &#x2F;&#x2F;è¾“å…¥æ¯”è¾ƒå¼•è„šåˆå§‹åŒ–  &#x2F;&#x2F;æ—¶åŸºå•å…ƒåˆå§‹åŒ–      &#x2F;&#x2F;ä¸‹é¢æ˜¯è¾“å…¥æ•è·åˆå§‹åŒ–  TIM_ICInitTypeDef TIM_ICInitStructure;  TIM_ICInitStructure.TIM_Channel &#x3D; TIM_Channel_1;  TIM_ICInitStructure.TIM_ICFilter &#x3D; 0xF;                       &#x2F;&#x2F;è¾“å…¥æ•è·æ»¤æ³¢å™¨é…ç½®  TIM_ICInitStructure.TIM_ICPolarity &#x3D; TIM_ICPolarity_Rising; &#x2F;&#x2F; æ•è·ä¿¡å·çš„ææ€§è®¾ç½®ï¼Œè¿™é‡Œè®¾ç½®ä¸ºä¸Šå‡æ²¿è§¦å‘æ•è·  TIM_ICInitStructure.TIM_ICPrescaler &#x3D; TIM_ICPSC_DIV1;         &#x2F;&#x2F;è¾“å…¥æ•è·åˆ†é¢‘ç³»æ•°,è¿™é‡Œé€‰æ‹©  TIM_ICInitStructure.TIM_ICSelection &#x3D; TIM_ICSelection_DirectTI;  TIM_PWMIConfig(TIM3,&amp;TIM_ICInitStructure);                    &#x2F;&#x2F;PWMIäº¤å‰æ¨¡å¼, ç›¸å½“äºä¸‹é¢é…ç½®,åªæœ‰é€šé“1ã€2èƒ½ç”¨ &#x2F;&#x2F; æ‰‹åŠ¨é…ç½®é€šé“2é—´æ¥æ•è·æ¨¡å¼    &#x2F;&#x2F;  TIM_ICInitStructure.TIM_Channel &#x3D; TIM_Channel_2;&#x2F;&#x2F;  TIM_ICInitStructure.TIM_ICFilter &#x3D; 0xF;&#x2F;&#x2F;  TIM_ICInitStructure.TIM_ICPolarity &#x3D; TIM_ICPolarity_Falling;&#x2F;&#x2F;  TIM_ICInitStructure.TIM_ICPrescaler &#x3D; TIM_ICPSC_DIV1;        &#x2F;&#x2F;  TIM_ICInitStructure.TIM_ICSelection &#x3D; TIM_ICSelection_IndirectTI;      &#x2F;&#x2F; åˆå§‹åŒ–å®šæ—¶å™¨3çš„è¾“å…¥æ•è·åŠŸèƒ½  TIM_ICInit(TIM3, &amp;TIM_ICInitStructure);                         &#x2F;&#x2F; é€‰æ‹©å®šæ—¶å™¨3çš„è¾“å…¥è§¦å‘æºï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯TI1FP1ï¼ˆé€šé“1çš„æ»¤æ³¢åä¸Šå‡æ²¿è§¦å‘ï¼‰  TIM_SelectInputTrigger(TIM3,TIM_TS_TI1FP1);                   &#x2F;&#x2F;é€‰æ‹©è¾“å…¥è§¦å‘æº  &#x2F;&#x2F; è®¾ç½®å®šæ—¶å™¨3çš„ä»æ¨¡å¼ä¸ºé‡ç½®æ¨¡å¼ï¼Œä½¿å®šæ—¶å™¨å¯ä»¥åœ¨è§¦å‘è¾“å…¥æ—¶è‡ªåŠ¨é‡ç½®è®¡æ•°å™¨,æ¸…é›¶  TIM_SelectSlaveMode(TIM3,TIM_SlaveMode_Reset);               &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>DirectTI</strong></p><p> è¡¨ç¤º <strong>Direct Input Capture</strong>,ç›´æ¥è¾“å…¥æ•è·. å½“è®¾ç½®ä¸º <code>TIM_ICSelection_DirectTI</code> æ—¶ï¼Œæ„å‘³ç€è¾“å…¥æ•è·é€šé“ï¼ˆå¦‚ IC1, IC2, IC3, IC4ï¼‰ç›´æ¥è¿æ¥åˆ°ç›¸åº”çš„å¤–éƒ¨å¼•è„šï¼ˆå³ TI1, TI2, TI3, TI4ï¼‰ä¸Š</p><p><strong>TIM_ICSelection_IndirectTI</strong>ç½®ä¸ºé—´æ¥æ•è·æ¨¡å¼ï¼ŒIC2å°†ä»IC1çš„ä¿¡å·æ•è·ï¼Œå³ä½¿ç‰©ç†ä¸Šè¿æ¥åˆ°TI2</p><p>å³å®ç°äº†<strong>é€šé“ä¸€æ•è·é¢‘ç‡,é€šé“2æ•è·å ç©ºæ¯”</strong>,IC2é€‰æ‹©ä¸‹é™æ²¿,æ˜¯å› ä¸ºå ç©ºæ¯”&#x3D;é«˜ç”µå¹³è„‰å†²å®½åº¦&#x2F;å‘¨æœŸ</p><p><strong>é¢‘ç‡è·å–å‡½æ•°</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">uint32_t IC_GetFreq(void)&#123; &#x2F;&#x2F;æ•è·çš„æ˜¯CNTè®¡æ•°å€¼,Freq&#x3D;1M&#x2F;Nreturn 1000000 &#x2F; (TIM_GetCapture1(TIM3) + 1); &#x2F;&#x2F;å› ä¸ºè®¡æ•°å™¨ä»0å¼€å§‹è®¡æ•°,æ‰€ä»¥å®é™…è®¡æ•°å€¼&#x3D;N+1&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å ç©ºæ¯”è®¡ç®—å‡½æ•°</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">uint32_t IC_GetDuty(void)&#123;    &#x2F;&#x2F;å ç©ºæ¯”çš„ç»“æœæ˜¯0~1çš„æ•°,æ‰€ä»¥*100å˜æˆæ•´æ•°return (TIM_GetCapture2(TIM3)+1)*100&#x2F; (TIM_GetCapture1(TIM3)+1);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•´å‹é™¤æ³•ä¼šå¯¼è‡´å°æ•°éƒ¨åˆ†ä¸¢å¤±ï¼Œå¯¼è‡´ç»“æœæ€»æ˜¯0ã€‚å½“0ä¹˜ä»¥100åï¼Œç»“æœä»ç„¶æ˜¯0,<strong>æ‰€ä»¥*100è¦æ”¾åœ¨å‰é¢</strong></p><p>ğŸ”ºæ³¨æ„<strong>ç±»å‹è½¬æ¢</strong>çš„é—®é¢˜,æˆ–è€…å¯ä»¥ä½¿ç”¨(float)å¼ºåˆ¶ç±»å‹è½¬æ¢,å‡½æ•°ç±»å‹ä¹Ÿæ¢æˆfloat,ä¹Ÿå¯ä»¥</p><h2 id="ç¼–ç å™¨æ¨¡å¼"><a href="#ç¼–ç å™¨æ¨¡å¼" class="headerlink" title="ç¼–ç å™¨æ¨¡å¼"></a>ç¼–ç å™¨æ¨¡å¼</h2><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240322140930096.png" class="" title="image-20240322140930096"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240322145039480.png" class="" title="image-20240322145039480"><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240322145045852.png" class="" title="image-20240322145045852"><h3 id="ç¼–ç å™¨æµ‹é€Ÿ"><a href="#ç¼–ç å™¨æµ‹é€Ÿ" class="headerlink" title="ç¼–ç å™¨æµ‹é€Ÿ"></a>ç¼–ç å™¨æµ‹é€Ÿ</h3><p><strong>Mæ³•æµ‹é€Ÿ</strong><br>åˆå«åšé¢‘ç‡æµ‹é‡æ³•,ç»Ÿè®¡å›ºå®šæ—¶é—´å†…çš„ç¼–ç å™¨è„‰å†²æ•°,Mæ³•é€‚åˆæµ‹é‡é«˜é€Ÿã€‚</p><p>å‡è®¾ï¼š</p><p>ç¼–ç å™¨å•åœˆæ€»è„‰å†²æ•°ä¸ºCï¼ˆå¸¸æ•°ï¼‰</p><p>ç»Ÿè®¡æ—¶é—´ä¸ºT0</p><p> è¯¥æ—¶é—´å†…ç»Ÿè®¡åˆ°çš„ç¼–ç å™¨è„‰å†²æ•°ä¸ºM 0 </p><p>åˆ™ï¼šè½¬é€Ÿnï¼ˆåœˆ&#x2F;ç§’ï¼‰çš„è®¡ç®—å…¬å¼ä¸ºï¼š</p><img src="/2024/03/16/98-stm32-dan-pian-ji-de-ding-shi-qi/image-20240323075808389.png" class="" title="image-20240323075808389"><p><strong>ä¾‹:</strong></p><p>å‡å¦‚ç¼–ç å™¨çº¿æ•°ä¸º11,å‡é€Ÿæ¯”ä¸º30</p><p>åˆ™ç”µæœºè½¬åŠ¨ä¸€åœˆçš„è„‰å†²æ•°ä¸º11*30&#x3D;330</p><p>åˆ™é€Ÿåº¦ä¸ºCNT&#x2F;(11*30)&#x2F;t&#x3D;å•ä½æ—¶é—´è½¬å‡ åœˆ</p><p><strong>è„‰å†²æ§åˆ¶ç”µæœºé€Ÿåº¦</strong>,ç¼–ç å™¨è¯»æ•°</p><p>é€šè¿‡ä¸€ç§’å‡ ä¸ªè„‰å†²,ç„¶åå»¶æ—¶</p><p><a href="https://blog.csdn.net/hbsyaaa/article/details/113784920">ç¼–ç å™¨è®¡æ•°åŸç†ä¸ç”µæœºæµ‹é€ŸåŸç†</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>97_STM32å•ç‰‡æœºçš„EXTIå¤–éƒ¨ä¸­æ–­</title>
      <link href="/2024/03/12/97-stm32-dan-pian-ji-de-exti-wai-bu-zhong-duan/"/>
      <url>/2024/03/12/97-stm32-dan-pian-ji-de-exti-wai-bu-zhong-duan/</url>
      
        <content type="html"><![CDATA[<h2 id="EXTIå¤–éƒ¨ä¸­æ–­"><a href="#EXTIå¤–éƒ¨ä¸­æ–­" class="headerlink" title="EXTIå¤–éƒ¨ä¸­æ–­"></a>EXTIå¤–éƒ¨ä¸­æ–­</h2><blockquote><p>EXTIå¯ä»¥ç›‘æµ‹æŒ‡å®šGPIOå£çš„ç”µå¹³ä¿¡å·ï¼Œå½“å…¶æŒ‡å®šçš„GPIOå£äº§ç”Ÿç”µå¹³å˜åŒ–æ—¶ï¼ŒEXTIå°†ç«‹å³å‘NVICå‘å‡ºä¸­æ–­ç”³è¯·ï¼Œç»è¿‡NVICè£å†³åå³å¯ä¸­æ–­CPUä¸»ç¨‹åºï¼Œä½¿CPUæ‰§è¡ŒEXTIå¯¹åº”çš„ä¸­æ–­ç¨‹åº</p><p>æ”¯æŒçš„è§¦å‘æ–¹å¼ï¼šä¸Šå‡æ²¿&#x2F;ä¸‹é™æ²¿&#x2F;åŒè¾¹æ²¿&#x2F;è½¯ä»¶è§¦å‘</p><p>æ”¯æŒçš„GPIOå£ï¼šæ‰€æœ‰GPIOå£ï¼Œä½†ç›¸åŒçš„Pinä¸èƒ½åŒæ—¶è§¦å‘(ä¹Ÿå°±æ˜¯PA1ã€PB1ã€PC1ä¸èƒ½åŒæ—¶è§¦å‘,å› ä¸ºæ˜¯åŒä¸€ä¸ªé€šé“)</p><p>ä¸­æ–­é€šé“æ•°ï¼š16ä¸ªGPIO_Pinï¼Œå¤–åŠ PVDè¾“å‡ºã€RTCé—¹é’Ÿã€USBå”¤é†’ã€ä»¥å¤ªç½‘å”¤é†’è§¦å‘å“åº”æ–¹å¼ï¼šä¸­æ–­å“åº”&#x2F;äº‹ä»¶å“åº”</p></blockquote><p>å¤–éƒ¨ä¸­æ–­ä¸»è¦æ˜¯ç¡¬ä»¶ä¸­æ–­,ä¹Ÿå¯ä»¥è½¯ä»¶ä¸­æ–­, ä¸ºäº†é¿å…å ç”¨CPUèµ„æº, æ‰€ä»¥<strong>å¤–éƒ¨ä¸­æ–­ä¼šå…ˆç”±å†…éƒ¨çš„NVICè¿›è¡Œä¾›æ’åº</strong>,ç„¶åå‘Šè¯‰CPUè¦æ‰§è¡Œå“ªä¸€ä¸ª</p><img src="/2024/03/12/97-stm32-dan-pian-ji-de-exti-wai-bu-zhong-duan/image-20240312222748673.png" class="" title="image-20240312222748673"><img src="/2024/03/12/97-stm32-dan-pian-ji-de-exti-wai-bu-zhong-duan/image-20240312222319460.png" class="" title="image-20240312222319460"><p>NVICçš„ä¸­æ–­ä¼˜å…ˆçº§ç”±ä¼˜å…ˆçº§å¯„å­˜å™¨çš„4ä½ï¼ˆ0~15ï¼‰å†³å®šï¼Œè¿™4ä½å¯ä»¥è¿›è¡Œåˆ‡åˆ†ï¼Œåˆ†ä¸ºé«˜nä½çš„æŠ¢å ä¼˜å…ˆçº§å’Œä½4-nä½çš„å“åº”ä¼˜å…ˆçº§æŠ¢å ä¼˜å…ˆçº§é«˜çš„å¯ä»¥ä¸­æ–­åµŒå¥—ï¼Œå“åº”ä¼˜å…ˆçº§é«˜çš„å¯ä»¥ä¼˜å…ˆæ’é˜Ÿï¼ŒæŠ¢å ä¼˜å…ˆçº§å’Œå“åº”ä¼˜å…ˆçº§å‡ç›¸åŒçš„æŒ‰ä¸­æ–­å·æ’é˜Ÿ</p><table><thead><tr><th><strong>åˆ†ç»„æ–¹å¼</strong></th><th><strong>æŠ¢å ä¼˜å…ˆçº§</strong></th><th><strong>å“åº”ä¼˜å…ˆçº§</strong></th></tr></thead><tbody><tr><td>åˆ†ç»„0</td><td>0ä½ï¼Œå–å€¼ä¸º0</td><td>4ä½ï¼Œå–å€¼ä¸º0~15</td></tr><tr><td>åˆ†ç»„1</td><td>1ä½ï¼Œå–å€¼ä¸º0~1</td><td>3ä½ï¼Œå–å€¼ä¸º0~7</td></tr><tr><td>åˆ†ç»„2</td><td>2ä½ï¼Œå–å€¼ä¸º0~3</td><td>2ä½ï¼Œå–å€¼ä¸º0~3</td></tr><tr><td>åˆ†ç»„3</td><td>3ä½ï¼Œå–å€¼ä¸º0~7</td><td>1ä½ï¼Œå–å€¼ä¸º0~1</td></tr><tr><td>åˆ†ç»„4</td><td>4ä½ï¼Œå–å€¼ä¸º0~15</td><td>0ä½ï¼Œå–å€¼ä¸º0</td></tr></tbody></table><img src="/2024/03/12/97-stm32-dan-pian-ji-de-exti-wai-bu-zhong-duan/image-20240312222647139.png" class="" title="image-20240312222647139"><p><strong>GPIO-&gt;AFIO-&gt;EXTI-&gt;NVIC</strong>(NVICç”±å†…æ ¸ç®¡ç†,æ‰€ä»¥åº“å‡½æ•°åœ¨misc.hä¸­)</p><p>STM32ä¸­æ–­å‡½æ•°çš„åå­—å›ºå®š,ä¸€ä¸ªä¸­æ–­é€šé“å¯¹åº”ä¸€ä¸ªä¸­æ–­,åœ¨å¯åŠ¨æ–‡ä»¶ä¸­</p><p><strong>æŒ‰é”®ä¸å»ºè®®ç”¨å¤–éƒ¨ä¸­æ–­,ä¸€ä½æ¶‰åŠåˆ°æ»¤æ³¢å»¶æ—¶é—®é¢˜, æ‰€ä»¥æœ€å¥½é€‰æ‹©å®šæ—¶å™¨æ‰«æçš„æ–¹å¼</strong></p><h2 id="AFIOå¤ç”¨IOå£"><a href="#AFIOå¤ç”¨IOå£" class="headerlink" title="AFIOå¤ç”¨IOå£"></a>AFIOå¤ç”¨IOå£</h2><p>AFIOä¸»è¦ç”¨äº<strong>å¼•è„šå¤ç”¨åŠŸèƒ½</strong>çš„é€‰æ‹©å’Œ<strong>é‡å®šä¹‰</strong></p><p>åœ¨STM32ä¸­ï¼ŒAFIOä¸»è¦å®Œæˆä¸¤ä¸ªä»»åŠ¡ï¼š<strong>å¤ç”¨åŠŸèƒ½å¼•è„šé‡æ˜ å°„</strong>ã€<strong>ä¸­æ–­å¼•è„šé€‰æ‹©</strong></p><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p><strong>é…ç½®AFIOå¤–éƒ¨ä¸­æ–­å¼•è„šé€‰æ‹©</strong></p><p>è¿™ä¸ªå‡½æ•°åœ¨GPIOçš„åº“é‡Œ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">GPIO_EXTILineConfig(GPIO_PortSourceGPIOB,GPIO_PinSource0); &#x2F;&#x2F;è¿™ä¸¤ä¸ªå¿…é¡»åˆ†å¼€å†™ä¸å¯ä»¥ç”¨|GPIO_EXTILineConfig(GPIO_PortSourceGPIOB,GPIO_PinSource1); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="NVIC"><a href="#NVIC" class="headerlink" title="NVIC"></a>NVIC</h2><img src="/2024/03/12/97-stm32-dan-pian-ji-de-exti-wai-bu-zhong-duan/image-20240408085600577.png" class="" title="image-20240408085600577"><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ol><li>FlagStatus EXTI_GetFlagStatus(uint32_t EXTI_Line)ä¸ITStatus EXTI_GetITStatus(uint32_t EXTI_Line)çš„åŒºåˆ«</li></ol><p>æ£€æŸ¥æŒ‡å®šçš„ EXTI çº¿è·¯æ ‡å¿—ä½è®¾ç½®ä¸å¦</p><p>æ£€æŸ¥æŒ‡å®šçš„ EXTI çº¿è·¯è§¦å‘è¯·æ±‚å‘ç”Ÿä¸å¦</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>96_STM32å•ç‰‡æœºçš„GPIOæ¨¡å¼</title>
      <link href="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/"/>
      <url>/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="GPIOæ¨¡å¼"><a href="#GPIOæ¨¡å¼" class="headerlink" title="GPIOæ¨¡å¼"></a>GPIOæ¨¡å¼</h2><table><thead><tr><th align="left">#æ¨¡å¼</th><th align="center">æ€§è´¨</th><th align="center">ç‰¹å¾</th></tr></thead><tbody><tr><td align="left">æµ®ç©ºè¾“å…¥</td><td align="center">æ•°å­—è¾“å…¥</td><td align="center">å¯è¯»å–å¼•è„šç”µå¹³ï¼Œè‹¥å¼•è„šæ‚¬ç©ºï¼Œåˆ™ç”µå¹³ä¸ç¡®å®š</td></tr><tr><td align="left">ä¸Šæ‹‰è¾“å…¥</td><td align="center">æ•°å­—è¾“å…¥</td><td align="center">å¯è¯»å–å¼•è„šç”µå¹³ï¼Œå†…éƒ¨è¿æ¥ä¸Šæ‹‰ç”µé˜»ï¼Œæ‚¬ç©ºæ—¶é»˜è®¤é«˜ç”µå¹³</td></tr><tr><td align="left">ä¸‹æ‹‰è¾“å…¥</td><td align="center">æ•°å­—è¾“å…¥</td><td align="center">å¯è¯»å–å¼•è„šç”µå¹³ï¼Œå†…éƒ¨è¿æ¥ä¸‹æ‹‰ç”µé˜»ï¼Œæ‚¬ç©ºæ—¶é»˜è®¤ä½ç”µå¹³</td></tr><tr><td align="left">æ¨¡æ‹Ÿè¾“å…¥</td><td align="center">æ•°å­—è¾“å…¥</td><td align="center">GPIOæ— æ•ˆï¼Œå¼•è„šç›´æ¥æ¥å…¥å†…éƒ¨ADC</td></tr><tr><td align="left">å¼€æ¼è¾“å‡º</td><td align="center">æ•°å­—è¾“å‡º</td><td align="center">å¯è¾“å‡ºå¼•è„šç”µå¹³ï¼Œé«˜ç”µå¹³ä¸ºé«˜é˜»æ€ï¼Œä½ç”µå¹³æ¥VSS</td></tr><tr><td align="left">æ¨æŒ½è¾“å‡º</td><td align="center">æ•°å­—è¾“å‡º</td><td align="center">å¯è¾“å‡ºå¼•è„šç”µå¹³ï¼Œé«˜ç”µå¹³æ¥VDDï¼Œä½ç”µå¹³æ¥VSS</td></tr><tr><td align="left">å¤ç”¨å¼€æ¼è¾“å‡º</td><td align="center">æ•°å­—è¾“å‡º</td><td align="center">ç”±ç‰‡ä¸Šå¤–è®¾æ§åˆ¶ï¼Œé«˜ç”µå¹³ä¸ºé«˜é˜»æ€ï¼Œä½ç”µå¹³æ¥VSS</td></tr><tr><td align="left">å¤ç”¨æ¨æŒ½è¾“å‡º</td><td align="center">æ•°å­—è¾“å‡º</td><td align="center">ç”±ç‰‡ä¸Šå¤–è®¾æ§åˆ¶ï¼Œé«˜ç”µå¹³æ¥VDDï¼Œä½ç”µå¹³æ¥VSS</td></tr></tbody></table><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221330040.png" class="" title="image-20240312221330040"><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221408936.png" class="" title="image-20240312221408936"><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221509337.png" class="" title="image-20240312221509337"><p>æ³¨æ„:åŸè‹±æ–‡æ‰‹å†Œæ˜¯æ–½å¯†ç‰¹è§¦å‘å™¨</p><p>å¯ä»¥è¿›è¡Œæ»¤æ³¢,åªæœ‰é«˜äºä¸Šé™, ä½äºä¸‹é™æ—¶, æ‰ä¼šè¿›è¡Œä¿¡å·ç¿»è½¬</p><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221941592.png" class="" title="image-20240312221941592"><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221527981.png" class="" title="image-20240312221527981"><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221623316.png" class="" title="image-20240312221623316"><img src="/2024/03/12/96-stm32-dan-pian-ji-de-gpio-mo-shi/image-20240312221627066.png" class="" title="image-20240312221627066"><p>(1) VDD_FT å¯¹5ä¼å®¹å¿I&#x2F;Oè„šæ˜¯ç‰¹æ®Šçš„ï¼Œå®ƒä¸VDDä¸åŒ</p><h2 id="Cè¯­è¨€ç›¸å…³çŸ¥è¯†"><a href="#Cè¯­è¨€ç›¸å…³çŸ¥è¯†" class="headerlink" title="Cè¯­è¨€ç›¸å…³çŸ¥è¯†"></a>Cè¯­è¨€ç›¸å…³çŸ¥è¯†</h2><ul><li><p>å…³é”®å­—ï¼š<strong>#define</strong></p></li><li><p>ç”¨é€”ï¼šç”¨ä¸€ä¸ªå­—ç¬¦ä¸²ä»£æ›¿ä¸€ä¸ªæ•°å­—ï¼Œä¾¿äºç†è§£ï¼Œé˜²æ­¢å‡ºé”™ï¼›æå–ç¨‹åºä¸­ç»å¸¸å‡ºç°çš„å‚æ•°ï¼Œä¾¿äºå¿«é€Ÿä¿®æ”¹å®šä¹‰å®</p></li><li><p>å®šä¹‰ï¼š#define ABC 12345</p></li><li><p>å¼•ç”¨å®å®šä¹‰ï¼šint a &#x3D; ABC;&#x2F;&#x2F;ç­‰æ•ˆäºint a &#x3D; 12345;</p></li><li><p>å…³é”®å­—ï¼š<strong>typedef</strong></p></li><li><p>ç”¨é€”ï¼šå°†ä¸€ä¸ªæ¯”è¾ƒé•¿çš„å˜é‡ç±»å‹åæ¢ä¸ªåå­—ï¼Œä¾¿äºä½¿ç”¨</p></li><li><p>å®šä¹‰typedefï¼štypedef unsigned char <code>uint8_t</code>;</p></li><li><p>å¼•ç”¨typedefï¼šuint8_t a;&#x2F;&#x2F;ç­‰æ•ˆäºunsigned char a;</p></li><li><p>å…³é”®å­—ï¼š<strong>struct</strong></p></li><li><p>ç”¨é€”ï¼šæ•°æ®æ‰“åŒ…ï¼Œä¸åŒç±»å‹å˜é‡çš„é›†åˆ</p></li><li><p>å®šä¹‰ç»“æ„ä½“å˜é‡ï¼šstruct{char x; int y; float z;} StructName;å› ä¸ºç»“æ„ä½“å˜é‡ç±»å‹è¾ƒé•¿ï¼Œæ‰€ä»¥é€šå¸¸ç”¨typedefæ›´æ”¹å˜é‡ç±»å‹å</p></li><li><p>å¼•ç”¨ç»“æ„ä½“æˆå‘˜ï¼šStructName.x &#x3D; â€˜Aâ€™;</p><p>â€‹                                 StructName.y &#x3D; 66;    </p><p>â€‹                                 StructName.z &#x3D; 1.23;</p><p>â€‹                                <code>pStructName-&gt;x = &#39;A&#39;;</code>    &#x2F;&#x2F;pStructNameä¸ºç»“æ„ä½“çš„åœ°å€ï¼ŒpStructName-&gt;y &#x3D; 66;pStructName-&gt;z &#x3D; 1.23;</p></li><li><p>å…³é”®å­—ï¼š<strong>enum</strong></p></li><li><p>ç”¨é€”ï¼šå®šä¹‰ä¸€ä¸ªå–å€¼å—é™åˆ¶çš„æ•´å‹å˜é‡ï¼Œç”¨äºé™åˆ¶å˜é‡å–å€¼èŒƒå›´ï¼›å®å®šä¹‰çš„é›†åˆ(<strong>å³å˜é‡åªèƒ½ä¸ºenumä¸­å®šä¹‰çš„</strong>)</p></li><li><p>å®šä¹‰æšä¸¾å˜é‡ï¼šenum{</p><p>â€‹                                            FALSE &#x3D; 0, </p><p>â€‹                                            TRUE &#x3D; 1</p><p>â€‹                                        } EnumName;    </p><p>å› ä¸ºæšä¸¾å˜é‡ç±»å‹è¾ƒé•¿ï¼Œæ‰€ä»¥é€šå¸¸ç”¨typedefæ›´æ”¹å˜é‡ç±»å‹å</p></li><li><p>å¼•ç”¨æšä¸¾æˆå‘˜ï¼šEnumName &#x3D; FALSE;EnumName &#x3D; TRUE;</p></li></ul><h2 id="ğŸ”¥Cè¯­è¨€æ•°æ®ç±»å‹"><a href="#ğŸ”¥Cè¯­è¨€æ•°æ®ç±»å‹" class="headerlink" title="ğŸ”¥Cè¯­è¨€æ•°æ®ç±»å‹"></a>ğŸ”¥Cè¯­è¨€æ•°æ®ç±»å‹</h2><p>è¿™éƒ¨åˆ†å¾ˆé‡è¦,<strong>ç»å¸¸ä¼šå‡ºç°ç”±äºå˜é‡ç±»å‹ä¸å¯¹,å¯¼è‡´æµ‹å‡ºçš„æ•°æ®é”™è¯¯</strong>,å¸¸ç”¨<code>char</code>ä¸<code>unsigned char</code></p><table><thead><tr><th><strong>å…³é”®å­—</strong></th><th><strong>ä½æ•°</strong></th><th><strong>è¡¨ç¤ºèŒƒå›´</strong></th><th><strong>stdint****å…³é”®å­—</strong></th><th><strong>ST****å…³é”®å­—</strong></th></tr></thead><tbody><tr><td>char</td><td>8</td><td>-128 ~ 127</td><td>int8_t</td><td>s8</td></tr><tr><td>unsigned char</td><td>8</td><td>0 ~ 255</td><td>uint8_t</td><td>u8</td></tr><tr><td>short</td><td>16</td><td>-32768 ~ 32767</td><td>int16_t</td><td>s16</td></tr><tr><td>unsigned short</td><td>16</td><td>0 ~ 65535</td><td>uint16_t</td><td>u16</td></tr><tr><td>int</td><td>32</td><td>-2147483648 ~ 2147483647</td><td>int32_t</td><td>s32</td></tr><tr><td>unsigned int</td><td>32</td><td>0 ~ 4294967295</td><td>uint32_t</td><td>u32</td></tr><tr><td>long</td><td>32</td><td>-2147483648 ~ 2147483647</td><td></td><td></td></tr><tr><td>unsigned long</td><td>32</td><td>0 ~ 4294967295</td><td></td><td></td></tr><tr><td>long long</td><td>64</td><td>-(2^64)&#x2F;2 ~ (2^64)&#x2F;2-1</td><td>int64_t</td><td></td></tr><tr><td>unsigned long long</td><td>64</td><td>0 ~ (2^64)-1</td><td>uint64_t</td><td></td></tr><tr><td>float</td><td>32</td><td>-3.4e38 ~ 3.4e38</td><td></td><td></td></tr><tr><td>double</td><td>64</td><td>-1.7e308 ~ 1.7e308</td><td></td><td></td></tr></tbody></table><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[<a href="https://www.bilibili.com/video/BV1th411z7sn?p=5&vd_source=e33ad22b3d91cb180bef532ce5877b2e">3-1] æ±Ÿåç§‘æŠ€_GPIOè¾“å‡º_</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>95_åŸºäºæ¶¡æµæ‚¬æµ®çš„ç£æ‚¬æµ®å°è½¦</title>
      <link href="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/"/>
      <url>/2024/03/10/95-wo-liu-xuan-fu-xiao-che/</url>
      
        <content type="html"><![CDATA[<h2 id="ç”µç£å­¦åŸºç¡€"><a href="#ç”µç£å­¦åŸºç¡€" class="headerlink" title="ç”µç£å­¦åŸºç¡€"></a>ç”µç£å­¦åŸºç¡€</h2><p>å®ƒæ˜¯åˆ©ç”¨å¸¸å¯¼ç”µç£ä½“ä¸­åŠ±ç£ç”µæµäº§ç”Ÿçš„ç£åœºä¸éç£æ€§é‡‘å±å¯¼ä½“ä¸­æ„Ÿåº”æ¶¡æµä¹‹é—´çš„æ’æ–¥åŠ›æ¥å®ç°è¢«æ‚¬æµ®ä½“çš„ç¨³å®šæ‚¬æµ®ã€‚éç£æ€§é‡‘å±å¯¼ä½“ä¸­æ„Ÿåº”æ¶¡æµäº§ç”Ÿçš„æ¡ä»¶æœ‰ä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºï¼šå¸¸å¯¼ç”µç£ä½“ä¸­é€šå…¥çš„ç”µæµå‘ç”Ÿå˜åŒ–å’Œå¸¸å¯¼ç”µç£ä½“ä¸éç£æ€§é‡‘å±å¯¼ä½“ä¹‹é—´å­˜åœ¨ç€ç›¸å¯¹è¿åŠ¨ã€‚è¿™ç§æ‚¬æµ®æ–¹å¼çš„å®ä¾‹å¦‚æ¶¡æµå‹ç£æ‚¬æµ®è½´æ‰¿åŠå„ç§å¸¸å¯¼ç”µåŠ¨å¼ç£æ‚¬æµ®è£…ç½®ç­‰ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/455285594">æ¶¡æµæ•ˆåº”ï¼šäº§ç”Ÿçš„åŸå› åŠæ¶¡æµæ•ˆåº”çš„åˆ©å¼Šä¸æ§åˆ¶ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/455279019">ã€é«˜ä¸­â€¢ç‰©ç†ã€‘æœ‰å…³å·¦å³æ‰‹çš„å®šåˆ™æ€»ç»“ - çŸ¥ä¹ (zhihu.com)</a></p><h2 id="æ‚¬æµ®åŸºæœ¬åŸç†"><a href="#æ‚¬æµ®åŸºæœ¬åŸç†" class="headerlink" title="æ‚¬æµ®åŸºæœ¬åŸç†"></a>æ‚¬æµ®åŸºæœ¬åŸç†</h2><p>å¯¼ä½“å‘¨å›´ç£åœºå˜åŒ–ä¼šä½¿å¯¼ä½“äº§ç”Ÿæ„Ÿåº”ç”µæµ,æ„Ÿåº”ç”µæµä¼šäº§ç”Ÿæ„Ÿåº”ç£åœº,æ„Ÿåº”ç£åœºä¸åŸç£åœºç›¸äº’ä½œç”¨</p><h3 id="æµ·å°”è´å…‹é˜µåˆ—çš„å…·ä½“æ’åˆ—æ–¹æ³•"><a href="#æµ·å°”è´å…‹é˜µåˆ—çš„å…·ä½“æ’åˆ—æ–¹æ³•" class="headerlink" title="æµ·å°”è´å…‹é˜µåˆ—çš„å…·ä½“æ’åˆ—æ–¹æ³•"></a>æµ·å°”è´å…‹é˜µåˆ—çš„å…·ä½“æ’åˆ—æ–¹æ³•</h3><p>ä½¿ç”¨10x10x10mmçš„é’•é“ç¡¼ç£é“æ¥æ„å»ºæµ·å°”è´å…‹é˜µåˆ—ï¼Œå…³é”®åœ¨äºç£é“çš„ç£åŒ–æ–¹å‘ã€‚æµ·å°”è´å…‹é˜µåˆ—çš„ç‰¹ç‚¹æ˜¯ç£åœºåœ¨é˜µåˆ—çš„ä¸€ä¾§è¢«å¢å¼ºï¼Œè€Œåœ¨å¦ä¸€ä¾§å‡ ä¹è¢«å–æ¶ˆã€‚è¿™æ˜¯é€šè¿‡ç‰¹å®šçš„ç£åŒ–æ–¹å‘æ’åˆ—å®ç°çš„ï¼š</p><ol><li><strong>åºåˆ—å’Œæ–¹å‘</strong>ï¼šæµ·å°”è´å…‹é˜µåˆ—é€šå¸¸éœ€è¦æŒ‰ç…§ä¸€å®šçš„åºåˆ—æ’åˆ—ç£é“ï¼Œæ¯ä¸ªç£é“çš„ç£åŒ–æ–¹å‘ä¸å…¶æ—è¾¹çš„ç£é“æœ‰ä¸€å®šçš„è§’åº¦å·®ã€‚é€šå¸¸ï¼Œè¿™ä¸ªè§’åº¦å·®æ˜¯è¿ç»­å˜åŒ–çš„ï¼Œæ¯”å¦‚æ¯ç›¸é‚»ä¸¤ä¸ªç£é“ä¹‹é—´ç£åŒ–æ–¹å‘çš„è§’åº¦å·®ä¸º45åº¦ã€‚</li><li><strong>å®ä¾‹æ’åˆ—</strong>ï¼šå¯¹äº10x10x10mmçš„é’•é“ç¡¼ç£é“ï¼Œå‡è®¾æˆ‘ä»¬æ’åˆ—ä¸€ä¸ªæœ€ç®€å•çš„ç¯å½¢é˜µåˆ—ã€‚ç¬¬ä¸€ä¸ªç£é“æŒ‡åŒ—ï¼ˆNï¼‰å‘ä¸Šï¼Œç¬¬äºŒä¸ªç£é“é¡ºæ—¶é’ˆæ—‹è½¬45åº¦ï¼Œå³å…¶NææŒ‡å‘å¤–ä¾§å’Œä¸Šæ–¹çš„å¯¹è§’çº¿æ–¹å‘ï¼Œç¬¬ä¸‰ä¸ªç£é“Næé¡ºæ—¶é’ˆæ—‹è½¬90åº¦ï¼ŒæŒ‡å‘å¤–ä¾§ï¼Œä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°å®Œæˆä¸€ä¸ª360åº¦çš„åœ†ç¯ã€‚</li><li><strong>åˆ¶ä½œæç¤º</strong>ï¼šå®é™…æ“ä½œä¸­ï¼Œéœ€è¦ä½¿ç”¨ç²¾å¯†çš„å·¥å…·å’Œä»ªå™¨æ¥ç¡®ä¿æ¯ä¸ªç£é“çš„ç£åŒ–æ–¹å‘å‡†ç¡®æ— è¯¯ã€‚æ­¤å¤–ï¼Œåˆ¶ä½œè¿‡ç¨‹ä¸­è¦å°å¿ƒï¼Œå› ä¸ºå¼ºç£ç›¸äº’ä½œç”¨å¯èƒ½å¯¼è‡´æŸä¼¤æˆ–ä¸å¿…è¦çš„å›°æ‰°ã€‚</li></ol><p>ä¸‹å›¾æ¯ç›¸é‚»ä¸¤ä¸ªç£é“ä¹‹é—´ç£åŒ–æ–¹å‘è§’åº¦å·®ä¸º90åº¦</p><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240314073509221.png" class="" title="image-20240314073509221"><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240314073509221-17115463325691.png" class="" title="image-20240314073509221"><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240327225454684.png" class="" title="image-20240327225454684"><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240329102557122.png" class="" title="image-20240329102557122"><h2 id="ç‰©æ–™é€‰æ‹©"><a href="#ç‰©æ–™é€‰æ‹©" class="headerlink" title="ç‰©æ–™é€‰æ‹©"></a>ç‰©æ–™é€‰æ‹©</h2><ul><li><p>å¯¼ä½“æ¿ä¸éœ€è¦å¤ªåšã€‚ä¸ºäº†ä½¿è½¨é“å¯¼ä½“ä¸­çš„æ„Ÿåº”ç”µæµè¾¾åˆ°æœ€å¤§ï¼Œä¼˜å…ˆé€‰æ‹©ç”µé˜»ç‡å°çš„å¯¼ä½“æ¿çŠ¶é˜µåˆ—(åšé“æ¿å¯ä»¥å’Œè–„é“œæ¿)</p></li><li><p>å¤§æ‰­çŸ©ã€é«˜è½¬é€Ÿä¸”é‡é‡è½»çš„ç”µæœº   (142g)</p></li><li><p>ç¯çŠ¶çš„ Halbach ç£ä½“é˜µåˆ—</p></li><li><p>å°è½¦ä¸Šå­˜åœ¨ç”µç£å¹²æ‰°ï¼Œå¹²æ‰°æºæœ‰ï¼šæ°¸ç£ä½“çš„ç£åœºï¼Œç”µæœºè¿è½¬æ—¶</p><p>äº§ç”Ÿçš„ç”µç«èŠ±å¸¦æ¥çš„ç”µç£æ³¢ï¼Œæ¶¡æµäº§ç”Ÿçš„æ„Ÿåº”ç£åœºï¼Œä¸ºäº†</p><p>è§£å†³æ— çº¿ç”µé¥æ§å¶å°”å¤±çµçš„é—®é¢˜ï¼Œæœ¬è®¾è®¡ä½¿ç”¨äº†é•¿åº¦åé•¿</p><p>çš„ç”µæ§æ¿å¤©çº¿ï¼Œå¹¶åœ¨ç”µæœºä¸Šå¹¶è”äº†æ¶ˆç«èŠ±ç”µå®¹</p></li><li><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240312211446910.png" class="" title="image-20240312211446910"></li></ul><h3 id="RCT6å¤–è®¾"><a href="#RCT6å¤–è®¾" class="headerlink" title="RCT6å¤–è®¾"></a>RCT6å¤–è®¾</h3><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240404162744572.png" class="" title="image-20240404162744572"><h3 id="å¼•è„šåˆ†é…"><a href="#å¼•è„šåˆ†é…" class="headerlink" title="å¼•è„šåˆ†é…"></a>å¼•è„šåˆ†é…</h3><table><thead><tr><th align="center">å¤–è®¾</th><th align="center">è¯´æ˜</th><th align="center">å¼•è„š</th></tr></thead><tbody><tr><td align="center">PWM</td><td align="center">TIM1(é«˜çº§)_CH1,CH4</td><td align="center">PA8,PA11</td></tr><tr><td align="center"></td><td align="center">TIM8_CH1,TIM8_CH2,TIM8_CH3,TIM8_CH4,</td><td align="center">PC6,PC7,PC8,PC9</td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center"></td><td align="center">TIM3_CH1,TIM3_CH2,TIM4_CH3,TIM4_CH4</td><td align="center">PA6,PA7 ,PB8,PB9</td></tr><tr><td align="center"></td><td align="center">TIM5</td><td align="center"></td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">æœ‰åˆ·ç”µæœºMotor</td><td align="center">ç”µæœºIO</td><td align="center">PB12,PB13.PB14,PB15</td></tr><tr><td align="center">ç©ºå¿ƒæ¯ç”µæœº</td><td align="center">ç”µæœºIO</td><td align="center">PD2,PD3,PD4,PD5(PC4,PC5)</td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Encoder:</td><td align="center">TIM2_CH1_ETR,TIM2_CH2</td><td align="center">(PA15)PA0,PA1</td></tr><tr><td align="center"></td><td align="center">TIM4_CH1,TIM4_CH2</td><td align="center">PB6,PB7</td></tr><tr><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">å®šæ—¶å™¨</td><td align="center">TIM6,TIM7</td><td align="center"></td></tr><tr><td align="center">OLED</td><td align="center"></td><td align="center">A15ã€B3ã€B4ã€B5</td></tr><tr><td align="center">MAX30102</td><td align="center"></td><td align="center">PB10,PB11</td></tr><tr><td align="center">HC-SR04è¶…å£°æ³¢</td><td align="center">TIM3_CH1,TIM3_CH2</td><td align="center">(PA6,PA7)PB0,PB1</td></tr><tr><td align="center">KEY</td><td align="center"></td><td align="center">PC0,PC1,PC2,</td></tr></tbody></table><p>Motor:<br>KEY:PB1,PB11</p><h3 id="ç¡¬ä»¶pcb"><a href="#ç¡¬ä»¶pcb" class="headerlink" title="ç¡¬ä»¶pcb"></a>ç¡¬ä»¶pcb</h3><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/%E7%A3%81%E6%82%AC%E6%B5%AE%E4%B8%BB%E6%8E%A7%E6%9D%BFPCB_8858.png" class="" title="ç£æ‚¬æµ®ä¸»æ§æ¿PCB_8858"><p>æ–°çš„å¿ƒå¾—ä½“ä¼š</p><p><strong>ä¸è¦æ­»æŠ ç»†èŠ‚</strong>, è¾¹åšè¾¹æ£€æŸ¥,ä¿è¯æ•ˆç‡</p><h3 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p>545ã€550ã€350ç”µæœºå‡ä¸è¡Œ,å‡ä¼šè¢«æŠ‘åˆ¶è½¬åŠ¨</p><p><strong>4250æ— åˆ·ç”µæœº</strong></p><p><strong>é©±åŠ¨åŸç†</strong></p><p><strong>stm32é©±åŠ¨</strong></p><p><strong>ä¾›ç”µ</strong></p><p><strong>é›†æˆæ¿</strong></p><p><strong>ç”µæºåˆ†çº¿æ¿</strong></p><p>ä¸€ä¸ªç”µæ± éœ€è¦ç»™å¤šä¸ªç”µè°ƒåŠä¸»æ§æ¿ä¾›ç”µ,æ‰€ä»¥éœ€è¦ç”µæºåˆ†çº¿æ¿</p><p><strong>ç”µæ± è½¬æ¢å¤´</strong></p><p>XTå¤´è½¬Tå¤´</p><p>AWGï¼ˆAmerican Wire Gaugeï¼‰æ˜¯ä¸€ç§ç¾å›½å¸¸ç”¨çš„ç”µçº¿å°ºå¯¸æ ‡å‡†ï¼Œç”¨äºè¡¡é‡ç”µçº¿çš„ç›´å¾„å¤§å°ã€‚AWGå€¼è¶Šå°ï¼Œç”µçº¿çš„ç›´å¾„å°±è¶Šå¤§ï¼›ç›¸åº”åœ°ï¼Œç”µçº¿çš„æ¨ªæˆªé¢ç§¯å°±è¶Šå¤§ï¼Œèƒ½å¤Ÿæ‰¿è½½çš„ç”µæµå°±è¶Šå¤šã€‚è¿™ä¸ªæ ‡å‡†ä¸ä»…åº”ç”¨äºè£¸ç”µçº¿ï¼Œä¹Ÿé€‚ç”¨äºç»ç¼˜ç”µçº¿ã€‚</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>å½“ä¾›ç”µ3.5v,ç£è½®è·ç¦»5mmé“æ¿10mmæ—¶,ç£è½®æ—‹è½¬è¢«æŠ‘åˆ¶,è·ç¦»é“åº•æ¿è¶Šè¿‘,è½¬é€Ÿè¶Šæ…¢,å¹¶ä¸”å¯¼çº¿å‘çƒ­</p><p>ä½ é‡åˆ°çš„ç°è±¡å¯ä»¥ä»æ¶¡ç”µæµå’Œç£é˜»åŠ›çš„è§’åº¦æ¥è§£é‡Šï¼Œè¿™äº›ç°è±¡ä½“ç°äº†ç£åœºä¸å¯¼ä½“ç›¸äº’ä½œç”¨çš„ç‰©ç†åŸç†ã€‚è®©æˆ‘ä»¬è¯¦ç»†åˆ†æä¸€ä¸‹ï¼š</p><h3 id="1-ç£è½®æ—‹è½¬è¢«æŠ‘åˆ¶çš„åŸå› "><a href="#1-ç£è½®æ—‹è½¬è¢«æŠ‘åˆ¶çš„åŸå› " class="headerlink" title="1. ç£è½®æ—‹è½¬è¢«æŠ‘åˆ¶çš„åŸå› "></a>1. ç£è½®æ—‹è½¬è¢«æŠ‘åˆ¶çš„åŸå› </h3><p>å½“ç£è½®é è¿‘é“æ¿æ—¶ï¼Œç£è½®ä¸Šçš„ç£é“äº§ç”Ÿå˜åŒ–çš„ç£åœºã€‚ç”±äºé“æ˜¯ä¸€ç§è‰¯å¥½çš„å¯¼ä½“ï¼Œè¿™ä¸ªå˜åŒ–çš„ç£åœºä¼šåœ¨é“æ¿ä¸­äº§ç”Ÿæ¶¡ç”µæµã€‚æ ¹æ®æ³•æ‹‰ç¬¬ç”µç£æ„Ÿåº”å®šå¾‹ï¼Œè¿™äº›ç”µæµäº§ç”Ÿçš„ç£åœºä¸åŸå§‹ç£åœºç›¸åï¼Œä»è€Œå¯¹ç£è½®äº§ç”Ÿä¸€ä¸ªåå‘çš„åŠ›â€”â€”è¿™å°±æ˜¯æ‰€è°“çš„ç£é˜»åŠ›ã€‚è¿™ç§åŠ›é‡è¶³ä»¥å‡ç¼“ç£è½®çš„æ—‹è½¬é€Ÿåº¦ï¼Œå°¤å…¶æ˜¯å½“ç£è½®ä¸é“æ¿çš„è·ç¦»å‡å°æ—¶ï¼Œè¿™ç§æ•ˆåº”ä¼šå˜å¾—æ›´åŠ æ˜¾è‘—ã€‚</p><h3 id="2-è·ç¦»é“æ¿è¶Šè¿‘ï¼Œè½¬é€Ÿè¶Šæ…¢çš„åŸå› "><a href="#2-è·ç¦»é“æ¿è¶Šè¿‘ï¼Œè½¬é€Ÿè¶Šæ…¢çš„åŸå› " class="headerlink" title="2. è·ç¦»é“æ¿è¶Šè¿‘ï¼Œè½¬é€Ÿè¶Šæ…¢çš„åŸå› "></a>2. è·ç¦»é“æ¿è¶Šè¿‘ï¼Œè½¬é€Ÿè¶Šæ…¢çš„åŸå› </h3><p>å½“ç£è½®è·ç¦»é“æ¿æ›´è¿‘æ—¶ï¼Œç£åœºçš„å˜åŒ–åœ¨é“æ¿ä¸­äº§ç”Ÿçš„æ¶¡ç”µæµä¼šå¢åŠ ï¼Œå› ä¸ºç£åœºå¼ºåº¦çš„å˜åŒ–æ›´å¤§ã€‚è¿™ä¼šå¯¼è‡´æ›´å¼ºçš„æ¶¡ç”µæµäº§ç”Ÿï¼Œè¿›ä¸€æ­¥å¢åŠ äº†ç£é˜»åŠ›ï¼Œä»è€Œä½¿å¾—ç£è½®çš„æ—‹è½¬é€Ÿåº¦è¿›ä¸€æ­¥å‡æ…¢ã€‚è¿™æ˜¯å› ä¸ºæ¶¡ç”µæµäº§ç”Ÿçš„åä½œç”¨ç£åœºä¸ç£è½®çš„ç£åœºç›¸äº’ä½œç”¨ï¼Œäº§ç”Ÿçš„åŠ›è¶Šæ¥è¶Šå¤§ã€‚</p><h3 id="3-å¯¼çº¿å‘çƒ­çš„åŸå› "><a href="#3-å¯¼çº¿å‘çƒ­çš„åŸå› " class="headerlink" title="3. å¯¼çº¿å‘çƒ­çš„åŸå› "></a>3. å¯¼çº¿å‘çƒ­çš„åŸå› </h3><p>ç”µæœºå’Œå¯¼çº¿å‘çƒ­ä¸»è¦æ˜¯ç”±äºç”µæµçš„æµåŠ¨é€ æˆçš„ã€‚å½“ç£è½®æ—‹è½¬å—åˆ°æŠ‘åˆ¶æ—¶ï¼Œç”µæœºéœ€è¦æ¶ˆè€—æ›´å¤šçš„åŠŸç‡æ¥å…‹æœå¢åŠ çš„é˜»åŠ›å¹¶å°è¯•ç»´æŒæ—‹è½¬ã€‚è¿™ä¼šå¯¼è‡´ç”µæµå¢åŠ ï¼Œè¿›è€Œå¯¼è‡´å¯¼çº¿ä¸­çš„ç”µé˜»æŸè€—ï¼ˆå³ç„¦è€³çƒ­ï¼‰å¢åŠ ï¼Œè¡¨ç°ä¸ºå¯¼çº¿å‘çƒ­ã€‚è¿™æ˜¯ç”µèƒ½è½¬åŒ–ä¸ºçƒ­èƒ½çš„ç›´æ¥ç»“æœã€‚</p><h3 id="å¦‚ä½•æ”¹è¿›"><a href="#å¦‚ä½•æ”¹è¿›" class="headerlink" title="å¦‚ä½•æ”¹è¿›"></a>å¦‚ä½•æ”¹è¿›</h3><ul><li><strong>é™ä½é˜»åŠ›</strong>ï¼šå¯ä»¥é€šè¿‡å¢åŠ ç£è½®ä¸é“æ¿ä¹‹é—´çš„è·ç¦»æ¥å‡å°‘æ¶¡ç”µæµçš„äº§ç”Ÿï¼Œä»è€Œå‡å°‘ç£é˜»åŠ›ï¼Œå¸®åŠ©æé«˜ç£è½®çš„æ—‹è½¬é€Ÿåº¦ã€‚</li><li><strong>ä¼˜åŒ–ä¾›ç”µ</strong>ï¼šè€ƒè™‘è°ƒæ•´ç”µæºçš„ç”µå‹æˆ–ç”µæµï¼Œä»¥æ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œåœ¨ä¿è¯ç£è½®æœ‰è¶³å¤Ÿçš„è½¬é€Ÿçš„åŒæ—¶ï¼Œå‡å°‘å¯¼çº¿çš„å‘çƒ­ã€‚å¯èƒ½éœ€è¦é€šè¿‡å®éªŒæ¥æ‰¾åˆ°è¿™ä¸ªå¹³è¡¡ç‚¹ã€‚</li><li><strong>æ”¹å–„æ•£çƒ­</strong>ï¼šå¦‚æœå¯¼çº¿å‘çƒ­æ˜¯ä¸å¯é¿å…çš„ï¼Œè€ƒè™‘ä½¿ç”¨æ•£çƒ­ç‰‡æˆ–å…¶ä»–æ•£çƒ­æ–¹æ³•æ¥å¸®åŠ©å¯¼çº¿æ•£çƒ­ï¼Œä»¥é˜²è¿‡çƒ­æŸåç”µæœºæˆ–å¯¼çº¿ã€‚</li><li><strong>ä½¿ç”¨ç”µæœºé©±åŠ¨æ§åˆ¶å™¨</strong>ï¼šä½¿ç”¨é€‚å½“çš„ç”µæœºé©±åŠ¨æ§åˆ¶å™¨å¯èƒ½æœ‰åŠ©äºæ›´ç²¾ç¡®åœ°æ§åˆ¶ç”µæœºçš„åŠŸç‡è¾“å‡ºï¼Œä»¥åŠæ›´æœ‰æ•ˆåœ°ç®¡ç†ç”µæœºçš„çƒ­é‡äº§ç”Ÿã€‚</li></ul><p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œä½ å¯ä»¥å°è¯•ä¼˜åŒ–å®éªŒè®¾ç½®ï¼Œä»¥å‡å°‘ä¸å¸Œæœ›çš„å‰¯ä½œç”¨ï¼Œå¦‚ç£è½®æ—‹è½¬é€Ÿåº¦å‡æ…¢å’Œå¯¼çº¿å‘çƒ­ï¼Œè¿›è€Œæ›´æ¥è¿‘äºå®ç°ç£æ€§æ‚¬æµ®çš„ç›®æ ‡ã€‚</p><h3 id="ç»“é¡¹å›¾ç‰‡"><a href="#ç»“é¡¹å›¾ç‰‡" class="headerlink" title="ç»“é¡¹å›¾ç‰‡"></a>ç»“é¡¹å›¾ç‰‡</h3><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240330203912213.png" class="" title="image-20240330203912213"><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240330204004114.png" class="" title="image-20240330204004114"><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240330204031440.png" class="" title="image-20240330204031440"><img src="/2024/03/10/95-wo-liu-xuan-fu-xiao-che/image-20240330204142067.png" class="" title="image-20240330204142067">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>94_Wordè®ºæ–‡çš„é£Ÿç”¨æ–¹æ³•</title>
      <link href="/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/"/>
      <url>/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºå…¬å¼åŠ ç¼–å·"><a href="#å…³äºå…¬å¼åŠ ç¼–å·" class="headerlink" title="å…³äºå…¬å¼åŠ ç¼–å·"></a>å…³äºå…¬å¼åŠ ç¼–å·</h2><p><strong>æ ‡å°º</strong></p><p>å…¬å¼å·¦ä¾§æ ‡å°º20 å­—ç¬¦3.27 </p><p>å…¬å¼ç¼–å·å·¦ä¾§æ ‡å°º41</p><h2 id="ä¸‹åˆ’çº¿"><a href="#ä¸‹åˆ’çº¿" class="headerlink" title="ä¸‹åˆ’çº¿"></a>ä¸‹åˆ’çº¿</h2><p><strong>å¦‚ä½•ç»™æ–‡æ¡£å°¾éƒ¨ç©ºæ ¼æ·»åŠ ä¸‹åˆ’çº¿ï¼Ÿ</strong></p><p>ä½¿ç”¨WPS Officeæ‰“å¼€æ–‡æ¡£ï¼Œé€‰ä¸­æ–‡æ¡£å°¾éƒ¨ç©ºæ ¼ï¼Œç‚¹å‡»â€œå¼€å§‹â€â€”&gt;â€œä¸‹åˆ’çº¿â€æ— æ³•æ·»åŠ ä¸‹åˆ’çº¿ã€‚</p><p>è¿™æ—¶ç‚¹å‡»å·¦ä¸Šè§’â€œæ–‡ä»¶â€ï¼Œä¸‹æ‹‰èœå•ç‚¹å‡»â€œé€‰é¡¹â€ï¼Œé€‰æ‹©â€œå¸¸è§„ä¸ä¿å­˜â€ã€‚</p><p>åœ¨â€œå…¼å®¹æ€§é€‰é¡¹â€ä¸­å‹¾é€‰â€œä¸ºå°¾éƒ¨ç©ºæ ¼æ·»åŠ ä¸‹åˆ’çº¿â€å³å¯æ˜¾ç¤ºæ–‡æ¡£å°¾éƒ¨ä¸‹åˆ’çº¿ã€‚</p><p><a href="https://www.wps.cn/learning/question/detail/id/1587.html">å¦‚ä½•ç»™æ–‡æ¡£å°¾éƒ¨ç©ºæ ¼æ·»åŠ ä¸‹åˆ’çº¿ï¼Ÿ-WPSå­¦å ‚</a></p><h2 id="å…¬å¼è½¬åŒ–"><a href="#å…¬å¼è½¬åŒ–" class="headerlink" title="å…¬å¼è½¬åŒ–"></a>å…¬å¼è½¬åŒ–</h2><p>æŸå®è´­ä¹°<strong>mathpix</strong>è´¦å·, å¯ä»¥ç›´æ¥PDFè½¬word, å¾ˆå¥½ç”¨, å”¯ä¸€çš„ä¸è¶³ä¹‹å¤„, å…¬å¼æ— æ³•è‡ªåŠ¨ç¼–å·</p><p>[å®˜ç½‘](<a href="https://snip.mathpix.com/home">Home - Snip Web (mathpix.com)</a>)</p><h2 id="å¤–æ–‡ç¿»è¯‘"><a href="#å¤–æ–‡ç¿»è¯‘" class="headerlink" title="å¤–æ–‡ç¿»è¯‘"></a>å¤–æ–‡ç¿»è¯‘</h2><p>é€‰æ‹©çŸ¥ç½‘æœç´¢å…³é”®å­—, é€‰å–è®ºæ–‡, googleå­¦æœ¯ä¸‹è½½å³å¯, Chatgptç¿»è¯‘</p><p><strong>é™¤å»å‡†ç¡®åº¦chatgptå¹¶æ²¡æœ‰ç›´æ¥ç¿»è¯‘å¿«</strong></p><p>ä¸€èˆ¬æœ€å¥½çš„åŠæ³•æ˜¯ç”¨<strong>mathpix</strong>æ¥pdfè½¬word,ç„¶åç¿»è¯‘,è¿™æ ·æ ¼å¼ä¹Ÿä¸ç”¨æ”¹å¾ˆå¿«</p><p>å…¬å¼å’Œç‰¹æ®Šç¬¦å·éƒ½æ˜¯æ— æ³•ç¿»è¯‘çš„</p><p>æ‰€ä»¥<strong>å¤–æ–‡ç¿»è¯‘</strong>çš„æµç¨‹</p><p>mathpix-&gt;ç¿»è¯‘(<strong>æœ€å¿«</strong>)</p><h2 id="æ–‡çŒ®ç»¼è¿°"><a href="#æ–‡çŒ®ç»¼è¿°" class="headerlink" title="æ–‡çŒ®ç»¼è¿°"></a>æ–‡çŒ®ç»¼è¿°</h2><p>åŸºæœ¬ä¸Šå°±æ˜¯æŸä¸ªæ–‡çŒ®çš„è°å¹²å•¥äº†,åœ¨æ‘˜è¦ã€ç ”ç©¶èƒŒæ™¯ã€æ€»ç»“ä¸­å»å¤åˆ¶ç²˜è´´å°±è¡Œ, æ ¼å¼å°±åƒè¿™æ ·<code>&quot;é™ˆæ™—ï¼ˆ2019ï¼‰[1]åœ¨å…¶ç ”ç©¶ä¸­æ¢è®¨äº†åŸºäºç»™å®šå…³é”®ç‚¹çš„6-DOFæœºæ¢°è‡‚è½¨è¿¹è§„åˆ’çš„é—®é¢˜... ...&quot;</code></p><h2 id="å…³äºå¤§åˆ›è®ºæ–‡"><a href="#å…³äºå¤§åˆ›è®ºæ–‡" class="headerlink" title="å…³äºå¤§åˆ›è®ºæ–‡"></a>å…³äºå¤§åˆ›è®ºæ–‡</h2><p>æ°´çš„ä¸€ç¯‡ã€Šç£æ‚¬æµ®æŠ€æœ¯åœ¨åº”æ€¥æ•‘æ´ç³»ç»Ÿä¸­çš„è®¾è®¡ä¸åº”ç”¨ã€‹,ä¸»è¦æ˜¯æµç¨‹å›¾ã€å…¬å¼ã€ç”µè·¯å›¾ã€å¼•ç”¨</p><p>å³ä½¿æˆ‘æ ¹æœ¬å°±ä¸çŸ¥é“æ€ä¹ˆåš, ç¡®å®æœ‰äººçš„è®ºæ–‡æ˜¯ä¸æ°´çš„, åŠ æ²¹</p><h2 id="å‚è€ƒæ–‡çŒ®å¼•ç”¨"><a href="#å‚è€ƒæ–‡çŒ®å¼•ç”¨" class="headerlink" title="å‚è€ƒæ–‡çŒ®å¼•ç”¨"></a>å‚è€ƒæ–‡çŒ®å¼•ç”¨</h2><img src="/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/image-20240602174942203.png" class="" title="image-20240602174942203"><img src="/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/image-20240602175032199.png" class="" title="image-20240602175032199"><p>æŒ‰ä½ctrlï¼Œç‚¹å‡»å¯è·³åˆ°å‚è€ƒæ–‡çŒ®</p><p>å¦å¤–ï¼ŒçŸ¥ç½‘çš„å¼•å·<code>&quot;</code>å¯ä»¥ç›´æ¥å¤åˆ¶å¼•ç”¨æ ¼å¼</p><h2 id="æœŸåˆŠå‘è¡¨çš„æ³¨æ„äº‹é¡¹"><a href="#æœŸåˆŠå‘è¡¨çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="æœŸåˆŠå‘è¡¨çš„æ³¨æ„äº‹é¡¹"></a>æœŸåˆŠå‘è¡¨çš„æ³¨æ„äº‹é¡¹</h2><p>ä¸èƒ½ä¸€ç¨¿å¤šæŠ•ï¼Œä¸€æ¬¡æ™ºèƒ½æŠ•ä¸€ä¸ªï¼Œäººå®¶æ‹’ç»ä½ äº†æˆ–è€…é•¿æ—¶é—´æ²¡å›å¤æ‰èƒ½æŠ•ç»™å…¶ä»–çš„ï¼Œå›å¤äº†å†æŠ•å°±ç®—ä¸€ç¨¿å¤šæŠ•äº†</p><p>çŸ¥ç½‘å¯ä¸‹è½½å°é¢ç›®å½•ç‰ˆæƒé¡µï¼Œå­¦æ ¡æäº¤ææ–™ä¼šéœ€è¦</p><img src="/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/image-20240604111421856.png" class="" title="image-20240604111421856"><p>ç‰ˆæƒé¡µä¸ç›®å½•</p><img src="/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/image-20240604111738201.png" class="" title="image-20240604111738201"><h2 id="å…³äºç¬¬ä¸€ç‰ˆæ¯•ä¸šè®ºæ–‡çš„é—®é¢˜"><a href="#å…³äºç¬¬ä¸€ç‰ˆæ¯•ä¸šè®ºæ–‡çš„é—®é¢˜" class="headerlink" title="å…³äºç¬¬ä¸€ç‰ˆæ¯•ä¸šè®ºæ–‡çš„é—®é¢˜"></a>å…³äºç¬¬ä¸€ç‰ˆæ¯•ä¸šè®ºæ–‡çš„é—®é¢˜</h2><ol><li><p>é¦–å…ˆæ˜¯è·‘é¢˜ï¼Œé¢˜ç›®é‡ç‚¹å†…å®¹åªæœ‰ä¸€é¡µï¼Œè€Œä¸”æ²¡æœ‰å›¾ç‰‡æ²¡æœ‰ä»£ç </p></li><li><p>åªæœ‰pidé‚£é‡Œæœ‰ç¨‹åºï¼Œå…¶ä»–çš„åœ°æ–¹éƒ½æ²¡å†™ï¼Œè¦æè¿°ç¨‹åº</p></li><li><p>å¡å°”æ›¼æ»¤æ³¢ä¸ä¼šï¼Œä½†æ˜¯å†™åˆ°æ‘˜è¦é‡Œé¢äº†ï¼Œä¼šè¢«é—®</p></li><li><p>å†™å‡ºæ¥çš„ä¸œè¥¿ä¸ç›¸å…³ï¼Œç« ä¸ç« ä¹‹é—´æ²¡æœ‰è”ç³»</p></li></ol><h2 id="æµç¨‹å›¾è‡ªåŠ¨ç”Ÿæˆ"><a href="#æµç¨‹å›¾è‡ªåŠ¨ç”Ÿæˆ" class="headerlink" title="æµç¨‹å›¾è‡ªåŠ¨ç”Ÿæˆ"></a>æµç¨‹å›¾è‡ªåŠ¨ç”Ÿæˆ</h2><blockquote><p>gpt+<a href="https://mermaid.live/edit#pako:eNpNks9O20AQxl_FmrMTOU5sbB8qFcK_QNpD4VKbg4UNiUTsyLUlqBOph1AlDdC0pJRCqx5KSy41EUKAAuRpvOty6it02SXQ2878Zr75VjMhLLuWDRqsema1xC3kDeepjjon6F0PDbpJt7fEpVJPuHEdNb-h4zba2lucXTKccZqdeMzGl6fo_Q9CJijJ63-iYXIT4a3W7ccoHrTjq3MC8xROjgZEB_jzOfrSI2SSkqmQ6eDWLrp-8_f6e91wpu5IDXV-1bhpPfndQsNNYgs3L_DudnzzlfRO0woyKr5sP3_GRta4GZ2pPDiboSNmdXx4hvf69BtMG--f1LjCvTb-1MfbEd75ibt3jgu0aS5kCdTsM86szT1aK4wiKjavo6NG0nn70JUcNFgjkZynksV7H8nhB7xzjPeHydGAwCKFRA14qNhexSxbZDmh4XCcAX7JrtgGaORp2StmsOYbYDh1UmoGvvtiw1kGzfcCmwfPDVZLoK2Ya69IFFQt07fzZZMsuTIqqZrOS9f9PwQthHXQspmxdDajCIIqCVlRkWWJhw3QUpKQzqgkqapjqihKYrbOw2uqIKQVWZVzoqwoOSknZwSVB9sq-65XZMdFb6z-DzUWEu4">Online FlowChart &amp; Diagrams Editor - Mermaid Live Editor</a></p></blockquote><img src="/2024/03/10/94-word-lun-wen-de-shi-yong-fang-fa/image-20240609092001851.png" class="" title="image-20240609092001851"><p>ç„¶åå¹³é¢æ•è·æˆªå›¾ï¼Œå¤§æ¦‚250%æ¸…æ™°åº¦å¯¼å…¥wordçš„æ¸…æ™°åº¦è¾ƒå¥½ï¼Œå¤ªå¤§ç›’å¤ªå°éƒ½ä¸è¡Œ</p><p>è®¾è®¡ä¸ºå‡ éƒ¨åˆ†ï¼Œmainwindowã€widgetå®¹å™¨ï¼Œpushbttonï¼Œlabelï¼Œé¢œè‰²ã€å¤§å°</p><p>ä½¿ç”¨ä»€ä¹ˆä»€ä¹ˆåº“ï¼Œç„¶åä»£ç ï¼Œæ€ä¹ˆåšçš„å®ç°ï¼Œæ§åˆ¶åŠ¨ä½œï¼Œé€šè®¯åè®®ï¼Œæ•°æ®å¸§ï¼Œè§£æå‘½ä»¤ï¼Œå‡½æ•°æ¥å£ï¼Œæµç¨‹å›¾ï¼Œå‘½ä»¤ï¼Œç‚¹å‡»æŒ‰é’®æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå¦‚ä½•æ¥æ”¶çš„ï¼Œæ£€æµ‹çŠ¶æ€ï¼Œ</p><p>è½¯ä»¶åŒ…æ‹¬çš„å­åŠŸèƒ½</p><p>æ§åˆ¶è½¯ä»¶åº”è¯¥æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Œç°åœ¨å®ç°äº†demoï¼Œå†™å‡ºæ¥çš„è®ºæ–‡æ›´ç†æƒ³åŒ–ï¼Œæ›´å®Œå–„ï¼Œä¸Šä½æœºï¼Œä¸ä¸‹ä½æœºï¼Œç°æˆçš„ï¼Œä¸»è¦å†™è“ç‰™é€šä¿¡ï¼Œé€šè¿‡è¿”å›çš„çŠ¶æ€ï¼Œè¿›è¡Œä»€ä¹ˆåŠ¨ä½œï¼Œé˜²æ’ï¼Œå°äº10cmï¼Œå°±ä¸èµ°äº†ï¼Œé˜²æ’ï¼Œç°åœ¨åšçš„åªæ˜¯ä¸€ä¸ªdemoï¼Œæœªæ¥è¿˜è¦åšä»€ä¹ˆä»€ä¹ˆå®Œå–„ï¼Œé€šä¿¡ï¼Œå‘½ä»¤æ¥å—ï¼Œè§£æï¼Œåœ¨è¿™äº›åŠŸèƒ½æ™ºå•†ï¼Œæ‘˜è¦å…ˆå†™ä¸¤å¥èƒŒæ™¯ï¼Œé€»è¾‘ï¼Œæµç¨‹</p><p>å¼€å‘ä»€ä¹ˆé©±åŠ¨ï¼Œä»€ä¹ˆé©±åŠ¨ï¼Œç„¶åkaifapid ï¼Œç„¶åè®¾å®šå€¼ï¼ŒæœŸæœ›å€¼æ˜¯ä»€ä¹ˆï¼Œä¸ºäº†pidæ˜¯ä¸æ˜¯åšäº†pidå¤–å›´çš„å·¥ä½œ</p><p>åŠ¨ä½œï¼Œé˜²æ’ï¼Œé¿éšœï¼Œå³é¢æœ‰è±å£å°±å¾€å³è½¬ï¼Œè·¯å¾„è§„åˆ’ï¼Œæ¨¡å‹ï¼Œæ–¹æ¡ˆ æ¡†æ¶ï¼Œç»“æ„</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>92_åŸºäº51å•ç‰‡æœºèœ‚é¸£å™¨çš„éŸ³ä¹æ’­æ”¾å™¨</title>
      <link href="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/"/>
      <url>/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="èœ‚é¸£å™¨"><a href="#èœ‚é¸£å™¨" class="headerlink" title="èœ‚é¸£å™¨"></a>èœ‚é¸£å™¨</h2><p>æœ‰æºèœ‚é¸£å™¨:è‡ªå¸¦æ™¶æŒ¯,é€šç”µå³å¯å‘å£°</p><p>æ— æºèœ‚é¸£å™¨:æ— æ™¶æŒ¯,éœ€è¦å‘é€è„‰å†²æ‰å¯å‘å£°</p><ul><li>é‚£ä¹ˆä»€ä¹ˆæ˜¯è„‰å†²,è„‰å†²å°±æ˜¯é«˜ä½ç”µå¹³,ä¸€ç»„é«˜ä½ç”µå¹³ä¸ºä¸€ä¸ªè„‰å†²</li><li><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306101606002.png" class="" title="image-20240306101606002"></li></ul><p>ä½¿ç”¨çš„51å•ç‰‡æœºçš„èœ‚é¸£å™¨æ¥åœ¨æ­¥è¿›ç”µæœºçš„é©±åŠ¨ä¸Š,å¦‚ä¸‹æ–¹åŸç†å›¾</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306103904701.png" class="" title="image-20240306103904701"><h2 id="ULN2003èŠ¯ç‰‡"><a href="#ULN2003èŠ¯ç‰‡" class="headerlink" title="ULN2003èŠ¯ç‰‡"></a>ULN2003èŠ¯ç‰‡</h2><ul><li><p>ULN2003 æ˜¯é«˜è€å‹ã€å¤§ç”µæµè¾¾æ—é¡¿é™ˆåˆ—ï¼Œç”±ä¸ƒä¸ªç¡… NPN è¾¾æ—é¡¿ç®¡ç»„æˆã€‚</p></li><li><p>è¯¥ç”µè·¯çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š<code>ULN2003 çš„æ¯ä¸€å¯¹è¾¾æ—é¡¿éƒ½ä¸²è”ä¸€ä¸ª 2.7K çš„åŸºæç”µé˜»,åœ¨ 5V çš„å·¥ä½œç”µå‹ä¸‹å®ƒèƒ½ä¸ TTL å’Œ CMOS ç”µè·¯ç›´æ¥ç›¸è¿ï¼Œå¯ä»¥ç›´æ¥å¤„ç†åŸå…ˆéœ€è¦æ ‡å‡†é€»è¾‘ç¼“å†²å™¨æ¥å¤„ç†çš„æ•°æ®</code>ã€‚</p></li><li><p>ULN2003 å·¥ä½œç”µå‹é«˜ï¼Œå·¥ä½œç”µæµå¤§ï¼ŒçŒç”µæµå¯è¾¾ 500mAï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨å…³æ€æ—¶æ‰¿å— 50V çš„ç”µå‹ï¼Œè¾“å‡ºè¿˜å¯ä»¥åœ¨é«˜è´Ÿè½½ç”µæµå¹¶è¡Œè¿è¡Œã€‚ULN2003 é‡‡ç”¨ DIPâ€”16 æˆ– SOPâ€”16 å¡‘æ–™å°è£…ã€‚</p></li></ul><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306104256195.png" class="" title="image-20240306104256195"><p>å†…éƒ¨æ˜¯ä¸¤ä¸ªè¾¾æ—é¡¿ç®¡</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306105010881.png" class="" title="image-20240306105010881"><p>æ ¹æ®ç”µè·¯å›¾,å½“è¾“å…¥1,ç»è¿‡éé—¨,èœ‚é¸£å™¨å¯¼é€š</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306105046915.png" class="" title="image-20240306105046915"><h2 id="buzzerå‘å£°é©±åŠ¨"><a href="#buzzerå‘å£°é©±åŠ¨" class="headerlink" title="buzzerå‘å£°é©±åŠ¨"></a>buzzerå‘å£°é©±åŠ¨</h2><p>é”™è¯¯å†™æ³•: è¿™ä¸ªæ˜¯æœ‰æºèœ‚é¸£å™¨çš„å†™æ³•, ç›¸å½“äºå‘äº†ä¸€ä¸ªè„‰å†²ã€‚</p><pre class="line-numbers language-C" data-language="C"><code class="language-C">void Buzzer_Beep(void)&#123;  Buzzer&#x3D;0;  Delay_ms(500);  Buzzer&#x3D;1;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­£ç¡®å†™æ³•: åº”è¯¥æŒç»­å‘é€è„‰å†²</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void Buzzer_Beep(void)&#123;  unsigned i &#x3D;0;  for(i&#x3D;0;i&lt;50;i++) &#x2F;&#x2F;é¢‘ç‡&#x3D;1&#x2F;å‘¨æœŸms  &#123;    Buzzer&#x3D;!Buzzer;    Delay_ms(2.5);   &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="buzzeræ¼”å¥éŸ³ä¹"><a href="#buzzeræ¼”å¥éŸ³ä¹" class="headerlink" title="buzzeræ¼”å¥éŸ³ä¹"></a>buzzeræ¼”å¥éŸ³ä¹</h2><h3 id="ä¹ç†"><a href="#ä¹ç†" class="headerlink" title="ä¹ç†"></a>ä¹ç†</h3><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306083044454.png" class="" title="image-20240306083044454"><p>åˆ†ä¸ºå››ç»„,ç›¸é‚»ä¸¤ç»„ä¹‹é—´ç›¸åŒéŸ³ç›¸å·®å…«åº¦, å·¦ä½å³é«˜</p><ul><li>ä»ä¸Šé¢çœ‹ç›¸é‚»é”®ä¹‹é—´å·®åŠéŸ³, çœ‹ç®€è°±æ•°å­—ä¸Šæ–¹ä¸€ç‚¹å‡å…«åº¦,ä¸‹æ–¹ä¸€ç‚¹é™å…«åº¦</li><li>å·¦<strong>b</strong> é™åŠéŸ³,  **#**å‡åŠéŸ³</li><li>1 <code> -</code>è¡¨ç¤º1å ä¸¤ä¸ªæ‹å­</li></ul><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306084303184.png" class="" title="image-20240306084303184"><p>å…¨éŸ³ç¬¦ åŠéŸ³ç¬¦ å››åˆ†éŸ³ç¬¦ å…«åˆ†éŸ³ç¬¦ åå…­åˆ†éŸ³ç¬¦ ä¸‰åäºŒåˆ†éŸ³ç¬¦</p><p>ä»¥å››åˆ†éŸ³ç¬¦ä¸ºåŸºå‡†,æ•°å­—ä¸‹åŠ _,å°†éŸ³ç¬¦åŠåˆ†(æ—¶é—´ä¸Š)</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306084609695.png" class="" title="image-20240306084609695"><ul><li><p>1&#x3D;D4&#x2F;4</p></li><li><p>ä»¥Dè°ƒå››åˆ†éŸ³ç¬¦ä¸ºä¸€æ‹,æ¯å°ç»“æœ‰å››æ‹, Cè°ƒçš„è¯æ˜¯å…¨ç™½é”®</p></li><li><p>é™„ç‚¹:1Â·,è¡¨ç¤ºå»¶é•¿åŸæ¥éŸ³ç¬¦çš„1&#x2F;2</p></li><li><p>å»¶éŸ³,æŒ‰ä½ä¸æ”¾</p></li></ul><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306093612791.png" class="" title="image-20240306093612791"><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306094658697.png" class="" title="image-20240306094658697"><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306100742520.png" class="" title="image-20240306100742520"><p>ä»¥aä¸ºåŸºå‡†åˆ°a1ç›¸éš”12ä¸ªéŸ³ç¬¦, é¢‘ç‡ä¸º2å€å…³ç³», ä¸­é—´æˆç­‰æ¯”æ•°åˆ—å…³ç³»</p><p>bçš„é¢‘ç‡å…¬å¼ä¸º440*2^1&#x2F;12</p><p><strong>å‘¨æœŸ&#x3D;1&#x2F;é¢‘ç‡</strong>(hz&#x2F;s)</p><p>51å•ç‰‡æœºæœºå™¨å‘¨æœŸæ˜¯æŒ¯è¡å‘¨æœŸçš„1&#x2F;12, æœºå™¨å‘¨æœŸä¸º1M, ä¸€ä¸ªæœºå™¨å‘¨æœŸ1umè®¡æ•°å€¼+1ã€‚</p><p>IOå£ç¿»è½¬ä¸¤æ¬¡,ä¸Šå‡ä¸€æ¬¡, ä¸‹é™ä¸€æ¬¡æ‰æ˜¯ä¸€ä¸ªå‘¨æœŸ, ç¿»è½¬ä¸€æ¬¡çš„é¢‘ç‡åˆ™ä¸º1&#x2F;2ã€‚</p><p>round(c2,0)å–æ•´</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306101606002-17099426046991.png" class="" title="image-20240306101606002"><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240306094741247.png" class="" title="image-20240306094741247"><h3 id="å…³äºå®šæ—¶å™¨éƒ¨åˆ†çš„å¤ä¹ "><a href="#å…³äºå®šæ—¶å™¨éƒ¨åˆ†çš„å¤ä¹ " class="headerlink" title="å…³äºå®šæ—¶å™¨éƒ¨åˆ†çš„å¤ä¹ "></a>å…³äºå®šæ—¶å™¨éƒ¨åˆ†çš„å¤ä¹ </h3><h2 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h2><p>ä¾‹å¦‚, éŸ³ç¬¦1çš„æŒ¯è¡é¢‘ç‡æ˜¯262, åˆ™æŒ¯è¡å‘¨æœŸä¸º 1&#x2F;262*1000 000&#x3D;3816us, å› ä¸ºioç¿»è½¬ä¸¤æ¬¡ä¸º1ä¸ªå‘¨æœŸ, æ‰€ä»¥å®šæ—¶å™¨è¿›å…¥ä¸­æ–­ä¸¤æ¬¡,ä¸ºèœ‚é¸£å™¨çš„ä¸€ä¸ªå‘¨æœŸ, æ•…å®šæ—¶å™¨çš„å‘¨æœŸä¸º1908us,é‚£ä¹ˆä¸ºä»€ä¹ˆé‡è£…è½½å€¼ä¸º65535-1908å‘¢</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240307223243780.png" class="" title="image-20240307223243780"><p><strong>å…¬å¼ï¼šï¼ˆ2^nï¼åˆå€¼ï¼‰Ã—ï¼ˆ12*1Ã· æ™¶æŒ¯é¢‘ç‡ï¼‰&#x3D; å®šæ—¶æ—¶é—´</strong>(1&#x2F;12æ˜¯<strong>æŒ¯è¡å‘¨æœŸ</strong>,è€Œ51å•ç‰‡æœºçš„ä¸€ä¸ªæœºå™¨å‘¨æœŸä¸º12ä¸ªæŒ¯è¡å‘¨æœŸæ•…ä¸º12*1&#x2F;æ™¶æŒ¯é¢‘ç‡)</p><p><strong>nï¼šå®šæ—¶å™¨ä½æ•°</strong> ï¼Œç”±å®šæ—¶å™¨æ¨¡å¼è¿›è¡Œå†³å®šï¼›<strong>æ—¶é’Ÿå‘¨æœŸ &#x3D; 1 &#x2F; æ™¶æŒ¯é¢‘ç‡</strong>ï¼›<strong>æœºæ¢°å‘¨æœŸ &#x3D; 12 Ã— æ—¶é’Ÿå‘¨æœŸ &#x3D; 12 &#x2F; æ™¶æŒ¯é¢‘ç‡</strong>ï¼Œå¦‚æœè¿™é‡Œè®¤å®šæ™¶æŒ¯é¢‘ç‡ä¸º12MHzï¼Œé‚£ä¹ˆå¯¹åº”çš„æœºæ¢°å‘¨æœŸå°±æ˜¯12&#x2F;12MHz&#x3D;1usã€‚é‚£ä¹ˆè¿›è€Œå¯ä»¥å¾—åˆ°ä¸Šè¿°å…¬å¼çš„å˜å½¢ï¼š</p><p><strong>ç­”æ¡ˆ</strong> :<strong>åˆå€¼ &#x3D; 2^n - å®šæ—¶æ—¶é—´ï¼Œå•ä½å‡ä¸ºusã€‚</strong></p><p>[](<a href="https://zhuanlan.zhihu.com/p/661574136">51å•ç‰‡æœºä¹‹å®šæ—¶å™¨&amp;ä¸­æ–­çš„åº”ç”¨ - çŸ¥ä¹ (zhihu.com)</a>)</p><h2 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h2><p><strong>ä¸å¤ªç†è§£è¿™éƒ¨åˆ†ä»£ç </strong>,FreqSelect500ms åŠ ä¸€æ¬¡,ä½†æ˜¯ä¸ºä»€ä¹ˆå®šæ—¶å™¨ä¸­æ–­ä¹Ÿæ˜¯500ms è¿›å…¥ä¸€æ¬¡å‘¢,</p><img src="/2024/03/06/92-ji-yu-51-dan-pian-ji-feng-ming-qi-de-yin-le-bo-fang-qi/image-20240307222426689.png" class="" title="image-20240307222426689"><p>51å•ç‰‡æœºçš„æœºå™¨å‘¨æœŸæ˜¯æŒ¯è¡å‘¨æœŸçš„1&#x2F;12(11.0592), 12*1&#x2F;12</p><p>æ™¶æŒ¯é¢‘ç‡ä¸º 12MHzï¼Œå³ 12ç™¾ä¸‡ æ¬¡æ¯ç§’ã€‚</p><ol><li>å¯¹äº 12MHz æ™¶æŒ¯é¢‘ç‡ï¼š<ul><li>ä¸€ä¸ªæ™¶æŒ¯å‘¨æœŸçš„æ—¶é—´ä¸º 1 &#x2F; 12MHz &#x3D; 0.08333 å¾®ç§’ï¼ˆæˆ–è€… 83.33 çº³ç§’ï¼‰</li><li>ä¸€ä¸ªæœºå™¨å‘¨æœŸä¸º 12 ä¸ªæ™¶æŒ¯å‘¨æœŸï¼Œå› æ­¤ä¸€ä¸ªæœºå™¨å‘¨æœŸçš„æ—¶é—´ä¸º 12 * 0.08333 å¾®ç§’ &#x3D; 1 å¾®ç§’ã€‚</li></ul></li></ol><p>å› æ­¤ï¼Œåœ¨ 12MHz æ™¶æŒ¯é¢‘ç‡ä¸‹ï¼Œä¸€ä¸ªæ™¶æŒ¯å‘¨æœŸå†…åŒ…å« 1 ä¸ªæœºå™¨å‘¨æœŸã€‚</p><p>å¯¹äº 11.0592MHz æ™¶æŒ¯é¢‘ç‡ï¼ŒåŒæ ·çš„è®¡ç®—æ–¹å¼ï¼š</p><ul><li>ä¸€ä¸ªæ™¶æŒ¯å‘¨æœŸçš„æ—¶é—´ä¸º 1 &#x2F; 11.0592MHz &#x3D; 0.09035 å¾®ç§’ï¼ˆæˆ–è€… 90.35 çº³ç§’ï¼‰</li><li>ä¸€ä¸ªæœºå™¨å‘¨æœŸä¸º 12 ä¸ªæ™¶æŒ¯å‘¨æœŸï¼Œå› æ­¤ä¸€ä¸ªæœºå™¨å‘¨æœŸçš„æ—¶é—´ä¸º 12 * 0.09035 å¾®ç§’ â‰ˆ 1.0842 å¾®ç§’ã€‚</li></ul><p>å› æ­¤ï¼Œåœ¨ 11.0592MHz æ™¶æŒ¯é¢‘ç‡ä¸‹ï¼Œä¸€ä¸ªæ™¶æŒ¯å‘¨æœŸå†…ä¹ŸåŒ…å«å¤§çº¦ 1 ä¸ªæœºå™¨å‘¨æœŸã€‚</p><p>Hzå¯¹åº”sï¼š</p><p>æŒ¯è¡å‘¨æœŸä¸æœºå™¨å‘¨æœŸä¸åŒã€‚æœºå™¨å‘¨æœŸæ˜¯å•ç‰‡æœºæ‰§è¡Œä¸€æ¡æŒ‡ä»¤æ‰€éœ€çš„æ—¶é—´ï¼Œè€ŒæŒ¯è¡å‘¨æœŸæ˜¯æ™¶æŒ¯å™¨æŒ¯è¡ä¸€ä¸ªå®Œæ•´å‘¨æœŸæ‰€éœ€çš„æ—¶é—´ã€‚</p><h2 id="å†…å­˜ä¸å¤Ÿ"><a href="#å†…å­˜ä¸å¤Ÿ" class="headerlink" title="å†…å­˜ä¸å¤Ÿ"></a>å†…å­˜ä¸å¤Ÿ</h2><p>å­˜å…¥flash</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>92_åŸºäº51å•ç‰‡æœºçš„DS1302æ—¶é’Ÿ</title>
      <link href="/2024/03/04/92-ji-yu-51-dan-pian-ji-de-ds1302-shi-zhong/"/>
      <url>/2024/03/04/92-ji-yu-51-dan-pian-ji-de-ds1302-shi-zhong/</url>
      
        <content type="html"><![CDATA[<h2 id="DS1302é©±åŠ¨ä»£ç "><a href="#DS1302é©±åŠ¨ä»£ç " class="headerlink" title="DS1302é©±åŠ¨ä»£ç "></a>DS1302é©±åŠ¨ä»£ç </h2><p>å…³äºè¿™å¥**DS1302_IO&#x3D;Command&amp;(0x01&lt;&lt;i);**ä½å˜é‡,é€»è¾‘åˆ¤æ–­,é0åŠå¢,ä»€ä¹ˆæ„æ€ </p><p>è¿‡è¿­ä»£ <code>Command</code> çš„æ¯ä¸ªä½æ¥è®¾ç½® <code>DS1302_IO</code> çš„å€¼ï¼Œå®ç°äº†å°† <code>Command</code> ä¸­çš„ä½é€ä¸ªè®¾ç½®åˆ° <code>DS1302_IO</code> ä¸­çš„åŠŸèƒ½ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void DS1302_WriteByte(unsigned char Command,Data)&#123;unsigned char i;DS1302_CE&#x3D;1;for(i&#x3D;0;i&lt;8;i++)&#123;DS1302_IO&#x3D;Command&amp;(0x01&lt;&lt;i);DS1302_SCLK&#x3D;1;DS1302_SCLK&#x3D;0;&#125;for(i&#x3D;0;i&lt;8;i++)&#123;DS1302_IO&#x3D;Data&amp;(0x01&lt;&lt;i);DS1302_SCLK&#x3D;1;DS1302_SCLK&#x3D;0;&#125;DS1302_CE&#x3D;0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºä»€ä¹ˆè¯»å’Œå†™ä¸åŒ,ä¸ºä»€ä¹ˆR&#x2F;Wç½®1,ä¸ºä»€ä¹ˆè¯»çš„æ—¶å€™è¦ä»ä¸‹é™æ²¿å¼€å§‹è¯»</p><p>ç­”: <strong>è¿™ä¸ªèŠ¯ç‰‡çš„è¿™ä¸ªåŠŸèƒ½å°±æ˜¯è¿™ä¹ˆè®¾è®¡çš„</strong>,å°±åƒæ˜¯æ–¹å‘é”®å·¦é”®æ˜¯å‘å·¦,æ€»ä¸èƒ½é—®ä¸ºä»€ä¹ˆä¸å‘å³å§</p><img src="/2024/03/04/92-ji-yu-51-dan-pian-ji-de-ds1302-shi-zhong/image-20240303211037710.png" class="" title="image-20240303211037710"><p>å®˜æ–¹æ–‡æ¡£çš„<strong>å†™ä¿æŠ¤ä½</strong></p><blockquote><p>æ§åˆ¶å¯„å­˜å™¨çš„ä½ 7æ˜¯å†™ä¿æŠ¤ä½ï¼Œå‰ 7ä½ï¼ˆä½ 0è‡³ä½ 6ï¼‰è¢«å¼ºåˆ¶ä¸º 0ä¸”è¯»å–æ—¶æ€»æ˜¯è¯» 0. åœ¨ä»»ä½•å¯¹æ—¶é’Ÿæˆ– RAMçš„å†™æ“ä½œä»¥å‰ï¼Œä½ 7å¿…é¡»ä¸º 0.å½“ä¸ºé«˜æ—¶ï¼Œå†™ä¿æŠ¤ä½ç¦æ­¢ä»»ä½•å¯„å­˜å™¨çš„å†™æ“ä½œ. åˆå§‹åŠ ç”µçŠ¶æ€æœªå®šä¹‰. å› æ­¤ï¼Œåœ¨è¯•å›¾å†™å™¨ä»¶ä¹‹å‰åº”è¯¥æ¸…é™¤ WPä½</p></blockquote><p>ç”±å›¾å¯çŸ¥, ä¾‹å¦‚ç§’çš„é«˜å››ä½æ˜¯10ç§’,ä½å››ä½æ˜¯ç§’, æ¨æ–­å‡ºDS1302å†™å…¥å’Œè¯»å–æ—¶é—´ä½¿ç”¨çš„æ˜¯BCDç </p><blockquote><p>BCDç å°±æ˜¯ 0001 0011 çš„BCDç ä¸º13,åè¿›åˆ¶ä¸º19,åå…­è¿›åˆ¶ä¸º0x13</p></blockquote><p>BCDç æœ¬è´¨ä¸Šå°±æ˜¯å…«ä½äºŒè¿›åˆ¶æ•°é€¢åè¿›ä¸€,åå…­è¿›åˆ¶æ˜¯é€¢åå…­è¿›ä¸€</p><img src="/2024/03/04/92-ji-yu-51-dan-pian-ji-de-ds1302-shi-zhong/image-20240303222950773.png" class="" title="image-20240303222950773"><pre class="line-numbers language-C" data-language="C"><code class="language-C">unsigned char Second;void main()&#123;  DS1302_Init();  LCD_Init();    LCD_ShowString(1,1,&quot;time&quot;);  DS1302_WriteByte(0x80,0x03);    &#x2F;&#x2F;æ³¨æ„æ¸…é™¤å†™ä¿æŠ¤ä½   Second&#x3D;DS1302_ReadByte(0x81);  LCD_ShowNum(2,1,Second,2);  while(1)  &#123;  Second&#x3D;DS1302_ReadByte(0x81);  &#x2F;&#x2F;å½“ç§’åˆ°9æ—¶,ä¼šè·³åˆ°16,å› ä¸ºBCDç çš„9å˜ä¸º10 0000 1001 -&gt; 0001 0000 åå…­è¿›åˆ¶:16  LCD_ShowNum(2,1,Second,4);  &#125;    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€ä¸ªå›°æƒ‘,ä¹Ÿå°±æ˜¯è¯´DS1302è¯»å–å’Œå†™å…¥æ•°æ®éƒ½æ˜¯BCDç </p><blockquote><p>æ¯”å¦‚æˆ‘å†™å…¥0x12,ä¼šå‡ºç°18,æˆ‘ç°åœ¨çš„é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆlcdæ˜¾ç¤ºçš„æ—¶å€™ä¸ç°å®bcdè€Œæ˜¯16è¿›åˆ¶,åº”è¯¥æ˜¯lcdæ˜¾ç¤ºæºç çš„åŸå› ,è½¬æ¢æˆ16è¿›åˆ¶äº†</p></blockquote><p>æˆ‘æ˜ç™½äº†,æ¯”å¦‚æˆ‘è·å–åˆ°çš„æ•°æ®æ˜¯bcdçš„10å³0001 0000,ä½†æ˜¯è¿™ä¸ªæ•°æ®æ ¼å¼æ˜¯16è¿›åˆ¶çš„16,å› ä¸ºå°±æ˜¯16è¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼</p><img src="/2024/03/04/92-ji-yu-51-dan-pian-ji-de-ds1302-shi-zhong/image-20240303225106072.png" class="" title="image-20240303225106072"><h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><p>å‡½æ•°å·²ç»æœ‰ä¸€ä¸ªä¸»ä½“äº†,é‡å®šä¹‰äº†,çœ‹çœ‹æ˜¯ä¸æ˜¯å¤šå¤åˆ¶äº†ä¸€ä¸ªå‡½æ•°</p> <pre class="line-numbers language-c" data-language="c"><code class="language-c">Hardware\Ds1302.c(99): error C237: &#39;_DS1302_ReadByte&#39;: function already has a body<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éæ•°ç»„çš„ä¸‹æ ‡æˆ–ç»´åº¦è¿‡å¤š,å°±æ˜¯ä¸€ä¸ªä¸æ˜¯æ•°ç»„çš„å˜é‡è¢«ä»¥array[0]è¿™ç§æ ¼å¼è°ƒç”¨äº†</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Hardware\Ds1302.c(109): error C216: subscript on non-array or too many dimensions<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="å¯è°ƒæ—¶é’Ÿ"><a href="#å¯è°ƒæ—¶é’Ÿ" class="headerlink" title="å¯è°ƒæ—¶é’Ÿ"></a>å¯è°ƒæ—¶é’Ÿ</h2><p>é¦–å…ˆæƒ³å¥½ç¨‹åºæµç¨‹, å¯ä»¥å†™ä¸€ä¸ªç¨‹åºæ¡†å›¾ç†æ¸…æ€è·¯, æµç¨‹å›¾å¦‚ä¸‹</p><p>å¤§æ¦‚æ€è·¯å°±æ˜¯, æŒ‰é”®1æ§åˆ¶è®¾ç½®æ¨¡å¼å’Œæ˜¾ç¤ºæ¨¡å¼çš„åˆ‡æ¢, è®¾ç½®æ¨¡å¼æ£€æµ‹æŒ‰é”®2ã€3ã€4,è¿›è¡Œåˆ‡æ¢æ—¶é—´ä½ã€++ã€â€“çš„æ“ä½œ, </p><p>æœ€åæ›´æ–°æ˜¾ç¤º, å†™å…¥DS1302ä¸­ã€‚</p><img src="/2024/03/04/92-ji-yu-51-dan-pian-ji-de-ds1302-shi-zhong/image-20240309075849348.png" class="" title="image-20240309075849348"><p>å°äºxçš„æ•°å¯¹xå–ä½™çš„ç»“æœä¸è‡ªèº«ç›¸åŒï¼Œå®ƒæ— æ³•è¢«6æ•´é™¤ï¼Œæ‰€ä»¥ä½™æ•°å°±æ˜¯xæœ¬èº«ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">TimeSelectSet++%&#x3D;6;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h2><p>æ‰¾bug,æŒ‰ç…§é€»è¾‘,ä¾æ¬¡æµ‹è¯•åŠŸèƒ½æ‰‹å¦å¯ä»¥æ­£å¸¸å®ç°</p><h3 id="BUG1"><a href="#BUG1" class="headerlink" title="BUG1"></a>BUG1</h3><p>æ–°BUG,ifä¸æ˜¾ç¤ºæ¬¡å¤–å±‚å¯¹åº”èŠ±æ‹¬å·,æ•´ä¸ªå†…å®¹å¤åˆ¶ä¹Ÿä¸å¯ä»¥,éœ€è¦å•ä¸ª<strong>if(){}</strong>,ç„¶åä¸€ç‚¹ä¸€ç‚¹å¤åˆ¶</p><p>å°±æ˜¯å¤–é¢çš„å¤§èŠ±æ‹¬å·å¯¹åº”ä¸ä¸Š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">if(KeyNum&#x3D;&#x3D;4) &#123;   DS1302_Time[TimeSetSelect]--;   if(DS1302_Time[0]&lt;1)&#123;DS1302_Time[0]&#x3D;30;&#125;   if(DS1302_Time[1]&lt;1)&#123;DS1302_Time[1]&#x3D;12;&#125;                                                                                       ;&#125;   &#x2F;&#x2F;keilé‡Œæ²¡æœ‰è¿™ä¸ª,å¤åˆ¶è¿‡æ¥å°±æœ‰äº†   if(DS1302_Time[1]&#x3D;&#x3D;1|DS1302_Time[1]&#x3D;&#x3D;3||DS1302_Time[1]&#x3D;&#x3D;5||DS1302_Time[1]&#x3D;&#x3D;7     ||DS1302_Time[1]&#x3D;&#x3D;8||DS1302_Time[1]&#x3D;&#x3D;10||DS1302_Time[1]&#x3D;&#x3D;12)   &#123;        if(DS1302_Time[2]&lt;1)&#123;DS1302_Time[2]&#x3D;31;&#125;   &#125;   else if(DS1302_Time[1]&#x3D;&#x3D;4||DS1302_Time[1]&#x3D;&#x3D;6||DS1302_Time[1]&#x3D;&#x3D;9||DS1302_Time[1]&#x3D;&#x3D;11)   &#123;     if(DS1302_Time[2]&lt;1)&#123;DS1302_Time[2]&#x3D;30;&#125;   &#125;   else if(DS1302_Time[1]&#x3D;&#x3D;2)   &#123;     if(DS1302_Time[0]%4&#x3D;&#x3D;0)     &#x2F;&#x2F;å¹³å¹´é—°å¹´       &#123;         if(DS1302_Time[2]&lt;1)&#123;DS1302_Time[2]&#x3D;29;&#125;       &#125;     else&#123;if(DS1302_Time[2]&lt;1)&#123;DS1302_Time[2]&#x3D;28;&#125;&#125;   &#125;       if(DS1302_Time[3]&lt;0)&#123;DS1302_Time[3]&#x3D;23;&#125;   if(DS1302_Time[4]&lt;0)&#123;DS1302_Time[4]&#x3D;59;&#125;   if(DS1302_Time[5]&lt;0)&#123;DS1302_Time[5]&#x3D;59;&#125;   if(DS1302_Time[6]&lt;1)&#123;DS1302_Time[6]&#x3D;7;&#125;     <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠŠå¤šå‡ºæ¥çš„é‚£ä¸ª;}åˆ æ‰å°±å¥½äº†</p><h3 id="BUG2"><a href="#BUG2" class="headerlink" title="BUG2"></a>BUG2</h3><p>æ—¶é—´å‡çš„æ—¶å€™,0-1&#x3D;55è€Œä¸æ˜¯59</p><p>å› ä¸º DS1302_Time[]ç±»å‹æ˜¯unsigned char,æ˜¯ä»0-255,é¡¾0-1&#x3D;255,æ˜¾ç¤ºåä¸¤ä½å°±æ˜¯55</p><p>è§£å†³:</p><p>å°†unsigned charæ”¹ä¸ºchar(-128~127)å³å¯</p><p>è®°å¾—ä½¿ç”¨æ¸…å±å‡½æ•°,å¦åˆ™ä¼šæœ‰æ®‹ç•™</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>91L_æ‰‹åŠ¨æ­å»ºV2rayèŠ‚ç‚¹</title>
      <link href="/2024/02/23/91l-shou-dong-da-jian-v2ray-jie-dian/"/>
      <url>/2024/02/23/91l-shou-dong-da-jian-v2ray-jie-dian/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…V2ray"><a href="#å®‰è£…V2ray" class="headerlink" title="å®‰è£…V2ray"></a>å®‰è£…V2ray</h2><ul><li><p><a href="https://guide.v2fly.org/">æ–° V2Ray ç™½è¯æ–‡æŒ‡å—</a>(æ¨è)</p></li><li><p><a href="https://v2fly.org/">å®˜æ–¹æ–‡æ¡£</a></p></li></ul><p>å®˜æ–¹è„šæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">&#x2F;&#x2F; å®‰è£åŸ·è¡Œæª”å’Œ .dat è³‡æ–™æª”bash &lt;(curl -L https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç§»é™¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bash &lt;(curl -L https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;v2fly&#x2F;fhs-install-v2ray&#x2F;master&#x2F;install-release.sh) --remove<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥æ‹‰å®‰è£…åŒ…<a href="https://github.com/v2fly/v2ray-core/releases">Releases Â· v2fly&#x2F;v2ray-core</a></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#å¯åŠ¨ V2Ray:systemctl start v2ray#è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ V2Ray:systemctl enable v2ray#æŸ¥çœ‹è¿è¡ŒçŠ¶æ€systemctl status v2ray<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="v2rayé…ç½®æ ¼å¼"><a href="#v2rayé…ç½®æ ¼å¼" class="headerlink" title="v2rayé…ç½®æ ¼å¼"></a>v2rayé…ç½®æ ¼å¼</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo vim &#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;config.json<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>åŸºç¡€é…ç½®</strong>: </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">&#123;  &quot;inbounds&quot;: [      &#123;            &quot;listen&quot;: &quot;[::]&quot;,# ç›‘å¬ipv6ç«¯å£           &quot;port&quot;: 10000,  # æœåŠ¡å™¨ç›‘å¬ç«¯å£          &quot;protocol&quot;: &quot;vmess&quot;,          &quot;settings&quot;: &#123;              &quot;clients&quot;: [                  &#123;                      &quot;id&quot;: &quot;93d177bc-5d90-0251-69d1-9a30237a9bac&quot;,                      &quot;alterId&quot;: 0              #å¯æœ‰å¯æ— ,é¢å¤–id                  &#125;              ]          &#125;      &#125;  ],  &quot;outbounds&quot;: [      &#123;          &quot;protocol&quot;: &quot;freedom&quot;      &#125;  ]&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><input checked="" disabled="" type="checkbox"> <strong>å¯ä»¥æ­£å¸¸ä½¿ç”¨</strong></li></ul><h2 id="TLS-æš‚æ— æ³•ä½¿ç”¨"><a href="#TLS-æš‚æ— æ³•ä½¿ç”¨" class="headerlink" title="TLS(æš‚æ— æ³•ä½¿ç”¨)"></a>TLS(æš‚æ— æ³•ä½¿ç”¨)</h2><p>TLS ä¸­æ–‡è¯‘åæ˜¯ä¼ è¾“å±‚å®‰å…¨, TLS æ˜¯è¯ä¹¦è®¤è¯æœºåˆ¶ï¼Œæ‰€ä»¥ä½¿ç”¨ TLS éœ€è¦è¯ä¹¦</p><p>æ¡ä»¶:</p><ul><li>ä¸€ä¸ªç»‘å®šipçš„åŸŸå</li><li>ä¸€ä¸ªè¯ä¹¦(æˆ‘è¿™é‡Œä½¿ç”¨çš„è¯ä¹¦æ˜¯cloudflareå®¢æˆ·ç«¯è¯ä¹¦)</li></ul><p>è¯ä¹¦å¯ä»¥<strong>cloudflare</strong>ç”Ÿæˆ,ä¹Ÿå¯ä»¥*[acme.sh](<a href="https://github.com/acmesh-official/acme.sh">acmesh-official&#x2F;acme.sh: A pure Unix shell script implementing ACME client protocol (github.com)</a>)*è„šæœ¬ç”Ÿæˆ</p><p>é…ç½®:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">&#123;  &quot;inbounds&quot;: [    &#123;      &quot;listen&quot;: &quot;[::]&quot;,# ç›‘å¬ipv6ç«¯å£       &quot;port&quot;: 443, # å»ºè®®ä½¿ç”¨ 443 ç«¯å£      &quot;protocol&quot;: &quot;vmess&quot;,          &quot;settings&quot;: &#123;        &quot;clients&quot;: [          &#123;            &quot;id&quot;: &quot;23ad6b10-8d1a-40f7-8ad0-e3e35cd38297&quot;,              &quot;alterId&quot;: 64          &#125;        ]      &#125;,      &quot;streamSettings&quot;: &#123;        &quot;network&quot;: &quot;tcp&quot;,        &quot;security&quot;: &quot;tls&quot;, # security è¦è®¾ç½®ä¸º tls æ‰ä¼šå¯ç”¨ TLS        &quot;tlsSettings&quot;: &#123;          &quot;certificates&quot;: [            &#123;              &quot;certificateFile&quot;: &quot;&#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;v2ray.crt&quot;, # è¯ä¹¦æ–‡ä»¶              &quot;keyFile&quot;: &quot;&#x2F;usr&#x2F;local&#x2F;etc&#x2F;v2ray&#x2F;v2ray.key&quot; # å¯†é’¥æ–‡ä»¶            &#125;          ]        &#125;      &#125;    &#125;  ],  &quot;outbounds&quot;: [    &#123;      &quot;protocol&quot;: &quot;freedom&quot;,      &quot;settings&quot;: &#123;&#125;    &#125;  ]&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2024/02/23/91l-shou-dong-da-jian-v2ray-jie-dian/image-20240224155224748.png" class="" title="image-20240224155224748"><img src="/2024/02/23/91l-shou-dong-da-jian-v2ray-jie-dian/image-20240224155306171.png" class="" title="image-20240224155306171"><p><strong>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½ä¸æŠ¥é”™, åªæœ‰æµ‹è¯•çœŸå»¶è¿Ÿçš„æ—¶å€™,è¯´503é”™è¯¯</strong>, ä½†æ˜¯æ— æ³•è®¿é—®ç½‘ç»œ</p><h3 id="acme-shå®‰è£…è¯ä¹¦"><a href="#acme-shå®‰è£…è¯ä¹¦" class="headerlink" title="acme.shå®‰è£…è¯ä¹¦"></a>acme.shå®‰è£…è¯ä¹¦</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@30f2f8f483:~#  ~&#x2F;.acme.sh&#x2F;acme.sh --issue -d bvnatsg.ideagpt.top --standalone --keylength ec-256 --force<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">[Sat Feb 24 16:18:25 CST 2024] Using CA: https:&#x2F;&#x2F;acme.zerossl.com&#x2F;v2&#x2F;DV90[Sat Feb 24 16:18:25 CST 2024] Standalone mode.[Sat Feb 24 16:18:25 CST 2024] No EAB credentials found for ZeroSSL, let&#39;s get one[Sat Feb 24 16:18:25 CST 2024] acme.sh is using ZeroSSL as default CA now.[Sat Feb 24 16:18:25 CST 2024] Please update your account with an email address first.[Sat Feb 24 16:18:25 CST 2024] acme.sh --register-account -m my@example.com[Sat Feb 24 16:18:25 CST 2024] See: https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;wiki&#x2F;ZeroSSL.com-CA[Sat Feb 24 16:18:26 CST 2024] Please add &#39;--debug&#39; or &#39;--log&#39; to check more details.[Sat Feb 24 16:18:26 CST 2024] See: https:&#x2F;&#x2F;github.com&#x2F;acmesh-official&#x2F;acme.sh&#x2F;wiki&#x2F;How-to-debug-acme.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>acme.sh â€“register-account -m <a href="mailto:&#x69;&#x73;&#103;&#x65;&#x65;&#107;&#48;&#x31;&#x40;&#x67;&#x6d;&#97;&#105;&#108;&#x2e;&#99;&#x6f;&#109;">isgeek01@gmail.com</a> â€“server zerossl</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@30f2f8f483:~# acme.sh --register-account -m isgeek01@gmail.com --server zerossl[Sat Feb 24 16:22:17 CST 2024] No EAB credentials found for ZeroSSL, let&#39;s get one[Sat Feb 24 16:22:19 CST 2024] Registering account: https:&#x2F;&#x2F;acme.zerossl.com&#x2F;v2&#x2F;DV90[Sat Feb 24 16:22:21 CST 2024] Registered[Sat Feb 24 16:22:21 CST 2024] ACCOUNT_THUMBPRINT&#x3D;&#39;2lPZ8zUYF2z1V_G8uXwS92iHZaenoVa6h83GCcoaHiA&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯•ä¸€ä¸‹</p><h3 id="cloudflareæ¢æˆorgin-è¯ä¹¦-ä¼šæŠ¥é”™"><a href="#cloudflareæ¢æˆorgin-è¯ä¹¦-ä¼šæŠ¥é”™" class="headerlink" title="cloudflareæ¢æˆorgin è¯ä¹¦,ä¼šæŠ¥é”™"></a>cloudflareæ¢æˆorgin è¯ä¹¦,ä¼šæŠ¥é”™</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">2024&#x2F;02&#x2F;24 20:00:37 [Warning] [1464760311] app&#x2F;proxyman&#x2F;outbound: failed to process outbound traffic &gt; proxy&#x2F;vmess&#x2F;outbound: failed to find an available destination &gt; common&#x2F;retry: [dial tcp: lookup bvnatsg.ideagpt.top: operation was canceled] &gt; common&#x2F;retry: all retry attempts failed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¯èƒ½åŸå› "><a href="#å¯èƒ½åŸå› " class="headerlink" title="å¯èƒ½åŸå› "></a>å¯èƒ½åŸå› </h3><p>åº”è¯¥æ˜¯è¯ä¹¦æœ‰é—®é¢˜</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>90L_æ­å»ºå®æ—¶æ±‡ç‡ç®€æ˜“api</title>
      <link href="/2024/02/19/90l-da-jian-jian-yi-api/"/>
      <url>/2024/02/19/90l-da-jian-jian-yi-api/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li><a href="https://flask.palletsprojects.com/en/3.0.x/quickstart/">pythonçš„flaskæ¡†æ¶</a></li><li>æ•°æ®çˆ¬å–</li><li>æ•°æ®æ•´ç†ï¼Œæ„å»ºè¿”å›æ•°æ®</li><li>Flask-limitteré™æµå™¨</li><li><a href="https://www.osgeo.cn/cpython/library/logging.html?highlight=logging#module-logging">loggingâ€”pythonçš„æ—¥å¿—è®°å½•å·¥å…·</a></li></ul><h2 id="Flask-limitteré™æµå™¨"><a href="#Flask-limitteré™æµå™¨" class="headerlink" title="Flask-limitteré™æµå™¨"></a>Flask-limitteré™æµå™¨</h2><p>ä½¿ç”¨flask-limitterå¯¹è®¿é—®é¢‘ç‡é™åˆ¶,å¯¹è·å–åˆ°çš„ipè¿›è¡Œäº”ç§’å†…æœ€å¤šä¸‰æ¬¡çš„é™åˆ¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">limiter &#x3D; Limiter(    app,    key_func&#x3D;get_remote_address,    default_limits&#x3D;[&quot;3 per 5 seconds&quot;, &quot;10 per hour&quot;])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><a href="https://zhuanlan.zhihu.com/p/380861110">Flask-Limiterè¯¦ç»†ä½¿ç”¨è¯´æ˜</a></li></ul><ul><li><a href="https://zhuanlan.zhihu.com/p/677508786">flaskæ¡†æ¶â€”limiteré™æµå™¨çš„ä½¿ç”¨æ–¹æ³•</a></li></ul><h2 id="æ‰“å°æ—¥å¿—"><a href="#æ‰“å°æ—¥å¿—" class="headerlink" title="æ‰“å°æ—¥å¿—"></a>æ‰“å°æ—¥å¿—</h2><p>basicConfig()å‡½æ•°è¦åœ¨debug()ã€info()ç­‰è¿è¡Œï¼Œä¸”åªè¦ç¬¬ä¸€æ¬¡è¿è¡Œæ‰ç”Ÿæ•ˆã€‚åç»­çš„è°ƒç”¨éƒ½æ˜¯æ— æ•ˆçš„ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"># åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨logger &#x3D; logging.getLogger(__name__)logger.setLevel(logging.DEBUG)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•å™¨å¹¶è®¾ç½®å…¶çº§åˆ«æ˜¯ä¸ºäº†ä¸º<strong>å¤„ç†å™¨ï¼ˆHandlerï¼‰æä¾›ä¸€ä¸ªå®¹å™¨</strong>ï¼Œä»¥ä¾¿å¯ä»¥å°†å¤„ç†å™¨æ·»åŠ åˆ°è®°å½•å™¨ä¸­ã€‚</p><p>è¿™æ ·å¯ä»¥ä½¿å¾—å¤šä¸ªå¤„ç†å™¨å…±äº«åŒä¸€æ—¥å¿—çº§åˆ«å’Œæ—¥å¿—è¿‡æ»¤å™¨ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šæ—¥å¿—è®°å½•å™¨ï¼Œåˆ™å¤„ç†å™¨å°†æ— æ³•æ·»åŠ åˆ°æ—¥å¿—è®°å½•å™¨ä¸­ã€‚</p><p>æ¯”å¦‚ä¸¤ä¸ªå¤„ç†å™¨,<strong>ä¸€ä¸ªæ§åˆ¶ç«¯æ‰“å°æ—¥å¿—</strong>, <strong>ä¸€ä¸ªè¾“å‡ºæ—¥å¿—åˆ°æ–‡ä»¶</strong></p><h2 id="æ ¡å‡†æ—¶é—´"><a href="#æ ¡å‡†æ—¶é—´" class="headerlink" title="æ ¡å‡†æ—¶é—´"></a>æ ¡å‡†æ—¶é—´</h2><p>æ£€æŸ¥å’Œä¿®å¤ç³»ç»Ÿæ—¶åŒºé…ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">æŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½®ï¼šcat &#x2F;etc&#x2F;timezonereadlink &#x2F;etc&#x2F;localtimeè®¾ç½®ä¸€è‡´çš„æ—¶åŒºï¼šå‡è®¾ä½ å¸Œæœ›ä½¿ç”¨ Asia&#x2F;Shanghai æ—¶åŒºï¼šecho &quot;Asia&#x2F;Shanghai&quot; | sudo tee &#x2F;etc&#x2F;timezonesudo ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>é‡ç½®æ—¶é—´å,è®°å¾—å°†æ­£åœ¨è¿è¡Œçš„æœåŠ¡é‡å¯</strong></p><h2 id="æ— æ³•å¯åŠ¨nginx"><a href="#æ— æ³•å¯åŠ¨nginx" class="headerlink" title="æ— æ³•å¯åŠ¨nginx"></a>æ— æ³•å¯åŠ¨nginx</h2><p>æŸ¥çœ‹ç›‘å¬ç«¯å£</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">netstat -nultulnsudo netstat -tuln | grep 80<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å‘ç°80ç«¯å£è¢«ipv6ç›‘å¬, å¯èƒ½æ˜¯å› ä¸ºv2rayçš„ä¼ªè£…åŸŸå, æˆ‘é€‰æ‹©æ›´æ”¹nginxçš„ç«¯å£æ”¹ä¸º8000, ä½†æ˜¯å‡ºç°åŸŸåæ— æ³•æ­£äº§è®¿é—®, ç«¯å£å¯ä»¥çš„é—®é¢˜</p><p><a href="http://23.26.232.222:8000/">http://23.26.232.222:8000/</a></p><p>ä¸Šé¢çš„å¯ä»¥,ä¸‹é¢çš„ä¸è¡Œ</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">http:&#x2F;&#x2F;23.26.232.222:8000&#x2F;exchange_rate?currency&#x3D;usdhttp:&#x2F;&#x2F;exrate.apigpt.eu.org&#x2F;exchange_rate?currency&#x3D;usd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li><p><strong>exrate.apigpt.eu.org</strong> ç›®å‰æ— æ³•å¤„ç†æ­¤è¯·æ±‚ã€‚HTTP ERROR 503</p><p>æµ‹è¯• åä»£åˆ°bç«™</p><ul><li><input checked="" disabled="" type="checkbox"> <a href="http://23.26.232.222:8000/">http://23.26.232.222:8000/</a></li></ul><ul><li><input disabled="" type="checkbox"> <a href="http://exrate.apigpt.eu.org/">http://exrate.apigpt.eu.org/</a></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 8000;    server_name exrate.apigpt.eu.org;    location &#x2F; &#123;        #proxy_pass http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;;        proxy_pass https:&#x2F;&#x2F;www.bilibili.com&#x2F;;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;        proxy_set_header X-Forwarded-Host $host;        proxy_set_header X-Forwarded-Prefix &#x2F;;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>æ¢å›80ç«¯å£å°±éƒ½è¡Œäº†, åŸŸåæ¢æˆ80ç«¯å£ä¹Ÿè¡Œäº†</p></li></ul><p><em><strong>æˆ‘çš„ç–‘é—®</strong></em>,ä¸ºä»€ä¹ˆå¦‚æœnginxç›‘å¬æ¯”å¦‚è¯´9999ç«¯å£,å…¶ä»–çš„é…ç½®éƒ½ä¸€æ ·,è®¿é—®åŸŸåå°±ä¸è¡Œ,ä½†æ˜¯è®¿é—®ip,åŠ ç«¯å£å°±å¯ä»¥(<a href="http://your_server_ip:9999/">http://your_server_ip:9999</a>)</p><blockquote><p>ç­”ï¼šæµè§ˆå™¨è®¿é—®ï¼Œéƒ½æ˜¯<strong>åŸŸå+ç«¯å£</strong>ï¼Œåªä¸è¿‡<strong>é»˜è®¤80</strong>ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ç”¨è¾“å…¥</p><p>ä¾‹å¦‚ï¼Œè¾“å…¥<a href="http://example.com,æµè§ˆå™¨ä¼šé»˜è®¤è¿æ¥åˆ°example.comçš„80ç«¯å£./">http://example.comï¼Œæµè§ˆå™¨ä¼šé»˜è®¤è¿æ¥åˆ°example.comçš„80ç«¯å£ã€‚</a></p></blockquote><blockquote><p>ä½¿ç”¨åŸŸåæ¥è®¿é—®æœåŠ¡å™¨ï¼Œä¾‹å¦‚<em><strong><a href="http://yourdomain.com/">http://yourdomain.com</a></strong></em>ï¼Œæµè§ˆå™¨ä¼šé»˜è®¤å°è¯•ä½¿ç”¨HTTPçš„æ ‡å‡†ç«¯å£ï¼ˆ80ç«¯å£ï¼‰å‘é€è¯·æ±‚ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœNginxç›‘å¬çš„ç«¯å£ä¸æ˜¯80ç«¯å£ï¼Œæµè§ˆå™¨æ— æ³•ç›´æ¥è¿æ¥åˆ°NginxæœåŠ¡å™¨ã€‚</p></blockquote><p>å¦‚æœæ›´æ”¹nginxé»˜è®¤ç›‘å¬çš„ç«¯å£ï¼Œé‚£ä¹ˆè®¿é—®æ—¶å°±è¦ä½¿ç”¨åŸŸååŠ ä¸Šç«¯å£å·</p><h2 id="Nginxé‡å¯å¤±è´¥"><a href="#Nginxé‡å¯å¤±è´¥" class="headerlink" title="Nginxé‡å¯å¤±è´¥"></a>Nginxé‡å¯å¤±è´¥</h2><p>æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl status nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å› ä¸º nginx å¯åŠ¨éœ€è¦ä¸€ç‚¹ç‚¹æ—¶é—´ï¼Œè€Œ systemd åœ¨ nginx å®Œæˆå¯åŠ¨å‰å°±å»è¯»å– pid fileé€ æˆè¯»å– pid å¤±è´¥</p><p>è§£å†³æ–¹æ³•: </p><p>è®© systemd åœ¨æ‰§è¡Œ ExecStart çš„æŒ‡ä»¤åç­‰å¾…ä¸€ç‚¹ç‚¹æ—¶é—´å³å¯, å¦‚æœä½ çš„ nginx å¯åŠ¨éœ€è¦æ—¶é—´æ›´é•¿ï¼Œå¯ä»¥æŠŠ sleep æ—¶é—´æ”¹é•¿ä¸€ç‚¹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mkdir -p &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;nginx.service.dprintf &quot;[Service]\nExecStartPost&#x3D;&#x2F;bin&#x2F;sleep 0.1\n&quot; &gt; &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;nginx.service.d&#x2F;override.confsystemctl daemon-reloadsystemctl restart nginx.service<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç°æŠ¥é”™,ä»¥åŠè§£å†³æ–¹æ³•**[å‚è€ƒæ–‡ç« ](<a href="https://www.v2ex.com/t/300986">nginx Failed to read PID from file &#x2F;run&#x2F;nginx.pid: Invalid argument - V2EX</a>)**</p><p><a href="https://blog.csdn.net/z_xuewen/article/details/103859099"> Active: failed (Result: exit-code)</a></p><p>å®‰è£…redis</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt updateapt install nginx#å®‰è£…redisapt install redis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æŠ¥é”™</strong>: ImportError: cannot import name â€˜url_quoteâ€™ from â€˜werkzeug.urlsâ€™ (&#x2F;usr&#x2F;local&#x2F;lib&#x2F;python3.9&#x2F;dist-packages&#x2F;werkzeug&#x2F;urls.py)</p><p>flaskç‰ˆæœ¬å¤ªä½,ä¸å…¼å®¹,æ›´æ–°ä¸€ä¸‹å°±å¥½äº†</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip install --upgrade werkzeugpip install --upgrade Flask<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>æŠ¥é”™</strong>: Job for nginx.service failed because the control process exited with error code.</p><p>æˆ‘è¿™é‡Œæ˜¯å› ä¸ºå¿˜è®°é…ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ln -s &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;weixin.conf &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœä¸åˆ›å»ºç¬¦å·é“¾æ¥å°†é…ç½®æ–‡ä»¶é“¾æ¥åˆ° <code>sites-enabled</code> ç›®å½•ä¸­ï¼ŒNginx å°†ä¸ä¼šåŠ è½½æˆ–åº”ç”¨è¯¥ç«™ç‚¹çš„é…ç½®ï¼Œè¯¥ç«™ç‚¹å°†ä¸ä¼šåœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œæˆ–ç”Ÿæ•ˆã€‚è¿™æ ·å¯ä»¥å°†é…ç½®æ–‡ä»¶ä¿å­˜åœ¨<code>sites-available</code> ç›®å½•ä¸­ï¼Œæš‚æ—¶ä¸å¯ç”¨, ä¸åˆ›å»ºç¬¦å·é“¾æ¥åˆ° <code>sites-enabled</code> ç›®å½•ä¸­ï¼Œ Nginxå°±ä¸ä¼šåŠ è½½è¿™äº›é…ç½®æ–‡ä»¶ã€‚</p><hr><ol><li><p>æ£€æŸ¥nginxé…ç½®æ–‡ä»¶æ˜¯å¦æœ‰é”™è¯¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">nginx -t  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å·²ç»å¯åŠ¨nginxæˆ–è€…é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å·è¢«å ç”¨<br>æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">netstat -tnlp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœç«¯å£å·²è¢«å ç”¨, é€‰æ‹©æ¢ç«¯å£, æˆ–è€…æ€æ‰è¿›ç¨‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pkill -9 nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>æŸ¥çœ‹nginxæ—¥å¿—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cat &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>è€ƒè™‘æƒé™é—®é¢˜</p></li></ol><h2 id="nginxé…ç½®sslè¯ä¹¦"><a href="#nginxé…ç½®sslè¯ä¹¦" class="headerlink" title="nginxé…ç½®sslè¯ä¹¦"></a>nginxé…ç½®sslè¯ä¹¦</h2><p><strong>å®¢æˆ·ç«¯è¯ä¹¦ä¸æºæœåŠ¡å™¨è¯ä¹¦çš„åŒºåˆ«</strong></p><h3 id="1-å®¢æˆ·ç«¯è¯ä¹¦"><a href="#1-å®¢æˆ·ç«¯è¯ä¹¦" class="headerlink" title="1. å®¢æˆ·ç«¯è¯ä¹¦"></a>1. å®¢æˆ·ç«¯è¯ä¹¦</h3><h4 id="ç”¨é€”"><a href="#ç”¨é€”" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h4><p>å®¢æˆ·ç«¯è¯ä¹¦ç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡ŒåŒå‘èº«ä»½éªŒè¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨ä¸ä»…éªŒè¯å®¢æˆ·ç«¯çš„èº«ä»½ï¼Œå®¢æˆ·ç«¯ä¹ŸéªŒè¯æœåŠ¡å™¨çš„èº«ä»½ã€‚</p><h4 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li>å®¢æˆ·ç«¯è¯ä¹¦ç”±å®¢æˆ·ç«¯æŒæœ‰ï¼Œç”¨äºè¯æ˜å®¢æˆ·ç«¯çš„èº«ä»½ã€‚</li><li>æœåŠ¡å™¨éœ€è¦é…ç½®éªŒè¯å®¢æˆ·ç«¯è¯ä¹¦çš„ CAï¼ˆCertificate Authorityï¼‰è¯ä¹¦ã€‚</li></ul><h3 id="2-æºæœåŠ¡å™¨è¯ä¹¦ï¼ˆOrigin-Certificateï¼‰"><a href="#2-æºæœåŠ¡å™¨è¯ä¹¦ï¼ˆOrigin-Certificateï¼‰" class="headerlink" title="2. æºæœåŠ¡å™¨è¯ä¹¦ï¼ˆOrigin Certificateï¼‰"></a>2. æºæœåŠ¡å™¨è¯ä¹¦ï¼ˆOrigin Certificateï¼‰</h3><h4 id="ç”¨é€”-1"><a href="#ç”¨é€”-1" class="headerlink" title="ç”¨é€”"></a>ç”¨é€”</h4><p>æºè¯ä¹¦ç”¨äºåœ¨ Cloudflare å’ŒæºæœåŠ¡å™¨ä¹‹é—´åŠ å¯†æµé‡ã€‚å®ƒç¡®ä¿ä» Cloudflare åˆ°æºæœåŠ¡å™¨çš„é€šä¿¡æ˜¯å®‰å…¨çš„ã€‚</p><h4 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h4><ul><li>æºè¯ä¹¦ç”± Cloudflare ç­¾å‘ï¼Œç”¨äºæºæœåŠ¡å™¨ï¼Œé€šå¸¸ä¸åœ¨å…¬å…±ä¿¡ä»»é“¾ä¸­ï¼Œå› æ­¤åªåœ¨ Cloudflare å’ŒæºæœåŠ¡å™¨ä¹‹é—´ä½¿ç”¨ã€‚</li><li>åªéœ€åœ¨æœåŠ¡å™¨ä¸Šé…ç½®ï¼Œå®¢æˆ·ç«¯ä¸ä¼šç›´æ¥ä¸æºè¯ä¹¦äº¤äº’ã€‚</li></ul><h4 id="é…ç½®å®¢æˆ·ç«¯è¯ä¹¦"><a href="#é…ç½®å®¢æˆ·ç«¯è¯ä¹¦" class="headerlink" title="é…ç½®å®¢æˆ·ç«¯è¯ä¹¦"></a>é…ç½®å®¢æˆ·ç«¯è¯ä¹¦</h4><ol><li><p><strong>ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦ï¼š</strong> åœ¨ Cloudflare ä»ªè¡¨æ¿ä¸­ç”Ÿæˆå®¢æˆ·ç«¯è¯ä¹¦ï¼Œå¹¶ä¸‹è½½è¯ä¹¦å’Œç§é’¥ã€‚</p></li><li><p><strong>é…ç½®æœåŠ¡å™¨éªŒè¯å®¢æˆ·ç«¯è¯ä¹¦ï¼š</strong> åœ¨ Nginx é…ç½®ä¸­å¯ç”¨å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 443 ssl;    server_name exrate.apigpt.eu.org;    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.crt;    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.key;    ssl_client_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cloudflare_ca.pem;  # CA è¯ä¹¦    ssl_verify_client on;  # å¯ç”¨å®¢æˆ·ç«¯è¯ä¹¦éªŒè¯    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;        proxy_set_header X-Forwarded-Host $host;        proxy_set_header X-Forwarded-Prefix &#x2F;;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h4 id="é…ç½®æºè¯ä¹¦"><a href="#é…ç½®æºè¯ä¹¦" class="headerlink" title="é…ç½®æºè¯ä¹¦"></a>é…ç½®æºè¯ä¹¦</h4><ol><li><p><strong>ç”Ÿæˆæºè¯ä¹¦ï¼š</strong> åœ¨ Cloudflare ä»ªè¡¨æ¿ä¸­ç”Ÿæˆæºè¯ä¹¦ï¼Œå¹¶ä¸‹è½½è¯ä¹¦å’Œç§é’¥ã€‚</p></li><li><p><strong>é…ç½®æœåŠ¡å™¨ä½¿ç”¨æºè¯ä¹¦ï¼š</strong> åœ¨ Nginx é…ç½®ä¸­é…ç½®æºè¯ä¹¦ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 443 ssl;    server_name exrate.apigpt.eu.org;    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cloudflare_origin.pem;    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;cloudflare_origin.key;    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;        proxy_set_header X-Forwarded-Host $host;        proxy_set_header X-Forwarded-Prefix &#x2F;;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ol><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>å®¢æˆ·ç«¯è¯ä¹¦</strong>ä¸»è¦ç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„åŒå‘èº«ä»½éªŒè¯ï¼Œç¡®ä¿åªæœ‰æˆæƒçš„å®¢æˆ·ç«¯å¯ä»¥è®¿é—®æœåŠ¡å™¨ã€‚</li><li><strong>æºè¯ä¹¦</strong>ç”¨äºåœ¨ Cloudflare å’ŒæºæœåŠ¡å™¨ä¹‹é—´åŠ å¯†æµé‡ï¼Œä¿æŠ¤ä» Cloudflare åˆ°æºæœåŠ¡å™¨çš„é€šä¿¡ã€‚</li></ul><p>ç»™æƒé™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo chmod 600 &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;exrate_api.pem #å…¬é’¥sudo chmod 600 &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;exrate_api.key #ç§é’¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>nginxé…ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    server_name exrate.apigpt.eu.org;    # é‡å®šå‘ HTTP è¯·æ±‚åˆ° HTTPS    return 301 https:&#x2F;&#x2F;$server_name$request_uri;&#125;server &#123;    listen 443 ssl;    server_name exrate.apigpt.eu.org;    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;exrate_api.pem;    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;exrate_api.key;          # ssléªŒè¯ç›¸å…³é…ç½®    ssl_session_timeout  5m;    #ç¼“å­˜æœ‰æ•ˆæœŸ    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;    #åŠ å¯†ç®—æ³•    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;    #å®‰å…¨é“¾æ¥å¯é€‰çš„åŠ å¯†åè®®    ssl_prefer_server_ciphers on;   #ä½¿ç”¨æœåŠ¡å™¨ç«¯çš„é¦–é€‰ç®—æ³•    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;127.0.0.1:5000&#x2F;;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;        proxy_set_header X-Forwarded-Host $host;        proxy_set_header X-Forwarded-Prefix &#x2F;;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‡ºç°é”™è¯¯</p><img src="/2024/02/19/90l-da-jian-jian-yi-api/image-20240221085320742.png" class="" title="image-20240221085320742"><p><a href="https://developers.cloudflare.com/support/troubleshooting/cloudflare-errors/troubleshooting-cloudflare-5xx-errors/#526error">Cloudflare 5XX é”™è¯¯ç–‘éš¾è§£ç­” Â·Cloudflare æ”¯æŒæ–‡æ¡£</a></p><p>æŸ¥çœ‹æ—¥å¿—,æœªå‘ç°æŠ¥é”™,è¯´æ˜nginxé…ç½®æ²¡æœ‰é—®é¢˜</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo cat &#x2F;var&#x2F;log&#x2F;nginx&#x2F;error.log<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>Error code 525</strong>å¯èƒ½èƒ½ä½¿å› ä¸ºnginxé…ç½®æ–‡ä»¶,å…³äºssléƒ¨åˆ†é…ç½®é”™è¯¯å‡ºç°çš„é—®é¢˜</p><p>ä¾‹å¦‚æˆ‘è¿™é‡Œ<code> listen 443 ssl;</code>å¿˜è®°åŠ sslçš„</p><img src="/2024/02/19/90l-da-jian-jian-yi-api/image-20240221105344522.png" class="" title="image-20240221105344522"><h2 id="07-21-24"><a href="#07-21-24" class="headerlink" title="07&#x2F;21&#x2F;24"></a>07&#x2F;21&#x2F;24</h2><p>ä¸å°å¿ƒåˆ äº†DNSè§£æè®°å½•ï¼Œä½†æ˜¯åŠ å›æ¥äº†ï¼Œä¾ç„¶è®¿é—®ä¸äº†ï¼Œä¸çŸ¥é“å“ªé‡Œè®¾ç½®é”™è¯¯</p><p>ååº”æ…¢å§åº”è¯¥æ˜¯</p><img src="/2024/02/19/90l-da-jian-jian-yi-api/image-20240721162835575.png" class="" title="image-20240721162835575"><img src="/2024/02/19/90l-da-jian-jian-yi-api/image-20240721162942436.png" class="" title="image-20240721162942436"><h2 id="07-27-24"><a href="#07-27-24" class="headerlink" title="07&#x2F;27&#x2F;24"></a>07&#x2F;27&#x2F;24</h2><p>bytevirtçš„æœºå™¨è¢«ddé»‘æ´ï¼Œapiæ— æ³•ä½¿ç”¨ï¼Œæˆ‘æ‰“ç®—å°†ç½‘ç«™</p><ul><li>è¿ç§»åˆ°å…¶ä»–æœåŠ¡å™¨</li><li>è´Ÿè½½å‡è¡¡(ä½†æ˜¯ç”±äºè¿™ä¸ªapiæœ‰sshï¼Œè¦ç¨å¾®éº»çƒ¦ä¸€äº›)</li><li>å¹¶ä¸”æ›´æ”¹çˆ¬å–æ–¹å¼å’Œæºç«™ï¼Œå¯¹æ•°æ®è¿›è¡Œç¼“å­˜ï¼Œå‡å°‘å¯¹æºç«™çš„å‹åŠ›</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ¦¶ğŸ»89L_ipv6æ­å»ºv2rayèŠ‚ç‚¹</title>
      <link href="/2024/02/18/89l-ipv6-da-jian-v2ray-jie-dian/"/>
      <url>/2024/02/18/89l-ipv6-da-jian-v2ray-jie-dian/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><p>VPSçš„æµé‡èµ°å‘ï¼šå¢æ£®å ¡v6å…¥ï¼Œv4+v6å‡º</p><h2 id="v2ray-ä¸‹è½½å®‰è£…-Â·-Project-V-å®˜æ–¹ç½‘ç«™-v2ray-com"><a href="#v2ray-ä¸‹è½½å®‰è£…-Â·-Project-V-å®˜æ–¹ç½‘ç«™-v2ray-com" class="headerlink" title="[v2ray](ä¸‹è½½å®‰è£… Â· Project V å®˜æ–¹ç½‘ç«™ (v2ray.com))"></a>[v2ray](<a href="https://www.v2ray.com/chapter_00/install.html">ä¸‹è½½å®‰è£… Â· Project V å®˜æ–¹ç½‘ç«™ (v2ray.com)</a>)</h2><p>V2Ray å’Œ Xray éƒ½æ˜¯ä¸€ç§å¼€æºçš„ç½‘ç»œä»£ç†è½¯ä»¶ï¼Œä¸»è¦åŠŸèƒ½æ˜¯é€šè¿‡ä»£ç†æœåŠ¡å™¨è½¬å‘ç½‘ç»œæµé‡ï¼Œä»¥å¸®åŠ©ç”¨æˆ·ç»•è¿‡ç½‘ç»œå°é”ã€åŠ å¯†é€šä¿¡æ•°æ®ä»¥åŠéšè—ç”¨æˆ·çœŸå® IP åœ°å€ç­‰ã€‚</p><h2 id="x-ui"><a href="#x-ui" class="headerlink" title="x-ui"></a>x-ui</h2><p>x-uiæ˜¯åŸºäºv2rayè½¯ä»¶çš„ä¸€ä¸ªé¢æ¿, ä¾¿äºç®¡ç†å’Œé…ç½®ã€‚</p><p><strong>è¿™é‡Œipv6å°±è¦ç”¨x-uiæ­å»º</strong>, å¯èƒ½æ˜¯å¤§éƒ¨åˆ†çš„v2rayçš„ä¸€é”®è„šæœ¬, <strong>ä¼šé»˜è®¤è·å–ipv4çš„ip</strong>, å¯¼è‡´ç»‘å®šipv6çš„åŸŸåè¢«è®¤ä¸ºæ˜¯æœªè§£æ,å½“ç„¶,ä¸ç”¨ä¼ªè£…åŸŸåçš„ä¹Ÿä¸å¯ä»¥, å› ä¸ºè¯¥è„šæœ¬åªèƒ½è·å–ipv4ã€‚</p><p>æ¯”å¦‚è¿™ä¸ª<a href="%5Braw.githubusercontent.com/xyz690/v2ray/master/install.sh%5D(https://raw.githubusercontent.com/xyz690/v2ray/master/install.sh)">è„šæœ¬</a>è·å–ipv4çš„å‘½ä»¤(è¿™ä¸ªå¯ä»¥è·å–ipv6çš„åœ°å€<a href="https://api6.ipify.org/">https://api6.ipify.org/</a>)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">get_ip() &#123;# ip&#x3D;$(curl -s https:&#x2F;&#x2F;ipinfo.io&#x2F;ip)    # [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s https:&#x2F;&#x2F;api.ip.sb&#x2F;ip)# [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s https:&#x2F;&#x2F;api.ipify.org)# [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s https:&#x2F;&#x2F;ip.seeip.org)# [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s https:&#x2F;&#x2F;ifconfig.co&#x2F;ip)# [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s https:&#x2F;&#x2F;api.myip.com | grep -oE &quot;([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;&quot;)# [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s icanhazip.com)# [[ -z $ip ]] &amp;&amp; ip&#x3D;$(curl -s myip.ipip.net | grep -oE &quot;([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;&quot;)export &quot;$(wget -4 -qO- https:&#x2F;&#x2F;dash.cloudflare.com&#x2F;cdn-cgi&#x2F;trace | grep ip&#x3D;)&quot; &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1[[ -z $ip ]] &amp;&amp; export &quot;$(wget -6 -qO- https:&#x2F;&#x2F;dash.cloudflare.com&#x2F;cdn-cgi&#x2F;trace | grep ip&#x3D;)&quot; &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1[[ -z $ip ]] &amp;&amp; echo -e &quot;\n$red è·å–IPå¤±è´¥, è¿™åƒåœ¾å°é¸¡æ‰”äº†å§ï¼$none\n&quot; &amp;&amp; exit&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥,æˆ‘è¿™é‡Œç»™ä»–æ¢æˆè·å–ipv6çš„è¯•ä¸€ä¸‹</p><p>ä½†æ˜¯å¯ä»¥é€‰æ‹©æ‰‹åŠ¨ä¿®æ”¹é…ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-bash: .&#x2F;ipv6.sh: &#x2F;bin&#x2F;bash^M: bad interpreter: No such file or directory<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">dos2unix ipv6.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åªæ”¹äº†è·å–çš„ip,ç»“æœæ— æ³•æ­£å¸¸ä½¿ç”¨,è§‚å¯Ÿå‘ç°é…ç½®æ–‡ä»¶<code>/etc/v2ray/config.json</code>ä¸åŒ,æ›´æ”¹è¿‡å»ipå¯¼è‡´ç”Ÿæˆçš„é…ç½®é”™è¯¯</p><p><strong>è¿™å°æœºé™åˆ¶èµ„æºå¤ªå°äº†,ç»™å…³æœºäº†</strong>,ä¸‹æ¬¡ç ”ç©¶</p><h2 id="å¾…å®Œæˆ"><a href="#å¾…å®Œæˆ" class="headerlink" title="å¾…å®Œæˆ"></a>å¾…å®Œæˆ</h2><p>â€¦..</p><h2 id="ç›®å‰æ­å»ºæ–¹æ³•æ˜¯ä½¿ç”¨x-ui-ç„¶åé¢æ¿é…ç½®è¯ä¹¦"><a href="#ç›®å‰æ­å»ºæ–¹æ³•æ˜¯ä½¿ç”¨x-ui-ç„¶åé¢æ¿é…ç½®è¯ä¹¦" class="headerlink" title="ç›®å‰æ­å»ºæ–¹æ³•æ˜¯ä½¿ç”¨x-ui,ç„¶åé¢æ¿é…ç½®è¯ä¹¦"></a>ç›®å‰æ­å»ºæ–¹æ³•æ˜¯ä½¿ç”¨x-ui,ç„¶åé¢æ¿é…ç½®è¯ä¹¦</h2><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://github.com/veip007/IPV6">githubå‚è€ƒé…ç½®</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºv2rayèŠ‚ç‚¹</title>
      <link href="/2024/02/16/88l-da-jian-v2ray-jie-dian/"/>
      <url>/2024/02/16/88l-da-jian-v2ray-jie-dian/</url>
      
        <content type="html"><![CDATA[<h2 id="ws-tlsä¸€é”®è„šæœ¬"><a href="#ws-tlsä¸€é”®è„šæœ¬" class="headerlink" title="ws+tlsä¸€é”®è„šæœ¬"></a>ws+tlsä¸€é”®è„šæœ¬</h2><p>åªéœ€è¦å‡†å¤‡ä¸€ä¸ªä¼ªè£…åŸŸåå³å¯(æ— CDN)</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bash &lt;(curl -s -L https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;xyz690&#x2F;v2ray&#x2F;master&#x2F;install.sh)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="V2rayNæŠ¥é”™"><a href="#V2rayNæŠ¥é”™" class="headerlink" title="V2rayNæŠ¥é”™"></a>V2rayNæŠ¥é”™</h2><p>å¤§ä½¬æ€»ç»“: <strong>ç«¯å£è¢«å°</strong>, <strong>èŠ‚ç‚¹æŒ‚äº†</strong>,é…ç½®é”™äº†</p><blockquote><p>æœ¬æ¬¡åŸå› :èµ„æºä¸å¤Ÿ, å¯¼è‡´v2rayæ²¡æœ‰è¿è¡Œèµ·æ¥,è¡¨ç°ä¸º443ç«¯å£æ²¡æœ‰è¢«ç›‘å¬, é‡è£…æˆ–è€…é‡å¯è§£å†³</p></blockquote><h3 id="æŠ¥é”™-1"><a href="#æŠ¥é”™-1" class="headerlink" title="æŠ¥é”™(1)"></a>æŠ¥é”™(1)</h3><p> failed to find an available destination</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">2024&#x2F;02&#x2F;17 07:44:56 [Warning] [2442645581] app&#x2F;proxyman&#x2F;outbound: failed to process outbound traffic &gt; proxy&#x2F;vmess&#x2F;outbound: failed to find an available destination &gt; common&#x2F;retry: [transport&#x2F;internet&#x2F;websocket: failed to dial WebSocket &gt; transport&#x2F;internet&#x2F;websocket: failed to dial to (wss:&#x2F;&#x2F;wap_sg2.ideagpt.top&#x2F;):  &gt; dial tcp 185.151.146.79:443: operation was canceled transport&#x2F;internet&#x2F;websocket: failed to dial WebSocket &gt; transport&#x2F;internet&#x2F;websocket: failed to dial to (wss:&#x2F;&#x2F;wap_sg2.ideagpt.top&#x2F;):  &gt; dial tcp: lookup wap_sg2.ideagpt.top: operation was canceled] &gt; common&#x2F;retry: all retry attempts failed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŠ¥é”™-2"><a href="#æŠ¥é”™-2" class="headerlink" title="æŠ¥é”™(2)"></a>æŠ¥é”™(2)</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">2024&#x2F;03&#x2F;18 06:49:13 [Warning] [2497832095] github.com&#x2F;v2fly&#x2F;v2ray-core&#x2F;v4&#x2F;app&#x2F;proxyman&#x2F;outbound: failed to process outbound traffic &gt; github.com&#x2F;v2fly&#x2F;v2ray-core&#x2F;v4&#x2F;proxy&#x2F;vmess&#x2F;outbound: failed to find an available destination &gt; github.com&#x2F;v2fly&#x2F;v2ray-core&#x2F;v4&#x2F;common&#x2F;retry: [github.com&#x2F;v2fly&#x2F;v2ray-core&#x2F;v4&#x2F;transport&#x2F;internet&#x2F;websocket: failed to dial WebSocket &gt; github.com&#x2F;v2fly&#x2F;v2ray-core&#x2F;v4&#x2F;transport&#x2F;internet&#x2F;websocket: failed to dial to (wss:&#x2F;&#x2F;xxx.xx.xx.xx:443&#x2F;search):  &gt; dial tcp xxx.xx.xx.xx:443: connectex: No connection could be made because the target machine actively refused it.] &gt; github.com&#x2F;v2fly&#x2F;v2ray-core&#x2F;v4&#x2F;common&#x2F;retry: all retry attempts failed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŠ¥é”™-3"><a href="#æŠ¥é”™-3" class="headerlink" title="æŠ¥é”™(3)"></a>æŠ¥é”™(3)</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">2024&#x2F;03&#x2F;18 07:05:03 127.0.0.1:50982 accepted http:&#x2F;&#x2F;www.gstatic.com&#x2F;generate_204 [http10911 -&gt; proxy10911]2024&#x2F;03&#x2F;18 07:05:07 [Warning] [3072752593] app&#x2F;proxyman&#x2F;outbound: failed to process outbound traffic &gt; proxy&#x2F;vmess&#x2F;outbound: failed to find an available destination &gt; common&#x2F;retry: [transport&#x2F;internet&#x2F;websocket: failed to dial WebSocket &gt; transport&#x2F;internet&#x2F;websocket: failed to dial to (wss:&#x2F;&#x2F;zgo.apigpt.eu.org&#x2F;):  &gt; tls: first record does not look like a TLS handshake] &gt; common&#x2F;retry: all retry attempts failed2024&#x2F;03&#x2F;18 07:05:07 [Warning] [3072752593] proxy&#x2F;http: failed to read response from www.gstatic.com &gt; io: read&#x2F;write on closed pipe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/2024/02/16/88l-da-jian-v2ray-jie-dian/image-20240318072713050.png" class="" title="image-20240318072713050"><p>v2rayç›‘å¬çš„ç«¯å£æ˜¯ipv6çš„</p><p>[ v2ray failed to dial WebSocket è§£å†³æ–¹æ³•](<a href="https://codefuturesql.top/post/v2ray_failed_to_dail/">è½¬è½½ v2ray failed to dial WebSocket è§£å†³æ–¹æ³•_ find an available destination | Academic (codefuturesql.top)</a>)</p><h2 id="æš‚æœªè§£å†³"><a href="#æš‚æœªè§£å†³" class="headerlink" title="æš‚æœªè§£å†³"></a>æš‚æœªè§£å†³</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ä¸´æ—¶ç¦ç”¨ IPv6ï¼Œåªéœ€è¦è¾“å…¥ä¸‰æ¡å‘½ä»¤ï¼šsudo sysctl -w net.ipv6.conf.all.disable_ipv6&#x3D;1sudo sysctl -w net.ipv6.conf.default.disable_ipv6&#x3D;1sudo sysctl -w net.ipv6.conf.lo.disable_ipv6&#x3D;1æ£€æŸ¥å‘½ä»¤æ˜¯å¦ç”Ÿæ•ˆï¼šip a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯´æ˜¯å› ä¸º80æˆ–è€…443ç«¯å£è¢«å ç”¨äº†éœ€è¦æ‰‹åŠ¨è½¬å‘tls,å› ä¸ºæœåŠ¡å™¨ä¸Šæ­å»ºäº†å…¶ä»–çš„ç½‘ç«™,</p><p>ä½†æ˜¯443ç«¯å£å¹¶æœªè¢«å ç”¨,ä¸ºä»€ä¹ˆè‡ªåŠ¨ç›‘å¬ipv6çš„ç«¯å£å‘¢</p><p>ç¡®å®å…¶ä»–ä¸ºæ­å»ºç½‘ç«™çš„æœåŠ¡å™¨å¯ä»¥æ­£å¸¸æ­å»º,tcpåè®®ä¹Ÿå¯ä»¥æ­£å¸¸æ­å»º</p><p>è€Œä¸”ä¸çŸ¥é“ä¸ºå•¥æœé²œçš„GPTè§£é”æ‰äº†</p><h2 id="é—®é¢˜æ’æŸ¥"><a href="#é—®é¢˜æ’æŸ¥" class="headerlink" title="é—®é¢˜æ’æŸ¥"></a>é—®é¢˜æ’æŸ¥</h2><ol><li><p><strong>æµ‹è¯•ipç«¯å£é€šä¸é€š</strong></p><p>æµ‹è¯•ç½‘ç«™: <a href="https://tcp.ping.pe/">Ping.pe</a></p><blockquote><p>Connection to 1xxx.xxx.xxx.xxx:443 failed</p></blockquote></li><li><p><strong>æŸ¥çœ‹æ­£åœ¨ç›‘å¬çš„ç«¯å£</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">netstat -tuln<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å‘ç°443ç«¯å£æ²¡æœ‰è¢«ç›‘å¬</p></blockquote><p>è¿è¡Œ <strong>sudo lsof -i :443</strong>æˆ–è€…<strong>netstat -anp | grep ã€ç«¯å£å·ã€‘</strong> æ²¡æœ‰æ˜¾ç¤ºä»»ä½•è¾“å‡ºï¼Œè¯´æ˜ç›®å‰æ²¡æœ‰è¿›ç¨‹åœ¨ä½¿ç”¨443ç«¯å£ã€‚</p></li><li><p><strong>æ£€æŸ¥æœåŠ¡çŠ¶æ€</strong>ï¼šè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ‚¨çš„æœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo systemctl status &lt;your-service-name&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæœåŠ¡æ­£åœ¨è¿è¡Œï¼Œæ£€æŸ¥æœåŠ¡çš„çŠ¶æ€å’Œæ—¥å¿—ä»¥æŸ¥çœ‹æ˜¯å¦æœ‰ä»»ä½•é”™è¯¯æ¶ˆæ¯ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@HKserver1:~# sudo systemctl status v2rayâ— v2ray.service - V2Ray Service     Loaded: loaded (&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;v2ray.service; enabled; vendor preset: enabled)     Active: activating (auto-restart) (Result: signal) since Sat 2024-02-17 11:55:05 CST; 79ms ago       Docs: https:&#x2F;&#x2F;www.v2ray.com&#x2F;             https:&#x2F;&#x2F;www.v2fly.org&#x2F;    Process: 12023 ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;env v2ray.vmess.aead.forced&#x3D;false &#x2F;usr&#x2F;bin&#x2F;v2ray&#x2F;v2ray run -config &#x2F;etc&#x2F;v2ray&#x2F;c&gt;   Main PID: 12023 (code&#x3D;killed, signal&#x3D;KILL)Feb 17 11:55:05 HKserver1 systemd[1]: v2ray.service: Main process exited, code&#x3D;killed, status&#x3D;9&#x2F;KILLFeb 17 11:55:05 HKserver1 systemd[1]: v2ray.service: Failed with result &#39;signal&#39;.Feb 17 11:55:05 HKserver1 systemd[1]: v2ray.service: Scheduled restart job, restart counter is at 21.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºæ˜¾ç¤º, <code>Main process exited, code=killed, status=9/KILL</code>, V2Ray æœåŠ¡æ­£åœ¨ä»¥ä¿¡å·KILLé€€å‡ºï¼Œç„¶åå°è¯•è‡ªåŠ¨é‡å¯ã€‚è¿™ç§æƒ…å†µé€šå¸¸è¡¨æ˜æœ‰ä¸€ä¸ªé—®é¢˜å¯¼è‡´äº† V2Ray æœåŠ¡çš„å¼‚å¸¸é€€å‡ºã€‚</p></li><li><p><strong>æ£€æŸ¥æœåŠ¡æ—¥å¿—</strong>ï¼šæŸ¥çœ‹æœåŠ¡çš„æ—¥å¿—æ–‡ä»¶ä»¥è·å–æœ‰å…³å¯åŠ¨è¿‡ç¨‹çš„è¯¦ç»†ä¿¡æ¯ã€‚é€šå¸¸ï¼ŒæœåŠ¡çš„æ—¥å¿—æ–‡ä»¶ä½äº <code>/var/log</code> ç›®å½•ä¸‹</p><ol><li><p><strong>æŸ¥çœ‹ V2Ray æ—¥å¿—</strong>ï¼šæŸ¥çœ‹ V2Ray çš„æ—¥å¿—æ–‡ä»¶ä»¥è·å–æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¸®åŠ©ç¡®å®šä¸ºä»€ä¹ˆæœåŠ¡å¼‚å¸¸é€€å‡ºã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ—¥å¿—ï¼š&#96;&#96;&#96;</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">journalctl -u v2ray.service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>æ—¥å¿—è¾“å‡º</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Feb 16 20:53:41 HKserver1 env[102815]: V2Ray 5.12.1 (V2Fly, a community-driven edition of V2Ray.) Custom (go1.21.4 li&gt;Feb 16 20:53:41 HKserver1 env[102815]: A unified platform for anti-censorship.Feb 16 20:53:46 HKserver1 systemd[1]: v2ray.service: Main process exited, code&#x3D;killed, status&#x3D;9&#x2F;KILLFeb 16 20:53:46 HKserver1 systemd[1]: v2ray.service: Failed with result &#39;signal&#39;.Feb 16 20:53:46 HKserver1 systemd[1]: v2ray.service: Scheduled restart job, restart counter is at 5.Feb 16 20:53:46 HKserver1 systemd[1]: Stopped V2Ray Service.Feb 16 20:53:46 HKserver1 systemd[1]: Started V2Ray Service.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>V2Ray æœåŠ¡ä¼¼ä¹åœ¨å¯åŠ¨åç«‹å³è¢«ä¿¡å·KILLç»ˆæ­¢ã€‚è¿™è¡¨æ˜æœ‰æŸç§é—®é¢˜å¯¼è‡´æœåŠ¡æ— æ³•æ­£å¸¸è¿è¡Œï¼Œç³»ç»Ÿå› æ­¤å°†å…¶ç»ˆæ­¢ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ<strong>V2Ray è¿›ç¨‹è¢«ä¿¡å·KILLç»ˆæ­¢</strong>çš„åŸå› å¯èƒ½åŒ…æ‹¬ï¼š</p><ol><li><strong>èµ„æºä¸è¶³</strong>ï¼šV2Ray å¯èƒ½éœ€è¦çš„ç³»ç»Ÿèµ„æºï¼ˆä¾‹å¦‚å†…å­˜ï¼‰ä¸è¶³ä»¥æ­£å¸¸è¿è¡Œï¼Œå¯¼è‡´æ“ä½œç³»ç»Ÿå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ã€‚</li><li><strong>é…ç½®é”™è¯¯</strong>ï¼šV2Ray é…ç½®æ–‡ä»¶å¯èƒ½å­˜åœ¨é”™è¯¯</li><li><strong>å¼‚å¸¸æƒ…å†µ</strong>ï¼šè¿™å¯èƒ½æ˜¯ç”±äºè½¯ä»¶é”™è¯¯ã€å…¼å®¹æ€§é—®é¢˜æˆ–å…¶ä»–æœªçŸ¥åŸå› å¼•èµ·çš„ã€‚</li></ol></li></ol></li><li><p><strong>æ‰‹åŠ¨å¯åŠ¨æœåŠ¡</strong>ï¼šå°è¯•æ‰‹åŠ¨å¯åŠ¨æœåŠ¡å¹¶æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é”™è¯¯æ¶ˆæ¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo systemctl start &lt;your-service-name&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><p><strong>å¸¸è§é—®é¢˜</strong></p><ul><li>æ ¡æ­£æ—¶é—´</li><li>é˜²ç«å¢™ç«¯å£(ä¸€èˆ¬ç«¯å£éƒ½æ˜¯é»˜è®¤æ‰“å¼€çš„,ä¸ç”¨è®¾ç½®)</li><li>DNSæ— æ³•è§£æåŸŸå</li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><p><a href="https://github.com/v2fly/v2ray-core/issues/1873">githubä¸Šçš„ç›¸å…³è§£ç­”</a></p></li><li><p><a href="https://hostloc.com/thread-969845-1-1.html">hostlocä¸Šçš„ç›¸å…³è§£ç­”</a></p></li><li><p><a href="https://hostloc.com/thread-1049249-1-1.html">hostlocä¸Šé¢ç›¸å…³è§£ç­”</a></p></li><li><p><a href="https://www.itblogcn.com/article/406.html#title-7">2024å¹´V2Rayæ­å»ºå›¾æ–‡æ•™ç¨‹</a>](<a href="https://www.itblogcn.com/article/406.html#title-7">https://www.itblogcn.com/article/406.html#title-7</a>)</p></li><li><p><a href="https://github.com/233boy/v2ray/wiki/V2Ray%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"> 233boyçš„V2Rayä¸€é”®å®‰è£…è„šæœ¬</a></p></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨VPSä¸Šéƒ¨ç½²NeZhaæ¢é’ˆ</title>
      <link href="/2024/02/15/87l-nezha-tan-zhen/"/>
      <url>/2024/02/15/87l-nezha-tan-zhen/</url>
      
        <content type="html"><![CDATA[<h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><ul><li>ç›‘æ§å¤šå°VPSçš„è¿è¡Œæƒ…å†µ</li></ul><h2 id="å‡†å¤‡ææ–™"><a href="#å‡†å¤‡ææ–™" class="headerlink" title="å‡†å¤‡ææ–™"></a>å‡†å¤‡ææ–™</h2><ul><li>ä¸€å°vpsåšé¢æ¿ç«¯</li><li>ä¸€ä¸ªåŸŸåæŒ‡å‘é¢æ¿æœåŠ¡å™¨çš„ip</li><li>ä¸€ä¸ªgithubè´¦å·</li></ul><h2 id="Github-OAuthè®¾ç½®"><a href="#Github-OAuthè®¾ç½®" class="headerlink" title="Github OAuthè®¾ç½®"></a>Github OAuthè®¾ç½®</h2><ol><li><p>è®¿é—®<code>https://github.com/settings/developers</code>ï¼Œå³ä¸Šè§’<code>New OAuth App</code></p></li><li><p>å¦‚å›¾è®¾ç½®åº”ç”¨åç§°ã€ä¸»é¡µã€å›è°ƒé¡µé¢</p><img src="/2024/02/15/87l-nezha-tan-zhen/image-20240216105427454.png" class="" title="image-20240216105427454"></li><li><p>ç‚¹å‡» â€œRegister applicationâ€ï¼Œä¿å­˜é¡µé¢ä¸­çš„<code>Client ID</code>ï¼Œç„¶åç‚¹å‡» <code>Generate a new client secret</code>ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Client Secret</code>ï¼Œæ–°å»ºçš„å¯†é’¥<strong>ä»…ä¼šæ˜¾ç¤ºä¸€æ¬¡</strong>ï¼Œè¯·ä¿å­˜ã€‚</p><img src="/2024/02/15/87l-nezha-tan-zhen/image-20240216105017818.png" class="" title="image-20240216105017818"></li><li><p>Client IDå’ŒClient Secretåœ¨é¢æ¿å®‰è£…çš„æ—¶å€™ä¼šç”¨åˆ°ã€‚</p></li></ol><h2 id="é¢æ¿ç«¯"><a href="#é¢æ¿ç«¯" class="headerlink" title="é¢æ¿ç«¯"></a>é¢æ¿ç«¯</h2><ol><li><p>å®˜æ–¹å®‰è£…è„šæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">curl -L https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;naiba&#x2F;nezha&#x2F;master&#x2F;script&#x2F;install.sh  -o nezha.sh &amp;&amp; chmod +x nezha.sh &amp;&amp; sudo .&#x2F;nezha.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>å¢ƒå†…æœåŠ¡å™¨ä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">curl -L https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;naiba&#x2F;nezha@master&#x2F;script&#x2F;install.sh -o nezha.sh &amp;&amp; chmod +x nezha.sh &amp;&amp; sudo CN&#x3D;true .&#x2F;nezha.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è®¿é—®é¢æ¿<code>http://a.com:8008</code>æˆ–è€…<code>ip:8008</code>æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</p><h3 id="â—æ³¨æ„"><a href="#â—æ³¨æ„" class="headerlink" title="â—æ³¨æ„:"></a>â—æ³¨æ„:</h3><p>è‹¥æœåŠ¡å™¨æ­å»ºäº†å…¶å®ƒç½‘ç«™éœ€è¦é…ç½®<code>nginxåå‘ä»£ç†</code>,<strong>å¦åˆ™ä¼šè·³è½¬è‡³ä½ çš„æœåŠ¡å™¨çš„å…¶ä»–ç½‘ç«™</strong></p><p>1.åœ¨<code>/etc/nginx/sites-available/</code>ç›®å½•ä¸‹, åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶</p><blockquote><p>vim &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;nezha.conf</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#PROXY-START&#x2F;server &#123;    listen 80;    server_name vps.isgeek.eu.org;    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8000;        proxy_set_header Host $http_host;        proxy_set_header Upgrade $http_upgrade;    &#125;    location ~ ^&#x2F;(ws|terminal&#x2F;.+)$ &#123;        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8000;        proxy_http_version 1.1;        proxy_set_header Upgrade $http_upgrade;        proxy_set_header Connection &quot;Upgrade&quot;;        proxy_set_header Host $http_host;    &#125;&#125;#PROXY-END&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>2.<strong>å¯ç”¨é…ç½®æ–‡ä»¶</strong>ï¼šåœ¨ <code>/etc/nginx/sites-enabled/</code> ç›®å½•ä¸­åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå°†é…ç½®æ–‡ä»¶é“¾æ¥åˆ° <code>sites-available</code> ä¸­ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo ln -s &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;nezha.conf &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3.<strong>é‡æ–°åŠ è½½ Nginx</strong>ï¼šé‡æ–°åŠ è½½ Nginxï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo systemctl reload nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è®¿é—®é¢æ¿<code>http://a.com:8008</code>æˆ–è€…<code>ip:8008</code>æ£€æŸ¥æ˜¯å¦æˆåŠŸ</p></li></ol><h2 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h2><ol><li><p>è®¿é—®é¢æ¿<br><code>http://a.com:8008</code></p></li><li><p>ç‚¹å‡»å³ä¸Šè§’ç™»å½•ï¼Œä½¿ç”¨Githubè´¦æˆ·ç™»å½•ï¼Œè¿›å…¥åå°</p><p>å‡†å¤‡<strong>å¦ä¸€ä¸ª</strong>ç»‘å®šé¢æ¿ç«¯ipçš„åŸŸå(<code>æ³¨æ„ä¸èƒ½å¼€å°é»„äº‘ä»£ç†</code>),æˆ–è€…ç›´æ¥ç»‘å®šåŸé¢æ¿ç«¯çš„åŸŸåä¹Ÿå¯ä»¥, å»<strong>è®¾ç½®</strong>æ·»åŠ <strong>æœªæ¥å…¥cdnçš„é¢æ¿æœåŠ¡å™¨åŸŸå&#x2F;ip</strong>, ä¿å­˜(æ¯”è¾ƒéº»çƒ¦çš„ä¸€ç‚¹å°±æ˜¯,éœ€è¦ä¸€ä¸ªåŸŸåä¸€å°æœºå™¨)</p><p>å…ˆç‚¹å‡»<strong>æ–°å¢æœåŠ¡å™¨</strong>ï¼Œè®¾ç½®å¥½ä¿¡æ¯ï¼Œ<strong>æ–°å¢</strong>, ç„¶åç‚¹å‡»ç»¿è‰²å°ä¼é¹…ï¼Œå¤åˆ¶ä¸€é”®å®‰è£…å®¢æˆ·ç«¯å‘½ä»¤ï¼Œåœ¨å®¢æˆ·æœºä¸Šç²˜è´´æ‰§è¡Œå³å¯<br>å‘½ä»¤æ ¼å¼ä¸ºï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">curl -L https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;naiba&#x2F;nezha&#x2F;master&#x2F;script&#x2F;install.sh -o nezha.sh &amp;&amp; chmod +x nezha.sh &amp;&amp; sudo .&#x2F;nezha.sh install_agent b.com 5555 [å¯†é’¥]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œåœ¨é¢æ¿é¦–é¡µå³å¯çœ‹åˆ°å®¢æˆ·ç«¯ä¸Šçº¿äº†</p></li></ol><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul><li><p><a href="https://nezha.wiki/guide/dashboard.html">å®˜æ–¹æ–‡æ¡£ | å“ªå’ç›‘æ§ (nezha.wiki)</a></p></li><li><p><a href="https://www.nodeseek.com/post-8361-1">å“ªå’æ¢é’ˆæ•™ç¨‹</a></p></li><li><p><a href="https://potyz0.hashnode.dev/hax-woiden-status">ä½¿ç”¨Haxæˆ–Woidenæ­å»ºå“ªå’æ¢é’ˆåŠé—®é¢˜è§£ç­” (hashnode.dev)</a></p></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Warp</title>
      <link href="/2024/02/12/86l-warp/"/>
      <url>/2024/02/12/86l-warp/</url>
      
        <content type="html"><![CDATA[<h1 id="warp"><a href="#warp" class="headerlink" title="warp"></a>warp</h1><p><a href="https://p3terx.com/go/aHR0cHM6Ly8xLjEuMS4xLw">Cloudflare WARP</a> (ç®€ç§° WARP) æ˜¯ CloudÂ­flare æä¾›çš„ä¸€é¡¹åŸºäº WireÂ­Guard çš„ç½‘ç»œæµé‡å®‰å…¨åŠåŠ é€ŸæœåŠ¡</p><p>##LXCä½¿ç”¨æ•™ç¨‹</p><h2 id="å®‰è£…Warpï¼š"><a href="#å®‰è£…Warpï¼š" class="headerlink" title="å®‰è£…Warpï¼š"></a>å®‰è£…Warpï¼š</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apk updateapk upgradeapk add sudo bash curl wget vim tar unzipapk add curl &amp;&amp; apk add bash &amp;&amp; apk add wget<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">wget -N https:&#x2F;&#x2F;gitlab.com&#x2F;fscarmen&#x2F;warp&#x2F;-&#x2F;raw&#x2F;main&#x2F;menu.sh &amp;&amp; bash menu.sh 4<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœç¬¬ä¸€æ¬¡æ²¡æœ‰è·å–åˆ°ip,åˆ™ä½¿ç”¨<code>warp u</code>å¸è½½ç„¶åé‡è£…,ä¸€èˆ¬ç¬¬äºŒæ¬¡å°±å¯ä»¥äº†</p><h2 id="å“ªå’é¢æ¿ï¼š"><a href="#å“ªå’é¢æ¿ï¼š" class="headerlink" title="å“ªå’é¢æ¿ï¼š"></a>å“ªå’é¢æ¿ï¼š</h2><p>apk add bash curl (æŠŠcommunityæºå‰çš„#åˆ äº†)<br>ä½¿ç”¨å“ªå’åå°ä¸€é”®å®‰è£…å‘½ä»¤ï¼Œå»æ‰sudu</p><h2 id="å¸¸ç”¨è„šæœ¬"><a href="#å¸¸ç”¨è„šæœ¬" class="headerlink" title="å¸¸ç”¨è„šæœ¬"></a>å¸¸ç”¨è„šæœ¬</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">## æŸæŸUIï¼šapk add curl&amp;&amp;apk add bash &amp;&amp; bash &lt;(curl -Ls https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;Lynn-Becky&#x2F;Alpine-x-ui&#x2F;main&#x2F;alpine-xui.sh)## æŸRï¼šapk add wget sudo curl &amp;&amp; wget -N https:&#x2F;&#x2F;github.com&#x2F;Cd1s&#x2F;alpineXrayR&#x2F;releases&#x2F;download&#x2F;one-click&#x2F;install-xrayr.sh &amp;&amp; chmod +x install-xrayr.sh &amp;&amp; bash install-xrayr.sh##ArgoXï¼šbash &lt;(wget -qO- https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;fscarmen&#x2F;argox&#x2F;main&#x2F;argox.sh)##æŸBOXï¼šbash &lt;(wget -qO- https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;fscarmen&#x2F;sing-box&#x2F;main&#x2F;sing-box.sh)## Alpine è½¯ä»¶ç®¡ç†ï¼šrc-service è½¯ä»¶å restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>x-ui</p><pre class="line-numbers language-none"><code class="language-none">bash &lt;(curl -Ls https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;ozersource&#x2F;x-ui-alpine&#x2F;main&#x2F;x-ui<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Nginx</title>
      <link href="/2024/02/11/85l-nginx/"/>
      <url>/2024/02/11/85l-nginx/</url>
      
        <content type="html"><![CDATA[<h2 id="locationåŒ¹é…è§„åˆ™"><a href="#locationåŒ¹é…è§„åˆ™" class="headerlink" title="locationåŒ¹é…è§„åˆ™"></a>locationåŒ¹é…è§„åˆ™</h2><ol><li>&#x3D;, ^~, ~ æ™®é€šæ–‡æœ¬å››ä¸ªä¼˜å…ˆçº§è¾ƒé«˜çš„å…ˆåŒ¹é…</li><li>åŒä¼˜å…ˆçº§çš„, åŒ¹é…ç¨‹åº¦è¾ƒé«˜çš„å…ˆåŒ¹é…</li><li>åŒ¹é…ç¨‹åº¦ä¸€æ ·, åˆ™å†™åœ¨å‰é¢çš„å…ˆåŒ¹é…</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ”¥Nginxåå‘ä»£ç†</title>
      <link href="/2024/02/05/84l-nginx-fan-xiang-dai-li/"/>
      <url>/2024/02/05/84l-nginx-fan-xiang-dai-li/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h1><p>è¯·æ±‚ç»è¿‡ä¸­é—´å•†,ä¸­é—´å•†å‘é€ç»™ç›®æ ‡æœåŠ¡å™¨</p><h2 id="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«"><a href="#æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«" class="headerlink" title="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«"></a>æ­£å‘ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«</h2><p>ä¸€ä¸ªä½œç”¨åœ¨å®¢æˆ·ç«¯,ä¸€ä¸ªä½œç”¨åœ¨æœåŠ¡ç«¯</p><p>æ­£å‘ä»£ç†:å³æ‰€è°“çš„vpn,å®¢æˆ·ç«¯å°†è¯·æ±‚å‘é€è‡³ä»£ç†æœåŠ¡å™¨,ç”±ä»£ç†æœåŠ¡å™¨å‘å‡ºæœ€ç»ˆè¯·æ±‚,å¹¶å°†å“åº”è¿”å›</p><ul><li>å®¢æˆ·ç«¯â€”&gt;ä»£ç†æœåŠ¡å™¨â€”&gt;è®¿é—®çš„<a href="https://cloud.tencent.com/act/pro/domain-sales?from_column=20065&from=20065">åŸŸå</a>â€”&gt;è®¿é—®çš„æœåŠ¡å™¨</li><li>å®¢æˆ·ç«¯&lt;â€”ä»£ç†æœåŠ¡å™¨&lt;â€”è®¿é—®çš„åŸŸå&lt;â€”è®¿é—®çš„æœåŠ¡å™¨</li></ul><img src="/2024/02/05/84l-nginx-fan-xiang-dai-li/image-20240207081314588.png" class="" title="image-20240207081314588"><p>åå‘ä»£ç†:å®¢æˆ·ç«¯-&gt;ç›®æ ‡åœ°å€</p><img src="/2024/02/05/84l-nginx-fan-xiang-dai-li/image-20240207081328054.png" class="" title="image-20240207081328054"><ul><li>nginxä»£ç†ä¸»æœºæ˜¯ä¸­é—´äººï¼Œå®¢æˆ·ç«¯è¯·æ±‚ä»£ç†æœºï¼Œä»£ç†æœºè‡ªå·±é‡æ–°æ„å»ºè¯·æ±‚æŠ¥æ–‡ï¼Œå‘ç»™æœåŠ¡å™¨ã€‚æœåŠ¡å™¨å“åº”ç»™ä»£ç†ä¸»æœºï¼Œä»£ç†ä¸»æœºæ¥æ”¶åï¼Œè‡ªå·±é‡æ–°æ„å»ºå“åº”æŠ¥æ–‡ï¼Œå‘é€ç»™å®¢æˆ·ç«¯ã€‚clientåˆ°serverä¹‹é—´ï¼Œä¸ä¼šçŸ¥å¯¹æ–¹çœŸå®é¢ç›®</li></ul><p>è¦åœ¨æ–°åŠ å¡æœåŠ¡å™¨ä¸Šè®¾ç½®åå‘ä»£ç†ä»¥ä»£ç†æ´›æ‰çŸ¶æœåŠ¡å™¨ä¸Šçš„ Hexo åšå®¢ï¼Œä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><ol><li><p><strong>å®‰è£… Nginx</strong>ï¼šç¡®ä¿åœ¨æ–°åŠ å¡æœåŠ¡å™¨ä¸Šå®‰è£…äº† Nginxã€‚ä½ å¯ä»¥ä½¿ç”¨é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„åŒ…ç®¡ç†å™¨æ¥å®‰è£…å®ƒã€‚æ¯”å¦‚ï¼Œåœ¨ Ubuntu ä¸Šï¼Œä½ å¯ä»¥è¿è¡Œ <code>sudo apt update</code> å’Œ <code>sudo apt install nginx</code> æ¥å®‰è£… Nginxã€‚</p></li><li><p><strong>é…ç½® Nginx åå‘ä»£ç†</strong>ï¼šç¼–è¾‘ Nginx çš„é…ç½®æ–‡ä»¶ä»¥è®¾ç½®åå‘ä»£ç†ã€‚</p><p>åœ¨æ–°åŠ å¡æœåŠ¡å™¨ä¸Šæ‰¾åˆ° Nginx çš„é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸åœ¨ <code>/etc/nginx/sites-available/</code> ç›®å½•ä¸‹ã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>isgeek.top</code>ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    server_name www.123.top;    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;111.111.111.111:80;         proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªé…ç½®ä¼šå°†æ‰€æœ‰æ¥è‡ª <code>www.isgeek.top</code> çš„è¯·æ±‚è½¬å‘åˆ°æ´›æ‰çŸ¶æœåŠ¡å™¨ä¸Šçš„ Hexo åšå®¢ã€‚</p></li><li><p><strong>å¯ç”¨é…ç½®æ–‡ä»¶</strong>ï¼šåœ¨ <code>/etc/nginx/sites-enabled/</code> ç›®å½•ä¸­åˆ›å»ºç¬¦å·é“¾æ¥ï¼Œå°†é…ç½®æ–‡ä»¶é“¾æ¥åˆ° <code>sites-available</code> ä¸­ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo ln -s &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;123.top &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p><strong>é‡æ–°åŠ è½½ Nginx</strong>ï¼šé‡æ–°åŠ è½½ Nginxï¼Œä½¿é…ç½®ç”Ÿæ•ˆã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo systemctl reload nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><p>ç°åœ¨ï¼Œå½“è®¿é—® <code>www.123.top</code> æ—¶ï¼Œè¯·æ±‚å°†è¢«è½¬å‘åˆ°æ´›æ‰çŸ¶æœåŠ¡å™¨ä¸Šçš„ Hexo åšå®¢ã€‚è¯·ç¡®ä¿æ–°åŠ å¡æœåŠ¡å™¨ä¸Šçš„é˜²ç«å¢™å…è®¸æµé‡é€šè¿‡ç«¯å£ 80ï¼ˆå¦‚æœä½¿ç”¨äº†å…¶ä»–ç«¯å£ï¼Œä¹Ÿéœ€è¦æ‰“å¼€ç›¸åº”çš„ç«¯å£ï¼‰ã€‚</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>é…ç½®å¦‚ä¸‹,å¸Œæœ›èƒ½é€šè¿‡ip+ç«¯å£è®¿é—®è¯¥è·¯å¾„çš„æ–‡ä»¶,ä½†æ˜¯ä¸€ç›´æ˜¯<strong>welcom to nginx</strong>,ä¹Ÿå°±æ˜¯nginxçš„é»˜è®¤ç•Œé¢,æˆ‘è¿˜ä»¥ä¸ºæ˜¯è‡ªå®šä¹‰é…ç½®æ²¡æœ‰ç”Ÿæ•ˆ,ç»“æœæ˜¯<strong>é»˜è®¤é…ç½®</strong>çš„é”…ğŸ¥˜</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    root &#x2F;home; # ç½‘ç«™ç›®å½•çš„è·¯å¾„    #server_name www.isgeek.top; # ä½ çš„åŸŸå    #root &#x2F;home&#x2F;hexo; # ç½‘ç«™ç›®å½•çš„è·¯å¾„    location &#x2F; &#123;        try_files $uri $uri&#x2F; &#x3D;404;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åŸå› :</strong></p><p><code>/etc/nginx/sites-available</code>çš„defaultæ–‡ä»¶,é»˜è®¤é…ç½®ç›´æ¥è®¿é—®80ç«¯å£çš„é¡µé¢,æ‰€ä»¥åªéœ€è¦åˆ æ‰æˆ–è€…æ³¨é‡Šæ‰å³å¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># Default server configurationserver &#123;listen 80 default_server;listen [::]:80 default_server;# SSL configuration## listen 443 ssl default_server;# listen [::]:443 ssl default_server;root &#x2F;var&#x2F;www&#x2F;html;# Add index.php to the list if you are using PHPindex index.html index.htm index.nginx-debian.html;server_name _;#location &#x2F; &#123;# First attempt to serve request as file, then# as directory, then fall back to displaying a 404.#try_files $uri $uri&#x2F; &#x3D;404;#&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    root &#x2F;home; # ç½‘ç«™ç›®å½•çš„è·¯å¾„    #server_name www.isgeek.top; # ä½ çš„åŸŸå    #root &#x2F;home&#x2F;hexo; # ç½‘ç«™ç›®å½•çš„è·¯å¾„    location &#x2F; &#123;        try_files $uri $uri&#x2F; &#x3D;404;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ³¨æ„</strong>ä¸èƒ½ç”¨ipv4åä»£ipv6å•Šå°å‚»ç“œğŸ˜¢</p><h2 id="åå‘ä»£ç†"><a href="#åå‘ä»£ç†" class="headerlink" title="åå‘ä»£ç†"></a>åå‘ä»£ç†</h2><p>åä»£</p><ul><li><p>å¯ä»¥æ˜¯åŒä¸€å°æœºå™¨çš„ä¸€ä¸ªç«¯å£åä»£å¦ä¸€ä¸ªç«¯å£</p></li><li><p>ä¹Ÿå¯ä»¥æ˜¯ä»£ç†æœåŠ¡å™¨åä»£ç›®æ ‡åœ°å€</p></li></ul><p>ä»£ç†æœåŠ¡å™¨çš„nginxé…ç½®</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    server_name www.isgeek.top;    #ç»‘å®šä»£ç†æœåŠ¡å™¨(æœ¬æœº)ipåœ°å€    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;ip;  # ç›®æ ‡æœåŠ¡å™¨çš„IPå’Œç«¯å£        #proxy_pass https:&#x2F;&#x2F;www.bilibili.com&#x2F;;  # ç›´æ¥è·³bç«™    &#125;&#125;   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è´Ÿè½½å‡è¡¡"><a href="#è´Ÿè½½å‡è¡¡" class="headerlink" title="è´Ÿè½½å‡è¡¡\"></a>è´Ÿè½½å‡è¡¡\</h2><p><strong>ä¸ªäººç†è§£</strong></p><blockquote><p>è´Ÿè½½å‡è¡¡å°±æ˜¯å¤šå°æœåŠ¡å™¨æ­å»ºåŒä¸€ä¸ªç½‘ç«™,ç„¶åä½ è®¿é—®ä»£ç†æœåŠ¡å™¨,è½¬å‘åˆ°ä»»æ„æˆ–è€…å›ºå®šçš„ä¸€å°æœåŠ¡å™¨,å®ç°è´Ÿè½½å‡è¡¡</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">upstream backend_servers &#123;     server ip;          # å¤šå°æ­å»ºåŒä¸€ç½‘ç«™çš„æœåŠ¡å™¨ip     server ip;       &#125;server &#123;    listen 80;    server_name www.isgeek.top;    #ç»‘å®šæœ¬æœºipåœ°å€    location &#x2F; &#123;        proxy_pass http:&#x2F;&#x2F;backend_servers;                  proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;    &#125;&#125;   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="%5B%E3%80%90nginx%E5%85%A5%E9%97%A8%E3%80%91nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E4%B8%8E%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E6%95%99%E7%A8%8B_%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9_bilibili%5D(https://www.bilibili.com/video/BV1Bx411Z7Do/?spm_id_from=333.337.search-card.all.click)">bç«™å¤§ä½¬å…³äºnginxè´Ÿè½½å‡è¡¡çš„è®²è§£</a></p><p><a href="https://blog.csdn.net/weixin_45490198/article/details/131357591">Nginx-åå‘ä»£ç†è¯¦è§£</a></p><p><a href="https://cloud.tencent.com/developer/article/1985011">nginxå¿«é€Ÿå…¥é—¨+åå‘ä»£ç†hexoä¸ªäººåšå®¢</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ’»F1200S_linuxå°ç”µè„‘</title>
      <link href="/2023/10/06/83l-linux-xiao-dian-nao/"/>
      <url>/2023/10/06/83l-linux-xiao-dian-nao/</url>
      
        <content type="html"><![CDATA[<p>ç¨šæ™–å›å¤§ä½¬çš„é¡¹ç›®</p><p><a href="https://github.com/peng-zhihui/Planck-Pi">GitHub - peng-zhihui&#x2F;Planck-Pi: Super TINY &amp; Low-cost Linux Develop-Kit Based On F1C200s.</a></p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><ul><li><p>è¯»å¡å™¨ã€TFå¡</p></li><li><p><a href="http://wiki.lcmaker.com/index.php?title=LC-PI-200S">å®˜æ–¹LC-PI-200S</a></p><p><a href="https://whycan.com/t_7275.html">å°ç™½è‡ªåˆ¶Linuxå¼€å‘æ¿(F1C200s)æ•´ç†ç³»åˆ—ï¼ŒæŒç»­æ›´æ–°ä¸­ &#x2F; å…¨å¿— SOC &#x2F; WhyCan Forum(å“‡é…·å¼€å‘è€…ç¤¾åŒº)</a></p></li></ul><h2 id="é•œåƒçƒ§å½•"><a href="#é•œåƒçƒ§å½•" class="headerlink" title="é•œåƒçƒ§å½•"></a>é•œåƒçƒ§å½•</h2><ol><li>çƒ§åˆ°Flashä¸­</li><li>çƒ§åˆ°TFå¡ä¸­</li></ol><p>çƒ§å½•çš„ç³»ç»Ÿä¸ºbuildrootï¼Œæ˜¯ä¸“é—¨ä¸ºåµŒå…¥å¼ç³»ç»Ÿå‡†å¤‡çš„ï¼Œæ²¡æœ‰aptç­‰å‘½ä»¤ï¼Œéœ€è¦ç¼–è¯‘</p><h3 id="çƒ§å½•åˆ°flash"><a href="#çƒ§å½•åˆ°flash" class="headerlink" title="çƒ§å½•åˆ°flash"></a>çƒ§å½•åˆ°flash</h3><ul><li><p><a href="https://blog.csdn.net/Chhjnavy/article/details/126269006">å®‰è£…usbé©±åŠ¨</a></p></li><li><p><a href="https://wiki.sipeed.com/soft/Lichee/zh/Nano-Doc-Backup/get_started/first_eye.html#Nano-%E6%89%8B%E5%86%8C%E8%B5%84%E6%96%99">è”ææ´¾</a></p></li></ul><h3 id="çƒ§å½•åˆ°TFå¡"><a href="#çƒ§å½•åˆ°TFå¡" class="headerlink" title="çƒ§å½•åˆ°TFå¡"></a>çƒ§å½•åˆ°TFå¡</h3><p>ä½¿ç”¨<strong>Win32DiskImager</strong>çƒ§å½•å³å¯</p><ul><li>ç”¨æˆ·åï¼šroot</li><li>å¯†ç ï¼šlicheepi</li><li>å¤§ä½¬å¼„å¥½çš„é•œåƒæ²¡æœ‰å¯†ç </li></ul><h2 id="ä¸²å£è¿æ¥"><a href="#ä¸²å£è¿æ¥" class="headerlink" title="ä¸²å£è¿æ¥"></a>ä¸²å£è¿æ¥</h2><p>æ³¢ç‰¹ç‡ï¼š115200</p><h2 id="é—®é¢˜å°ç»“"><a href="#é—®é¢˜å°ç»“" class="headerlink" title="é—®é¢˜å°ç»“"></a>é—®é¢˜å°ç»“</h2><p><strong>24&#x2F;9&#x2F;15</strong></p><h3 id="é—®é¢˜ï¼š"><a href="#é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜ï¼š"></a>é—®é¢˜ï¼š</h3><ol><li><p>æ ¼å¼åŒ–åç£ç›˜åªæ˜¾ç¤º15.8Mï¼Œè¿˜ä»¥ä¸ºåäº†ï¼Œå®é™…ä¸Šæ˜¯æœªåˆ†é…<img src="/2023/10/06/83l-linux-xiao-dian-nao/image-20240915181900268.png" class="" title="image-20240915181900268"></p><img src="/2023/10/06/83l-linux-xiao-dian-nao/image-20240915181940275.png" class="" title="image-20240915181940275"></li><li><p><strong>æ— æ³•ç›´æ¥è¿è¡Œ NES æ¸¸æˆæ–‡ä»¶ (<code>.nes</code>)</strong>ï¼šä½ å°è¯•ç›´æ¥æ‰§è¡Œ NES æ¸¸æˆæ–‡ä»¶ï¼Œç»“æœæŠ¥é”™ï¼Œå› ä¸º <code>.nes</code> æ˜¯æ¸¸æˆ ROM æ–‡ä»¶ï¼Œéœ€è¦é€šè¿‡ NES æ¨¡æ‹Ÿå™¨æ¥è¿è¡Œã€‚</p></li><li><p><strong>ç³»ç»Ÿç¼ºå°‘åŒ…ç®¡ç†å™¨å’Œå¸¸è§å·¥å…· (<code>apt-get</code>, <code>git</code>, <code>sudo</code>)</strong>ï¼šBuildroot ç³»ç»Ÿæ˜¯ç²¾ç®€çš„åµŒå…¥å¼ç³»ç»Ÿï¼Œç¼ºå°‘åŒ…ç®¡ç†å·¥å…·å’Œå…¶ä»–å¸¸è§çš„å·¥å…·ï¼Œæ— æ³•é€šè¿‡ä¼ ç»Ÿæ–¹å¼å®‰è£…è½¯ä»¶ã€‚</p></li><li><p><strong>é€šè¿‡ä¸²å£è¿æ¥ç³»ç»Ÿï¼Œæ²¡æœ‰ç½‘ç»œ</strong>ï¼šä½ æ˜¯é€šè¿‡ä¸²å£è¿æ¥ Buildroot ç³»ç»Ÿï¼Œæ²¡æœ‰ç›´æ¥çš„ç½‘ç»œè®¿é—®ï¼Œæ— æ³•åœ¨çº¿ä¸‹è½½è½¯ä»¶ã€‚</p></li><li></li></ol><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><ol><li>éƒ½åˆ æ‰ï¼Œé‡æ–°å»ºå·</li><li><strong>ç¡®è®¤ Buildroot ç³»ç»Ÿç‰¹æ€§</strong>ï¼šBuildroot æ²¡æœ‰åŒ…ç®¡ç†å·¥å…·ï¼Œéœ€è¦æ‰‹åŠ¨ä¸‹è½½å¹¶ä¼ è¾“è½¯ä»¶æˆ–æºç åˆ°ç³»ç»Ÿã€‚</li><li><strong>ä¸‹è½½ NES æ¨¡æ‹Ÿå™¨æºç </strong>ï¼š<ul><li>åœ¨ä¸»æœºä¸Šï¼ˆæœ‰ç½‘ç»œè¿æ¥çš„ç”µè„‘ï¼‰ï¼Œä¸‹è½½ NES æ¨¡æ‹Ÿå™¨ <code>fceux</code> çš„æºç ï¼ˆä» GitHub æˆ–å…¶ä»–ç½‘ç«™ä¸‹è½½ï¼‰ã€‚</li></ul></li><li><strong>é€šè¿‡ä¸²å£ä¸Šä¼ æ–‡ä»¶</strong>ï¼š<ul><li>ä½¿ç”¨ä¸²å£å·¥å…·ï¼ˆå¦‚ <code>minicom</code>ï¼‰é…åˆ <code>rz</code> å‘½ä»¤ï¼Œå°†ä¸‹è½½çš„æºç æˆ–é¢„ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶é€šè¿‡ä¸²å£ä¼ è¾“åˆ° Buildroot ç³»ç»Ÿã€‚</li></ul></li><li><strong>ç¼–è¯‘æˆ–è¿è¡Œ NES æ¨¡æ‹Ÿå™¨</strong>ï¼š<ul><li>åœ¨ Buildroot ç³»ç»Ÿä¸Šç¼–è¯‘ <code>fceux</code>ï¼ˆå¦‚æœ‰ç¼–è¯‘å·¥å…·ï¼‰ï¼Œæˆ–è€…åœ¨ä¸»æœºä¸Šäº¤å‰ç¼–è¯‘åä¼ è¾“å·²ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶åˆ° Buildrootã€‚</li></ul></li><li><strong>è¿è¡Œ NES æ¸¸æˆ</strong>ï¼š<ul><li>ä½¿ç”¨ <code>fceux</code> æ¨¡æ‹Ÿå™¨è¿è¡Œ <code>.nes</code> æ¸¸æˆæ–‡ä»¶ã€‚</li></ul></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€IDEç¯å¢ƒæ­å»º</title>
      <link href="/2023/09/08/82c-c-yu-yan-ide-huan-jing-da-jian/"/>
      <url>/2023/09/08/82c-c-yu-yan-ide-huan-jing-da-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="DEV-C"><a href="#DEV-C" class="headerlink" title="DEV-C++"></a>DEV-C++</h2><p><a href="http://www.taodudu.cc/news/show-140098.html?action=onClick">Dev-C++å®‰è£…å’Œä½¿ç”¨æ•™ç¨‹ï¼ˆæ‰‹æŠŠæ‰‹å‚»ç“œå¼æ•™å­¦ï¼‰ (taodudu.cc)</a></p><p>è°ƒè¯•æ–¹æ³•</p><p><a href="https://blog.csdn.net/weixin_42212753/article/details/104105692">DEVC++å•æ­¥è°ƒè¯•æ–¹æ³•ï¼ˆè¯¦ç»†æ­¥éª¤ï¼‰_devc++æ€ä¹ˆå•æ­¥è°ƒè¯•_ç–¯ç‹‚çš„Alexçš„åšå®¢-CSDNåšå®¢</a></p><h2 id="VS2022"><a href="#VS2022" class="headerlink" title="VS2022"></a>VS2022</h2><p><a href="https://blog.csdn.net/qq_38332975/article/details/128339226">cè¯­è¨€ç¯å¢ƒæ­å»ºï¼ˆvsï¼‰2022ç‰ˆ_vsæ­å»ºcè¯­è¨€ç¯å¢ƒ_ã‚‰ã€ç¼˜æœªå°½çš„åšå®¢-CSDNåšå®¢</a></p><p>ä¸»è¦æ˜¯è¿™ä¸ª</p><p><img src="/2023/09/08/82c-c-yu-yan-ide-huan-jing-da-jian/image-20230908211213888.png" alt="image-20230908211213888"></p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ğŸJSé€†å‘ç½‘æ ¡</title>
      <link href="/2023/09/02/81p-js-ni-xiang-wang-xiao/"/>
      <url>/2023/09/02/81p-js-ni-xiang-wang-xiao/</url>
      
        <content type="html"><![CDATA[<h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><p>è§‚å¯Ÿåˆ°<code>passwordä¸ºç›®æ ‡</code>,æ‰€éœ€æ•°æ®ä¸º<code>user,passwordçš„åŠ å¯†,ä»¥åŠéªŒè¯ç </code></p><p>è·å–éªŒè¯å›¾ç‰‡-&gt;æ‰“ç ç½‘ç«™-&gt;æ‰¾åˆ°åŠ å¯†å¯†ç ä½ç½®</p><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902090227692.png" class="" title="image-20230902090227692"><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902090015782.png" class="" title="image-20230902090015782"><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902090031385.png" class="" title="image-20230902090031385"><p>ä½†æ˜¯ajaxæ˜¯å¼‚æ­¥è¯·æ±‚,æ‰€ä»¥è·³ä¸è¿›å»</p><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902090403249.png" class="" title="image-20230902090403249"><h2 id="é€†å‘passwd"><a href="#é€†å‘passwd" class="headerlink" title="é€†å‘passwd"></a>é€†å‘passwd</h2><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902092312514.png" class="" title="image-20230902092312514"><p>â€‹          password: encryptFn(pwd + â€˜â€™ + ress.data),</p><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function-variable function">encryptFn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSEncrypt</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> o<span class="token punctuation">.</span><span class="token function">setPublicKey</span><span class="token punctuation">(</span><span class="token string">"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDA5Zq6ZdH/RMSvC8WKhp5gj6Ue4Lqjo0Q2PnyGbSkTlYku0HtVzbh3S9F9oHbxeO55E8tEEQ5wj/+52VMLavcuwkDypG66N6c1z0Fo2HgxV3e0tqt1wyNtmbwg7ruIYmFM+dErIpTiLRDvOy+0vgPcBVDfSUHwUSgUtIkyC47UNQIDAQAB"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        o<span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token class-name">JSEncrypt</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">encrypt</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token function">hex2b64</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">encrypt</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token operator">!</span><span class="token number">1</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>RSAå…¬é’¥åŠ å¯†</strong></p><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902105341594.png" class="" title="image-20230902105341594"><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ul><li>åˆšè¿›å…¥ç•Œé¢å³ä½¿ä»€ä¹ˆéƒ½æ²¡æœ‰ç‚¹,å°±å·²ç»åœ¨å‘cookieäº†</li></ul><p>è§£å†³:&gt;session.get(ä¸»ç•Œé¢)</p><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902151320406.png" class="" title="image-20230902151320406"><ul><li><p>ç™»å½•ä¸ºä»€ä¹ˆä¸éœ€è¦ä¸€é¢çš„cookie,è€Œè·å–é¢˜ç›®éœ€è¦</p></li><li><p>æ„å»ºå®Œpassword,ä¸å»æ„å»ºcookieå—\</p><blockquote><p>æ„å»ºå®Œpasswordç›´æ¥åæ‚”äº†,æ²¡æœ‰ç»§ç»­,ä¹Ÿå°±æ˜¯è¯´ç™»é™†çš„æ—¶å€™å¹¶æ²¡æœ‰ç»™è¿™ä¸ªcookie</p></blockquote></li></ul><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902190814440.png" class="" title="image-20230902190814440"><p>resæ˜¯ç™»å½•åçš„è¿”å›å€¼,å³ç™»é™†æˆåŠŸæ‰§è¡Œcookieå‡½æ•°</p><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902191311556.png" class="" title="image-20230902191311556"><ul><li>ä¸æ‰¾åˆ°ä¸ºä»€ä¹ˆcodeä¼šä»1å˜æˆ9</li><li>æ–­ç‚¹æ²¡æœ‰å–æ¶ˆ,è¿›å…¥åˆ«çš„è¯·æ±‚äº†</li></ul><img src="/2023/09/02/81p-js-ni-xiang-wang-xiao/image-20230902193032863.png" class="" title="image-20230902193032863">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ğŸJSé€†å‘çœ‹å‡†ç½‘</title>
      <link href="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/"/>
      <url>/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/</url>
      
        <content type="html"><![CDATA[<h2 id="å¤šä¸ªurl"><a href="#å¤šä¸ªurl" class="headerlink" title="å¤šä¸ªurl"></a>å¤šä¸ªurl</h2><p>å°±æ˜¯ä¸€ä¸ªå‡½æ•°ä¼šå‘é€å¤šä¸ªè¯·æ±‚,ç¡®ä¿æ‰“æ–­ç‚¹çš„è¯·æ±‚ä¸ºä½ éœ€è¦çš„</p><p>ä¸€ç›´è·³æ‰¾åˆ°æ­£ç¡®çš„è¯·æ±‚,ç„¶åå†å‘å‰æ‰¾å †æ ˆ</p><blockquote><p>è¿™ç§æ—¶å€™å¯ä»¥æ‰¾ä¸€ä¸ªæ”¯å‡ºæ³•ä¸€ä¸ªè¯·æ±‚çš„æŒ‰é’®,æ›¿æ¢åˆ·æ–°</p></blockquote><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>æœç´¢å…³é”®å­—æˆ–è·¯å¾„</li><li>æŸ¥æ‰¾å †æ ˆ</li><li>é€ä¸ªè¿›å…¥</li></ul><h2 id="è·å–param"><a href="#è·å–param" class="headerlink" title="è·å–param"></a>è·å–param</h2><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901152749884.png" class="" title="image-20230901152749884"><p>æ³¨æ„åŠ å¯†ä¹‹åçš„bè¿›è¡Œreplace</p><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901210506972.png" class="" title="image-20230901210506972"><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901152937915.png" class="" title="image-20230901152937915"><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901154028133.png" class="" title="image-20230901154028133"><p>è¿›å…¥</p><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901154245020.png" class="" title="image-20230901154245020"><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901202624173.png" class="" title="image-20230901202624173"><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901202554617.png" class="" title="image-20230901202554617"><p>è§£å¯†</p><ul><li><p>æœç´¢parseåºåˆ—åŒ–,å­—å…¸è½¬json</p></li><li><p>æœç´¢interceptor(æ‹¦æˆªå™¨),å‘èµ·è¯·æ±‚å’Œæ¥æ”¶å“åº”éƒ½ä¼šç”¨åˆ°</p></li></ul><img src="/2023/09/01/80p-js-ni-xiang-kan-zhun-wang/image-20230901230839509.png" class="" title="image-20230901230839509"><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆæ–­ç”µä¸æ–­åœ¨å‡½æ•°å¤„,è€Œæ˜¯æ–­åœ¨å‡½æ•°ç»“å°¾,ä¸ä¹‹å‰é‡è§çš„ç›´æ¥è·³è¿‡æ–­ç‚¹ç›¸ä¼¼</p><p>å¯¹çš„,æ‰“åœ¨é‚£é‡Œçš„æ–­ç‚¹ä¸åœ</p><p><strong>gpt</strong>:</p><p>è¿™å¯èƒ½æ˜¯å› ä¸º JavaScript å¼•æ“çš„ä¼˜åŒ–æˆ–è€…è°ƒè¯•å™¨çš„å·¥ä½œæ–¹å¼é€ æˆçš„ã€‚è¿™å¹¶ä¸ä¸€å®šæ„å‘³ç€ä»£ç æ‰§è¡Œé€»è¾‘å‘ç”Ÿäº†é”™è¯¯ï¼Œè€Œæ˜¯è°ƒè¯•å™¨åœ¨æ˜¾ç¤ºæ–­ç‚¹æ—¶çš„è¡¨ç°ã€‚</p><p>åœ¨ä½ çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ–­ç‚¹è·³åˆ°äº† <code>i.request(r)</code> å¤„ï¼Œè€Œä¸æ˜¯ <code>var a = function(e) &#123;</code> å¤„ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºè°ƒè¯•å™¨è®¤ä¸ºåœ¨åè€…è®¾ç½®æ–­ç‚¹ä¸ä¼šæœ‰æ•ˆï¼Œæˆ–è€…æ˜¯å› ä¸º JavaScript å¼•æ“çš„æ‰§è¡Œé€»è¾‘ä½¿å¾—å®ƒæ›´è‡ªç„¶åœ°åœ¨ <code>i.request(r)</code> å¤„åœä¸‹æ¥ã€‚è¿™ä¸ä¸€å®šæ„å‘³ç€ä»£ç æœ‰é”™è¯¯ï¼Œåªæ˜¯è°ƒè¯•å™¨çš„è¡Œä¸ºå¯èƒ½ä¼šæ ¹æ®å…·ä½“æƒ…å†µè€Œå¼‚ã€‚ä½ ä»ç„¶å¯ä»¥é€šè¿‡å•æ­¥æ‰§è¡Œå’Œè§‚å¯Ÿå˜é‡å€¼æ¥åˆ†æä»£ç çš„æ‰§è¡Œæµç¨‹ã€‚</p><h3 id="interceptor-request"><a href="#interceptor-request" class="headerlink" title="interceptor_request"></a>interceptor_request</h3><p>interceptor_requestæ‰¾åˆ°å‘èµ·è¯·æ±‚çš„åœ°æ–¹æ˜¯å¦å¯è¡Œ</p><blockquote><p>å¯è¡Œ,ä¹Ÿéœ€è¦ä¸€å±‚å±‚å‘ä¸Šæ‰¾</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> é€†å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsé€†å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ”‹æœ‰é“ç¿»è¯‘jsé€†å‘</title>
      <link href="/2023/08/27/79p-js-ni-xiang/"/>
      <url>/2023/08/27/79p-js-ni-xiang/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ”‹æ€è·¯"><a href="#ğŸ”‹æ€è·¯" class="headerlink" title="ğŸ”‹æ€è·¯"></a>ğŸ”‹æ€è·¯</h2><p>æ‰¾åˆ°è·å¾—æ•°æ®çš„è¯·æ±‚-&gt;é€†å‘å¾—åˆ°æ„å»ºæ•°æ®çš„è¯·æ±‚-&gt;æ¨¡æ‹Ÿè·å¾—åŠ å¯†çš„æ•°æ®-&gt;æ‰¾åˆ°è§£å¯†çš„å‡½æ•°</p><h2 id="æ‰¾åˆ°è·å–æ•°æ®çš„è¯·æ±‚"><a href="#æ‰¾åˆ°è·å–æ•°æ®çš„è¯·æ±‚" class="headerlink" title="æ‰¾åˆ°è·å–æ•°æ®çš„è¯·æ±‚"></a>æ‰¾åˆ°è·å–æ•°æ®çš„è¯·æ±‚</h2><img src="/2023/08/27/79p-js-ni-xiang/image-20230827201932012.png" class="" title="image-20230827201932012"><p>è¿™ä¸ªå¾—åˆ°çš„æ˜¯ä¸ªåŠ å¯†æ•°æ®</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230827202100847.png" class="" title="image-20230827202100847"><p>è¿™ä¸ªä¸€çœ‹å°±ä¸æ˜¯,å•¥æ•°æ®ä¹Ÿæ²¡æœ‰</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230827201949623.png" class="" title="image-20230827201949623"><h3 id="æ„å»ºè¡¨å•"><a href="#æ„å»ºè¡¨å•" class="headerlink" title="æ„å»ºè¡¨å•"></a>æ„å»ºè¡¨å•</h3><p>å¤šè¯•å‡ æ¬¡æ‰¾åˆ°è¡¨å•ä¸­å˜åŒ–çš„æ•°æ®,å³ç›®æ ‡</p><p><strong>ä¸€èˆ¬signä¸timeæ—¶é—´æˆ³ä¸ºåŠ¨æ€æ•°æ®</strong></p><p>è¿™ä¸ªæ¯”è¾ƒç‰¹æ®Š,ç»è¿‡æµ‹è¯•,å‘ç°æ—¶é—´åªè¦éšä¾¿ä¸€ä¸ªå°±å¯ä»¥,ä¹Ÿå°±æ˜¯è¯´å¯¹æ–¹æœåŠ¡å™¨æ²¡æœ‰å¯¹æ—¶é—´æˆ³è¿›è¡ŒéªŒè¯</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230827203315907.png" class="" title="image-20230827203315907"><h3 id="å‘èµ·ç¨‹åº"><a href="#å‘èµ·ç¨‹åº" class="headerlink" title="å‘èµ·ç¨‹åº"></a>å‘èµ·ç¨‹åº</h3><p><strong>è¿™ä¸€æ­¥ä¹Ÿå¯ä»¥è¿›è¡Œå…¨å±€æœç´¢,åœ°å€æœ«å°¾å˜é‡åwebtranslate,æˆ–ç›´æ¥æœç´¢å˜é‡sign</strong></p><ul><li><p>å®šä½åˆ°å‘èµ·è¯·æ±‚çš„ä½ç½®å,å¼€å§‹è§‚å¯Ÿ</p></li><li><p>æ‰§è¡Œåˆ°å“ªä¸ªå‡½æ•°æ•°æ®å‡ºç°,æ³¨æ„å˜é‡ä¼ å‚æ—¶çš„ä½ç½®</p><p>æ³¨: ({()&#x3D;123,æ˜¯å°†123ä½œä¸ºè¿”å›å€¼è¿”å›},æ‰“æ–­ç‚¹,æ§åˆ¶å°æ‰“å°å€¼)</p></li></ul><img src="/2023/08/27/79p-js-ni-xiang/image-20230827203019749.png" class="" title="image-20230827203019749"><p>æ‰¾åˆ°å‘èµ·ç¨‹åºçš„ç¬¬ä¸€ä¸ª,å°±æ˜¯è¿™ä¸ªä»£ç å‘é€äº†è¿™ä¸ªè¯·æ±‚,æ­¤æ—¶åŠ¨æ€æ•°æ®åº”è¯¥å·²ç»æ„å»ºå®Œæ¯•</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230827203934544.png" class="" title="image-20230827203934544"><img src="/2023/08/27/79p-js-ni-xiang/image-20230827203948539.png" class="" title="image-20230827203948539"><p>åŒæ—¶ä¹Ÿè¦æ³¨æ„,ä¸€ä¸ªå‡½æ•°ä¼šå‘èµ·å¥½å‡ ä¸ªè¯·æ±‚,çœ‹æ­¤æ¬¡å‘çš„è¯·æ±‚æ˜¯å¦æ­£ç¡®</p><p>ä¹Ÿå¯ç›´æ¥å›è½¦å‘é€å¯¹åº”è¯·æ±‚</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230827204141254.png" class="" title="image-20230827204141254"><p>ç°åœ¨signå­˜åœ¨,æ‰¾åˆ°signæ¶ˆå¤±çš„ä½ç½®,è¯´æ˜æ‰§è¡Œæ­¤å‡½æ•°åsignç”Ÿæˆ</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230828091313627.png" class="" title="image-20230828091313627"><img src="/2023/08/27/79p-js-ni-xiang/image-20230828105240649.png" class="" title="image-20230828105240649"><p>æ‰¾å †æ ˆæ—¶æ—¶è°ƒç”¨æ­¤å‡½æ•°çš„å‡½æ•°,è€Œåœ¨debugæ—¶,æ˜¯æ­£å¸¸æ‰§è¡Œçš„,ä¹Ÿå°±æ˜¯è¯´ç°åœ¨æ²¡æœ‰sign,ä¸‹ä¸€æ­¥å‡ºç°,åˆ™è¯´æ˜æ­¤å‡½æ•°ç”Ÿæˆsign</p><p>æ­¤æ—¶ä¸€ä¸ªä¸€ä¸ªæ–­ç‚¹æ‰“,å‘ç°signæ²¡å‡ºç°,è·³åˆ°ä¸‹ä¸€ä¸ªå‡½æ•°,signå‡ºç°äº†,ä¹¦åä¸­é—´è¿˜æœ‰å…¶ä»–å‡½æ•°,ä¹Ÿå°±æ˜¯è¿™ä¸ªC</p><p>æ˜æ˜æ‰“æ–­ç‚¹äº†ä¸ºå•¥æ²¡æ–­å‘¢</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230828105312866.png" class="" title="image-20230828105312866"><img src="/2023/08/27/79p-js-ni-xiang/image-20230828105628119.png" class="" title="image-20230828105628119"><p>ç›´æ¥è¿›å»äº†</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230828113357698.png" class="" title="image-20230828113357698"><img src="/2023/08/27/79p-js-ni-xiang/image-20230828113609387.png" class="" title="image-20230828113609387"><img src="/2023/08/27/79p-js-ni-xiang/image-20230828114259341.png" class="" title="image-20230828114259341"><img src="/2023/08/27/79p-js-ni-xiang/image-20230828113751240.png" class="" title="image-20230828113751240"><p>æ³¨æ„e,tè°ƒæ¢,å¹¶ä¸”,.digestä¸degest(â€œhexä¸åŒâ€)</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">obj.hexdigest()md5.digest()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><img src="/2023/08/27/79p-js-ni-xiang/image-20230828171507692.png" class="" title="image-20230828171507692"><h2 id="è§£å¯†"><a href="#è§£å¯†" class="headerlink" title="è§£å¯†"></a>è§£å¯†</h2><p><strong>ç¬¬ä¸€ç§</strong></p><p>è§£å¯†å…¥å£,å› ä¸ºä»–æ˜¯å‘èµ·è¯·æ±‚çš„å‡½æ•°,ä¹Ÿå°±æ˜¯è¯´å‘é€å®Œè¯·æ±‚åº”è¯¥å°±ä¼šæ¥æ”¶ç›¸åº”æ•°æ®</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230830120914954.png" class="" title="image-20230830120914954"><p>è§£å¯†å‡½æ•°</p><img src="/2023/08/27/79p-js-ni-xiang/image-20230830120313070.png" class="" title="image-20230830120313070"><p><strong>ç¬¬äºŒç§</strong></p><p>åœ¨åŠ å¯†ä¸Šé¢æ‰¾åˆ°äº†è§£å¯†å‡½æ•°</p><p>ç›´æ¥æ‰“æ–­ç‚¹,çœ‹å“ªé‡Œè°ƒç”¨äº†å®ƒ,å³åœ¨å“ªè§£å¯†</p><p>çœ‹æ˜¯å¦æ˜¯é™æ€æ•°æ®,å¦‚æœæ˜¯,é‚£ä»–çˆ±å’‹æ¥å’‹æ¥,ç›´æ¥æ‹¿key,è¿˜æ˜¯å¾—çœ‹ä¸€ä¸‹<code>aes-128-cbc</code></p><img src="/2023/08/27/79p-js-ni-xiang/image-20230828124355186.png" class="" title="image-20230828124355186"><img src="D:\blog\source\_posts\79P-JSé€†å‘\image-20230828123416791.png" alt="image-20230828123416791"  /><p>è§£å¯†<br>è·å–signå€¼çš„å‡½æ•°æ˜¯ä¸€ä¸ªpromise,æ„å»ºå‘é€è¯·æ±‚çš„promiseçš„ä¿¡æ¯çš„ä½ç½®,è°è°ƒç”¨çš„y,è°å‘å‡ºå»çš„è¯·æ±‚,å¹¶ä¸”è§£æå“åº”,<br>æœ‰ä¸€then,å‰é¢æ˜¯è¯·æ±‚,åé¢æ˜¯è§£æå“åº”çš„</p><h2 id="jsé€†å‘"><a href="#jsé€†å‘" class="headerlink" title="jsé€†å‘"></a>jsé€†å‘</h2><h2 id="æ­å»ºapi"><a href="#æ­å»ºapi" class="headerlink" title="æ­å»ºapi"></a>æ­å»ºapi</h2><h2 id="é—®é¢˜-æœªè§£å†³"><a href="#é—®é¢˜-æœªè§£å†³" class="headerlink" title="é—®é¢˜_æœªè§£å†³"></a>é—®é¢˜_æœªè§£å†³</h2><img src="/2023/08/27/79p-js-ni-xiang/image-20230828234626634.png" class="" title="image-20230828234626634"><img src="/2023/08/27/79p-js-ni-xiang/image-20230828234640331.png" class="" title="image-20230828234640331"><p>å› ä¸ºjsonifyä¼šå°†ä¸­æ–‡è½¬ä¸ºunicode,json.dumpä¹Ÿä¼š,ä½†æ˜¯<code>ensure_ascii=False</code>ä¼šä¿ç•™åŸæ•°æ®</p><ol><li><code>json.dumps(response_data, ensure_ascii=False)</code>ï¼šå°†å­—å…¸æ•°æ® <code>response_data</code> è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²ï¼Œä¿æŒå…¶ä¸­çš„ä¸­æ–‡å­—ç¬¦ä¸è¢«è½¬ä¹‰ç¼–ç ã€‚</li><li><code>json.loads(...)</code>ï¼šå°†ä¸Šä¸€æ­¥å¾—åˆ°çš„ JSON å­—ç¬¦ä¸²è§£æå›å­—å…¸æ•°æ®ã€‚</li></ol><p>ç”µè„‘åˆ˜æµè§ˆå™¨é¢„è§ˆå¯è§æ±‰å­—,ä½†æ˜¯æ‰‹æœºæµè§ˆå™¨ä¸å¯ä»¥</p><p>åœ¨JSONæ•°æ®ä¸­ï¼Œ<code>\uXXXX</code> å½¢å¼çš„è¡¨ç¤ºæ˜¯ Unicode å­—ç¬¦çš„è½¬ä¹‰å½¢å¼ï¼Œå…¶ä¸­ <code>\u</code> è¡¨ç¤º Unicode è½¬ä¹‰ï¼Œ<code>XXXX</code> æ˜¯ä¸€ä¸ªå››ä½çš„åå…­è¿›åˆ¶ Unicode ç¼–ç ã€‚</p><p>æµè§ˆå™¨ä¼šè‡ªåŠ¨å°†è¿™ç§è½¬ä¹‰å½¢å¼çš„ Unicode ç¼–ç è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦,æ‰‹æœºæµè§ˆå™¨å¯èƒ½ä¸ä¼šè‡ªåŠ¨å°† Unicode è½¬ä¹‰ç¼–ç è½¬æ¢ä¸ºå¯¹åº”å­—ç¬¦</p><h3 id="json-loadä¸-json-loadsçš„åŒºåˆ«"><a href="#json-loadä¸-json-loadsçš„åŒºåˆ«" class="headerlink" title="json.loadä¸ json.loadsçš„åŒºåˆ«"></a>json.loadä¸ json.loadsçš„åŒºåˆ«</h3><ol><li><code>json.load</code>ï¼š<ul><li>ç”¨äºä»æ–‡ä»¶ä¸­åŠ è½½ JSON æ•°æ®ã€‚</li><li>æ¥æ”¶ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå°† JSON æ•°æ®ä»æ–‡ä»¶ä¸­è¯»å–å¹¶è§£æã€‚</li><li>ç”¨æ³•ç¤ºä¾‹ï¼š<code>json.load(file_object)</code></li></ul></li><li><code>json.loads</code>ï¼š<ul><li>ç”¨äºå°† JSON å­—ç¬¦ä¸²è§£æä¸º Python æ•°æ®ç»“æ„ï¼ˆé€šå¸¸æ˜¯å­—å…¸æˆ–åˆ—è¡¨ï¼‰ã€‚</li><li>æ¥æ”¶ä¸€ä¸ª JSON å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå°†å…¶è§£ææˆå¯¹åº”çš„ Python æ•°æ®ç»“æ„ã€‚</li><li>ç”¨æ³•ç¤ºä¾‹ï¼š<code>json.loads(json_string)</code></li></ul></li></ol><h2 id="é™åˆ¶è¯·æ±‚æ¬¡æ•°"><a href="#é™åˆ¶è¯·æ±‚æ¬¡æ•°" class="headerlink" title="é™åˆ¶è¯·æ±‚æ¬¡æ•°"></a>é™åˆ¶è¯·æ±‚æ¬¡æ•°</h2>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é€†å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NE555ä¿¡å·å‘ç”Ÿå™¨</title>
      <link href="/2023/08/26/78h-ne555-xin-hao-fa-sheng-qi/"/>
      <url>/2023/08/26/78h-ne555-xin-hao-fa-sheng-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¿¡å·å‘ç”Ÿå™¨"><a href="#ä¿¡å·å‘ç”Ÿå™¨" class="headerlink" title="ä¿¡å·å‘ç”Ÿå™¨"></a>ä¿¡å·å‘ç”Ÿå™¨</h2><p>ç”¨stm32ä¹Ÿèƒ½åš,å°±æ˜¯æµªè´¹å¼•è„š,ç›¸å½“äºåªç”¨äº†å®šæ—¶å™¨</p><img src="/2023/08/26/78h-ne555-xin-hao-fa-sheng-qi/image-20230826093143661.png" class="" title="image-20230826093143661"><h2 id="NE555"><a href="#NE555" class="headerlink" title="NE555"></a>NE555</h2><p><a href="http://www.ndfweb.cn/news-774.html">3ç§NE555å¯è°ƒé¢‘ç‡ä¿¡å·å‘ç”Ÿå™¨ç”µè·¯å›¾ (ndfweb.cn)</a></p><p><a href="https://www.ngui.cc/zz/1538223.html?action=onClick">åŸºäºNE555èŠ¯ç‰‡è®¾è®¡å ç©ºæ¯”å¯è°ƒçš„æ–¹æ³¢ä¿¡å·å‘ç”Ÿå™¨ (ngui.cc)</a></p><p><a href="https://item.taobao.com/item.htm?scm=1007.11837.279802.0&id=675362938000&pvid=e7b7b27d-7101-4789-81a2-7a0cf90cc1fe">(æ•£ä»¶)NE555æ–¹æ³¢ä¿¡å·å‘ç”Ÿå™¨ è„‰å†²æ³¢å½¢è¾“å‡ºæ¨¡å—ç„Šæ¥å¥—ä»¶ ç”µå­å®è®­-æ·˜å®ç½‘ (taobao.com)</a></p><p><a href="https://oshwhub.com/studingstudent/led-qu-dong">ä¼˜é›…çš„PWMè°ƒé€Ÿå™¨ - å˜‰ç«‹åˆ›EDAå¼€æºç¡¬ä»¶å¹³å° (oshwhub.com)</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç»§ç”µå™¨æ¨¡å—</title>
      <link href="/2023/08/24/77h-ji-dian-qi-mo-kuai/"/>
      <url>/2023/08/24/77h-ji-dian-qi-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h2 id="ç»§ç”µå™¨"><a href="#ç»§ç”µå™¨" class="headerlink" title="ç»§ç”µå™¨"></a>ç»§ç”µå™¨</h2><h3 id="æ¥å£è¯´æ˜"><a href="#æ¥å£è¯´æ˜" class="headerlink" title="æ¥å£è¯´æ˜"></a>æ¥å£è¯´æ˜</h3><img src="/2023/08/24/77h-ji-dian-qi-mo-kuai/image-20230824173908001.png" class="" title="image-20230824173908001"><h3 id="å·¥ä½œå‚æ•°"><a href="#å·¥ä½œå‚æ•°" class="headerlink" title="å·¥ä½œå‚æ•°"></a>å·¥ä½œå‚æ•°</h3><img src="/2023/08/24/77h-ji-dian-qi-mo-kuai/image-20230824174027030.png" class="" title="image-20230824174027030"><p><strong>é—®é¢˜</strong>:</p><p>1.ç»§ç”µå™¨æœ‰å‹å·,5V,12V,24Vä¹‹åˆ†,VCCè¾“å…¥</p><p>2.5Vç»§ç”µå™¨ä½ç”µå¹³æœ‰æ•ˆ,å•ç‰‡æœºæ§åˆ¶é«˜ä½ç”µå¹³éƒ½æœ‰æ•ˆ</p><p>   åŸå› :ç»§ç”µå™¨å†…éƒ¨æ˜¯ä¸€ä¸ªNPNä¸‰æç®¡,é›†ç”µæVCC,åŸºæIO,å½“è¾“å‡ºä½ç”µå¹³æ—¶,ä¸‰æç®¡å¯¼é€š,å½“è¾“å‡º5Væ—¶,ä¸‰æç®¡æˆªæ­¢</p><p>   BUT:STM32å¼•è„šæ‹‰é«˜,åªèƒ½æ‹‰é«˜åˆ°3.3V,ä¼šå¯¼è‡´ç»§ç»­å¯¼é€š,æ‰€ä»¥å°±æ˜¯é«˜ä½ç”µå¹³éƒ½å¯¼é€š</p><p>3.3.3Vè¾“å…¥,ç¯äº®,ä¼šæœ‰ä¸å¸åˆçš„ç°è±¡</p><p>å¯èƒ½çš„åŸå› :5Vç»§ç”µå™¨çš„ç£é“,3.3Vå¸åŠ›å¯èƒ½ä¸å¤Ÿ</p><p>æ–°çš„5Vç»§ç”µå™¨å•ç‰‡æœºå¯ä»¥æ­£å¸¸é©±åŠ¨,å…¼å®¹3.3v</p><p>ä¸Šè¿°é—®é¢˜æ˜¯åœ¨æ¯”è¾ƒæ—§çš„ä¸¤è·¯ç»§ç”µå™¨ä¸Šå‘ç”Ÿçš„,æ–°çš„ç»§ç”µå™¨å¯ä»¥ä½¿ç”¨,æˆ‘æƒ³çŸ¥é“ä¸¤ç§ç»§ç”µå™¨ç”µè·¯çš„åŒºåˆ«</p><img src="/2023/08/24/77h-ji-dian-qi-mo-kuai/image-20230824200904908.png" class="" title="image-20230824200904908"><h2 id="ä¸‰æç®¡åŸç†é“¾æ¥"><a href="#ä¸‰æç®¡åŸç†é“¾æ¥" class="headerlink" title="ä¸‰æç®¡åŸç†é“¾æ¥"></a>ä¸‰æç®¡åŸç†é“¾æ¥<a href=""></a></h2><h2 id="æ™®é€šç»§ç”µå™¨"><a href="#æ™®é€šç»§ç”µå™¨" class="headerlink" title="æ™®é€šç»§ç”µå™¨"></a>æ™®é€šç»§ç”µå™¨</h2><img src="/2023/08/24/77h-ji-dian-qi-mo-kuai/image-20230824210414714.png" class="" title="image-20230824210414714"><h2 id="å…‰è€¦éš”ç¦»ç»§ç”µå™¨"><a href="#å…‰è€¦éš”ç¦»ç»§ç”µå™¨" class="headerlink" title="å…‰è€¦éš”ç¦»ç»§ç”µå™¨"></a>å…‰è€¦éš”ç¦»ç»§ç”µå™¨</h2><h3 id="3-3vè¾“å…¥èƒ½é©±åŠ¨5vç»§ç”µå™¨åŸç†"><a href="#3-3vè¾“å…¥èƒ½é©±åŠ¨5vç»§ç”µå™¨åŸç†" class="headerlink" title="3.3vè¾“å…¥èƒ½é©±åŠ¨5vç»§ç”µå™¨åŸç†"></a>3.3vè¾“å…¥èƒ½é©±åŠ¨5vç»§ç”µå™¨åŸç†</h3><blockquote><p>è¿™ç§ç»§ç”µå™¨æ¨¡å—åŸºæœ¬ä¸Šéƒ½æœ‰<code>å…‰è€¦éš”ç¦»æ¨¡å—</code>,ç›¸å½“äºä¸€ä¸ªä¸‰æç®¡,å°±æ˜¯ä¹‹å‰æœ‰äººæåˆ°è¿‡çš„,å•ç‰‡æœºæ¥ä¸€ä¸ªä¸‰æç®¡ä¹‹ååœ¨æ¥ç»§ç”µå™¨æ¨¡å—</p></blockquote><img src="/2023/08/24/77h-ji-dian-qi-mo-kuai/image-20230824205729966.png" class="" title="image-20230824205729966"><blockquote><p>åŠ ä¸€ä¸ªäºŒæç®¡åŒç†ä¹Ÿå¯ä»¥å®ç°é«˜ç”µå¹³æˆªæ­¢çš„æ•ˆæœ(è¿™ä¸ªå¥½åƒä¸å¤ªè¡Œ)</p></blockquote><p>2.äºŒæç®¡1N4148èµ·åˆ°ç»­æµçš„ä½œç”¨ã€‚å› ä¸ºç»§ç”µå™¨ç”µç£çº¿åœˆæ˜¯æ„Ÿæ€§å…ƒä»¶ï¼Œç»§ç”µå™¨ç”±å¼€åˆ°å…³çš„ç¬é—´ä¼šäº§ç”Ÿæå¤§çš„åå‘ç”µå‹ï¼ŒåŠ ä¸Šç»­æµäºŒæç®¡å¯ä»¥ä½¿å…¶å½¢æˆå›è·¯ï¼ˆå¦‚å›¾æ‰€ç¤ºï¼‰ï¼Œä»è€Œä¿æŠ¤å…¶ä»–å…ƒä»¶ã€‚</p><p>3.å…‰è€¦çš„ä½œç”¨ï¼šä¿æŠ¤å¾®æ§åˆ¶å™¨**ï¼ŒåŠ ä¸Šå…‰è€¦è¿›è¡Œ<strong>éš”ç¦»</strong>ï¼›æ­¤å¤–ï¼Œé€šè¿‡å…‰è€¦è¿˜å¯ä»¥æ§åˆ¶å¤§ç”µå‹ï¼Œå³å…‰è€¦è¾“å…¥å’Œè¾“å‡ºç«¯æ‰€è¿æ¥çš„VCCå¯ä»¥ä¸åŒï¼Œå…‰è€¦è¾“å‡ºç«¯çš„VCCå¯ä»¥æ›´å¤§ï¼Œå¦‚12Vã€‚</p><p>4.éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå…‰è€¦çš„è¾“å…¥ç«¯ä¹Ÿç›¸å½“äºä¸€ä¸ªå‘å…‰äºŒæç®¡ï¼ˆ<strong>æœ‰æ­£å‘å¯¼é€šå‹é™ï¼Œçº¦1.2V</strong>ï¼‰ï¼Œå¦‚æœVCCä¸º3.3Vç­‰è¾ƒä½çš„ç”µå‹ï¼Œå½“é€‰ç”¨çš„LED1æ­£å‘å‹é™è¿‡å¤§ï¼Œ<strong>å³ä½¿è¾“å…¥ä¸ºä½ç”µå¹³ä¹Ÿä¸ä¼šä»¤å…‰è€¦å¯¼é€šã€‚</strong>ï¼ˆLED1é€‰æ‹©æ—¶éœ€æ³¨æ„ï¼š<strong>ä¸åŒçš„é¢œè‰²å‹é™ä¹Ÿä¸ç›¸åŒï¼Œç›¸å·®ç”šè‡³èƒ½è¾¾åˆ°2~3V</strong>ï¼Œå…·ä½“çœ‹å…ƒä»¶å‚æ•°ï¼‰<br>ä¾‹å¦‚ï¼šVCC&#x3D;+3.3Vï¼ŒLED1çš„æ­£å‘å¯¼é€šç”µå‹&#x3D;3.2Vï¼Œå…‰è€¦è¾“å…¥ç«¯çš„æ­£å‘å¯¼é€šç”µå‹&#x3D;1.2Vã€‚é‚£ä¹ˆï¼ŒVCCåˆ™ä¸è¶³ä»¥ä½¿è¾“å…¥ç”µè·¯å¯¼é€šã€‚</p><p>å½“ç”µå‹æ¡ä»¶æ»¡è¶³åï¼Œè¿˜éœ€è¦è€ƒè™‘å…‰è€¦çš„å¯¼é€šç”µæµï¼ˆ<strong>ä¸€èˆ¬ä¸º1~20mA</strong>ï¼‰ï¼Œå¦‚æœè¾“å…¥ç«¯ç”µæµè¿‡å°ï¼Œé‚£ä¹ˆå…‰è€¦è¾“å…¥ç«¯çš„å‘å…‰äºŒæç®¡å‘å…‰ä¸è¶³ï¼Œä¹Ÿä¸èƒ½ä½¿å…‰è€¦è¾“å‡ºç«¯ä¸‰æç®¡å¯¼é€šã€‚<strong>è€Œè¾“å…¥ç”µæµå¤§å°åˆ™ç”±ç”µé˜»R1æ§åˆ¶</strong>ã€‚<br>ä¾‹å¦‚ï¼šVCC&#x3D;3.3Vï¼ŒVfled1&#x3D;1.8Vï¼ŒVfpc&#x3D;1.2Vï¼Œé‚£ä¹ˆå¯ä»¥ä½¿å…‰è€¦æ­£å¸¸å·¥ä½œçš„æœ€å¤§ç”µé˜»R1&#x3D;ï¼ˆ3.3-1.8-1.2ï¼‰&#x2F;0.001&#x3D;300Î©ã€‚</p><p>5.é€‰ç”¨3Vç»§ç”µå™¨æ—¶ï¼Œâ€œ3Vâ€æ˜¯<strong>ç»§ç”µå™¨é¢å®šç”µå‹</strong>ï¼Œç»§ç”µå™¨è¿˜æœ‰ä¸ªæœ€å°å·¥ä½œç”µå‹ï¼ˆåˆå«åš<strong>å¸åˆç”µ</strong>å‹ï¼Œä¸€èˆ¬ä¸º75~80%çš„é¢å®šç”µå‹ï¼‰ï¼Œç»§ç”µå™¨è¾“å…¥ç«¯è¾¾åˆ°æ­¤ç”µå‹å³å¯å¸åˆä½†å¯èƒ½ä¸å¤Ÿç¨³å®šã€‚</p><p>6.é™æµç”µé˜»R2çš„å–å€¼å’Œå‰é¢ä¸‰æç®¡å¼€å…³ç”µè·¯ç±»ä¼¼ï¼Œå³è¦è€ƒè™‘ç»§ç”µå™¨çš„å·¥ä½œç”µæµå’Œä¸‰æç®¡æ”¾å¤§å€æ•°ã€‚</p><p><a href="https://blog.csdn.net/chenhuanqiangnihao/article/details/119740727?ops_request_misc=%7B%22request_id%22:%22169284461416800211588628%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=169284461416800211588628&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-119740727-null-null.142%5Ev93%5Einsert_down28v1&utm_term=%E7%BB%A7%E7%94%B5%E5%99%A8%E6%A8%A1%E5%9D%97%E5%8E%9F%E7%90%86%E5%9B%BE&spm=1018.2226.3001.4187">ã€ç»§ç”µå™¨æ¨¡å—çš„ç”µè·¯è®¾è®¡å’Œåˆ†æã€‘_ç»§ç”µå™¨æ¨¡å—åŸç†å›¾</a></p><p><a href="https://blog.csdn.net/Dallin0408/article/details/49495933?spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-49495933-blog-119740727.235%5Ev38%5Epc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-49495933-blog-119740727.235%5Ev38%5Epc_relevant_sort_base2&utm_relevant_index=7">ç»§ç”µå™¨é©±åŠ¨ç”µè·¯è®¾è®¡é¢˜</a></p><p><a href="https://blog.csdn.net/OMGMac/article/details/124773569?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-2-124773569-blog-119740727.235%5Ev38%5Epc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-2-124773569-blog-119740727.235%5Ev38%5Epc_relevant_sort_base2&utm_relevant_index=3">å¸¸ç”¨ç»§ç”µå™¨æ¨¡å—çš„PCBè®¾è®¡ä¸å®ç‰©åˆ†äº«</a></p><p><a href="https://www.zhihu.com/question/19998995">ä¸‰æç®¡æ˜¯å¦‚ä½•å¯¼é€šçš„ï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p><p><a href="https://it.cha138.com/mysql/show-3480383.html">ä¸‰æç®¡_stm32é€šè¿‡ä¸‰æç®¡é©±åŠ¨ç»§ç”µå™¨ç”µè·¯è¯¦è§£ (cha138.com)</a></p><p><a href="https://betheme.net/dashuju/101898.html?action=onClick">ã€ç»§ç”µå™¨ã€‘STM32é©±åŠ¨ç»§ç”µå™¨å¸¸è§é—®é¢˜æ±‡æ€» (betheme.net)</a></p><p><a href="https://blog.csdn.net/lx123010/article/details/122967176">ä¸‰æç®¡å¼€å…³ä½œç”¨_3æç®¡çš„å¼€å…³ä½œç”¨å’Œå·¥ä½œåŸç†</a></p><p><a href="https://blog.csdn.net/chenhuanqiangnihao/article/details/119740727?ops_request_misc=%7B%22request_id%22:%22169284461416800211588628%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=169284461416800211588628&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-119740727-null-null.142%5Ev93%5Einsert_down28v1&utm_term=%E7%BB%A7%E7%94%B5%E5%99%A8%E6%A8%A1%E5%9D%97%E5%8E%9F%E7%90%86%E5%9B%BE&spm=1018.2226.3001.4187">ã€ç»§ç”µå™¨æ¨¡å—çš„ç”µè·¯è®¾è®¡å’Œåˆ†æã€‘_ç»§ç”µå™¨æ¨¡å—åŸç†å›¾_å­¦æµ·æ— æ¶¯</a></p><p><a href="https://blog.csdn.net/qq_34118600/article/details/116272806?ops_request_misc=&request_id=&biz_id=102&utm_term=%E4%B8%89%E6%9E%81%E7%AE%A1%E7%9A%84%E5%BC%80%E5%85%B3%E4%BD%9C%E7%94%A8&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-5-116272806.142%5Ev93%5Einsert_down28v1&spm=1018.2226.3001.4187">ç”µå­ç”µè·¯åŸºç¡€ ï¼ˆ9ï¼‰â€”â€”ä¸‰æç®¡çš„æ„é€ ä¸å·¥ä½œåŸç†åŠä½¿ç”¨_csdn ä¸‰æç®¡ ç”µè·¯</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Auto360ä¸3Dæ‰“å°</title>
      <link href="/2023/08/24/76h-auto360-yu-3d-da-yin/"/>
      <url>/2023/08/24/76h-auto360-yu-3d-da-yin/</url>
      
        <content type="html"><![CDATA[<h2 id="3Då»ºæ¨¡"><a href="#3Då»ºæ¨¡" class="headerlink" title="3Då»ºæ¨¡"></a>3Då»ºæ¨¡</h2><p>å–„ç”¨é˜µåˆ—åˆ†å¸ƒ</p><h2 id="æ‰“å°æ¨¡å‹"><a href="#æ‰“å°æ¨¡å‹" class="headerlink" title="æ‰“å°æ¨¡å‹"></a>æ‰“å°æ¨¡å‹</h2><p>makerbotå®˜ç½‘æ‰“å°è½¯ä»¶(è¦ç‚¹é­”æ³•,å¹¶ä¸”éœ€è¦æ³¨å†Œ)</p><p><a href="https://www.makerbot.com/3d-printers/cloudprint/">www.makerbot.com</a></p><p><a href="https://www.makerbot.com/3d-printers/apps/makerbot-print/download/">ä¸‹è½½åˆ›å®¢æœºå™¨äººæ‰“å° 3D æ‰“å°è½¯ä»¶ |åˆ›å®¢æœºå™¨äºº3Dæ‰“å°æœº (makerbot.com)</a></p><p>é€‰æ‹©çš„æ‰“å°æœºå¹¶é€‰æ‹©â€œæ‰“å°â€æˆ–â€œ<strong>å¯¼å‡º</strong>â€æŒ‰é’®ï¼Œè¯¥æŒ‰é’®å°†ä½äºåŒä¸€ä½ç½®ï¼Œå…·ä½“å–å†³äºæ‚¨å‘æ‰“å°æœºå‘é€<strong>æ‰“å°</strong>ä»¶çš„æ–¹å¼ã€‚</p><p>å¦‚æœæ‚¨å·²è¿æ¥åˆ°æ‰“å°æœºï¼Œæ‰“å°æœºå°†è‡ªåŠ¨å¼€å§‹å‘çƒ­ã€‚å¦‚æœè¦å¯¼å‡ºæ–‡ä»¶ï¼Œåˆ™éœ€è¦å°†æ–‡ä»¶å¯¼å‡ºï¼ˆ.makerbotï¼‰æ ¼å¼çš„æ–‡ä»¶(<code>æ–‡ä»¶åå­—ä¸èƒ½æœ‰ä¸­æ–‡</code>)åˆ° USB è·³è½¬é©±åŠ¨å™¨å¹¶å°†å…¶å¸¦åˆ°æ‰“å°æœºã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´:exportæ—¢æ˜¯printåˆæ˜¯export</p><p><a href="https://support.makerbot.com/s/article/MakerBot-Print-Quick-Guide">ä½¿ç”¨æ‰‹å†ŒQuick Start Guide (MakerBot Print)</a></p><p>[æ‰‹å†Œ](<a href="https://www.docin.com/p-1097912491.html">makerbot replicatoræ¡Œé¢3Dæ‰“å°æœº5ä»£ - è±†ä¸ç½‘ (docin.com)</a>)</p><p>[æ‰‹å†Œ](<a href="https://www.docin.com/p-2154283814.html">MakerBotäº”ä»£æœºä½¿ç”¨æŒ‡å—æ‰‹å†Œ - è±†ä¸ç½‘ (docin.com)</a>)</p><p>[ä½¿ç”¨æµ‹è¯„](<a href="http://www.360doc.com/content/12/0121/07/73087893_953465250.shtml">3Dæ‰“å°æœºMakerBot Replicator+ä½¿ç”¨è¯„æµ‹ (360doc.com)</a>)</p><p><a href="https://www.bilibili.com/video/BV1nx41157n9/?spm_id_from=333.337.search-card.all.click">makerbotæ‰“å°æœºä½¿ç”¨æ•™ç¨‹</a></p><p>2024.3.14æ›´æ–°</p><h2 id="åŸºæ“"><a href="#åŸºæ“" class="headerlink" title="åŸºæ“"></a>åŸºæ“</h2><p>shift+é¼ æ ‡ä¸­é”®</p><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><img src="/2023/08/24/76h-auto360-yu-3d-da-yin/image-20240315170117165.png" class="" title="image-20240315170117165"><img src="/2023/08/24/76h-auto360-yu-3d-da-yin/image-20240315170835322.png" class="" title="image-20240315170835322"><img src="/2023/08/24/76h-auto360-yu-3d-da-yin/image-20240315171509279.png" class="" title="image-20240315171509279"><p>åŸåˆ™ä¸Šæ¥è®²åªè¦å»ºé‡Œçš„æ—¶å€™é€‰åˆå¹¶å°±ä¸ä¼šæœ‰çº¿äº†</p><p>æ³¨æ„: å»ºæ¨¡æ—¶, ä¸€ä¸ªå®ä½“ä¸€ä¸ªå®ä½“å»º</p><img src="/2023/08/24/76h-auto360-yu-3d-da-yin/image-20240315181903188.png" class="" title="image-20240315181903188"><p>è¦åœ¨å®ä½“é‚£é¢å»ºè‰å›¾æ‹‰å‡ºæ¥æ‰èƒ½åˆå¹¶</p><h2 id="å…³äºè¯¯å·®"><a href="#å…³äºè¯¯å·®" class="headerlink" title="å…³äºè¯¯å·®"></a>å…³äºè¯¯å·®</h2><p>M3èºä¸,å­”å¾„3.2</p><h2 id="å‘ç°"><a href="#å‘ç°" class="headerlink" title="å‘ç°"></a>å‘ç°</h2><p>ä¿®æ”¹è‰å›¾, å®ä½“ä¼šè·Ÿç€ä¸€å—ä¿®æ”¹</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>çŸ©é˜µæŒ‰é”®</title>
      <link href="/2023/08/22/75h-ju-zhen-an-jian/"/>
      <url>/2023/08/22/75h-ju-zhen-an-jian/</url>
      
        <content type="html"><![CDATA[<h2 id="ç‹¬ç«‹æŒ‰é”®"><a href="#ç‹¬ç«‹æŒ‰é”®" class="headerlink" title="ç‹¬ç«‹æŒ‰é”®"></a>ç‹¬ç«‹æŒ‰é”®</h2><h3 id="ä½ç”µå¹³è§¦å‘æŒ‰é”®"><a href="#ä½ç”µå¹³è§¦å‘æŒ‰é”®" class="headerlink" title="ä½ç”µå¹³è§¦å‘æŒ‰é”®"></a>ä½ç”µå¹³è§¦å‘æŒ‰é”®</h3><p>æŒ‰é”®ä¸€ç«¯æ¥GND,ä¸€ç«¯æ¥IOå£,ä½ç”µå¹³æœ‰æ•ˆ</p><h3 id="é«˜ç”µå¹³è§¦å‘æŒ‰é”®"><a href="#é«˜ç”µå¹³è§¦å‘æŒ‰é”®" class="headerlink" title="é«˜ç”µå¹³è§¦å‘æŒ‰é”®"></a>é«˜ç”µå¹³è§¦å‘æŒ‰é”®</h3><img src="/2023/08/22/75h-ju-zhen-an-jian/image-20230823121608901.png" class="" title="image-20230823121608901"><p>KEY0 å’Œ KEY1 ç”¨ä½œæ™®é€šæŒ‰é”®è¾“å…¥ï¼Œå¹¶æ²¡æœ‰ä½¿ç”¨å¤–éƒ¨ä¸Šæ‹‰ç”µé˜»</p><p>KEY_UPé”®é™¤äº†å¯ä»¥ç”¨ä½œæ™®é€šè¾“å…¥æŒ‰é”®å¤–ï¼Œè¿˜å¯ä»¥ç”¨ä½œSTM32çš„å”¤é†’è¾“å…¥</p><p>æ³¨æ„ï¼šè¿™ä¸ªæŒ‰é”®æ˜¯é«˜ç”µå¹³è§¦å‘çš„ã€‚å½“æŒ‰é”®æ²¡æŒ‰ä¸‹æ—¶ï¼ŒCPUå¯¹åº”çš„I&#x2F;Oæ¥å£ç”±äºå†…éƒ¨æœ‰ä¸Šæ‹‰ç”µé˜»ï¼Œå…¶è¾“å…¥ä¸ºé«˜ç”µå¹³</p><p>ä¸‹é¢è¿™ä¸ª,å¹¶è”ç”µå®¹å¯ä»¥æ¶ˆæŠ–<code>å› ä¸ºç”µå®¹çš„ç”µå‹ä¸èƒ½çªå˜(è¡¥å……:ç”µæ„Ÿçš„ç”µæµä¸èƒ½çªå˜)</code>,æŒ‰é”®æœªæŒ‰ä¸‹æ—¶ï¼Œè¾“å…¥åˆ°STM32å¾®æ§åˆ¶å™¨çš„ç”µå‹ä¸ºé«˜ç”µå¹³,æŒ‰é”®æŒ‰ä¸‹,ç”µå‹å…¨åœ¨ç”µé˜»ä¸Š,æ‰€ä»¥æŒ‰ä¸‹ä¸ºä½ç”µå¹³</p><p><strong>ç–‘æƒ‘</strong>:ç›´æ¥æ¥3.3vä¸å¯ä»¥å—,ä¸ºä»€ä¹ˆéè¦ä¸Šæ‹‰ç”µé˜»å‘¢? </p><img src="/2023/08/22/75h-ju-zhen-an-jian/image-20230823113758114.png" class="" title="image-20230823113758114"><p><a href="https://blog.csdn.net/weixin_56666706/article/details/128173648?spm=1001.2101.3001.6650.11&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-128173648-blog-106088238.235%5Ev38%5Epc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-11-128173648-blog-106088238.235%5Ev38%5Epc_relevant_sort_base2&utm_relevant_index=18">ç¬”è®°ï¼ˆSTM32ç¯‡ï¼‰day6â€”â€”æŒ‰é”®æ§åˆ¶_stm32æŒ‰é”®åŸç†å›¾_NYMuggleçš„åšå®¢-CSDNåšå®¢</a></p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h1 id="å¾…å®Œæˆ"><a href="#å¾…å®Œæˆ" class="headerlink" title="å¾…å®Œæˆ"></a>å¾…å®Œæˆ</h1><h2 id="æŒ‰é”®æ¶ˆæŠ–"><a href="#æŒ‰é”®æ¶ˆæŠ–" class="headerlink" title="æŒ‰é”®æ¶ˆæŠ–"></a>æŒ‰é”®æ¶ˆæŠ–</h2><p><a href="https://www.elecfans.com/d/2004214.html">å°ç¼–ç§‘æ™®å‡ ç§æŒ‰é”®æ¶ˆæŠ–ç”µè·¯çš„è®¾è®¡æ–¹æ¡ˆ-ç”µå­å‘çƒ§å‹ç½‘ (elecfans.com)</a></p><h2 id="çŸ©é˜µæŒ‰é”®"><a href="#çŸ©é˜µæŒ‰é”®" class="headerlink" title="çŸ©é˜µæŒ‰é”®"></a>çŸ©é˜µæŒ‰é”®</h2><h3 id="è¡Œåˆ—æ‰«æ"><a href="#è¡Œåˆ—æ‰«æ" class="headerlink" title="è¡Œåˆ—æ‰«æ"></a>è¡Œåˆ—æ‰«æ</h3><h3 id="é€è¡Œæ‰«æ"><a href="#é€è¡Œæ‰«æ" class="headerlink" title="é€è¡Œæ‰«æ"></a>é€è¡Œæ‰«æ</h3><p>æˆ‘çš„æ–¹æ³•:</p><p>æ€»å…±å…«ä¸ªio,å››ä¸ªè¡¨ç¤ºè¡Œ,å››ä¸ªè¡¨ç¤ºåˆ—,æ¯ä¸ªæŒ‰é”®çš„å·¦ç«¯æ¥ä¸¤æ ¹,ä¸€è¡Œä¸€åˆ—å¼•è„š,ç„¶åæŒ‰é”®å¦ä¸€ç«¯æ¥åœ°,è¿™æ ·å°±å¯ä»¥é€šè¿‡åˆ¤æ–­äºŒè¿›åˆ¶å€¼,æ¥åˆ¤æ–­æŒ‰é”®,æ¯”å¦‚,ä¸€è¡Œä¸€åˆ—01110111</p><h3 id="ADC-æŒ‰é”®"><a href="#ADC-æŒ‰é”®" class="headerlink" title="ADC_æŒ‰é”®"></a>ADC_æŒ‰é”®</h3><h3 id="è§¦æ‘¸æŒ‰é”®"><a href="#è§¦æ‘¸æŒ‰é”®" class="headerlink" title="è§¦æ‘¸æŒ‰é”®"></a>è§¦æ‘¸æŒ‰é”®</h3><h2 id="æ‘‡æ†"><a href="#æ‘‡æ†" class="headerlink" title="æ‘‡æ†"></a>æ‘‡æ†</h2><p><a href="https://oshwhub.com/yuanzihao/TTP223chu-mo-an-jian-xin-pian-ya">TTP223è§¦æ‘¸æŒ‰é”®èŠ¯ç‰‡éªŒè¯æ¿ - å˜‰ç«‹åˆ›EDAå¼€æºç¡¬ä»¶å¹³å° (oshwhub.com)</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Simulink</title>
      <link href="/2023/08/13/74s-simulink/"/>
      <url>/2023/08/13/74s-simulink/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1xQ4y1T7yv/?spm_id_from=333.337.search-card.all.click&vd_source=e33ad22b3d91cb180bef532ce5877b2e">ã€è‡ªåŠ¨æ§åˆ¶åŸç†ã€‘12_PIDæ§åˆ¶å™¨_Matlab&#x2F;Simulinkä»¿çœŸã€å¼€åœºä¸‰åˆ†é’Ÿé—²è¯ã€‘_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://www.bilibili.com/video/BV1AK41157kE/?spm_id_from=333.337.search-card.all.click&vd_source=e33ad22b3d91cb180bef532ce5877b2e">å¿«é€Ÿå…¥é—¨Simulinkçš„PIDä»¿çœŸ_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://blog.csdn.net/qq_45520617/article/details/123947163">MATLAB simulink ä»¿çœŸæ­¥é•¿_simulinkä»¿çœŸæ­¥é•¿è®¾ç½®_åŒ—æ—ç™½æ³½çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/xuoeigan/article/details/124560007">pidè°ƒèŠ‚_ä¸€é¢—å¤§æ¤°å­çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/viafcccy/article/details/107988093?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-5-107988093-blog-77886668.235%5Ev38%5Epc_relevant_sort_base2&spm=1001.2101.3001.4242.4&utm_relevant_index=6">PIDæ§åˆ¶å‚æ•°æ•´å®šï¼ˆè°ƒèŠ‚æ–¹æ³•ï¼‰åŸç†+å›¾ç¤º+MATLABè°ƒè¯•_pidå‚æ•°çœ‹æ›²çº¿æ•´å®šå›¾è§£_viafcccyçš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> Simulink </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>73P_æ ‘è“æ´¾</title>
      <link href="/2023/08/12/73p-shu-mei-pai/"/>
      <url>/2023/08/12/73p-shu-mei-pai/</url>
      
        <content type="html"><![CDATA[<h3 id="æ›´æ¢å›ºå®šipå-æ— æ³•è”ç½‘"><a href="#æ›´æ¢å›ºå®šipå-æ— æ³•è”ç½‘" class="headerlink" title="æ›´æ¢å›ºå®šipå,æ— æ³•è”ç½‘"></a>æ›´æ¢å›ºå®šipå,æ— æ³•è”ç½‘</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€</title>
      <link href="/2023/08/08/72c-c/"/>
      <url>/2023/08/08/72c-c/</url>
      
        <content type="html"><![CDATA[<h2 id="å¤šçº§èœå•åŸç†"><a href="#å¤šçº§èœå•åŸç†" class="headerlink" title="å¤šçº§èœå•åŸç†"></a>å¤šçº§èœå•åŸç†</h2><p>æ•°ç»„æŸ¥è¡¨æ³•</p><p>å®ç°æ•°æ®å‘ä¸‹æ»šåŠ¨,å®é™…ä¸Šæ˜¯å¦ä¸€ä¸ªå‡½æ•°åˆ é™¤äº†ç¬¬ä¸€è¡Œ,åŠ äº†æœ€åä¸€è¡Œ,ä¸­é—´çš„æ•°æ®yåæ ‡å‘ä¸Šç§»åŠ¨2ä¸ª</p><p><a href="https://www.bilibili.com/read/cv16469149">STM32ç®€æ˜“å¤šçº§èœå•(æ•°ç»„æŸ¥è¡¨æ³•) - å“”å“©å“”å“© (bilibili.com)</a></p><h2 id="Cè¯­è¨€"><a href="#Cè¯­è¨€" class="headerlink" title="Cè¯­è¨€"></a>Cè¯­è¨€</h2><h3 id="å‡½æ•°æŒ‡é’ˆ"><a href="#å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="å‡½æ•°æŒ‡é’ˆ"></a>å‡½æ•°æŒ‡é’ˆ</h3><blockquote><p><strong>å‡½æ•°æŒ‡é’ˆ</strong>ï¼šé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ª<a href="https://so.csdn.net/so/search?q=%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88&spm=1001.2101.3001.7020">æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</a>ï¼Œåœ¨å†…å­˜ç©ºé—´ä¸­å­˜æ”¾çš„æ˜¯å‡½æ•°çš„åœ°å€ï¼›</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">int main()&#123;int a &#x3D; 10;int*pa &#x3D; &amp;a;char ch &#x3D; &#39;c&#39;;char* pc &#x3D; &amp;ch;int arr[10] &#x3D; &#123;0&#125;;int (*parr)[10] &#x3D; &amp;arr;&#x2F;&#x2F;å–å‡ºæ•°ç»„çš„åœ°å€return 0;ï½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§£æï¼šparræ˜¯ä¸€ä¸ª<a href="https://so.csdn.net/so/search?q=%E6%8C%87%E5%90%91%E6%95%B0%E7%BB%84%E7%9A%84%E6%8C%87%E9%92%88&spm=1001.2101.3001.7020">æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</a>ï¼Œå­˜æ”¾çš„æ˜¯æ•°ç»„çš„åœ°å€ï¼›</p><blockquote><p>æ‰€ä»¥ï¼š</p><ul><li><strong>æ•°ç»„æŒ‡é’ˆ â€”å­˜æ”¾æ•°ç»„åœ°å€çš„æŒ‡é’ˆï¼›</strong></li><li><strong>&amp;æ•°ç»„å â€”å¾—åˆ°çš„å°±æ˜¯æ•°ç»„çš„åœ°å€ï¼›</strong></li></ul></blockquote><p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸å¯ä»¥è¿™ä¹ˆè®¤ä¸ºï¼š</p><blockquote><ul><li><strong>å‡½æ•°æŒ‡é’ˆ â€”å­˜æ”¾å‡½æ•°åœ°å€çš„æŒ‡é’ˆï¼›</strong></li><li><strong>&amp;å‡½æ•°å â€”å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„åœ°å€ï¼›</strong></li></ul></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">int Add(int xï¼Œint y)&#123;return x+y; &#125;int main()&#123;printf(&quot;%p\n&quot;,&amp;Add);&#x2F;&#x2F;æ‰“å°ä¸€ä¸‹å‡½æ•°Add()çš„åœ°å€printf(&quot;%p\n&quot;,Add);&#x2F;&#x2F;æ•°ç»„åç­‰äºæ•°ç»„é¦–å…ƒç´ åœ°å€ï¼Œé‚£å‡½æ•°åæ˜¯ç­‰äºå‡½æ•°åœ°å€å—ï¼Ÿyesreturn 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å‡½æ•°åæ˜¯ç­‰äºå‡½æ•°åœ°å€</strong></p><h3 id="å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•"><a href="#å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•"></a>å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•</h3><p><strong>å‡½æ•°æŒ‡é’ˆçš„å®šä¹‰</strong>ï¼š å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼ˆ*æŒ‡é’ˆåï¼‰ï¼ˆå‡½æ•°çš„å‚æ•°åˆ—è¡¨ç±»å‹ï¼‰</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">int Add(int x, int y)&#123;return x+y;&#125;int main()&#123; int (*pf)(int, int) &#x3D; &amp;Add;&#x2F;&#x2F;å‡½æ•°æŒ‡é’ˆå®šä¹‰ï¼Œè¿”å›å€¼ç±»å‹å’Œå‚æ•°ç±»å‹ä¸å‡½æ•°Addï¼ˆï¼‰ç›¸åŒ&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">void Add(int x, int y)&#123;return x+y;&#125;int main()&#123;int (*pf)(int,int)&#x3D;&amp;Add;int ret&#x3D;(*pf)(3,5);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è§£æï¼š<br><code>int ret=(*pf)(3,5)</code>ï¼Œæ­¤æ—¶å°±ç›¸å½“äºé€šè¿‡å‡½æ•°åè°ƒç”¨ï¼š<code> int ret=Add(3,5);&#125;</code>ï¼Œæˆ‘ä»¬åˆçŸ¥é“ï¼š<strong>å‡½æ•°åæ˜¯ç­‰äº&amp;å‡½æ•°å</strong>çš„ï¼Œæ‰€ä»¥<code>int (*pf)(int,int)=&amp;Add</code>ï¼Œå¯æ”¹æˆï¼š<code>int (*pf)(int,int)=Add</code>;æ­¤æ—¶Addç­‰ä»·äºpfï¼Œæ‰€ä»¥ï¼š<code>int ret=(*pf)(3,5)</code>;è¯­å¥å¯æ”¹æˆï¼š<code>int ret=pf(3,5)</code>;ç­‰ä»·äº<code>int ret=Add(3,5)</code>ï¼Œæ•…æˆ‘ä»¬çŸ¥é“äº†å¯¹äºï¼š<code>int ret=(*pf)(3,5)</code>;è¯­å¥æ¥è¯´ï¼Œ*æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæˆ–è€…æ²¡æœ‰éƒ½ä¸å½±å“ï¼›</p></blockquote><ul><li>æ•°ç»„å (arr) <strong>!&#x3D;</strong> &amp;æ•°ç»„å(&amp;arr)</li><li>å‡½æ•°å(Add) &#x3D; &amp;å‡½æ•°å(&amp;Add)</li></ul><h3 id="æŒ‡é’ˆè°ƒç”¨å‡½æ•°"><a href="#æŒ‡é’ˆè°ƒç”¨å‡½æ•°" class="headerlink" title="æŒ‡é’ˆè°ƒç”¨å‡½æ•°"></a>æŒ‡é’ˆè°ƒç”¨å‡½æ•°</h3><p>{1, 2, 5, (*show1)}</p><p>åœ¨ {1, 2, 5, (show1())} è¿™ä¸ªç»“æ„ä½“ä¸­ï¼Œ(show1()) è¡¨ç¤ºè°ƒç”¨ show1 å‡½æ•°å¹¶å°†å…¶è¿”å›å€¼ä½œä¸ºè¿™ä¸ªå…ƒç´ çš„å€¼ï¼Œè€Œä¸æ˜¯å°† show1 å‡½æ•°æœ¬èº«çš„åœ°å€ä½œä¸ºå‡½æ•°æŒ‡é’ˆã€‚å› æ­¤ï¼Œè¿™ç§å†™æ³•æ˜¯ä¸æ­£ç¡®çš„ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p><p>åœ¨ C è¯­è¨€ä¸­ï¼Œ<code>å‡½æ•°å</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ª<code>æŒ‡å‘å‡½æ•°ä»£ç å—</code>çš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥<code>ç›´æ¥</code>å°†<code>å‡½æ•°åèµ‹å€¼</code>ç»™ä¸€ä¸ª<code>å‡½æ•°æŒ‡é’ˆå˜é‡</code>ï¼Œæˆ–è€…é€šè¿‡æŒ‡é’ˆå˜é‡æ¥è°ƒç”¨å‡½æ•°ã€‚è€Œ<code>åœ¨ç»“æ„ä½“æˆ–æ•°ç»„ä¸­å®šä¹‰å‡½æ•°æŒ‡é’ˆ</code>æ—¶ï¼Œéœ€è¦ä½¿ç”¨ (*show1) è¿™ç§æ–¹å¼æ¥è§£å¼•ç”¨æŒ‡é’ˆï¼Œè¿™æ˜¯å› ä¸ºï¼Œåœ¨ç»“æ„ä½“æˆ–æ•°ç»„ä¸­å®šä¹‰çš„å‡½æ•°æŒ‡é’ˆå˜é‡æœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œéœ€è¦ä½¿ç”¨è§£å¼•ç”¨ç¬¦å· * æ¥è·å–æŒ‡å‘çš„å‡½æ•°ä»£ç å—çš„åœ°å€ã€‚</p><p>å› æ­¤ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯<code> &#123;1, 2, 5, (*show1)&#125;</code>ï¼Œå…¶ä¸­ (*show1) è¡¨ç¤ºæŒ‡å‘ show1 å‡½æ•°çš„æŒ‡é’ˆå˜é‡ï¼Œé€šè¿‡è§£å¼•ç”¨æŒ‡é’ˆçš„æ–¹å¼æ¥è·å–å‡½æ•°ä»£ç å—çš„åœ°å€ï¼Œå¹¶å°†å…¶ä½œä¸ºè¿™ä¸ªå…ƒç´ çš„å€¼ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">struct Menu &#123;    int menu_id;    int parent_id;    int operation_code;    void (*operation_func)();&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>void (*current_operation)(void)å¹¶ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆå˜é‡çš„å®šä¹‰ã€‚åœ¨ C è¯­è¨€ä¸­ï¼Œå‡½æ•°åæœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°ä»£ç å—çš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥å­˜å‚¨å‡½æ•°çš„åœ°å€ï¼Œç„¶åé€šè¿‡è¿™ä¸ªæŒ‡é’ˆå˜é‡æ¥è°ƒç”¨å‡½æ•°,è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º current_operation çš„å‡½æ•°æŒ‡é’ˆå˜é‡ï¼Œå®ƒå¯ä»¥æŒ‡å‘ä¸€ä¸ªæ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼çš„å‡½æ•°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void show1() &#123;    printf(&quot;This is show1 function.\n&quot;);&#125;int main() &#123;    void (*current_operation)(void);  &#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆå˜é‡    current_operation &#x3D; show1;  &#x2F;&#x2F; å°† show1 å‡½æ•°çš„åœ°å€èµ‹å€¼ç»™å‡½æ•°æŒ‡é’ˆå˜é‡    current_operation();  &#x2F;&#x2F; é€šè¿‡æŒ‡é’ˆå˜é‡è°ƒç”¨ show1 å‡½æ•°    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">Menu_table table[26] &#x3D; &#123;    &#123;0, 0, 1, (*show0)&#125;,  &#x2F;&#x2F; ä½¿ç”¨ (*show0) æ¥è·å–å‡½æ•° show0 çš„åœ°å€    &#x2F;&#x2F; ...&#125;;&#x2F;&#x2F; è°ƒç”¨å‡½æ•° show0table[0].current_operation();  &#x2F;&#x2F; ä½¿ç”¨æˆå‘˜è§£å¼•ç”¨è¿ç®—ç¬¦æ¥è°ƒç”¨æˆå‘˜å‡½æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆä½¿ç”¨ <code>(*show0)</code> æ¥è·å–å‡½æ•° <code>show0</code> çš„åœ°å€ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ <code>current_operation</code>ã€‚ç„¶åï¼Œé€šè¿‡æˆå‘˜è§£å¼•ç”¨è¿ç®—ç¬¦ <code>()</code> æ¥è°ƒç”¨ <code>current_operation</code> æ‰€æŒ‡å‘çš„å‡½æ•° <code>show0</code>ã€‚</p><h3 id="å‡½æ•°åä¸å°±æ˜¯å‡½æ•°åœ°å€å—-ä¸ºå•¥è¿˜ç”¨åŠ -è·å–å‡½æ•°åœ°å€"><a href="#å‡½æ•°åä¸å°±æ˜¯å‡½æ•°åœ°å€å—-ä¸ºå•¥è¿˜ç”¨åŠ -è·å–å‡½æ•°åœ°å€" class="headerlink" title="å‡½æ•°åä¸å°±æ˜¯å‡½æ•°åœ°å€å—,ä¸ºå•¥è¿˜ç”¨åŠ *è·å–å‡½æ•°åœ°å€"></a>å‡½æ•°åä¸å°±æ˜¯å‡½æ•°åœ°å€å—,ä¸ºå•¥è¿˜ç”¨åŠ *è·å–å‡½æ•°åœ°å€</h3><p>ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ <code>*</code> æ¥è·å–å‡½æ•°æŒ‡é’ˆçš„åœ°å€ã€‚è¿™æ˜¯å› ä¸ºåœ¨ C è¯­è¨€ä¸­ï¼Œå‡½æ•°åè¢«è§†ä¸ºä¸€ä¸ª<code>æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</code>ï¼Œä½†æ˜¯åœ¨ç»“æ„ä½“ä¸­å®šä¹‰å‡½æ•°æŒ‡é’ˆç±»å‹çš„æˆå‘˜å˜é‡æ—¶ï¼Œéœ€è¦æ˜¾å¼åœ°<code>å£°æ˜ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡</code>ï¼Œç„¶åæŠŠå‡½æ•°çš„åœ°å€èµ‹å€¼ç»™è¿™ä¸ªæŒ‡é’ˆå˜é‡ã€‚å› æ­¤ï¼Œéœ€è¦ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ <code>*</code> æ¥è·å–å‡½æ•°çš„åœ°å€ã€‚</p><p><strong>ä¸ç†è§£,å¼„äº†åŠå¤©,ä¸åŠ *ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„,è¿˜æ˜¯ä¸èƒ½è¿‡äºä¿¡ä»»chatgpt,è¦è·‘ä¸€ä¸‹çœ‹èƒ½ä¸èƒ½è·‘,ä¸èƒ½è·‘çš„è¯æ˜¯æŠ¥ä»€ä¹ˆé”™</strong></p><h3 id="ç»“æ„ä½“æŒ‡é’ˆ"><a href="#ç»“æ„ä½“æŒ‡é’ˆ" class="headerlink" title="ç»“æ„ä½“æŒ‡é’ˆ"></a>ç»“æ„ä½“æŒ‡é’ˆ</h3><p>å£°æ˜ç»“æ„ä½“ç±»å‹ï¼š<br>Struct ç»“æ„ä½“å{<br>æˆå‘˜åˆ—è¡¨;<br>}å˜é‡ååˆ—è¡¨ï¼›<br>ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Struct U_TYPE &#123;Int BaudRateInt WordLength; &#125;usart1,usart2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ç»“æ„ä½“ç”³æ˜çš„æ—¶å€™å¯ä»¥å®šä¹‰å˜é‡ï¼Œä¹Ÿå¯ä»¥ç”³æ˜ä¹‹åå®šä¹‰</p><p>æ–¹æ³•æ˜¯:</p><p>Struct ç»“æ„ä½“åå­— ç»“æ„ä½“å˜é‡åˆ—è¡¨ ;<br>ä¾‹å¦‚ï¼š<code>struct U_TYPE usart1,usart2</code>;<br>ç»“æ„ä½“æˆå‘˜å˜é‡çš„å¼•ç”¨æ–¹æ³•æ˜¯ï¼š<br>ç»“æ„ä½“å˜é‡åå­—.æˆå‘˜å<br>æ¯”å¦‚è¦å¼•ç”¨ usart1 çš„æˆå‘˜ BaudRate,æ–¹æ³•æ˜¯ï¼šusart1.BaudRate;<br>ç»“æ„ä½“æŒ‡é’ˆå˜é‡å®šä¹‰ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè·Ÿå…¶ä»–å˜é‡æ²¡æœ‰å•¥åŒºåˆ«ã€‚<br>ä¾‹å¦‚ï¼šstruct U_TYPE *usart3ï¼›&#x2F;&#x2F;å®šä¹‰ç»“æ„ä½“æŒ‡é’ˆå˜é‡ usart3;</p><p>ç»“æ„ä½“æŒ‡é’ˆæˆå‘˜å˜é‡å¼•ç”¨æ–¹æ³•æ˜¯é€šè¿‡â€œ<code>-&gt;</code>â€ç¬¦å·å®ç°ï¼Œæ¯”å¦‚è¦<code>è®¿é—® usart3 ç»“æ„ä½“æŒ‡é’ˆ</code>æŒ‡å‘çš„<code>ç»“ æ„ä½“çš„æˆå‘˜å˜é‡</code> BaudRate</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">(*Usart3).BaudRateUsart3-&gt;BaudRate;   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€ç§å†™æ³•ä¸­ï¼Œ<code>.</code>çš„ä¼˜å…ˆçº§é«˜äº<code>*</code>ï¼Œ<code>(*pointer)</code>ä¸¤è¾¹çš„æ‹¬å·ä¸èƒ½å°‘ã€‚å¦‚æœå»æ‰æ‹¬å·å†™ä½œ<code>*pointer.memberName</code>ï¼Œé‚£ä¹ˆå°±ç­‰æ•ˆäº<code>*(pointer.memberName)</code>ï¼Œè¿™æ ·æ„ä¹‰å°±å®Œå…¨ä¸å¯¹äº†ã€‚</p><p>ç¬¬äºŒç§å†™æ³•ä¸­ï¼Œ<code>-&gt;</code>æ˜¯ä¸€ä¸ªæ–°çš„è¿ç®—ç¬¦ï¼Œä¹ æƒ¯ç§°å®ƒä¸ºâ€œç®­å¤´â€ï¼Œæœ‰äº†å®ƒï¼Œå¯ä»¥é€šè¿‡ç»“æ„ä½“æŒ‡é’ˆç›´æ¥å–å¾—ç»“æ„ä½“æˆå‘˜ï¼›è¿™ä¹Ÿæ˜¯<code>-&gt;</code>åœ¨Cè¯­è¨€ä¸­çš„å”¯ä¸€ç”¨é€”ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &lt;stdio.h&gt;int main()&#123;    struct&#123;        char *name;  &#x2F;&#x2F;å§“å        int num;  &#x2F;&#x2F;å­¦å·        int age;  &#x2F;&#x2F;å¹´é¾„        char group;  &#x2F;&#x2F;æ‰€åœ¨å°ç»„        float score;  &#x2F;&#x2F;æˆç»©    &#125; stu1 &#x3D; &#123; &quot;Tom&quot;, 12, 18, &#39;A&#39;, 136.5 &#125;, *pstu &#x3D; &amp;stu1;    &#x2F;&#x2F;è¯»å–ç»“æ„ä½“æˆå‘˜çš„å€¼    printf(&quot;%sçš„å­¦å·æ˜¯%dï¼Œå¹´é¾„æ˜¯%dï¼Œåœ¨%cç»„ï¼Œä»Šå¹´çš„æˆç»©æ˜¯%.1fï¼\n&quot;, (*pstu).name, (*pstu).num, (*pstu).age, (*pstu).group, (*pstu).score);    printf(&quot;%sçš„å­¦å·æ˜¯%dï¼Œå¹´é¾„æ˜¯%dï¼Œåœ¨%cç»„ï¼Œä»Šå¹´çš„æˆç»©æ˜¯%.1fï¼\n&quot;, pstu-&gt;name, pstu-&gt;num, pstu-&gt;age, pstu-&gt;group, pstu-&gt;score);    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="C-åº“å‡½æ•°-snprintf"><a href="#C-åº“å‡½æ•°-snprintf" class="headerlink" title="C åº“å‡½æ•° - snprintf()"></a>C åº“å‡½æ•° - snprintf()</h2><p>ç”¨æ¥æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æ ¼å¼åŒ–åçš„å­—ç¬¦æ•°é‡ï¼Œä¹Ÿå°±æ˜¯æ•´æ•°çš„ä½æ•°ã€‚ä½ å¯ä»¥åˆ©ç”¨è¿™ä¸ªå‡½æ•°æ¥è·å¾—æ•´æ•°çš„é•¿åº¦ï¼Œå¹¶å°†ç»“æœå†™å…¥åˆ°æŒ‡å®šçš„ç¼“å†²åŒºï¼Œä¸ sprintf() ä¸åŒçš„æ˜¯ï¼Œsnprintf() ä¼šé™åˆ¶è¾“å‡ºçš„å­—ç¬¦æ•°ï¼Œé¿å…ç¼“å†²åŒºæº¢å‡º</p>]]></content>
      
      
      <categories>
          
          <category> C </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>K210</title>
      <link href="/2023/08/03/71h-k210/"/>
      <url>/2023/08/03/71h-k210/</url>
      
        <content type="html"><![CDATA[<h2 id="çƒ§å½•å‡ºå‚å›ºä»¶"><a href="#çƒ§å½•å‡ºå‚å›ºä»¶" class="headerlink" title="çƒ§å½•å‡ºå‚å›ºä»¶"></a>çƒ§å½•å‡ºå‚å›ºä»¶</h2><h2 id="è„±æœºè¿è¡Œ-ä¸€è¿ç”µè„‘ä¸²å£åŠ©æ‰‹å°±å¡"><a href="#è„±æœºè¿è¡Œ-ä¸€è¿ç”µè„‘ä¸²å£åŠ©æ‰‹å°±å¡" class="headerlink" title="è„±æœºè¿è¡Œ,ä¸€è¿ç”µè„‘ä¸²å£åŠ©æ‰‹å°±å¡"></a>è„±æœºè¿è¡Œ,ä¸€è¿ç”µè„‘ä¸²å£åŠ©æ‰‹å°±å¡</h2><p>è¦ç”¨å¤–éƒ¨ä¸²å£</p><h2 id="æš‚æ—¶æœªè§£å†³çš„é—®é¢˜"><a href="#æš‚æ—¶æœªè§£å†³çš„é—®é¢˜" class="headerlink" title="æš‚æ—¶æœªè§£å†³çš„é—®é¢˜"></a>æš‚æ—¶æœªè§£å†³çš„é—®é¢˜</h2><h3 id="oledæ˜¾ç¤ºæ•°å­—ä¸å®é™…æ•°å­—ä¸ç¬¦-å¾ˆå¤§"><a href="#oledæ˜¾ç¤ºæ•°å­—ä¸å®é™…æ•°å­—ä¸ç¬¦-å¾ˆå¤§" class="headerlink" title="oledæ˜¾ç¤ºæ•°å­—ä¸å®é™…æ•°å­—ä¸ç¬¦,å¾ˆå¤§"></a>oledæ˜¾ç¤ºæ•°å­—ä¸å®é™…æ•°å­—ä¸ç¬¦,å¾ˆå¤§</h3>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>70H_Keil_ä»¿çœŸ_é€»è¾‘åˆ†æä»ªå™¨</title>
      <link href="/2023/07/27/70h-keil-fang-zhen-luo-ji-fen-xi-yi-qi/"/>
      <url>/2023/07/27/70h-keil-fang-zhen-luo-ji-fen-xi-yi-qi/</url>
      
        <content type="html"><![CDATA[<h2 id="unknow-signal"><a href="#unknow-signal" class="headerlink" title="unknow signal"></a>unknow signal</h2><p>åŸå› :</p><p>å››ä¸ªç®­å¤´çš„éƒ¨åˆ†éƒ½è¦æ”¹,æˆ‘ç»„ç»‡æ”¹äº†ç¬¬äºŒä¸ªå’Œç¬¬å››ä¸ª</p><img src="/2023/07/27/70h-keil-fang-zhen-luo-ji-fen-xi-yi-qi/image-20230727003611985.png" class="" title="image-20230727003611985"><p>DARMSTM.DLL   -pSTM32F103RC</p><p>TARMSTM.DLL  -pSTM32F103RC</p><p><a href="https://blog.csdn.net/Jahol_Fan/article/details/78872988?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-78872988-blog-129688563.235%5Ev38%5Epc_relevant_sort_base2&spm=1001.2101.3001.4242.1&utm_relevant_index=1">keilçš„è½¯ä»¶é€»è¾‘åˆ†æä»ªï¼ˆ logic analyzerï¼‰ä½¿ç”¨æ•™ç¨‹_è¾£æ¡boyçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/bean_business/article/details/116456981?ops_request_misc=&request_id=&biz_id=102&utm_term=KEIL%E7%9A%84%E9%80%BB%E8%BE%91%E5%88%86%E6%9E%90%E4%BB%AA%E6%98%BE%E7%A4%BA%E6%9C%AA%E7%9F%A5%E7%9A%84%E4%BF%A1%E5%8F%B7&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-3-116456981.142%5Ev90%5Einsert_down28v1,239%5Ev3%5Einsert_chatgpt&spm=1018.2226.3001.4187">æˆåŠŸè§£å†³ï¼šMDK5é€»è¾‘åˆ†æçª—å£Unknown signalçš„é—®é¢˜_ä½™åºœçš„åšå®¢-CSDNåšå®¢</a></p><h2 id="é€»è¾‘åˆ†æä»ª"><a href="#é€»è¾‘åˆ†æä»ª" class="headerlink" title="é€»è¾‘åˆ†æä»ª"></a>é€»è¾‘åˆ†æä»ª</h2><p>ç›¸å½“äºç¤ºæ³¢å™¨</p><h2 id="ä»¿çœŸ"><a href="#ä»¿çœŸ" class="headerlink" title="ä»¿çœŸ"></a>ä»¿çœŸ</h2><p>é¦–å…ˆè¦æ¥å¥½ä»¿çœŸå™¨å’Œæ¿å­,ç„¶åè®¾ç½®use simulator</p><h3 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h3><p>æŸ¥çœ‹å˜é‡æ•°å€¼æ²¡æœ‰å˜åŒ–</p><p>è¿™ä¸ªæ˜¯ç¼–è¯‘å™¨çš„é—®é¢˜ï¼Œaå®šä¹‰çš„æ˜¯å±€éƒ¨å˜é‡ï¼Œç¼–è¯‘å™¨æŠŠå±€éƒ¨å˜é‡ä¼˜åŒ–äº†,<code>å¹¶æ²¡æœ‰åœ¨å†…å­˜ä¸­ç”Ÿæˆå¯¼è‡´</code></p><p>å®šä¹‰æˆå…¨å±€å˜é‡å³å¯è§£å†³ã€‚</p><p><a href="http://lihuaxi.xjx100.cn/news/279775.html?action=onClick">stm32æ€ä¹ˆç”¨keilè½¯ä»¶è¿›è¡Œä»¿çœŸï¼Ÿï¼ˆå¿…éœ€æŒæ¡çš„æŠ€èƒ½ï¼‰ (xjx100.cn)</a>  </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>èˆµæœº</title>
      <link href="/2023/07/25/69h-duo-ji/"/>
      <url>/2023/07/25/69h-duo-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="èˆµæœº"><a href="#èˆµæœº" class="headerlink" title="èˆµæœº"></a>èˆµæœº</h2><p>å­¦åå«åšä¼ºæœç”µæœº</p><p><strong>æŒ‰ç…§èˆµæœºçš„æ§åˆ¶ç”µè·¯å¯ä»¥åˆ†ä¸ºï¼š</strong><br>1ã€æ¨¡æ‹Ÿèˆµæœº<br>2ã€æ•°å­—èˆµæœº</p><p><strong>æŒ‰ç…§å¤–éƒ¨æ¥å£å’Œèˆµæœºçš„æ§åˆ¶æ–¹å¼ï¼Œåˆå¯åˆ†ä¸ºï¼š</strong><br>PWM èˆµæœºå’Œä¸²è¡Œæ€»çº¿èˆµæœºã€‚</p><blockquote><p>å…¶å·¥ä½œåŸç†ï¼šPWMä¿¡å·ç”±æ¥æ”¶é€šé“è¿›å…¥ä¿¡å·è§£è°ƒç”µè·¯è¿›è¡Œè§£è°ƒï¼Œ</p><p>è·å¾—ä¸€ä¸ªç›´æµåç½®ç”µå‹ç›´æµåç½®ç”µå‹ä¸ç”µä½å™¨çš„ç”µå‹æ¯”è¾ƒï¼Œè·å¾—ç”µå‹å·®å¹¶è¾“å‡ºã€‚</p><p>è¯¥è¾“å‡ºé€å…¥ç”µæœºé©±åŠ¨é›†æˆç”µè·¯ä»¥é©±åŠ¨ç”µæœºæ­£åè½¬ã€‚</p><p>å½“ç”µæœºè½¬åŠ¨æ—¶ï¼Œé€šè¿‡çº§è”å‡é€Ÿé½¿è½®å¸¦åŠ¨ç”µä½å™¨æ—‹è½¬ï¼Œç›´åˆ°ç”µå‹å·®ä¸ºOï¼Œç”µæœºåœæ­¢è½¬åŠ¨ã€‚<br>èˆµæœºçš„æ§åˆ¶ä¿¡å·æ˜¯PWMä¿¡å·ï¼Œåˆ©ç”¨å ç©ºæ¯”çš„å˜åŒ–ï¼Œæ”¹å˜èˆµæœºçš„ä½ç½®</p></blockquote><p>èˆµæœºçš„æ§åˆ¶ä¸€èˆ¬éœ€è¦ä¸€ä¸ª20msçš„æ—¶åŸºè„‰å†²(ä¹Ÿå°±æ˜¯å‘¨æœŸæ˜¯20ms)ï¼Œè¯¥è„‰å†²çš„é«˜ç”µå¹³éƒ¨åˆ†ä¸€èˆ¬ä¸º0.5ms~2.5msèŒƒå›´å†…çš„è§’åº¦æ§åˆ¶è„‰å†²éƒ¨åˆ†ã€‚ä»¥180åº¦è§’åº¦èˆµæœºä¸ºä¾‹ï¼Œé‚£ä¹ˆå¯¹åº”çš„æ§åˆ¶å…³ç³»æ˜¯è¿™æ ·çš„</p><blockquote><p>0.5ms-0åº¦:<br>1.0ms-45åº¦;<br>1.5ms-90åº¦;<br>2.0ms-135åº¦;<br>2.5ms-180åº¦;</p><p><img src="https://img-blog.csdnimg.cn/2fb9abab29f44aeba9942881dd77a486.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p></blockquote><h2 id="å¦‚ä½•ç²¾ç¡®æ§åˆ¶èˆµæœºè½¬å‘è§’åº¦"><a href="#å¦‚ä½•ç²¾ç¡®æ§åˆ¶èˆµæœºè½¬å‘è§’åº¦" class="headerlink" title="å¦‚ä½•ç²¾ç¡®æ§åˆ¶èˆµæœºè½¬å‘è§’åº¦"></a>å¦‚ä½•ç²¾ç¡®æ§åˆ¶èˆµæœºè½¬å‘è§’åº¦</h2><h2 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h2><h3 id="pwm"><a href="#pwm" class="headerlink" title="pwm"></a>pwm</h3><p>å®šæ—¶å™¨ä¸­æ–­ä¸€æ¬¡çš„æ—¶é—´ä¸ºToutï¼ˆæº¢å‡ºæ—¶é—´ï¼‰&#x3D;ï¼ˆARR+1)(PSC+1)&#x2F;Tclkï¼Œtclkä¸ºæ—¶é’Ÿé¢‘ç‡ï¼Œä¸€èˆ¬ä¸º72000000ï¼Œarrï¼šè‡ªåŠ¨é‡è£…å€¼ pscï¼šæ—¶é’Ÿé¢„åˆ†é¢‘æ•°</p><h3 id="èˆµæœº-1"><a href="#èˆµæœº-1" class="headerlink" title="èˆµæœº"></a>èˆµæœº</h3><p><a href="https://blog.csdn.net/weixin_44234294/article/details/114173000?ops_request_misc=%7B%22request_id%22:%22168886617416800188540469%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=168886617416800188540469&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-114173000-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&utm_term=pwm%E6%8E%A7%E5%88%B6%E8%88%B5%E6%9C%BA&spm=1018.2226.3001.4187">STM32 PWMæ§åˆ¶èˆµæœº_è¿½å…®å…®çš„åšå®¢-CSDNåšå®¢</a></p><h3 id="TIM-SetCompare"><a href="#TIM-SetCompare" class="headerlink" title="TIM_SetCompare"></a>TIM_SetCompare</h3><p><img src="https://img-blog.csdnimg.cn/20200130103122170.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1Bhc2Vk,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><ul><li><p>ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ç›¸åº”å®šæ—¶å™¨ï¼Œï¼ˆå®šæ—¶å™¨6,7é™¤å¤–ï¼‰ã€‚ä½¿ç”¨çš„GPIOå£ä½äºå“ªä¸ªå®šæ—¶å™¨é‚£ä¸€åˆ—å°±ä¼ å…¥å“ªä¸ªå®šæ—¶å™¨ã€‚</p></li><li><p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¾“å‡ºPWMçš„é«˜ç”µå¹³çš„æ—¶é—´ã€‚è¿™ä¸ªå€¼å¦‚æœå¤§äºå‘¨æœŸçš„å€¼ï¼Œå°†ä¼šä¸å‘¨æœŸä¿æŒä¸€è‡´ã€‚ç”¨ç¬¬äºŒä¸ªå‚æ•°é™¤ä»¥å‘¨æœŸå°±å¾—å ç©ºæ¯”ã€‚æ¯”å¦‚æˆ‘æƒ³è¦ä½¿ç”¨PA1è¾“å‡ºPWMï¼Œåˆ™åº”è¯¥è¿™æ ·å†™TIM_SetCompare2(TIM5,<a href="https://so.csdn.net/so/search?q=Compare&spm=1001.2101.3001.7020">Compare</a>)ã€‚Compareæ˜¯è¾“å‡ºé«˜ç”µå¹³çš„æ—¶é—´ã€‚ä½ æƒ³è¦åœ¨å“ªé‡Œä½¿ç”¨PWMå°±åœ¨å“ªé‡Œè°ƒç”¨è¿™ä¸ªå‡½æ•°</p></li></ul><p><a href="https://m.elecfans.com/article/675807.html">mg995èˆµæœºä¸­æ–‡èµ„æ–™ï¼ˆå‚æ•°_å°ºå¯¸_æ§åˆ¶ç¨‹åºï¼‰-ç”µå­å‘çƒ§å‹ç½‘ (elecfans.com)</a></p><h2 id="ç²¾å‡†æ§åˆ¶èˆµæœº"><a href="#ç²¾å‡†æ§åˆ¶èˆµæœº" class="headerlink" title="ç²¾å‡†æ§åˆ¶èˆµæœº"></a>ç²¾å‡†æ§åˆ¶èˆµæœº</h2><h3 id="æˆ‘çš„å…¬å¼"><a href="#æˆ‘çš„å…¬å¼" class="headerlink" title="æˆ‘çš„å…¬å¼"></a>æˆ‘çš„å…¬å¼</h3><p>Pulse&#x3D;50+Angel&#x2F;180*(250-50)</p><p>Pulse&#x3D;150+Angel&#x2F;90*(250-50)</p><p>åŸç†,å ç©ºæ¯”2.5-12.5%*2000&#x3D;50-&gt;250å¯¹åº”0-180åº¦ </p><p>å…¬å¼è®¡ç®—å¹¶æ²¡æœ‰é—®é¢˜å°±æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆ,ä¸èƒ½æ­£å¸¸è¾“å‡ºè„‰å†²</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;void Sevor_move(int8_t Angel)&#x2F;&#x2F;&#123;&#x2F;&#x2F;    &#x2F;&#x2F; è®¡ç®—PWMä¿¡å·çš„å ç©ºæ¯”&#x2F;&#x2F;    float pulse_float &#x3D; 50.0+Angel&#x2F;180.0*(250.0-50.0);&#x2F;&#x2F;    uint16_t pulse &#x3D;(uint16_t)(pulse_float+0.5) ;&#x2F;&#x2F;    &#x2F;&#x2F; è®¾ç½®PWMä¿¡å·çš„å ç©ºæ¯”&#x2F;&#x2F;    TIM_SetCompare1(TIM1, pulse);&#x2F;&#x2F;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>GPTå†™çš„æ­£ç¡®çš„ä»£ç </p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void Sevor_move(int8_t Angel)&#123;  uint16_t pulse;    &#x2F;&#x2F; å°†è§’åº¦é™åˆ¶åœ¨-90åˆ°90åº¦ä¹‹é—´    if (Angel &lt; -90) &#123;        Angel &#x3D; -90;    &#125; else if (Angel &gt; 90) &#123;        Angel &#x3D; 90;    &#125;    &#x2F;&#x2F; è®¡ç®—PWMä¿¡å·çš„è„‰å†²å®½åº¦å¯¹åº”çš„è®¡æ•°å€¼    pulse &#x3D; 50 + (uint16_t)((Angel + 90) &#x2F; 180.0 * 200); &#x2F;&#x2F; 50å¯¹åº”0.5ms, 250å¯¹åº”2.5ms    &#x2F;&#x2F; è®¾ç½®PWMä¿¡å·çš„è„‰å†²å®½åº¦    TIM_SetCompare1(TIM1, pulse);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li><p>åœ¨ 0 åˆ° 180 åº¦çš„èŒƒå›´å†…ï¼Œå°†è§’åº¦æ˜ å°„åˆ° 0.5ms åˆ° 2.5ms çš„è„‰å†²å®½åº¦èŒƒå›´ã€‚ä¸ºäº†å®ç°è¿™ä¸ªæ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çº¿æ€§å…³ç³»ã€‚</p><ul><li>è§’åº¦ 0 åº¦å¯¹åº”è„‰å†²å®½åº¦ 1.5msï¼ˆ90åº¦å¯¹åº”çš„ä¸­é—´ä½ç½®ï¼‰ï¼›</li><li>è§’åº¦ 90 åº¦å¯¹åº”è„‰å†²å®½åº¦ 2.5msï¼ˆèˆµæœºçš„æœ€å¤§è§’åº¦ï¼‰ï¼›</li><li>è§’åº¦ -90 åº¦å¯¹åº”è„‰å†²å®½åº¦ 0.5msï¼ˆèˆµæœºçš„æœ€å°è§’åº¦ï¼‰ã€‚</li></ul><p>æˆ‘ä»¬ä½¿ç”¨çº¿æ€§å…³ç³»è¿›è¡Œæ˜ å°„ï¼Œå³è„‰å†²å®½åº¦ &#x3D; (è§’åº¦ + 90) &#x2F; 180.0 * (2.5 - 0.5) + 0.5ã€‚</p></li><li><p>æœ€åï¼Œä¸ºäº†å¾—åˆ°è®¡æ•°å€¼èŒƒå›´åœ¨ 50 åˆ° 250 çš„å€¼ï¼ˆ2.5ms åˆ° 12.5ms å¯¹åº”çš„èŒƒå›´ï¼‰ï¼Œæˆ‘ä»¬å†å°†è„‰å†²å®½åº¦ä¹˜ä»¥200ï¼ˆå› ä¸º 250 - 50 &#x3D; 200ï¼‰å¹¶å››èˆäº”å…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•°ã€‚</p></li></ol><h3 id="æ›´æ”¹å"><a href="#æ›´æ”¹å" class="headerlink" title="æ›´æ”¹å"></a>æ›´æ”¹å</h3><p>æˆ‘çš„ä»£ç æ›´æ”¹åæ­£å¸¸</p><p>æˆ‘è®¤ä¸º:æ˜¯å› ä¸ºuint8_tæ˜¯8ä½æ— ç¬¦å·çš„æ•´å‹å˜é‡ä¹Ÿå°±æ˜¯ä¸€ä¸ªå­—èŠ‚,æœ€å¤§æ˜¯256,Angelè¾“å…¥ä¸º0-180,,ä¹Ÿæ²¡è¶…å•Š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void Sevor_move(int Angel)&#123;    &#x2F;&#x2F; è®¡ç®—PWMä¿¡å·çš„å ç©ºæ¯”    float pulse_float &#x3D; 50.0+Angel&#x2F;180.0*(250.0-50.0);    uint16_t pulse &#x3D;(uint16_t)(pulse_float+0.5) ;    &#x2F;&#x2F; è®¾ç½®PWMä¿¡å·çš„å ç©ºæ¯”    TIM_SetCompare1(TIM1, pulse);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h3><p>æ¢æˆintä¹‹ååˆæ¢å›uint8_täº†,å¥½ä½¿äº†,å¥½åƒæ˜¯<code>ç„å­¦</code>å•Š</p><h3 id="æ›´æ­£"><a href="#æ›´æ­£" class="headerlink" title="æ›´æ­£"></a>æ›´æ­£</h3><p>æ˜¯int8_tä¸å¯ä»¥</p><blockquote><p><code>int8_t</code>ï¼š</p><ul><li><code>int8_t</code> æ˜¯ä¸€ä¸ªæœ‰ç¬¦å·çš„æ•´æ•°ç±»å‹ï¼Œè¡¨ç¤ºèŒƒå›´ä¸ºä» -128 åˆ° 127ã€‚</li><li>å®ƒå ç”¨ 8 ä½ï¼ˆä¸€ä¸ªå­—èŠ‚ï¼‰å†…å­˜ç©ºé—´ã€‚</li><li><code>int8_t</code> åœ¨å­˜å‚¨çš„æ—¶å€™ä½¿ç”¨ 2 çš„è¡¥ç è¡¨ç¤ºï¼Œæœ€é«˜ä½è¡¨ç¤ºç¬¦å·ä½ã€‚</li></ul><p><code>uint8_t</code>ï¼š</p><ul><li><code>uint8_t</code> æ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„æ•´æ•°ç±»å‹ï¼Œè¡¨ç¤ºèŒƒå›´ä¸ºä» 0 åˆ° 255ã€‚</li><li>å®ƒåŒæ ·å ç”¨ 8 ä½ï¼ˆä¸€ä¸ªå­—èŠ‚ï¼‰å†…å­˜ç©ºé—´ã€‚</li><li><code>uint8_t</code> è¡¨ç¤ºçš„æ˜¯æ­£æ•´æ•°ï¼Œæ²¡æœ‰ç¬¦å·ä½ã€‚</li></ul></blockquote><p><a href="https://blog.csdn.net/m0_73931287/article/details/130445572">èˆµæœºé©±åŠ¨ä»£ç åŠèˆµæœºæ§åˆ¶åŸç†ï¼ˆè¯¦è§£ï¼‰_èˆµæœºé©±åŠ¨ç¨‹åº_å°å°_æ‰«åœ°åƒ§çš„åšå®¢-CSDNåšå®¢</a></p><h2 id="ç±»å‹è½¬æ¢çš„é—®é¢˜"><a href="#ç±»å‹è½¬æ¢çš„é—®é¢˜" class="headerlink" title="ç±»å‹è½¬æ¢çš„é—®é¢˜"></a>ç±»å‹è½¬æ¢çš„é—®é¢˜</h2><p>intå˜é‡èµ‹å€¼ç»™floatå˜é‡,å€¼ä¼šä¸å¯¹150å˜æˆ10584545684ä»€ä¹ˆçš„</p><h2 id="é”™è¯¯è¯Šæ–­"><a href="#é”™è¯¯è¯Šæ–­" class="headerlink" title="é”™è¯¯è¯Šæ–­"></a>é”™è¯¯è¯Šæ–­</h2><p>1.printfä¸²å£</p><p>2.cè¯­è¨€å®ç°çœ‹ç»“æœ</p><p>3.oled</p><h2 id="æ§åˆ¶èˆµæœºçš„ç¼“åŠ¨ç®—æ³•"><a href="#æ§åˆ¶èˆµæœºçš„ç¼“åŠ¨ç®—æ³•" class="headerlink" title="æ§åˆ¶èˆµæœºçš„ç¼“åŠ¨ç®—æ³•"></a>æ§åˆ¶èˆµæœºçš„ç¼“åŠ¨ç®—æ³•</h2><p>å½“æ§åˆ¶èˆµæœºè¿›è¡Œæ—‹è½¬æ—¶ï¼Œæ™®é€šçš„æ–¹å¼å¾€å¾€ä¼šç›´æ¥æŒ‡å®šèˆµæœºçš„ç›®æ ‡è§’åº¦ï¼Œç„¶åç›´æ¥è®©èˆµæœºè½¬åŠ¨åˆ°ç›®æ ‡è§’åº¦ã€‚è¿™ç§æ–¹å¼ä¼šå¯¼è‡´èˆµæœºåœ¨è½¬åŠ¨æ—¶çªç„¶åœä¸‹ï¼Œå¯èƒ½ä¼šäº§ç”Ÿé¢¤åŠ¨æˆ–è€…ä¸å¤Ÿå¹³æ»‘çš„æ•ˆæœã€‚</p><p>ä¸ºäº†å®ç°ä¸æ»‘æ—‹è½¬æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç¼“åŠ¨ï¼ˆEasingï¼‰æ–¹æ³•ã€‚ç¼“åŠ¨æ˜¯ä¸€ç§ç”¨äºå¹³æ»‘è¿‡æ¸¡åŠ¨ç”»æ•ˆæœçš„æ•°å­¦ç®—æ³•ï¼Œå®ƒå¯ä»¥è®©èˆµæœºåœ¨æ—‹è½¬è¿‡ç¨‹ä¸­é€æ¸å¢åŠ æˆ–å‡å°è§’é€Ÿåº¦ï¼Œä»è€Œä½¿å¾—æ—‹è½¬è¿‡ç¨‹æ›´åŠ å¹³æ»‘å’Œè‡ªç„¶ã€‚</p><p>ç¼“åŠ¨ç®—æ³•çš„åŸºæœ¬æ€æƒ³æ˜¯é€šè¿‡çº¿æ€§æ’å€¼æ¥è®¡ç®—èˆµæœºçš„å½“å‰è§’åº¦ã€‚å‡è®¾èˆµæœºèµ·å§‹è§’åº¦ä¸º <code>start</code>ï¼Œç›®æ ‡è§’åº¦ä¸º <code>target</code>ï¼Œå½“å‰æ—¶é—´ä¸º <code>t</code>ï¼ŒæŒç»­æ—¶é—´ä¸º <code>duration</code>ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„çº¿æ€§æ’å€¼å…¬å¼æ¥è®¡ç®—èˆµæœºçš„å½“å‰è§’åº¦ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">current_angle &#x3D; start + (target - start) * t &#x2F; duration<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªå…¬å¼ä¼šæ ¹æ®å½“å‰æ—¶é—´ <code>t</code> çš„å˜åŒ–ï¼Œé€æ­¥å°†èˆµæœºçš„è§’åº¦ä»èµ·å§‹è§’åº¦ <code>start</code> è¿‡æ¸¡åˆ°ç›®æ ‡è§’åº¦ <code>target</code>ï¼Œä»è€Œå®ç°å¹³æ»‘çš„æ—‹è½¬æ•ˆæœã€‚</p><p>åœ¨ç¤ºä¾‹ä»£ç ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†èµ·å§‹è§’åº¦ <code>servo_start_angle</code> ä¸º 0 åº¦ï¼Œç›®æ ‡è§’åº¦ <code>servo_target_angle</code> ä¸º 360 åº¦ï¼ˆä¸€åœˆï¼‰ï¼ŒæŒç»­æ—¶é—´ <code>duration</code> ä¸º 5000 æ¯«ç§’ï¼ˆå³ 5 ç§’ï¼‰ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå¾ªç¯æ¥æ¨¡æ‹Ÿæ•´ä¸ªç¼“åŠ¨è¿‡ç¨‹ã€‚åœ¨æ¯æ¬¡å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®å½“å‰æ—¶é—´ <code>t</code> ä½¿ç”¨ç¼“åŠ¨å‡½æ•° <code>easing</code> æ¥è®¡ç®—èˆµæœºçš„å½“å‰è§’åº¦ <code>servo_current_angle</code>ï¼Œç„¶åå°†èˆµæœºè®¾ç½®åˆ°å½“å‰è§’åº¦ï¼Œå¹¶ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼ˆæ—¶é—´æ­¥é•¿ <code>time_step</code>ï¼‰å†è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯ã€‚</p><p>ç¼“åŠ¨å‡½æ•° <code>easing</code> çš„è®¡ç®—å…¬å¼éå¸¸ç®€å•ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬ä¹‹å‰æåˆ°çš„çº¿æ€§æ’å€¼å…¬å¼ï¼Œç”¨äºè®¡ç®—èˆµæœºçš„å½“å‰è§’åº¦ã€‚æ ¹æ®éœ€è¦ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç¼“åŠ¨å‡½æ•°æ¥å®ç°ä¸åŒçš„æ—‹è½¬æ•ˆæœï¼Œæ¯”å¦‚ä½¿ç”¨ç¼“å…¥ç¼“å‡ºï¼ˆEase In, Ease Outï¼‰ç­‰ç¼“åŠ¨å‡½æ•°ã€‚ä¸åŒçš„ç¼“åŠ¨å‡½æ•°ä¼šäº§ç”Ÿä¸åŒçš„è§’é€Ÿåº¦å˜åŒ–ï¼Œä»è€Œä½¿å¾—æ—‹è½¬æ•ˆæœæ›´åŠ ä¸°å¯Œå’Œè‡ªç„¶ã€‚</p><p>æ€»ç»“ä¸€ä¸‹ï¼Œé€šè¿‡ä½¿ç”¨ç¼“åŠ¨æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥è®©èˆµæœºåœ¨æ—‹è½¬è¿‡ç¨‹ä¸­å¹³æ»‘è¿‡æ¸¡åˆ°ç›®æ ‡è§’åº¦ï¼Œä»è€Œå®ç°ä¸æ»‘çš„æ—‹è½¬æ•ˆæœã€‚ä½ å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚å’Œèˆµæœºçš„ç‰¹æ€§æ¥è°ƒæ•´ç¼“åŠ¨å‡½æ•°å’ŒæŒç»­æ—¶é—´ï¼Œä»¥è·å¾—æœ€ä½³çš„æ—‹è½¬æ•ˆæœã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é‡å­¦STM32</title>
      <link href="/2023/07/20/68h-chong-xue-stm32/"/>
      <url>/2023/07/20/68h-chong-xue-stm32/</url>
      
        <content type="html"><![CDATA[<h2 id="GPIO"><a href="#GPIO" class="headerlink" title="GPIO"></a>GPIO</h2><p>ä¸Šæ‹‰è¾“å…¥-&gt;æ‹‰åˆ°ä¸Šé¢ç­‰å¾…è¾“å…¥</p><img src="/2023/07/20/68h-chong-xue-stm32/image-20230720174755580.png" class="" title="image-20230720174755580"><h3 id="AFIO"><a href="#AFIO" class="headerlink" title="AFIO"></a>AFIO</h3><p>æœ‰çš„ç®¡è„šä¸ä»…æ˜¯ä½œä¸ºæ™®é€šIOçš„å­˜åœ¨ï¼Œæ›´æ˜¯ä½œä¸ºå¤–è®¾IOçš„å­˜åœ¨ï¼Œè¿™å°±æ˜¯<strong>ç®¡è„šå¤ç”¨ç°è±¡</strong>ã€‚è€Œæ™®é€šç®¡è„šå°±æ˜¯<strong>GPIO</strong>ï¼Œå¤ç”¨ç®¡è„šå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„<strong>AFIO</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœè¦ç”¨åˆ°å¤–è®¾åŠŸèƒ½ï¼Œåˆ™å¿…é¡»è¦ç”¨çš„åˆ°å¤–è®¾IOï¼ˆå³AFIOï¼‰ã€‚</p><h2 id="LED"><a href="#LED" class="headerlink" title="LED"></a>LED</h2><p>ledéœ€è¦è®¾å®šä¸€ä¸ªåˆå§‹å€¼,å½“ç„¶åˆå§‹åŒ–é‡Œé¢å·²ç»åŒ…æ‹¬äº†<code>GPIO_SetBits(GPIOC, GPIO_Pin_0|GPIO_Pin_1|GPIO_Pin_2);//setæš—ï¼Œresetäº®</code></p><h2 id="KEY"><a href="#KEY" class="headerlink" title="KEY"></a>KEY</h2><p>ä¸æ¡ä»¶é‡Œé¢å•åä»¥å¶ä¸€ä¸ªè®¾ç½®é”™è¯¯ç¨‹åºå°±ä¼šæ— æ³•æ­£å¸¸æ‰§è¡Œ,ä½†æ˜¯ä¸ä¼šæŠ¥é”™</p><p>ä¸Šæ‹‰è¾“å…¥-&gt;ä½ç”µå¹³æœ‰æ•ˆ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">u8 KEY_Scan(u8 mode)&#123; static u8 key_up&#x3D;1;&#x2F;&#x2F;æŒ‰é”®æŒ‰æ¾å¼€æ ‡å¿—if(mode)key_up&#x3D;1;  &#x2F;&#x2F;æ”¯æŒè¿æŒ‰  if(key_up&amp;&amp;(KEY0&#x3D;&#x3D;0||KEY1&#x3D;&#x3D;0||KEY2&#x3D;&#x3D;0))&#123;delay_ms(10);&#x2F;&#x2F;å»æŠ–åŠ¨ key_up&#x3D;0;if(KEY0&#x3D;&#x3D;0)return KEY0_PRES;else if(KEY1&#x3D;&#x3D;0)return KEY1_PRES;else if(KEY2&#x3D;&#x3D;0)return KEY2_PRES;&#125;else if(KEY0&#x3D;&#x3D;1&amp;&amp;KEY1&#x3D;&#x3D;1&amp;&amp;KEY2&#x3D;&#x3D;1)key_up&#x3D;1;      return 0;&#x2F;&#x2F; æ— æŒ‰é”®æŒ‰ä¸‹&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="EXTI"><a href="#EXTI" class="headerlink" title="EXTI"></a>EXTI</h2><h3 id="å¤–éƒ¨ä¸­æ–­ä¸èƒ½èƒ½å¦å†…éƒ¨æ‹‰é«˜ä½¿ç”¨"><a href="#å¤–éƒ¨ä¸­æ–­ä¸èƒ½èƒ½å¦å†…éƒ¨æ‹‰é«˜ä½¿ç”¨" class="headerlink" title="å¤–éƒ¨ä¸­æ–­ä¸èƒ½èƒ½å¦å†…éƒ¨æ‹‰é«˜ä½¿ç”¨"></a>å¤–éƒ¨ä¸­æ–­ä¸èƒ½èƒ½å¦å†…éƒ¨æ‹‰é«˜ä½¿ç”¨</h3><p>ä¸èƒ½</p><blockquote><p>é¦–å…ˆ,ä¸­æ–­æ˜¯è¾“å…¥æ¨¡å¼çš„,å› ä¸ºè¦æ£€æµ‹ä¿¡å·,ä½ è¦å†…éƒ¨æŠŠä»–æ‹‰é«˜æ‹‰ä½,å°±ä¼šå˜æˆè¾“å‡ºæ¨¡å¼,å†²çª</p></blockquote><p>å¤–éƒ¨ä¸­æ–­,è¾¹æ²¿æ£€æµ‹å™¨,å‘ç”Ÿé«˜ä½ç”µå¹³å˜åŒ–æ—¶å³è¿›å…¥ä¸­æ–­</p><p>ä¾‹:</p><blockquote><p>mpu6050çš„intæ˜¯10msè¿›å…¥ä¸€æ¬¡,æ„å‘³ç€int10mså‘ç”Ÿä¸€æ¬¡é«˜ä½ç”µå¹³å˜åŒ–,æ­£å¸¸å¤–éƒ¨ä¸­æ–­æ˜¯ä¸æ—¶é—´æ— å…³çš„</p><p>å¤–éƒ¨ä¸­æ–­çš„æŒ‰é”®,æŒ‰ä¸‹å³å‘ç”Ÿå˜åŒ–,å³è¿›å…¥ä¸­æ–­</p></blockquote><p>MSP432ç³»åˆ—å•ç‰‡æœºæ²¡æœ‰ç¼–ç å™¨æ¨¡å¼,æ‰€ä»¥å¯ä»¥ç”¨å¤–éƒ¨ä¸­æ–­æ¥æµ‹è„‰å†²æ•°è¿›è€Œæµ‹é€Ÿ</p><p>A,Bç›¸æ¥ä¸€æ ¹çº¿ä¸ºäºŒå€é¢‘,ABç›¸å„æ¥ä¸¤æ ¹çº¿ä¸ºå››å€é¢‘</p><h2 id="ç¼–ç å™¨æ¨¡å¼"><a href="#ç¼–ç å™¨æ¨¡å¼" class="headerlink" title="ç¼–ç å™¨æ¨¡å¼"></a>ç¼–ç å™¨æ¨¡å¼</h2><p>ç¼–ç å™¨è®¡æ•°åŸç†,å°±æ˜¯ç ç›˜è·Ÿéšç”µæœºè½¬,éœå°”ä¼ æ„Ÿå™¨,ä¸€ä¸ªå‘,ä¸€ä¸ªæ”¶,ç ç›˜æœ‰å‡ ä¸ªå­”,åˆ™è½¬ä¸€åœˆéœ€è¦å¤šå°‘ä¸ªè„‰å†²</p><p>ä½†å®é™…ä¸Šä¸æ˜¯è¿™ä¹ˆç®—çš„,è½¬ä¸€åœˆçš„è„‰å†²æ•°&#x3D;13çº¿* 30å‡é€Ÿæ¯” * 4å€é¢‘&#x3D;1560ä¸ªè„‰å†²</p><p>éœå°”å…ƒä»¶æ£€æµ‹è¾“å‡ºè‹¥å¹²è„‰å†²ä¿¡å·ï¼Œä¸ºåˆ¤æ–­è½¬å‘ï¼Œä¸€èˆ¬è¾“å‡ºä¸¤ç»„å­˜åœ¨ä¸€å®šç›¸ä½å·®çš„æ–¹æ³¢ä¿¡å·ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20210119213847839.gif#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>STM32è¯»å–ç¼–ç å™¨è¿‡ç¨‹</p><p>ç¼–ç å™¨äº§ç”Ÿè„‰å†²â€“&gt;å•ç‰‡æœºæ•è·è„‰å†²è¾¹æ²¿â€“&gt;å•ç‰‡æœºå®šæ—¶å™¨è®¡æ•°ã€è®¾ç½®è‡ªåŠ¨åŠ è½½å€¼ï¼ˆä¸€èˆ¬æ˜¯ç¼–ç å™¨çº¿æŸï¼Œæˆ–è€…æ˜¯çº¿æŸçš„2å€é¢‘æˆ–4å€é¢‘ï¼‰ã€è®¾ç½®åˆ†é¢‘â€“&gt;å½“è„‰å†²æ•°é‡è¾¾åˆ°è‡ªåŠ¨åŠ è½½å€¼æ—¶æº¢å‡ºä¸€ä¸ªäº‹ä»¶ï¼ˆè¡¨ç¤ºåœˆæ•°ï¼‰,è®°å½•ä¸€æ®µäº‹ä»¶å†…çš„è„‰å†²ä¸ªæ•°ï¼ˆè®¡ç®—è½¬é€Ÿï¼‰</p><p><code>TIM_EncoderInterfaceConfig(TIM3,TIM_EncoderMode_TI12,TIM_ICPolarity_Rising,TIM_ICPolarity_Rising )</code></p><img src="/2023/07/20/68h-chong-xue-stm32/image-20230808123447491.png" class="" title="image-20230808123447491"><p><strong>ä¸‰ç§æ¨¡å¼ï¼š</strong></p><p>1ï¼‰<strong>ä»…åœ¨TL1è®¡æ•°(Aç›¸)</strong></p><p>TIM_EncoderMode_TI1: Counter counts on TI1FP1 edge depending on TI2FP2 level. 2ï¼‰ </p><p><strong>ä»…åœ¨TL2è®¡æ•°ï¼ˆBç›¸ï¼‰</strong></p><p>TIM_EncoderMode_TI2: Counter counts on TI2FP2 edge depending on TI1FP1 level. 3ï¼‰</p><p><strong>åœ¨TL1å’ŒTL2éƒ½è®¡æ•°(Aç›¸å’ŒBç›¸éƒ½è®¡æ•°)</strong></p><p>TIM_EncoderMode_TI12: Counter counts on both TI1FP1 and TI2FP2 edges depending on the level of the other input<code>.ä¸€ä¸ªè„‰å†²ä¿¡å·å‘¨æœŸå®Œæˆ4æ¬¡è·³å˜ã€‚ç²¾åº¦æé«˜</code>ã€‚</p><p>å¦‚ä¸‹å›¾ </p><p>1æ—¶åˆ»ï¼šTI2ä¸ºä½ç”µå¹³ï¼ŒTI1ä¸Šå‡æ²¿è·³å˜ï¼Œè®¡æ•°å™¨å‘ä¸Šè®¡æ•°ï¼›</p><p>2æ—¶åˆ»ï¼šTI1ä¸ºé«˜ç”µå¹³ï¼ŒTI2ä¸Šå‡æ²¿è·³å˜ï¼Œè®¡æ•°å™¨ä»ç„¶å‘ä¸Šè®¡æ•°ï¼›</p><p>3æ—¶åˆ»ï¼šTI2ä¸ºé«˜ç”µå¹³ï¼ŒTI1ä¸‹é™æ²¿è·³å˜ï¼Œè®¡æ•°å™¨ä»ç„¶å‘ä¸Šè®¡æ•°ï¼›</p><p>4æ—¶åˆ»ï¼šTI1ä¸ºä½ç”µå¹³ï¼ŒTI2ä¸‹é™æ²¿è·³å˜ï¼Œè®¡æ•°å™¨ä»ç„¶å‘ä¸Šè®¡æ•°ã€‚ </p><p>æ¯›åˆºï¼šåªæœ‰ä¸€ä¸ªç›¸ä½è„‰å†² è¿‡æ»¤æ‰ ç¼–ç å™¨è½¬åŠ¨è¿‡ç¨‹ä¸­å¯èƒ½äº§ç”Ÿçš„æ¯›åˆºè¿‡æ»¤æ‰</p><p><img src="https://pic2.zhimg.com/80/v2-58ab52e0d34ce9fcad744614c8773a3d_1440w.webp" alt="img"></p><pre class="line-numbers language-text" data-language="text"><code class="language-text">è½¬é€Ÿ: ç”¨æ•è·å€¼ï¼ˆå³ä¸€ç§’å†…è¾“å‡ºçš„è„‰å†²æ•°ï¼‰*60/ ç¼–ç å™¨çº¿æ•°ï¼ˆè½¬é€Ÿä¸€åœˆè¾“å‡ºè„‰å†²æ•°ï¼‰/ ç”µæœºå‡æ•°æ¯”ï¼ˆå†…éƒ¨ç”µæœºè½¬åŠ¨åœˆæ•°ä¸ç”µæœºè¾“å‡ºè½´è½¬åŠ¨åœˆæ•°æ¯”ï¼Œå³å‡é€Ÿé½¿è½®æ¯”ï¼Œè‹¥æ²¡æœ‰åˆ™ä¸ç”¨é™¤ï¼‰ rmpè¿åŠ¨è·ç¦»ï¼š ç¼–ç å™¨é½¿è½®å‘¨é•¿*ï¼ˆè¾“å‡ºçš„æ€»è„‰å†²æ•°/ ç¼–ç å™¨çº¿æ•°ï¼‰è½¬åŠ¨è§’åº¦ï¼š 360 *ï¼ˆè¾“å‡ºçš„æ€»è„‰å†²æ•° / ç¼–ç å™¨çº¿æ•° è½¬åŠ¨æ–¹å‘ï¼š æ–¹å‘åœ¨å®šæ—¶å™¨CR1çš„DIRä½é‡Œ   dir=(TIMX->CR1 &amp; 0x0010)>>4;//å–æ–¹å‘æ ‡å¿—ä½     if(dir > 0)  //å‘ä¸‹è®¡æ•°   else//å‘ä¸Šè®¡æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å…³äºè¿™ä¸ªä»£ç æˆ‘æœ‰ä¸ç†è§£:</p><blockquote><p>pidè®¡ç®—æ˜¯é€šè¿‡ç†è®ºå€¼å’Œå®é™…å€¼æ¥è®¡ç®—çš„,å®é™…é€Ÿåº¦,é€šè¿‡ç¼–ç å™¨çš„è„‰å†²æ•°å¾—åˆ°çš„ä¹Ÿæ˜¯è„‰å†²æ•°,é‚£ä¹ˆè®¡ç®—å‡ºæ¥çš„ç»“æœæ€ä¹ˆå˜æˆå ç©ºæ¯”äº†å‘¢</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;*èµ‹å€¼å‡½æ•°*&#x2F;                                                &#x2F;*å…¥å£å‚æ•°ï¼šPIDè¿ç®—å®Œæˆåçš„æœ€ç»ˆPWMå€¼*&#x2F;void Load(int moto1,int moto2)&#x2F;&#x2F;moto1&#x3D;-200ï¼šåè½¬200ä¸ªè„‰å†²&#123;&#x2F;&#x2F;1.ç ”ç©¶æ­£è´Ÿå·ï¼Œå¯¹åº”æ­£åè½¬if(moto1&gt;0)Ain1&#x3D;1,Ain2&#x3D;0;&#x2F;&#x2F;æ­£è½¬else Ain1&#x3D;0,Ain2&#x3D;1;&#x2F;&#x2F;åè½¬&#x2F;&#x2F;2.ç ”ç©¶PWMå€¼TIM_SetCompare1(TIM1,GFP_abs(moto1));if(moto2&gt;0)Bin1&#x3D;1,Bin2&#x3D;0;else Bin1&#x3D;0,Bin2&#x3D;1;TIM_SetCompare4(TIM1,GFP_abs(moto2));&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ChatGPTå›ç­”</p><p>ä½ çš„ç–‘é—®æ˜¯å…³äºå¦‚ä½•å°†ä»ç¼–ç å™¨å¾—åˆ°çš„è„‰å†²æ•°è½¬åŒ–ä¸ºPWMå ç©ºæ¯”ä»¥æ§åˆ¶ç”µæœºé€Ÿåº¦</p><p>åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œè™½ç„¶ä½ ä»ç¼–ç å™¨å¾—åˆ°çš„æ˜¯è„‰å†²æ•°ï¼Œä½†è¿™äº›è„‰å†²æ•°å®é™…ä¸Šä»£è¡¨äº†ç”µæœºçš„è½¬åŠ¨æƒ…å†µï¼Œè¿›è€Œä¸ç”µæœºçš„é€Ÿåº¦ç›´æ¥ç›¸å…³ã€‚ä»£ç ä¸­çš„<code>Load</code>å‡½æ•°çš„ç›®çš„æ˜¯å°†ç”µæœºçš„é€Ÿåº¦æ§åˆ¶ä¿¡æ¯ï¼ˆå³æ¥è‡ªPIDæ§åˆ¶å™¨çš„è¾“å‡ºï¼‰è½¬åŒ–ä¸ºPWMä¿¡å·ï¼Œä»¥æ§åˆ¶ç”µæœºçš„å®é™…é€Ÿåº¦ã€‚</p><p>ç”µæœºçš„è½¬é€Ÿé€šå¸¸æ˜¯é€šè¿‡è°ƒæ•´ç”µæœºçš„ä¾›ç”µç”µå‹æˆ–å ç©ºæ¯”æ¥å®ç°çš„ï¼Œè€ŒPWMï¼ˆè„‰å†²å®½åº¦è°ƒåˆ¶ï¼‰ä¿¡å·å°±æ˜¯ä¸€ç§å¯ä»¥è°ƒæ•´ç”µå‹çš„æ–¹å¼ã€‚è¿™æ˜¯å› ä¸ºPWMä¿¡å·çš„é«˜ç”µå¹³æ—¶é—´ä¸è„‰å†²æ•°æˆæ­£æ¯”ï¼Œå› æ­¤å°†è„‰å†²æ•°è½¬åŒ–ä¸ºPWMä¿¡å·çš„å ç©ºæ¯”ï¼Œå¯ä»¥é—´æ¥æ§åˆ¶ç”µæœºçš„é€Ÿåº¦ã€‚</p><blockquote><p>å®é™…ä¸Šæ˜¯é€šè¿‡,pidçš„å‚æ•°,å°†ä»–ä»¬é‡åŒ–æˆä¸€ç§æ­£æ¯”å…³ç³»äº†æ˜¯å—</p></blockquote><p>ChatGPT</p><p>æ˜¯çš„ï¼Œä½ ç†è§£å¾—å¾ˆæ­£ç¡®ã€‚åœ¨ç”µæœºæ§åˆ¶ä¸­ï¼ŒPIDæ§åˆ¶å™¨è®¡ç®—å‡ºçš„æ§åˆ¶é‡ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªæ§åˆ¶è¯¯å·®çš„ä¿®æ­£å€¼ï¼‰éœ€è¦è½¬åŒ–ä¸ºä¸€ç§ç”µæœºèƒ½å¤Ÿç†è§£çš„å½¢å¼ï¼Œä¾‹å¦‚PWMä¿¡å·çš„å ç©ºæ¯”ã€‚è¿™å°±éœ€è¦å°†æ§åˆ¶é‡é‡åŒ–æˆç”µæœºçš„æ§åˆ¶è¾“å…¥ï¼Œä»¥å®ç°ä½ æœŸæœ›çš„ç”µæœºè¿åŠ¨ã€‚</p><p>PIDæ§åˆ¶å™¨è®¡ç®—å‡ºçš„æ§åˆ¶é‡é€šå¸¸ä¸ä½ å¸Œæœ›ç”µæœºå®ç°çš„é€Ÿåº¦ã€ä½ç½®ç­‰æŒ‡æ ‡ç›¸å…³ã€‚é€šè¿‡å°†è¿™ä¸ªæ§åˆ¶é‡ä¸ç”µæœºæ§åˆ¶ä¹‹é—´çš„å…³ç³»å»ºç«‹èµ·æ¥ï¼Œä½ å¯ä»¥å°†å®ƒè½¬åŒ–ä¸ºåˆé€‚çš„ç”µæœºæ§åˆ¶å‚æ•°ï¼Œå¦‚PWMå ç©ºæ¯”ã€‚è¿™ç§å…³ç³»çš„å»ºç«‹å’Œè°ƒæ•´å°±æ˜¯æ ¹æ®å…·ä½“çš„ç³»ç»Ÿç‰¹æ€§ã€ç”µæœºå‚æ•°ç­‰æ¥è¿›è¡Œçš„ã€‚</p><p>å› æ­¤ï¼Œå¯ä»¥è¯´ä½ é€šè¿‡PIDæ§åˆ¶å™¨è®¡ç®—å‡ºçš„å‚æ•°ï¼Œå°†å…¶é‡åŒ–ä¸ºç”µæœºæ§åˆ¶å‚æ•°ï¼Œè¿›è€Œå®ç°äº†ä¸€ç§æ­£æ¯”å…³ç³»ï¼Œä»è€Œè®©ç”µæœºä»¥æœŸæœ›çš„æ–¹å¼è¿åŠ¨ã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåˆ°äº†ç³»ç»Ÿå»ºæ¨¡ã€æ§åˆ¶å™¨è°ƒèŠ‚å’Œç”µæœºæ§åˆ¶çš„ä¸€ç³»åˆ—æ­¥éª¤ã€‚</p><blockquote><p>å°±ç›¸å½“äºå ç©ºæ¯”ä¸è„‰å†²æ•°éƒ½ä¸é€Ÿåº¦æœ‰å…³ç³»,pidå°±æ˜¯æ‰¾åˆ°ä»–ä»¬å…³ç³»çš„ç³»æ•°</p></blockquote><p><a href="https://zhuanlan.zhihu.com/p/592196163">STM32è¯»å–ç¼–ç å™¨è¯»æ•° - çŸ¥ä¹ (zhihu.com)</a></p><h2 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>67H_OpenMV</title>
      <link href="/2023/07/05/67h-openmv/"/>
      <url>/2023/07/05/67h-openmv/</url>
      
        <content type="html"><![CDATA[<p><a href="https://book.openmv.cc/quick-starter.html">10åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹ Â· OpenMVä¸­æ–‡å…¥é—¨æ•™ç¨‹</a></p><p><a href="https://docs.singtown.com/micropython/zh/latest/openmvcam/library/machine.UART.html#machine.UART">UARTç±» â€“ åŒå·¥ä¸²è¡Œé€šä¿¡æ€»çº¿ â€” MicroPython 1.9.2 æ–‡æ¡£ (singtown.com)</a></p><p><a href="https://blog.csdn.net/lihaotian111/article/details/116384913?ops_request_misc=%7B%22request_id%22:%22168854580016800215014509%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=168854580016800215014509&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~hot_rank-1-116384913-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&utm_term=openmv%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1&spm=1018.2226.3001.4187#2_5">è¶…è¯¦ç»†OpenMVä¸STM32å•ç‰‡æœºé€šä¿¡ (æœ‰å®Œæ•´ç‰ˆæºç )_openmvå’Œstm32_Wu__Laçš„åšå®¢-CSDNåšå®¢</a></p><img src="/2023/07/05/67h-openmv/image-20230705163332838.png" class="" title="image-20230705163332838"><img src="/2023/07/05/67h-openmv/image-20230705163541604.png" class="" title="image-20230705163541604"><h2 id="OpenMVä¸²å£é€šä¿¡"><a href="#OpenMVä¸²å£é€šä¿¡" class="headerlink" title="OpenMVä¸²å£é€šä¿¡"></a>OpenMVä¸²å£é€šä¿¡</h2><h2 id="é—®é¢˜-oledä¸æ˜¾ç¤º"><a href="#é—®é¢˜-oledä¸æ˜¾ç¤º" class="headerlink" title="é—®é¢˜ oledä¸æ˜¾ç¤º"></a>é—®é¢˜ oledä¸æ˜¾ç¤º</h2><p>é¦–å…ˆåˆ¤æ–­æ˜¯ä¸²å£ä¸­æ–­çš„é—®é¢˜è¿˜æ˜¯é…ç½®çš„é—®é¢˜,ä½¿ç”¨testæ–‡ä»¶æ£€æµ‹ä¸²å£æ˜¯å¦èƒ½æ”¶å‘æ•°æ®,å¦‚æœä¸èƒ½åˆ™ä¸ºé…ç½®é”™è¯¯,(æˆ‘æ²¡æœ‰æ£€æµ‹,å› ä¸ºæˆ‘çœ‹äº†å¥½å‡ éæ„Ÿè§‰æ²¡é—®é¢˜,æœ€åè¿˜æ˜¯æœ‰é—®é¢˜),æˆ‘æ˜¯,æ‰¾ä¸€ä¸ªèƒ½æ­£å¸¸ä½¿ç”¨çš„,ç„¶åä¸€æ­¥ä¸€æ­¥æ”¹æˆä¸€æ ·çš„,å“ªä¸€æ­¥ç°è±¡æ”¹å˜,å°±æ˜¯é‚£å—çš„é—®é¢˜,æˆ–è€…æœ€åå‰©ä¸‹çš„å°±æ˜¯é—®é¢˜</p><h3 id="é€šè®¯åè®®"><a href="#é€šè®¯åè®®" class="headerlink" title="é€šè®¯åè®®"></a>é€šè®¯åè®®</h3><p>è‡ªå·±å†™,å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„ä¸€æ ·å°±è¡Œ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void USART3_IRQHandler(void)                &#123;    static int i&#x3D;0;static u8 Rebuf[20]&#x3D;&#123;0&#125;;  if(USART_GetITStatus(USART3, USART_IT_RXNE) !&#x3D; RESET)  &#123;      Rebuf[i++] &#x3D; USART_ReceiveData(USART3);  &#x2F;&#x2F;æ¥æ”¶æ•°æ®  if(Rebuf[0]!&#x3D;0x2C) i&#x3D;0;                   &#x2F;&#x2F;åˆ¤æ–­ç¬¬ä¸€ä¸ªå¸§å¤´0xa3  if((i&#x3D;&#x3D;2)&amp;&amp;(Rebuf[1]!&#x3D;0x12))i&#x3D;0;    &#x2F;&#x2F;åˆ¤æ–­ç¬¬äºŒä¸ªå¸§å¤´0xb3  &#x2F;&#x2F;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;æ–¹æ³•ä¸€&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;      if(i&#x3D;&#x3D;5)                    &#x2F;&#x2F;å…±äº”ä¸ªå­—èŠ‚çš„æ•°æ®   &#123;                 &#x2F;&#x2F;æ•…rebuf[i++]&#x3D;[0,1,2,3,4],ä¹Ÿå°±æ˜¯rebuf[4]æ—¶,i&#x3D;5      if(Rebuf[4] &#x3D;&#x3D; 0x5B)    &#x2F;&#x2F;ä»£è¡¨ä¸€ç»„æ•°æ®ä¼ è¾“å®Œæ¯•     &#123;          &#x2F;&#x2F;!!!!åˆ¤æ–­å¸§å°¾0xc3,è¿™ä¸ªæ–¹æ³•ä¼šå¤šç»™ä¸€ä¸ª0,æ¯”å¦‚65æ˜¾ç¤º650,åº”è¯¥è·Ÿè¡¥ä½æœ‰å…³ç³»                          memcpy(openmv_data,Rebuf,i);&#x2F;&#x2F;è¿™ä¸ªå‡½æ•°çš„å…·ä½“ä½œç”¨ &#125;  i &#x3D; 0;             &#x2F;&#x2F;æ¸…ç©ºæ•°ç»„  &#125;   &#125;&#125;                &#x2F;&#x2F;[1]è¯†åˆ«åˆ°çš„æ•°å­—:    &#x2F;&#x2F;openmv_num &#x3D; openmv_data[2];    &#x2F;&#x2F;[2]æ•°å­—çš„xã€yåæ ‡:    &#x2F;&#x2F;openmv_x &#x3D; openmv_data [2];    &#x2F;&#x2F;openmv_y &#x3D; openmv_data [3];    &#x2F;&#x2F;USART_ClearITPendingBit(USART3,USART_IT_RXNE);   &#x2F;&#x2F;æ¸…é™¤ä¸­æ–­æ ‡å¿—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜¯çš„ï¼Œæ‚¨å‘é€çš„æ•°æ®æ˜¯5ä¸ªå­—èŠ‚ï¼Œä½†ç¬¬ä¸€æ®µä»£ç ä¸­çš„ifåˆ¤æ–­æ¡ä»¶æ˜¯<code>if(i&gt;=10)</code>ã€‚è¿™ä¸ªåˆ¤æ–­æ¡ä»¶å¹¶ä¸å‡†ç¡®ï¼Œä½†å®é™…ä¸Šå¹¶ä¸å½±å“æ­£ç¡®æ¥æ”¶åˆ°æ•°æ®ã€‚</p><p>åœ¨ç¬¬ä¸€æ®µä»£ç ä¸­ï¼Œå½“æ¥æ”¶åˆ°å®Œæ•´çš„5ä¸ªå­—èŠ‚çš„æ•°æ®åŒ…æ—¶ï¼Œå°±å°†æ•°æ®å¤åˆ¶åˆ°openmv_dataæ•°ç»„ä¸­è¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚è€Œå½“æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦å¤§äºç­‰äº10ä¸ªå­—èŠ‚æ—¶ï¼Œè™½ç„¶ifæ¡ä»¶ä¸æ»¡è¶³ï¼Œä½†å¹¶ä¸ä¼šå½±å“æ¥æ”¶åˆ°çš„æ•°æ®ã€‚å› ä¸ºå³ä½¿æ¥æ”¶åˆ°çš„æ•°æ®é•¿åº¦å¤§äº5ä¸ªå­—èŠ‚ï¼Œä¹Ÿåªæœ‰å‰5ä¸ªå­—èŠ‚æ˜¯æœ‰æ•ˆçš„æ•°æ®ï¼Œåé¢çš„å­—èŠ‚ä¼šè¢«å¿½ç•¥æ‰ã€‚</p><blockquote><p>æˆ‘åªä¼ è¾“äº”ä¸ªå­—èŠ‚çš„æ•°æ®,è¿™æ®µä»£ç èƒ½æ­£å¸¸è¿è¡Œçš„åŸå› æ˜¯æ¥æ”¶åˆ°äº†åä¸ªå­—èŠ‚,ç„¶åå–å…¶ä¸­çš„ä¸¤ä¸ªå­—èŠ‚,å…¶ä»–çš„ä¸è¦,ç›¸å½“äºå‘é€æ–¹å‘ä¸¤æ¡,æ¥æ”¶æ–¹æ¥æ”¶ä¸¤æ¡åœ¨ä¸€æ¡æ•°æ®é‡Œ,ä½†æ˜¯åªè¯»å–ä¸€æ¡å®Œæ•´çš„æ•°æ®å¯¹å˜›</p></blockquote><p>è™½ç„¶è¿™ç§å®ç°æ–¹å¼å¯èƒ½ä¼šæµªè´¹ä¸€äº›æ¥æ”¶ç¼“å†²åŒºçš„ç©ºé—´ï¼Œä½†ç”±äºæ•°æ®åŒ…é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œå› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ä¹Ÿä¸ä¼šå½±å“æ•°æ®çš„æ­£ç¡®æ¥æ”¶ã€‚ä½†æ˜¯ä¸ºäº†æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå»ºè®®å°†ifåˆ¤æ–­æ¡ä»¶æ”¹ä¸º<code>if(i==5)</code>ï¼Œè¿™æ ·å¯ä»¥æ›´å‡†ç¡®åœ°åˆ¤æ–­æ¥æ”¶åˆ°çš„æ•°æ®æ˜¯å¦å®Œæ•´ï¼Œå¹¶é¿å…æµªè´¹ç¼“å†²åŒºçš„ç©ºé—´ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">  &#x2F;&#x2F;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;æ–¹æ³•äºŒ&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;          if(i&gt;&#x3D;10)&#123;memcpy(openmv_data,Rebuf,i);i &#x3D; 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥è§£å†³çš„é—®é¢˜,if(i&#x3D;&#x3D;5)è¿™ä¸ªæ–¹æ³•ä¼šå¯¼è‡´65åé¢å¤šä¸ª0çš„æ ¼å¼</p><p>ä¸²å£å¤±æ•ˆ</p><p>1.é…ç½®</p><p>2.æ¥çº¿</p><p>3.å‡½æ•°æœ‰é”™è¯¯</p><p>æ—¶é’Ÿ</p><p>gpiobå’Œusart3çš„æ—¶é’Ÿä¸æ˜¯åŒä¸€ä¸ª,ä¸èƒ½å¤Ÿä¸€èµ·ä½¿èƒ½</p><img src="/2023/07/05/67h-openmv/image-20230712164259761.png" class="" title="image-20230712164259761"><p>bytearray</p><h2 id="æ•°æ®å¸§"><a href="#æ•°æ®å¸§" class="headerlink" title="æ•°æ®å¸§"></a>æ•°æ®å¸§</h2><p>å‘é€ä¸€ä¸ªå­—èŠ‚æ•°æ®è¶…è¿‡255</p><p>1.æ‹†æˆä¸ªåç™¾ä½</p><ol start="2"><li></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>STM32+OLEDå¤šçº§èœå•</title>
      <link href="/2023/07/01/66h-stm32-oled/"/>
      <url>/2023/07/01/66h-stm32-oled/</url>
      
        <content type="html"><![CDATA[<h2 id="cè¯­è¨€çš„åœ°å€"><a href="#cè¯­è¨€çš„åœ°å€" class="headerlink" title="cè¯­è¨€çš„åœ°å€"></a>cè¯­è¨€çš„åœ°å€</h2><h2 id="å¤šçº§èœå•åŸç†"><a href="#å¤šçº§èœå•åŸç†" class="headerlink" title="å¤šçº§èœå•åŸç†"></a>å¤šçº§èœå•åŸç†</h2><p>æ•°ç»„æŸ¥è¡¨æ³•</p><p>å®ç°æ•°æ®å‘ä¸‹æ»šåŠ¨,å®é™…ä¸Šæ˜¯å¦ä¸€ä¸ªå‡½æ•°åˆ é™¤äº†ç¬¬ä¸€è¡Œ,åŠ äº†æœ€åä¸€è¡Œ,ä¸­é—´çš„æ•°æ®yåæ ‡å‘ä¸Šç§»åŠ¨2ä¸ª</p><p><a href="https://www.bilibili.com/read/cv16469149">STM32ç®€æ˜“å¤šçº§èœå•(æ•°ç»„æŸ¥è¡¨æ³•) - å“”å“©å“”å“© (bilibili.com)</a></p><h2 id="Cè¯­è¨€"><a href="#Cè¯­è¨€" class="headerlink" title="Cè¯­è¨€"></a>Cè¯­è¨€</h2><h3 id="å‡½æ•°æŒ‡é’ˆ"><a href="#å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="å‡½æ•°æŒ‡é’ˆ"></a>å‡½æ•°æŒ‡é’ˆ</h3><blockquote><p><strong>å‡½æ•°æŒ‡é’ˆ</strong>ï¼šé¦–å…ˆå®ƒæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ª<a href="https://so.csdn.net/so/search?q=%E6%8C%87%E5%90%91%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E9%92%88&spm=1001.2101.3001.7020">æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</a>ï¼Œåœ¨å†…å­˜ç©ºé—´ä¸­å­˜æ”¾çš„æ˜¯å‡½æ•°çš„åœ°å€ï¼›</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">int main()&#123;int a &#x3D; 10;int*pa &#x3D; &amp;a;char ch &#x3D; &#39;c&#39;;char* pc &#x3D; &amp;ch;int arr[10] &#x3D; &#123;0&#125;;int (*parr)[10] &#x3D; &amp;arr;&#x2F;&#x2F;å–å‡ºæ•°ç»„çš„åœ°å€return 0;ï½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è§£æï¼šparræ˜¯ä¸€ä¸ª<a href="https://so.csdn.net/so/search?q=%E6%8C%87%E5%90%91%E6%95%B0%E7%BB%84%E7%9A%84%E6%8C%87%E9%92%88&spm=1001.2101.3001.7020">æŒ‡å‘æ•°ç»„çš„æŒ‡é’ˆ</a>ï¼Œå­˜æ”¾çš„æ˜¯æ•°ç»„çš„åœ°å€ï¼›</p><blockquote><p>æ‰€ä»¥ï¼š</p><ul><li><strong>æ•°ç»„æŒ‡é’ˆ â€”å­˜æ”¾æ•°ç»„åœ°å€çš„æŒ‡é’ˆï¼›</strong></li><li><strong>&amp;æ•°ç»„å â€”å¾—åˆ°çš„å°±æ˜¯æ•°ç»„çš„åœ°å€ï¼›</strong></li></ul></blockquote><p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¸å¯ä»¥è¿™ä¹ˆè®¤ä¸ºï¼š</p><blockquote><ul><li><strong>å‡½æ•°æŒ‡é’ˆ â€”å­˜æ”¾å‡½æ•°åœ°å€çš„æŒ‡é’ˆï¼›</strong></li><li><strong>&amp;å‡½æ•°å â€”å¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªå‡½æ•°çš„åœ°å€ï¼›</strong></li></ul></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">int Add(int xï¼Œint y)&#123;return x+y; &#125;int main()&#123;printf(&quot;%p\n&quot;,&amp;Add);&#x2F;&#x2F;æ‰“å°ä¸€ä¸‹å‡½æ•°Add()çš„åœ°å€printf(&quot;%p\n&quot;,Add);&#x2F;&#x2F;æ•°ç»„åç­‰äºæ•°ç»„é¦–å…ƒç´ åœ°å€ï¼Œé‚£å‡½æ•°åæ˜¯ç­‰äºå‡½æ•°åœ°å€å—ï¼Ÿyesreturn 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å‡½æ•°åæ˜¯ç­‰äºå‡½æ•°åœ°å€</strong></p><h3 id="å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•"><a href="#å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•"></a>å‡½æ•°æŒ‡é’ˆçš„ä½¿ç”¨æ–¹æ³•</h3><p><strong>å‡½æ•°æŒ‡é’ˆçš„å®šä¹‰</strong>ï¼š å‡½æ•°çš„è¿”å›å€¼ç±»å‹ï¼ˆ*æŒ‡é’ˆåï¼‰ï¼ˆå‡½æ•°çš„å‚æ•°åˆ—è¡¨ç±»å‹ï¼‰</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">int Add(int x, int y)&#123;return x+y;&#125;int main()&#123; int (*pf)(int, int) &#x3D; &amp;Add;&#x2F;&#x2F;å‡½æ•°æŒ‡é’ˆå®šä¹‰ï¼Œè¿”å›å€¼ç±»å‹å’Œå‚æ•°ç±»å‹ä¸å‡½æ•°Addï¼ˆï¼‰ç›¸åŒ&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">void Add(int x, int y)&#123;return x+y;&#125;int main()&#123;int (*pf)(int,int)&#x3D;&amp;Add;int ret&#x3D;(*pf)(3,5);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è§£æï¼š<br><code>int ret=(*pf)(3,5)</code>ï¼Œæ­¤æ—¶å°±ç›¸å½“äºé€šè¿‡å‡½æ•°åè°ƒç”¨ï¼š<code> int ret=Add(3,5);&#125;</code>ï¼Œæˆ‘ä»¬åˆçŸ¥é“ï¼š<strong>å‡½æ•°åæ˜¯ç­‰äº&amp;å‡½æ•°å</strong>çš„ï¼Œæ‰€ä»¥<code>int (*pf)(int,int)=&amp;Add</code>ï¼Œå¯æ”¹æˆï¼š<code>int (*pf)(int,int)=Add</code>;æ­¤æ—¶Addç­‰ä»·äºpfï¼Œæ‰€ä»¥ï¼š<code>int ret=(*pf)(3,5)</code>;è¯­å¥å¯æ”¹æˆï¼š<code>int ret=pf(3,5)</code>;ç­‰ä»·äº<code>int ret=Add(3,5)</code>ï¼Œæ•…æˆ‘ä»¬çŸ¥é“äº†å¯¹äºï¼š<code>int ret=(*pf)(3,5)</code>;è¯­å¥æ¥è¯´ï¼Œ*æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæˆ–è€…æ²¡æœ‰éƒ½ä¸å½±å“ï¼›</p></blockquote><ul><li>æ•°ç»„å (arr) <strong>!&#x3D;</strong> &amp;æ•°ç»„å(&amp;arr)</li><li>å‡½æ•°å(Add) &#x3D; &amp;å‡½æ•°å(&amp;Add)</li></ul><h3 id="æŒ‡é’ˆè°ƒç”¨å‡½æ•°"><a href="#æŒ‡é’ˆè°ƒç”¨å‡½æ•°" class="headerlink" title="æŒ‡é’ˆè°ƒç”¨å‡½æ•°"></a>æŒ‡é’ˆè°ƒç”¨å‡½æ•°</h3><p>{1, 2, 5, (*show1)}</p><p>åœ¨ {1, 2, 5, (show1())} è¿™ä¸ªç»“æ„ä½“ä¸­ï¼Œ(show1()) è¡¨ç¤ºè°ƒç”¨ show1 å‡½æ•°å¹¶å°†å…¶è¿”å›å€¼ä½œä¸ºè¿™ä¸ªå…ƒç´ çš„å€¼ï¼Œè€Œä¸æ˜¯å°† show1 å‡½æ•°æœ¬èº«çš„åœ°å€ä½œä¸ºå‡½æ•°æŒ‡é’ˆã€‚å› æ­¤ï¼Œè¿™ç§å†™æ³•æ˜¯ä¸æ­£ç¡®çš„ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p><p>åœ¨ C è¯­è¨€ä¸­ï¼Œ<code>å‡½æ•°å</code>æœ¬èº«å°±æ˜¯ä¸€ä¸ª<code>æŒ‡å‘å‡½æ•°ä»£ç å—</code>çš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥<code>ç›´æ¥</code>å°†<code>å‡½æ•°åèµ‹å€¼</code>ç»™ä¸€ä¸ª<code>å‡½æ•°æŒ‡é’ˆå˜é‡</code>ï¼Œæˆ–è€…é€šè¿‡æŒ‡é’ˆå˜é‡æ¥è°ƒç”¨å‡½æ•°ã€‚è€Œ<code>åœ¨ç»“æ„ä½“æˆ–æ•°ç»„ä¸­å®šä¹‰å‡½æ•°æŒ‡é’ˆ</code>æ—¶ï¼Œéœ€è¦ä½¿ç”¨ (*show1) è¿™ç§æ–¹å¼æ¥è§£å¼•ç”¨æŒ‡é’ˆï¼Œè¿™æ˜¯å› ä¸ºï¼Œåœ¨ç»“æ„ä½“æˆ–æ•°ç»„ä¸­å®šä¹‰çš„å‡½æ•°æŒ‡é’ˆå˜é‡æœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œéœ€è¦ä½¿ç”¨è§£å¼•ç”¨ç¬¦å· * æ¥è·å–æŒ‡å‘çš„å‡½æ•°ä»£ç å—çš„åœ°å€ã€‚</p><p>å› æ­¤ï¼Œæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯<code> &#123;1, 2, 5, (*show1)&#125;</code>ï¼Œå…¶ä¸­ (*show1) è¡¨ç¤ºæŒ‡å‘ show1 å‡½æ•°çš„æŒ‡é’ˆå˜é‡ï¼Œé€šè¿‡è§£å¼•ç”¨æŒ‡é’ˆçš„æ–¹å¼æ¥è·å–å‡½æ•°ä»£ç å—çš„åœ°å€ï¼Œå¹¶å°†å…¶ä½œä¸ºè¿™ä¸ªå…ƒç´ çš„å€¼ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">struct Menu &#123;    int menu_id;    int parent_id;    int operation_code;    void (*operation_func)();&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>void (*current_operation)(void)å¹¶ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆå˜é‡çš„å®šä¹‰ã€‚åœ¨ C è¯­è¨€ä¸­ï¼Œå‡½æ•°åæœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡å‘å‡½æ•°ä»£ç å—çš„æŒ‡é’ˆï¼Œå› æ­¤å¯ä»¥ç”¨ä¸€ä¸ªæŒ‡é’ˆå˜é‡æ¥å­˜å‚¨å‡½æ•°çš„åœ°å€ï¼Œç„¶åé€šè¿‡è¿™ä¸ªæŒ‡é’ˆå˜é‡æ¥è°ƒç”¨å‡½æ•°,è¿™æ®µä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸º current_operation çš„å‡½æ•°æŒ‡é’ˆå˜é‡ï¼Œå®ƒå¯ä»¥æŒ‡å‘ä¸€ä¸ªæ²¡æœ‰å‚æ•°å’Œè¿”å›å€¼çš„å‡½æ•°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void show1() &#123;    printf(&quot;This is show1 function.\n&quot;);&#125;int main() &#123;    void (*current_operation)(void);  &#x2F;&#x2F; å®šä¹‰ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆå˜é‡    current_operation &#x3D; show1;  &#x2F;&#x2F; å°† show1 å‡½æ•°çš„åœ°å€èµ‹å€¼ç»™å‡½æ•°æŒ‡é’ˆå˜é‡    current_operation();  &#x2F;&#x2F; é€šè¿‡æŒ‡é’ˆå˜é‡è°ƒç”¨ show1 å‡½æ•°    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">Menu_table table[26] &#x3D; &#123;    &#123;0, 0, 1, (*show0)&#125;,  &#x2F;&#x2F; ä½¿ç”¨ (*show0) æ¥è·å–å‡½æ•° show0 çš„åœ°å€    &#x2F;&#x2F; ...&#125;;&#x2F;&#x2F; è°ƒç”¨å‡½æ•° show0table[0].current_operation();  &#x2F;&#x2F; ä½¿ç”¨æˆå‘˜è§£å¼•ç”¨è¿ç®—ç¬¦æ¥è°ƒç”¨æˆå‘˜å‡½æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆä½¿ç”¨ <code>(*show0)</code> æ¥è·å–å‡½æ•° <code>show0</code> çš„åœ°å€ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ <code>current_operation</code>ã€‚ç„¶åï¼Œé€šè¿‡æˆå‘˜è§£å¼•ç”¨è¿ç®—ç¬¦ <code>()</code> æ¥è°ƒç”¨ <code>current_operation</code> æ‰€æŒ‡å‘çš„å‡½æ•° <code>show0</code>ã€‚</p><p><strong>å‡½æ•°åä¸å°±æ˜¯å‡½æ•°åœ°å€å—,ä¸ºå•¥è¿˜ç”¨åŠ *è·å–å‡½æ•°åœ°å€</strong></p><p>ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ <code>*</code> æ¥è·å–å‡½æ•°æŒ‡é’ˆçš„åœ°å€ã€‚è¿™æ˜¯å› ä¸ºåœ¨ C è¯­è¨€ä¸­ï¼Œå‡½æ•°åè¢«è§†ä¸ºä¸€ä¸ª<code>æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</code>ï¼Œä½†æ˜¯åœ¨ç»“æ„ä½“ä¸­å®šä¹‰å‡½æ•°æŒ‡é’ˆç±»å‹çš„æˆå‘˜å˜é‡æ—¶ï¼Œéœ€è¦æ˜¾å¼åœ°<code>å£°æ˜ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆå˜é‡</code>ï¼Œç„¶åæŠŠå‡½æ•°çš„åœ°å€èµ‹å€¼ç»™è¿™ä¸ªæŒ‡é’ˆå˜é‡ã€‚å› æ­¤ï¼Œéœ€è¦ä½¿ç”¨è§£å¼•ç”¨è¿ç®—ç¬¦ <code>*</code> æ¥è·å–å‡½æ•°çš„åœ°å€ã€‚</p><p><strong>ä¸ç†è§£,å¼„äº†åŠå¤©,ä¸åŠ *ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œçš„,è¿˜æ˜¯ä¸èƒ½è¿‡äºä¿¡ä»»chatgpt,è¦è·‘ä¸€ä¸‹çœ‹èƒ½ä¸èƒ½è·‘,ä¸èƒ½è·‘çš„è¯æ˜¯æŠ¥ä»€ä¹ˆé”™</strong></p><h3 id="ç»“æ„ä½“æŒ‡é’ˆ"><a href="#ç»“æ„ä½“æŒ‡é’ˆ" class="headerlink" title="ç»“æ„ä½“æŒ‡é’ˆ"></a>ç»“æ„ä½“æŒ‡é’ˆ</h3><p>å£°æ˜ç»“æ„ä½“ç±»å‹ï¼š<br>Struct ç»“æ„ä½“å{<br>æˆå‘˜åˆ—è¡¨;<br>}å˜é‡ååˆ—è¡¨ï¼›<br>ä¾‹å¦‚ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Struct U_TYPE &#123;Int BaudRateInt WordLength; &#125;usart1,usart2;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ç»“æ„ä½“ç”³æ˜çš„æ—¶å€™å¯ä»¥å®šä¹‰å˜é‡ï¼Œä¹Ÿå¯ä»¥ç”³æ˜ä¹‹åå®šä¹‰</p><p>æ–¹æ³•æ˜¯:</p><p>Struct ç»“æ„ä½“åå­— ç»“æ„ä½“å˜é‡åˆ—è¡¨ ;<br>ä¾‹å¦‚ï¼š<code>struct U_TYPE usart1,usart2</code>;<br>ç»“æ„ä½“æˆå‘˜å˜é‡çš„å¼•ç”¨æ–¹æ³•æ˜¯ï¼š<br>ç»“æ„ä½“å˜é‡åå­—.æˆå‘˜å<br>æ¯”å¦‚è¦å¼•ç”¨ usart1 çš„æˆå‘˜ BaudRate,æ–¹æ³•æ˜¯ï¼šusart1.BaudRate;<br>ç»“æ„ä½“æŒ‡é’ˆå˜é‡å®šä¹‰ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œè·Ÿå…¶ä»–å˜é‡æ²¡æœ‰å•¥åŒºåˆ«ã€‚<br>ä¾‹å¦‚ï¼šstruct U_TYPE *usart3ï¼›&#x2F;&#x2F;å®šä¹‰ç»“æ„ä½“æŒ‡é’ˆå˜é‡ usart3;</p><p>ç»“æ„ä½“æŒ‡é’ˆæˆå‘˜å˜é‡å¼•ç”¨æ–¹æ³•æ˜¯é€šè¿‡â€œ<code>-&gt;</code>â€ç¬¦å·å®ç°ï¼Œæ¯”å¦‚è¦<code>è®¿é—® usart3 ç»“æ„ä½“æŒ‡é’ˆ</code>æŒ‡å‘çš„<code>ç»“ æ„ä½“çš„æˆå‘˜å˜é‡</code> BaudRate</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">(*Usart3).BaudRateUsart3-&gt;BaudRate;   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€ç§å†™æ³•ä¸­ï¼Œ<code>.</code>çš„ä¼˜å…ˆçº§é«˜äº<code>*</code>ï¼Œ<code>(*pointer)</code>ä¸¤è¾¹çš„æ‹¬å·ä¸èƒ½å°‘ã€‚å¦‚æœå»æ‰æ‹¬å·å†™ä½œ<code>*pointer.memberName</code>ï¼Œé‚£ä¹ˆå°±ç­‰æ•ˆäº<code>*(pointer.memberName)</code>ï¼Œè¿™æ ·æ„ä¹‰å°±å®Œå…¨ä¸å¯¹äº†ã€‚</p><p>ç¬¬äºŒç§å†™æ³•ä¸­ï¼Œ<code>-&gt;</code>æ˜¯ä¸€ä¸ªæ–°çš„è¿ç®—ç¬¦ï¼Œä¹ æƒ¯ç§°å®ƒä¸ºâ€œç®­å¤´â€ï¼Œæœ‰äº†å®ƒï¼Œå¯ä»¥é€šè¿‡ç»“æ„ä½“æŒ‡é’ˆç›´æ¥å–å¾—ç»“æ„ä½“æˆå‘˜ï¼›è¿™ä¹Ÿæ˜¯<code>-&gt;</code>åœ¨Cè¯­è¨€ä¸­çš„å”¯ä¸€ç”¨é€”ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &lt;stdio.h&gt;int main()&#123;    struct&#123;        char *name;  &#x2F;&#x2F;å§“å        int num;  &#x2F;&#x2F;å­¦å·        int age;  &#x2F;&#x2F;å¹´é¾„        char group;  &#x2F;&#x2F;æ‰€åœ¨å°ç»„        float score;  &#x2F;&#x2F;æˆç»©    &#125; stu1 &#x3D; &#123; &quot;Tom&quot;, 12, 18, &#39;A&#39;, 136.5 &#125;, *pstu &#x3D; &amp;stu1;    &#x2F;&#x2F;è¯»å–ç»“æ„ä½“æˆå‘˜çš„å€¼    printf(&quot;%sçš„å­¦å·æ˜¯%dï¼Œå¹´é¾„æ˜¯%dï¼Œåœ¨%cç»„ï¼Œä»Šå¹´çš„æˆç»©æ˜¯%.1fï¼\n&quot;, (*pstu).name, (*pstu).num, (*pstu).age, (*pstu).group, (*pstu).score);    printf(&quot;%sçš„å­¦å·æ˜¯%dï¼Œå¹´é¾„æ˜¯%dï¼Œåœ¨%cç»„ï¼Œä»Šå¹´çš„æˆç»©æ˜¯%.1fï¼\n&quot;, pstu-&gt;name, pstu-&gt;num, pstu-&gt;age, pstu-&gt;group, pstu-&gt;score);    return 0;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><h3 id="oled-init-çš„å¼•è„šé…ç½®"><a href="#oled-init-çš„å¼•è„šé…ç½®" class="headerlink" title="oled_init()çš„å¼•è„šé…ç½®"></a>oled_init()çš„å¼•è„šé…ç½®</h3><p>PB6å’ŒPB7å¹¶æ²¡æœ‰å ç”¨jtagçš„å¼•è„š,æˆ‘ä¸æ˜ç™½ä¸ºä»€ä¹ˆåœ¨oled_init()æœ‰è¿™ä¸¤å¥,ä¹Ÿæ²¡å¤ç”¨</p><p>pb6å’Œpb7æœ¬æ¥å°±æ˜¯sclå’Œsda,å¹¶ä¸”pb4,pb5,pb8,pb9éƒ½è¦è¿™ä¹ˆè®¾ç½®(<strong>å› ä¸ºjtagçš„å¼•è„šåœ¨åˆ«çš„åœ°æ–¹è¢«å ç”¨äº†</strong>&#96;)</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB|RCC_APB2Periph_AFIO, ENABLE);GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable, ENABLE);  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>çµå…‰ä¹ç°æƒ³åˆ°åŸå› </strong>:PB6,PB7æ²¡æœ‰å ç”¨jtag,<strong>ä½†æ˜¯</strong>keyä½¿ç”¨çš„æ˜¯PB3,PB4,PB5,æ‰€ä»¥è¦ç¦ç”¨jtag,é‡Šæ”¾gpio,ä½†æ˜¯è¿™ä¸ªç¦ç”¨ä¸ºå•¥ä¸åœ¨key_initç¦ç”¨,ä¸Šoled_initç¦ç”¨,è¯¯å¯¼</p><h3 id="ç¦ç”¨jtag"><a href="#ç¦ç”¨jtag" class="headerlink" title="ç¦ç”¨jtag"></a>ç¦ç”¨jtag</h3><p>PB3å’ŒPB4åœ¨ç³»ç»Ÿå¤ä½æ—¶å€™ï¼Œåˆ†åˆ«é»˜è®¤ä¸ºSYS_JIDOå’ŒSYS_HJTRSTï¼›<br>æ‰€ä»¥éœ€è¦é€šè¿‡ç”¨æˆ·è‡ªè¡Œç¦æ­¢å…¶åŠŸèƒ½ï¼›<br>ä¹Ÿå°±æ˜¯æƒ³è¦æ­£å¸¸ä½¿ç”¨PB3å’ŒPB4çš„ä¸»åŠŸèƒ½çš„æ—¶å€™ã€‚<br>åœ¨åˆå§‹åŒ–IOæ—¶å€™ï¼Œå¢åŠ ä»£ç å¦‚ä¸‹ï¼šï¼ˆè¿™é‡Œä½¿ç”¨J-Linkçš„SWDæ¨¡å¼çƒ§å½•ç¨‹åºï¼‰</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;æ‰“å¼€æ—¶é’Ÿå‡½æ•°RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB | RCC_APB2Periph_AFIO,ENABLE);&#x2F;&#x2F;æ‰“å¼€GPIOå£æ—¶é’Ÿï¼Œå…ˆæ‰“å¼€å¤ç”¨æ‰èƒ½ä¿®æ”¹å¤ç”¨åŠŸèƒ½GPIO_PinRemapConfig(GPIO_Remap_SWJ_JTAGDisable,ENABLE);&#x2F;&#x2F;è¦å…ˆå¼€æ—¶é’Ÿï¼Œå†é‡æ˜ å°„ï¼›è¿™å¥è¡¨ç¤ºå…³é—­jtagï¼Œä½¿èƒ½swdã€‚  &#x2F;&#x2F;å¦‚æœæ˜¯HALåº“ï¼Œä½¿ç”¨ __HAL_AFIO_REMAP_SWJ_NOJTAG();              &#x2F;&#x2F;ç¦ç”¨JTAG&#x2F;&#x2F;æ¥ä¸‹æ¥æŒ‰ç…§è‡ªå·±éœ€è¦é…ç½®IOçš„å„ç§æ¨¡å¼å°±è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2023/07/01/66h-stm32-oled/image-20230809193334152.png" class="" title="image-20230809193334152"><img src="/2023/07/01/66h-stm32-oled/image-20230809193258392.png" class="" title="image-20230809193258392"><p>é»˜è®¤å¤ç”¨åŠŸèƒ½åº”è¯¥æ˜¯åœ¨ä¸€ä¸ªæ—¶é’Ÿçº¿ä¸Šä¸ç”¨å¼€å¯AFIO,é‡å®šä¹‰åŠŸèƒ½åº”è¯¥å°±æ˜¯è¦å¼€å¯AFIO,è°ƒç”¨é‡æ˜ å°„å‡½æ•°è¿›è¡Œé‡æ˜ å°„</p><p>æˆ‘çš„ç†è§£:</p><blockquote><p>é¦–å…ˆ</p><p>ä½¿èƒ½è¢«é‡æ–°æ˜ å°„åˆ°çš„IOç«¯å£æ—¶é’Ÿ</p><p>ä½¿èƒ½è¢«é‡æ–°æ˜ å°„åˆ°çš„å¤–è®¾æ—¶é’Ÿ(æ¯”å¦‚USART2)</p><p>ä½¿èƒ½AFIOæ—¶é’Ÿ</p><p>è°ƒç”¨é‡æ˜ å°„å‡½æ•°GPIO_PinRemapConfig(GPIO_Remap_USART2, ENABLE);</p><p>(ä¸Šæ–‡è°ƒç”¨çš„æ˜¯ç¦æ­¢jtagçš„é‡æ˜ å°„)</p></blockquote><p><strong>åœ¨ä½¿ç”¨å¤ç”¨åŠŸèƒ½çš„æ˜¯æ—¶å€™ï¼Œæœ€å°‘è¦ä½¿èƒ½ 2 ä¸ªæ—¶é’Ÿ</strong>ï¼š</p><ul><li><p><strong>GPIO æ—¶é’Ÿä½¿èƒ½</strong></p></li><li><p>å¤ç”¨çš„<strong>å¤–è®¾æ—¶é’Ÿä½¿èƒ½</strong></p><h3 id="é‡æ˜ å°„éœ€è¦å››æ­¥"><a href="#é‡æ˜ å°„éœ€è¦å››æ­¥" class="headerlink" title="é‡æ˜ å°„éœ€è¦å››æ­¥"></a>é‡æ˜ å°„éœ€è¦å››æ­¥</h3><img src="/2023/07/01/66h-stm32-oled/image-20230809194713735.png" class="" title="image-20230809194713735">[STM32å…¥é—¨ç¬”è®°(02)ï¼šAFIOå¤ç”¨ç«¯å£ä¸é‡æ˜ å°„ ã€NVICä¸­æ–­ä¼˜å…ˆçº§ç®¡ç†ã€å¤–éƒ¨ä¸­æ–­ã€ä¸²å£é€šä¿¡åŠä¸²å£å®éªŒï¼ˆSPLåº“å‡½æ•°ç‰ˆ)_stm32f407 bug_Naivaçš„åšå®¢-CSDNåšå®¢](https://naiva.blog.csdn.net/article/details/123345468?spm=1001.2101.3001.6650.8&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-123345468-blog-131213026.235^v38^pc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-8-123345468-blog-131213026.235^v38^pc_relevant_sort_base2&utm_relevant_index=9)</li></ul><p><a href="https://blog.csdn.net/weixin_37787043/article/details/82805561?ops_request_misc=%7B%22request_id%22:%22168835734616800185875520%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=168835734616800185875520&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-9-82805561-null-null.268%5Ev1%5Ekoosearch&utm_term=stm32%E7%9A%84pb6%E4%B8%8Epb7&spm=1018.2226.3001.4450">STM32 PB3æˆ–è€…PB4ä¸èƒ½æ­£å¸¸ä½¿ç”¨çš„è®²è§£_pb3 pb4_å¤œæ˜Ÿè¾°2014çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/u011198687/article/details/120817110">ä½¿ç”¨GPIO_Remap_SWJ_JTAGDisableåä¾ç„¶æ— æ³•ä½¿ç”¨SWDè¿›è¡Œè°ƒè¯•è§£å†³åŠæ³•_ç©è½¬æ™ºèƒ½æœºå™¨äººçš„åšå®¢-CSDNåšå®¢</a></p><h3 id="å‡½æ•°æ•ˆæœå‡ºç°å¼‚å¸¸"><a href="#å‡½æ•°æ•ˆæœå‡ºç°å¼‚å¸¸" class="headerlink" title="å‡½æ•°æ•ˆæœå‡ºç°å¼‚å¸¸"></a>å‡½æ•°æ•ˆæœå‡ºç°å¼‚å¸¸</h3><p>æ£€æŸ¥å‡½æ•°,æ˜¯å¦ifå°‘å†™äº†else</p><h3 id="ç¨‹åºå¡æ­»"><a href="#ç¨‹åºå¡æ­»" class="headerlink" title="ç¨‹åºå¡æ­»"></a>ç¨‹åºå¡æ­»</h3><p>ä¸€å †è¯­å¥æ”¾åœ¨ä¸€ä¸ªå‡½æ•°é‡Œå®¹æ˜“å‡ºç°å¡æ­»,å°è£…æˆå‡½æ•°,åœ¨å‡½æ•°é‡Œé¢è°ƒç”¨å°±ä¸ä¼šäº†</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>STM32+ESP8266+MQTT+ONENET</title>
      <link href="/2023/06/29/65h-stm32-esp8266-mqtt-onenet/"/>
      <url>/2023/06/29/65h-stm32-esp8266-mqtt-onenet/</url>
      
        <content type="html"><![CDATA[<h2 id="ONENET"><a href="#ONENET" class="headerlink" title="ONENET"></a>ONENET</h2><h3 id="é”™è¯¯1"><a href="#é”™è¯¯1" class="headerlink" title="é”™è¯¯1"></a>é”™è¯¯1</h3><p>å¯¼å…¥å¸¸è§„å›¾è¡¨æ—¶è¿™é‡Œæ˜¯æœ‰ä¸‰ä¸ªç³»åˆ—ï¼Œå¤åˆ¶ç¨‹åºåå‘ç°åªæœ‰xè½´æ›´æ–°ï¼Œæ˜¯å› ä¸ºè¿™é‡Œçš„yè½´å­—æ®µåæ˜¯y1ï¼Œè€Œç¨‹åºèµ‹å€¼çš„æ˜¯yï¼Œä¿®æ”¹æ­¤å¤„å°±å¥½äº†</p><p><img src="https://img-blog.csdnimg.cn/654b6b4539e34a73be4dc1655ddf325b.png" alt="img"></p><h2 id="esp8266"><a href="#esp8266" class="headerlink" title="esp8266"></a>esp8266</h2><p>01ä¸01sçš„åŒºåˆ«,ä¸é€šç”¨çš„åŸå› </p><p><a href="https://blog.csdn.net/qq_41954556/article/details/123878277">æ‰‹æŠŠæ‰‹æ•™ä½ OneNETæ•°æ®å¯è§†åŒ–_å°å‘æ˜¯ä¸ªDerçš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_31366371/article/details/124751326?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-124751326-blog-130666429.235%5Ev38%5Epc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-124751326-blog-130666429.235%5Ev38%5Epc_relevant_sort_base2&utm_relevant_index=4">ä»ªè¡¨ç›˜ï¼ŒæŠ˜çº¿å›¾ã€åœ°å›¾ï¼ŒONENETåº”ç”¨ç¼–è¾‘å™¨2.0ï¼ˆView 2.0ï¼‰æ§ä»¶ä½¿ç”¨_goviewå¤§å±å¯¹æ¥_è®°å½•å­¦ä¹ é¡ºä¾¿å†™å†™çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/qq_45998204/article/details/124716864?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-124716864-blog-123878277.235%5Ev38%5Epc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-124716864-blog-123878277.235%5Ev38%5Epc_relevant_sort_base2&utm_relevant_index=3#%E6%9B%B2%E7%BA%BF%E4%BB%A3%E7%A0%81%E6%AE%B5">ï¼ˆè¶…è¯¦ç»†äºŒï¼‰onenetæ•°æ®å¯è§†åŒ–è¯¦è§£,å¦‚ä½•ç”¨æˆªå–æ•°æ®æµç»˜å›¾_onenet æ•°æ®æµ_éº“å—çš„é£çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1134">onenetå®˜æ–¹æ–‡æ¡£</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>STM32çš„BOOtå¼•è„š</title>
      <link href="/2023/06/11/64h-stm32-de-boot-yin-jiao/"/>
      <url>/2023/06/11/64h-stm32-de-boot-yin-jiao/</url>
      
        <content type="html"><![CDATA[<h2 id="åŠ ä¸€äº›åˆå§‹æ–‡ç« ç”Ÿæˆçš„è¡¨å¤´"><a href="#åŠ ä¸€äº›åˆå§‹æ–‡ç« ç”Ÿæˆçš„è¡¨å¤´" class="headerlink" title="åŠ ä¸€äº›åˆå§‹æ–‡ç« ç”Ÿæˆçš„è¡¨å¤´"></a>åŠ ä¸€äº›åˆå§‹æ–‡ç« ç”Ÿæˆçš„è¡¨å¤´</h2><h2 id="STM32çš„bootå¼•è„š"><a href="#STM32çš„bootå¼•è„š" class="headerlink" title="STM32çš„bootå¼•è„š"></a>STM32çš„bootå¼•è„š</h2><p><img src="https://img-blog.csdnimg.cn/f59aab7a73b44b86939ca05cf7349db4.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBARFJfQ0FO,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><img src="/2023/06/11/64h-stm32-de-boot-yin-jiao/image-20230611220035676.png" class="" title="image-20230611220035676"><p><code>æœ€å¸¸ç”¨</code>ä¸ªäººç†è§£,BOOT0æ¥åœ°(é€šå¸¸æ¥ä¸ª10kç”µé˜»),BOOT1xå°±æ˜¯å¯ä»¥ä¸æ¥,å¯¹æ¯”åŸç†å›¾ç»™x,æ˜¯STM32å†…ç½®çš„Flashï¼Œä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨JTAGæˆ–è€…SWDæ¨¡å¼ä¸‹è½½ç¨‹åºæ—¶ï¼Œå°±æ˜¯ä¸‹è½½åˆ°è¿™ä¸ªé‡Œé¢ï¼Œé‡å¯åä¹Ÿç›´æ¥<strong>ä»è¿™å¯åŠ¨ç¨‹åº</strong>ã€‚</p><p>1ã€ä¸»é—ªå­˜å­˜å‚¨å™¨<br>æ˜¯STM32å†…ç½®çš„Flashï¼Œä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨JTAGæˆ–è€…SWDæ¨¡å¼ä¸‹è½½ç¨‹åºæ—¶ï¼Œå°±æ˜¯ä¸‹è½½åˆ°è¿™ä¸ªé‡Œé¢ï¼Œé‡å¯åä¹Ÿç›´æ¥<strong>ä»è¿™å¯åŠ¨ç¨‹åº</strong>ã€‚</p><p>2ã€ç³»ç»Ÿå­˜å‚¨å™¨<br>ä»ç³»ç»Ÿå­˜å‚¨å™¨å¯åŠ¨ï¼Œè¿™ç§æ¨¡å¼å¯åŠ¨çš„ç¨‹åºåŠŸèƒ½æ˜¯ç”±å‚å®¶è®¾ç½®çš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç§å¯åŠ¨æ–¹å¼ç”¨çš„æ¯”è¾ƒå°‘ã€‚ç³»ç»Ÿå­˜å‚¨å™¨æ˜¯èŠ¯ç‰‡å†…éƒ¨ä¸€å—ç‰¹å®šçš„åŒºåŸŸï¼ŒSTM32åœ¨å‡ºå‚æ—¶ï¼Œç”±STåœ¨è¿™ä¸ªåŒºåŸŸå†…éƒ¨é¢„ç½®äº†ä¸€æ®µBootLoaderï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„<strong>ISPç¨‹åº</strong>ï¼Œè¿™æ˜¯ä¸€å—ROMï¼Œå‡ºå‚åæ— æ³•ä¿®æ”¹ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬é€‰ç”¨è¿™ç§å¯åŠ¨æ¨¡å¼æ—¶ï¼Œæ˜¯ä¸ºäº†ä»ä¸²å£ä¸‹è½½ç¨‹åºï¼Œå› ä¸ºåœ¨å‚å®¶æä¾›çš„BootLoaderä¸­ï¼Œ<strong>æä¾›äº†ä¸²å£ä¸‹è½½ç¨‹åºçš„å›ºä»¶</strong>ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªBootLoaderå°†ç¨‹åºä¸‹è½½åˆ°ç³»ç»Ÿçš„Flashä¸­ã€‚ä½†æ˜¯è¿™ä¸ªä¸‹è½½æ–¹å¼éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p><p>Step1:å°†BOOT0è®¾ç½®ä¸º1ï¼ŒBOOT1è®¾ç½®ä¸º0ï¼Œç„¶åæŒ‰ä¸‹å¤ä½é”®ï¼Œè¿™æ ·æ‰èƒ½ä»ç³»ç»Ÿå­˜å‚¨å™¨å¯åŠ¨BootLoader<br>Step2:æœ€ååœ¨BootLoaderçš„å¸®åŠ©ä¸‹ï¼Œé€šè¿‡ä¸²å£ä¸‹è½½ç¨‹åºåˆ°Flashä¸­<br>Step3:ç¨‹åºä¸‹è½½å®Œæˆåï¼Œåˆæœ‰éœ€è¦å°†BOOT0è®¾ç½®ä¸ºGNDï¼Œ<strong>æ‰‹åŠ¨å¤ä½</strong>ï¼Œè¿™æ ·ï¼ŒSTM32æ‰å¯ä»¥ä»Flashä¸­å¯åŠ¨ã€‚</p><p>3ã€å†…ç½®SRAM<br>å†…ç½®SRAMï¼Œæ—¢ç„¶æ˜¯SRAMï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰ç¨‹åºå­˜å‚¨çš„èƒ½åŠ›äº†ï¼Œè¿™ä¸ªæ¨¡å¼ä¸€èˆ¬ç”¨äºç¨‹åºè°ƒè¯•ã€‚å‡å¦‚æˆ‘åªä¿®æ”¹äº†ä»£ç ä¸­ä¸€ä¸ªå°å°çš„åœ°æ–¹ï¼Œç„¶åå°±éœ€è¦é‡æ–°æ“¦é™¤æ•´ä¸ªFlashï¼Œæ¯”è¾ƒçš„è´¹æ—¶ï¼Œå¯ä»¥è€ƒè™‘ä»è¿™ä¸ªæ¨¡å¼å¯åŠ¨ä»£ç ï¼ˆä¹Ÿå°±æ˜¯STM32çš„å†…å­˜ä¸­ï¼‰ï¼Œç”¨äºå¿«é€Ÿçš„ç¨‹åºè°ƒè¯•ï¼Œç­‰ç¨‹åºè°ƒè¯•å®Œæˆåï¼Œå†å°†ç¨‹åºä¸‹è½½åˆ°Flashä¸­ã€‚</p><p><a href="https://blog.csdn.net/a919964703/article/details/124072915?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-124072915-blog-130460236.235%5Ev38%5Epc_relevant_sort_base2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-124072915-blog-130460236.235%5Ev38%5Epc_relevant_sort_base2&utm_relevant_index=3">STM32â€”BOOT0å’ŒBOOT1_stm32boot0å’Œboot1æ¥çº¿å›¾_bit erçš„åšå®¢-CSDNåšå®¢</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>51å•ç‰‡æœºé©±åŠ¨æ•°ç ç®¡</title>
      <link href="/2023/06/03/63h-51-dan-pian-ji-qu-dong-shu-ma-guan/"/>
      <url>/2023/06/03/63h-51-dan-pian-ji-qu-dong-shu-ma-guan/</url>
      
        <content type="html"><![CDATA[<h3 id="å…±é˜³ææ•°ç ç®¡"><a href="#å…±é˜³ææ•°ç ç®¡" class="headerlink" title="å…±é˜³ææ•°ç ç®¡"></a>å…±é˜³ææ•°ç ç®¡</h3><img src="/2023/06/03/63h-51-dan-pian-ji-qu-dong-shu-ma-guan/image-20230603224630917.png" class="" title="image-20230603224630917"><pre class="line-numbers language-c" data-language="c"><code class="language-c">0x82,0xf8,0x80,0x90&#125;;&#96;&#96;&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å…±é˜´ææ•°ç ç®¡"><a href="#å…±é˜´ææ•°ç ç®¡" class="headerlink" title="å…±é˜´ææ•°ç ç®¡"></a>å…±é˜´ææ•°ç ç®¡</h3><img src="/2023/06/03/63h-51-dan-pian-ji-qu-dong-shu-ma-guan/image-20230603224657362.png" class="" title="image-20230603224657362"><pre class="line-numbers language-c" data-language="c"><code class="language-c">unsigned char code seven_seg[9] &#x3D; &#123;                            0x3f , 0x06 , 0x5b ,                             0x4f , 0x66 , 0x6d ,                             0x7d ,0x07 , 0x7f  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å°å°å‘"><a href="#å°å°å‘" class="headerlink" title="å°å°å‘"></a>å°å°å‘</h2><ul><li><p>å¦‚æœå‘ç°ifè¯­å¥å¤±çµ,è¯·æ£€æŸ¥æ‹¬å·æ˜¯å¦æ‹¬å¯¹äº†</p></li><li><p>P2&#x3D;0x18ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¸Šé¢é‚£ç§å†™æ³•(D1&#x3D;1),ä¼šä½¿æ•°ç ç®¡ä¸€ç›´é—ª,æ˜¾ç¤ºä¸å‡ºæ•°å­—,è‡³äºä¸ºä»€ä¹ˆæ˜¯0x18è€Œä¸æ˜¯0x10,å› ä¸ºp2.3æœ‰ä¸ªèœ‚é¸£å™¨ä½ç”µå¹³è€å“</p><blockquote><p>å¯¹äº8051å•ç‰‡æœºçš„ç«¯å£å¯„å­˜å™¨ï¼Œå¦‚æœæŸä¸ªå¼•è„šçš„å€¼æ²¡æœ‰è¢«æ˜¾å¼åœ°èµ‹å€¼ï¼Œé‚£ä¹ˆè¯¥å¼•è„šçš„å€¼ä¼šä¿æŒä¸å˜ï¼Œå³ä¿æŒä¸Šä¸€æ¬¡çš„çŠ¶æ€ã€‚<br>æ„æ€å°±æ˜¯æˆ‘å…ˆç»™d1,d2,d3,d4éƒ½ç»™1,éƒ½äº®,ç„¶åç»™d1ä¸º1,å…¶ä»–ä¸ç»™,è¿˜æ˜¯éƒ½äº®*&#x2F;</p></blockquote></li><li><p>å…±é˜´ææ•°ç ç®¡çš„æ®µç æ˜¯1æœ‰æ•ˆï¼Œæ‰€æœ‰çš„æ®µç çš„æœ€é«˜ä½éƒ½æ˜¯0ï¼Œå½“éœ€è¦æ˜¾ç¤ºå°æ•°ç‚¹æ—¶ï¼Œåœ¨å½“å‰çš„æ®µç åŠ ä¸Š0x80å³å¯ã€‚<br>  ä¸¾ä¸ªä¾‹äº†å§ï¼Œæ®µç ä»P0å£è¾“å‡ºï¼Œåœ¨å˜é‡geweiï¼ˆä¸ªä½æ•°ï¼‰ä¸Šæ˜¾ç¤ºå°æ•°ç‚¹<br>  P0&#x3D;tab[gewei]+0x80;<br>  ä¸æ˜¾ç¤ºå°æ•°ç‚¹æ—¶æ˜¯ï¼š<br>  P0&#x3D;tab[gewei];</p></li><li><p>delayä¼šé™ä½åˆ·æ–°ç‡,ä¼šä¸€ç›´é—ª</p></li></ul><h2 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h2><h3 id="æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ã€çŠ¶æ€å‘¨æœŸã€æœºå™¨å‘¨æœŸ"><a href="#æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ã€çŠ¶æ€å‘¨æœŸã€æœºå™¨å‘¨æœŸ" class="headerlink" title="æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ã€çŠ¶æ€å‘¨æœŸã€æœºå™¨å‘¨æœŸ"></a>æ—¶é’Ÿå‘¨æœŸã€æ—¶é’Ÿé¢‘ç‡ã€çŠ¶æ€å‘¨æœŸã€æœºå™¨å‘¨æœŸ</h3><blockquote><p>åœ¨ 8051 å¾®æ§åˆ¶å™¨ä¸­ï¼Œæ—¶é’Ÿå‘¨æœŸ(Clock Cycle)æ˜¯æ™¶æŒ¯éœ‡è¡ä¸€æ¬¡çš„æ—¶é—´é•¿åº¦ï¼Œæ˜¯æ—¶é’Ÿé¢‘ç‡çš„å€’æ•°,å³ï¼šæ—¶é’Ÿå‘¨æœŸ &#x3D; 1 &#x2F; æ—¶é’Ÿé¢‘ç‡,å³æ—¶é’Ÿå‘¨æœŸ&#x3D;1&#x2F;(12M) (s)&#x3D; 1&#x2F;12&#x2F;1000&#x2F;1000 (s) &#x3D; 1&#x2F;12 us</p></blockquote><p>æ—¶é’Ÿé¢‘ç‡æ˜¯æ™¶æŒ¯éœ‡è¡çš„æ¬¡æ•°æ¯ç§’é’Ÿçš„æ•°é‡ï¼Œå•ä½ä¸ºèµ«å…¹ï¼ˆHzï¼‰ï¼Œä¸€ä¸ª 12 MHz çš„æ™¶æŒ¯é¢‘ç‡è¡¨ç¤ºæ™¶æŒ¯æ¯ç§’é’Ÿéœ‡è¡ 1200 ä¸‡æ¬¡ã€‚æ‰€ä»¥12 MHz çš„æ™¶æŒ¯é¢‘çš„æ—¶é’Ÿå‘¨æœŸé•¿åº¦ä¸ºï¼š 1 &#x2F; 12000000</p><blockquote><p>ä¸€ç§’é’Ÿéœ‡è¡1200000æ¬¡,æ‰€ä»¥ä¸€æ¬¡éœ€è¦1&#x2F;12000000çš„æ—¶é—´,å³æ—¶é’Ÿå‘¨æœŸ</p></blockquote><p>æœºå™¨å‘¨æœŸæ˜¯è®¡ç®—æœºæ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„æ—¶é—´é•¿åº¦</p><blockquote><p>51å•ç‰‡æœºä¸€ä¸ªæŒ‡ä»¤å‘¨æœŸæ˜¯12ä¸ªæ—¶é’Ÿå‘¨æœŸ</p><p>å³æŒ‡ä»¤å‘¨æœŸ&#x3D;12*1&#x2F;12 us &#x3D; 1us,æœºå™¨å‘¨æœŸ &#x3D; 12 &#x2F; æ™¶æŒ¯é¢‘ç‡</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>62H_æ­¥è¿›ç”µæœº</title>
      <link href="/2023/05/24/62h-bu-jin-dian-ji/"/>
      <url>/2023/05/24/62h-bu-jin-dian-ji/</url>
      
        <content type="html"><![CDATA[<h2 id="42æ­¥è¿›ç”µæœº"><a href="#42æ­¥è¿›ç”µæœº" class="headerlink" title="42æ­¥è¿›ç”µæœº"></a>42æ­¥è¿›ç”µæœº</h2><h3 id="1-æ­¥è¿›ç”µæœºçš„åŸºæœ¬çŸ¥è¯†"><a href="#1-æ­¥è¿›ç”µæœºçš„åŸºæœ¬çŸ¥è¯†" class="headerlink" title="1.æ­¥è¿›ç”µæœºçš„åŸºæœ¬çŸ¥è¯†"></a>1.æ­¥è¿›ç”µæœºçš„åŸºæœ¬çŸ¥è¯†</h3><p>ï¼ˆ1ï¼‰æ‹æ•°â€”â€”æ¯ä¸€æ¬¡å¾ªç¯æ‰€åŒ…å«çš„é€šç”µçŠ¶æ€æ•°ï¼ˆç”µæœºè½¬è¿‡ä¸€ä¸ªé½¿è·è§’æ‰€éœ€è„‰å†²æ•°ï¼‰<br>ï¼ˆ2ï¼‰å•æ‹åˆ¶åˆ†é…æ–¹å¼â€”â€”çŠ¶æ€æ•°&#x3D;ç›¸æ•°<br>ï¼ˆ3ï¼‰åŒæ‹åˆ¶åˆ†é…æ–¹å¼â€”â€”çŠ¶æ€æ•°&#x3D;ç›¸æ•°çš„ä¸¤å€<br><strong>ï¼ˆ4ï¼‰æ­¥è·è§’ â€”â€”æ­¥è¿›æœºé€šè¿‡ä¸€ä¸ªç”µè„‰å†²è½¬å­è½¬è¿‡çš„è§’åº¦</strong>,ç”µæœºä¸Šä¸€èˆ¬ä¼šç»™å‡º</p><p><img src="https://img-blog.csdnimg.cn/20190504174146766.png#pic_center" alt="è®¡ç®—å…¬å¼"></p><ul><li>N:ä¸€ä¸ªå‘¨æœŸçš„è¿è¡Œæ‹æ•°<br>Zrï¼šè½¬å­é½¿æ•°<br>æ‹æ•°ï¼šN&#x3D;km<br>m:ç›¸æ•°<br>k&#x3D;1å•æ‹åˆ¶<br>k&#x3D;2åŒæ‹åˆ¶</li></ul><p>ï¼ˆ5ï¼‰è½¬é€Ÿ<br><img src="https://img-blog.csdnimg.cn/20190504184912141.png#pic_center" alt="è½¬é€Ÿ"></p><p>ï¼ˆ6ï¼‰è§’åº¦ç»†åˆ†çš„åŸç†</p><ul><li>ç”µç£åŠ›çš„å¤§å°ä¸ç»•ç»„é€šç”µç”µæµçš„å¤§å°æœ‰å…³ã€‚</li><li>å½“é€šç”µç›¸çš„ç”µæµå¹¶ä¸é©¬ä¸Šå‡åˆ°ä½ï¼Œè€Œæ–­ç”µç›¸çš„ç”µæµä¹Ÿéç«‹å³é™ä¸º0æ—¶ï¼Œå®ƒä»¬æ‰€äº§ç”Ÿçš„ç£åœºåˆåŠ›ï¼Œä¼šä½¿è½¬å­æœ‰ä¸€ä¸ªæ–°çš„å¹³è¡¡ä½ç½®ï¼Œè¿™ä¸ªæ–°çš„å¹³è¡¡ä½ç½®æ˜¯åœ¨åŸæ¥çš„æ­¥è·è§’èŒƒå›´å†…ã€‚</li></ul><h3 id="3-42æ­¥è¿›ç”µæœºé€Ÿåº¦ä¸è§’åº¦æ§åˆ¶"><a href="#3-42æ­¥è¿›ç”µæœºé€Ÿåº¦ä¸è§’åº¦æ§åˆ¶" class="headerlink" title="3. 42æ­¥è¿›ç”µæœºé€Ÿåº¦ä¸è§’åº¦æ§åˆ¶"></a>3. 42æ­¥è¿›ç”µæœºé€Ÿåº¦ä¸è§’åº¦æ§åˆ¶</h3><p>ç”µæœºçš„è½¬é€Ÿä¸è„‰å†²é¢‘ç‡æˆæ­£æ¯”ï¼Œç”µæœºè½¬è¿‡çš„è§’åº¦ä¸è„‰å†²æ•°æˆæ­£æ¯”ã€‚æ‰€ä»¥æ§åˆ¶è„‰å†²æ•°å’Œè„‰å†²é¢‘ç‡å°±å¯ä»¥ç²¾ç¡®è°ƒé€Ÿã€‚<br>ç†è®ºä¸Šæ­¥è¿›ç”µæœºè½¬é€Ÿ &#x3D; é¢‘ç‡ * 60 &#x2F;((360&#x2F;T)<em>x)<br>w &#x3D; f âˆ— 60 ( 360 Â° T Ã— x ) w&#x3D; \frac{f</em>60}{(\frac {360Â°}{T}\times x)}w&#x3D;(T360Â°â€‹Ã—x)fâˆ—60â€‹</p><ul><li>è½¬é€Ÿå•ä½ï¼š è½¬&#x2F; åˆ†</li><li>é¢‘ç‡å•ä½ï¼šèµ«å…¹</li><li>x ç»†åˆ†å€æ•°</li><li>T æ­¥è·è§’<br>ä¾‹å¦‚ï¼Œåœ¨æœ¬å®éªŒä¸­ï¼Œ32ç»†åˆ†ï¼›é¢‘ç‡72000 èµ«å…¹ï¼›æ­¥è·è§’1.8Â°ï¼›å¥—ç”¨å…¬å¼72000 âˆ— 60 ( ( 360 &#x2F; 1.8 ) âˆ— 32 ) &#x3D; 112.5 \frac{72000*60}{((360&#x2F;1.8)*32)}&#x3D;112.5((360&#x2F;1.8)âˆ—32)72000âˆ—60â€‹&#x3D;112.5rad&#x2F; minï¼Œå³1.875 rad&#x2F;s.</li></ul><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230525191834700.png" class="" title="image-20230525191834700"><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230525191852684.png" class="" title="image-20230525191852684"><p><strong>æ¥å£</strong><br>æ­¥è¿›é©±åŠ¨å™¨å¯åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šç¯å½¢åˆ†é…å™¨ã€åŠŸç‡æ”¾å¤§å™¨ã€‚<br><strong>ç¯å½¢åˆ†é…å™¨</strong>ï¼šæ¥æ”¶3ç§ä¿¡å·åˆ†åˆ«ä¸ºï¼šè„‰å†²ä¿¡å·ï¼ˆPUL&#x2F;CLKï¼‰ï¼Œæ–¹å‘ä¿¡å·ï¼ˆDIR&#x2F;CWï¼‰ï¼Œè„±æœºä¿¡å·ï¼ˆENAï¼‰ã€‚<br><strong>è„‰å†²ä¿¡å·</strong>ï¼šç¯å½¢åˆ†é…å™¨å¯¹è„‰å†²ä¿¡å·è¿›è¡Œåˆ†é…ï¼Œå»æ§åˆ¶åŠŸç‡æ”¾å¤§å™¨ç›¸åº”çš„æ™¶ä½“ç®¡ï¼Œä½¿æ­¥è¿›ç”µæœºçš„çº¿åœˆå¾—ç”µã€‚æ‰€ä»¥ï¼Œæ­¥è¿›ç”µæœºè¦è¿è½¬å°±å¿…é¡»æœ‰è„‰å†²è¾“å…¥ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªé©±åŠ¨å™¨æ¥ç»™æ­¥è¿›ç”µæœºçš„å„é¡¹ç»•ç»„ä¾æ¬¡é€šç”µã€‚<br><strong>æ–¹å‘ä¿¡å·</strong>ï¼šæ§åˆ¶ABé€šç”µçš„ç›¸åºï¼ŒA-Bé¡ºæ—¶é’ˆï¼ŒB-Aé€†æ—¶é’ˆ<br><strong>è„±æœºä¿¡å·</strong>ï¼šæ­¥è¿›ç”µæœºåœæ­¢æ—¶ï¼ŒABçº¿åœˆæœ‰ä¸€ç›¸å¾—ç”µï¼Œå¾—ç”µçš„åŠŸèƒ½ä½¿è½¬å­é”ä½ï¼Œä½¿è½¬å­ä¸èƒ½åŠ¨ï¼Œéœ€è¦æ”¶å»æ‹¨åŠ¨è½¬å­çš„æ—¶å€™ï¼Œéœ€è¦ç»™è„±æœºä¿¡å·ï¼Œä½¿ABç›¸ç»•ç»„å®Œå…¨æ–­ç”µï¼Œè½¬å­å¤„äºè‡ªç”±è½¬åŠ¨çŠ¶æ€ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´æ§åˆ¶ç”µæœºåœæ­¢é™¤äº†ä¸ç»™è„‰å†²ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ§åˆ¶è„±æœºä¿¡å·æ¥é”æ­»ç”µæœºï¼Œæ­¤å¤„ç”¨ä¸ç€è„±æœºä¿¡å·ï¼‰</p><h2 id="ä¸è½¬-å°–å«-å•¸å«"><a href="#ä¸è½¬-å°–å«-å•¸å«" class="headerlink" title="ä¸è½¬,å°–å«,å•¸å«"></a>ä¸è½¬,å°–å«,å•¸å«</h2><p>ä¹‹å‰åŒæ ·çš„ä»£ç å¯ä»¥æ­£å¸¸ä½¿ç”¨,ç°åœ¨æ›´æ¢é©±åŠ¨å™¨å’Œæ­¥è¿›ç”µæœºä¹‹åä»ç„¶ä¸å¥½ä½¿</p><p>ä¸‹ä¸€æ­¥å‡†å¤‡æ›´æ¢ä¸»æ§</p><p>æˆ‘å…ˆæ¢çº¿,åé¢æ‰€æœ‰çš„çº¿éƒ½æ¢äº†,ä¾ç„¶ä¸è¡Œ</p><p>ä¹Ÿæœ‰å¯èƒ½æ˜¯ç”µæ± æ²¡ç”µäº†(è‡ªå·±çš„ç¬”è®°è¿˜æ˜¯è¦åŠæ—¶çœ‹çš„,ä¸ç„¶æ€è·¯ä¼šå¿˜æ‰)</p><blockquote><p><code>ç¡®å®æ˜¯ç”µæ± æ²¡ç”µäº†,ç”µå‹å˜æˆ9vå¤š,ä¸å¤Ÿäº†</code>,è€Œé©±åŠ¨å™¨çš„ç”µæºèŒƒå›´ä¸º9-40V</p></blockquote><h2 id="æ­¥è¿›ç”µæœºä¸è½¬å¹¶å‡ºç°å°–å«å•¸å«çš„åŸå› "><a href="#æ­¥è¿›ç”µæœºä¸è½¬å¹¶å‡ºç°å°–å«å•¸å«çš„åŸå› " class="headerlink" title="æ­¥è¿›ç”µæœºä¸è½¬å¹¶å‡ºç°å°–å«å•¸å«çš„åŸå› "></a>æ­¥è¿›ç”µæœºä¸è½¬å¹¶å‡ºç°å°–å«å•¸å«çš„åŸå› </h2><p>1.ä¾›ç”µé—®é¢˜</p><p>ç”µæºç”µå‹è¿‡ä½æˆ–ä¸ç¨³å®š-&gt;æ›´æ¢ç”µæº</p><p>2.é©±åŠ¨å™¨æ•…éšœ</p><p>ä¸Šç”µå,ç»¿ç¯å¸¸äº®,è“ç¯ä¸äº®(è¿™ä¸ªè“ç¯çŠ¶æ€æˆ‘ä¸ç¡®å®š)</p><p>æˆ‘è®¤ä¸ºé©±åŠ¨æ—¶è“ç»¿ä¸¤ä¸ªç¯éƒ½äº®ç€,é©±åŠ¨å™¨å°±æ˜¯æ­£å¸¸çš„</p><p>å¦ä¸€ç§æ–¹æ³•æ˜¯,pul+æ¥ç”µæº24v,pul-ä¸ç”µæºåœ°çº¿ä¸€ä¸‹ä¸€ä¸‹è§¦åŠ¨,ç”µæœºè½»å¾®è½¬åŠ¨,åˆ™é©±åŠ¨å™¨æ²¡æœ‰é—®é¢˜</p><p><a href="https://www.jiangtexs.net/hynews/2067.html">æ­¥è¿›ç”µæœºå°–å«è€Œä¸è½¬çš„åŸå› æ˜¯ä»€ä¹ˆï¼ˆè¯¦è§£æ­¥è¿›ç”µæœºæ•…éšœæ’æŸ¥ï¼‰-æ±Ÿè¥¿ç”µæœº (jiangtexs.net)</a></p><p>3.æ­¥è¿›ç”µæœºæ•…éšœ</p><p>æ­¤æ—¶å¯ä»¥å°†ä¸€ç›¸çš„ä¸¤æ ¹çº¿æ‹§åœ¨ä¸€èµ·ç„¶å,è½¬åŠ¨ç”µæœºæœ‰é˜»åŠ›,å†å°†å¦å¤–ä¸¤æ ¹çº¿æ¥åœ¨ä¸€èµ·,é˜»åŠ›åŠ å¤§-&gt;ç”µæœºæœªæ•…éšœ</p><p><a href="https://blog.csdn.net/qq_35858902/article/details/124069845?ops_request_misc=%7B%22request_id%22:%22168887086916800182114140%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=168887086916800182114140&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-6-124069845-null-null.268%5Ev1%5Ekoosearch&utm_term=stm32%E6%AD%A5%E8%BF%9B%E7%94%B5%E6%9C%BA&spm=1018.2226.3001.4450">stm32æ§åˆ¶æ­¥è¿›ç”µæœº_å¸å¾’æ³•å…‹çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/weixin_44041987/article/details/88254493?ops_request_misc=%7B%22request_id%22:%22168885611916800180640001%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=168885611916800180640001&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-88254493-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&utm_term=stm32f407%E6%AD%A5%E8%BF%9B%E7%94%B5%E6%9C%BA&spm=1018.2226.3001.4187">åŸºäºSTM32F407ZGT6å¯¹æ­¥è¿›ç”µæœºçš„æ§åˆ¶ï¼ˆå•è„‰å†²+é‡å¤è®¡æ•°ï¼‰æœ‰ä»£ç _stm32f407igt6 æ­¥è¿›ç”µæœºæ¨¡å—ä»£ç ç¼–ç¨‹_weixin_44041987çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/wxc971231/article/details/82086392?ops_request_misc=%7B%22request_id%22:%22168885691916800185829953%22,%22scm%22:%2220140713.130102334.pc_blog.%22%7D&request_id=168885691916800185829953&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~hot_rank-7-82086392-null-null.268%5Ev1%5Ekoosearch&utm_term=stm32f407%E6%AD%A5%E8%BF%9B%E7%94%B5%E6%9C%BA&spm=1018.2226.3001.4450">åˆ©ç”¨stm32æ§åˆ¶æ­¥è¿›ç”µæœº é€Ÿåº¦&amp;&amp;åŠ é€Ÿåº¦æ§åˆ¶_æ­¥è¿›ç”µæœº2ç›¸é©±åŠ¨æ§åˆ¶æ–¹å‘ä¸é€Ÿåº¦ç¨‹åºä»£ç _äº‘ç«¯FFFçš„åšå®¢-CSDNåšå®¢</a></p><h3 id="æ­¥è¿›ç”µæœºçš„é©±åŠ¨"><a href="#æ­¥è¿›ç”µæœºçš„é©±åŠ¨" class="headerlink" title="æ­¥è¿›ç”µæœºçš„é©±åŠ¨"></a>æ­¥è¿›ç”µæœºçš„é©±åŠ¨</h3><h3 id="é©±åŠ¨åŸç†"><a href="#é©±åŠ¨åŸç†" class="headerlink" title="é©±åŠ¨åŸç†"></a>é©±åŠ¨åŸç†</h3><h3 id="é©±åŠ¨æ–¹æ³•"><a href="#é©±åŠ¨æ–¹æ³•" class="headerlink" title="é©±åŠ¨æ–¹æ³•"></a>é©±åŠ¨æ–¹æ³•</h3><ul><li>GPIOç¿»è½¬+delay</li><li>GPIOç¿»è½¬+å¤–éƒ¨ä¸­æ–­</li><li>PWM+å®šæ—¶å™¨ä¸­æ–­</li><li>PWM+ä¸»ä»å®šæ—¶å™¨</li><li>å®šæ—¶å™¨è¾“å‡ºæ¯”è¾ƒ</li><li>å®šæ—¶å™¨è¾“å‡ºæ¯”è¾ƒ_IOå£ç¿»è½¬æ¨¡å¼</li></ul><h3 id="è„‰å†²å®½åº¦-å³ccr-å¯¹æ­¥è¿›ç”µæœºçš„å½±å“"><a href="#è„‰å†²å®½åº¦-å³ccr-å¯¹æ­¥è¿›ç”µæœºçš„å½±å“" class="headerlink" title="è„‰å†²å®½åº¦(å³ccr)å¯¹æ­¥è¿›ç”µæœºçš„å½±å“"></a>è„‰å†²å®½åº¦(å³ccr)å¯¹æ­¥è¿›ç”µæœºçš„å½±å“</h3><p>å¦‚æœä½ æ˜¯ç”¨é©±åŠ¨å™¨æ¥é©±åŠ¨æ­¥è¿›ç”µæœºçš„è¯ï¼Œé‚£è„‰å†²çš„å ç©ºæ¯”è·Ÿæ­¥è¿›ç”µæœºçš„æ­¥è¿›æ•°æ˜¯æ²¡å…³ç³»çš„ï¼Œåªè¦è„‰å†²å®½åº¦å¤§äºé©±åŠ¨å™¨çš„è¦æ±‚å°±å¥½äº†ï¼Œå› ä¸ºå†³å®šæ­¥è¿›ç”µæœºçš„æ­¥è¿›æ•°æ˜¯è„‰å†²ä¸ªæ•°ï¼Œè·Ÿè„‰å†²å®½åº¦æ— å…³ã€‚å¦å¤–è¦æ³¨æ„çš„æ˜¯è„‰å†²é¢‘ç‡ï¼Œä¸èƒ½è¶…è¿‡é©±åŠ¨å™¨å¯æ¥å—çš„è„‰å†²é¢‘ç‡å’Œç”µæœºå“åº”é¢‘ç‡ã€‚å¦å¤–æ¥¼ä¸Šè¯´çš„ç”µæœºæ‰­çŸ©çš„è¯è·Ÿè„‰å†²å®½åº¦ä¹Ÿæ²¡å¤šå¤§å…³ç³»ï¼Œå†³å®šæ‰­çŸ©çš„æ˜¯é©±åŠ¨ç”µæµ</p><p><a href="https://www.bilibili.com/video/BV1Ng4y1w7oT/?spm_id_from=333.788&vd_source=e33ad22b3d91cb180bef532ce5877b2e">æ¢¯å½¢åŠ å‡é€Ÿ_å“”å“©å“”å“©_bilibili</a></p><h2 id="å®šæ—¶å™¨æ—¶é’Ÿ"><a href="#å®šæ—¶å™¨æ—¶é’Ÿ" class="headerlink" title="å®šæ—¶å™¨æ—¶é’Ÿ"></a>å®šæ—¶å™¨æ—¶é’Ÿ</h2><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710151905256.png" class="" title="image-20230710151905256"><p>CNT-&gt;ARR å½±åƒå‘¨æœŸ,è¿›è€Œå½±å“é¢‘ç‡,é¢‘ç‡è®¡ç®—å…¬å¼:f&#x3D;1&#x2F;T</p><p>CNTè‡ªå¢åˆ°ARRçš„æ—¶é—´&#x3D;PWMå‘¨æœŸæ—¶é—´</p><p>CCR-&gt;å½±å“å ç©ºæ¯”</p><p>æ™¶æŒ¯(CK-PSC)-&gt;åˆ†é¢‘å™¨åˆ†é¢‘å-&gt;ä½œä¸ºPWMæ³¢çš„é¢‘ç‡</p><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710152415736.png" class="" title="image-20230710152415736"><p>å› ä¸ºarrå’Œpscéƒ½æ˜¯ä»0å¼€å§‹æ‰€ä»¥è®¡ç®—å¼è¦+1</p><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710152520300.png" class="" title="image-20230710152520300"><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710152635959.png" class="" title="image-20230710152635959"><p>é…ç½®æˆå¤ç”¨æ¨æŒ½è¾“å‡ºçš„åŸå› </p><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710152810574.png" class="" title="image-20230710152810574"><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710152946501.png" class="" title="image-20230710152946501"><img src="/2023/05/24/62h-bu-jin-dian-ji/image-20230710153130548.png" class="" title="image-20230710153130548"><p>å®šæ—¶å™¨ä¸­æ–­,å…ˆå†™ä¸€ä¸ªä¸²å£å‘é€æ§åˆ¶é€Ÿåº¦,è§’åº¦,æŒ‰é”®æ§åˆ¶,ç„¶åoledæ˜¾ç¤º,ç„¶åç”»æ¿å­,ç¡®å®šç”µæºæ¥å£</p><h3 id="æ¢¯å½¢åŠ å‡é€Ÿ"><a href="#æ¢¯å½¢åŠ å‡é€Ÿ" class="headerlink" title="æ¢¯å½¢åŠ å‡é€Ÿ"></a>æ¢¯å½¢åŠ å‡é€Ÿ</h3><p>åŸç†:å®šæ—¶å™¨è¾“å‡ºæ¯”è¾ƒ_ioå£ç¿»è½¬</p><p>å¼§é•¿&#x3D;åŠå¾„å¯¹åº”çš„è§’åº¦,360&#x2F;2Ï€&#x3D;180&#x2F;Ï€</p><ul><li>rad ä¸ºå¼§åº¦å•ä½ (1rad &#x3D; (180&#x2F;Ï€)Â° â‰ˆ 57.3Â°)</li></ul><p>æ‘†æ”¾é¡ºåºç”±æ¯”èµ›ç°åœºæŠ½ç­¾ç¡®å®š</p><h2 id="é€šç”µå‘çƒ­-ä¸”æœ‰ç”µæµå£°"><a href="#é€šç”µå‘çƒ­-ä¸”æœ‰ç”µæµå£°" class="headerlink" title="é€šç”µå‘çƒ­,ä¸”æœ‰ç”µæµå£°"></a>é€šç”µå‘çƒ­,ä¸”æœ‰ç”µæµå£°</h2><p><del>æ­¥è¿›ç”µæœºç”µæµè¿‡å¤§,é©±åŠ¨å™¨æ²¡æœ‰å¯¹ç”µæµè¿›è¡Œç»†åˆ†</del>,</p><p>ç»†åˆ†ä¹‹åæ²¡æœ‰ç”µæµå£°,ä½†æ˜¯é€šç”µæ—¶é—´é•¿äº†ä¹‹åä¾ç„¶ä¼šå‘çƒ­,,æˆ‘è§‰å¾—çš„æ˜¯ENçš„é—®é¢˜</p><p>sscanf</p><p>ä½¿ç”¨ <code>sscanf()</code> å‡½æ•°ä»å­—ç¬¦ä¸²ä¸­æå–ä¸¤ä¸ªæ•´æ•°ã€‚ä½†æ˜¯ï¼Œç”±äºå­—ç¬¦ä¸²ä¸­åªæœ‰ä¸€ä¸ªæ•´æ•°ï¼Œå› æ­¤ä¼šå¯¼è‡´æå–é”™è¯¯çš„ç»“æœã€‚</p><p>ä¿®æ­£è¯¥ä»£ç çš„æ–¹æ³•æ˜¯ï¼Œä½¿ç”¨ <code>%c%d</code> çš„æ ¼å¼å­—ç¬¦ä¸²ï¼Œå°†ç¬¬ä¸€ä¸ªå­—ç¬¦ä½œä¸ºç¬¦å·ä½ï¼Œç¬¬äºŒä¸ªå­—ç¬¦ä½œä¸ºæ•´æ•°éƒ¨åˆ†ï¼Œç„¶åä½¿ç”¨ <code>sscanf()</code> å‡½æ•°ä»å­—ç¬¦ä¸²ä¸­æå–è¿™ä¸¤ä¸ªå€¼ã€‚ä»¥ä¸‹æ˜¯ä¿®æ­£åçš„ä»£ç ï¼š</p><p><code>steps = atoi((char const *)Rebuf)</code>;</p><p> å°† <code>Rebuf</code> ç¼“å†²åŒºä¸­çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´å‹æ•°æ®ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ <code>steps</code> å˜é‡</p><p>æˆ‘æœ‰å¾ˆå¤šçš„äº‹æƒ…æƒ³ä¸æ˜ç™½</p><h2 id="å…³äºä¸²å£é€šä¿¡å‡ºç°çš„é—®é¢˜"><a href="#å…³äºä¸²å£é€šä¿¡å‡ºç°çš„é—®é¢˜" class="headerlink" title="å…³äºä¸²å£é€šä¿¡å‡ºç°çš„é—®é¢˜"></a>å…³äºä¸²å£é€šä¿¡å‡ºç°çš„é—®é¢˜</h2><h3 id="ç”µæœºåªèƒ½è½¬ä¸€æ¬¡"><a href="#ç”µæœºåªèƒ½è½¬ä¸€æ¬¡" class="headerlink" title="ç”µæœºåªèƒ½è½¬ä¸€æ¬¡"></a>ç”µæœºåªèƒ½è½¬ä¸€æ¬¡</h3><p>æˆ‘é‡åˆ°çš„é—®é¢˜æœ‰å‘é€+5,ç”µæœºä¸è½¬,åŠ äº†åˆ¤æ–­ä¹‹å,ç”µæœºåªèƒ½è½¬ä¸€æ¬¡,åé¢å†å‘é€å°±æ²¡ååº”äº†,ä½†æ˜¯æˆ‘å†™äº†</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">memset(Rebuf, 0, sizeof(Rebuf));steps&#x3D;0;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ¸…ç©ºæ­¥æ•°å’Œç¼“å­˜åŒº</p><p>ä¸‹é¢è¿™ä¸ªä»£ç å¯ä»¥å®Œæˆ10ä»¥å†…çš„åœˆæ•°,ä½†æ˜¯ä»–æ¸…çš„æ˜¯buf_len,ä½†æˆ‘è®¤ä¸ºä¸æ˜¯æ¸…ç©ºçš„äº‹,è€Œæ˜¯è½¬æ¢æˆæ•´æ•°çš„äº‹<code>steps = steps * 10 + (Rebuf[i] - &#39;0&#39;);</code></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">int16_t BUFFER_SIZE &#x3D;200;void USART3_IRQHandler(void)&#123;char res;&#x2F;&#x2F;æ— ç¬¦å·,æ‰€ä»¥ä¼šå¯¼è‡´æ²¡æœ‰+-static int i&#x3D;0;char Rebuf[BUFFER_SIZE];uint8_t buf_len &#x3D; 0;  &#x2F;&#x2F; æ¥æ”¶ç¼“å†²åŒºå½“å‰é•¿åº¦uint8_t digit_count &#x3D; 0;int32_t steps&#x3D;0 ; &#x2F;&#x2F; å­˜å‚¨æ­¥æ•°å˜é‡if(USART_GetITStatus(USART3,USART_IT_RXNE)!&#x3D; RESET)&#123;    Rebuf[buf_len++]&#x3D;USART_ReceiveData(USART3); &#x2F;&#x2F;æ—¢ç„¶æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªä¸­æ–­,é‚£ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°çš„æ˜¯&quot;å“ˆå“ˆå“ˆ&quot;æ˜¯è¿ç€çš„,æ˜¯å› ä¸ºä¸²å£åŠ©æ‰‹è§„èŒƒçš„å—    &#x2F;*åœ¨ä½ çš„ä»£ç ä¸­ï¼Œå¦‚æœæ¥æ”¶åˆ°çš„æ•°æ®æ˜¯è´Ÿæ•°ï¼Œåˆ™è½¬æ¢åä¼šå‡ºç°é”™è¯¯ã€‚    è¿™æ˜¯å› ä¸ºè´Ÿæ•°çš„ASCIIç å€¼å¤§äº127ï¼Œè€Œä½ ä½¿ç”¨çš„uint8_tç±»å‹çš„å˜é‡æ— æ³•è¡¨ç¤ºå¤§äº127çš„æ•°å€¼ã€‚*&#x2F;    &#x2F;&#x2F; éå†æ¥æ”¶ç¼“å†²åŒºä¸­çš„æ¯ä¸ªå­—ç¬¦    for( i &#x3D; 0; i &lt; buf_len; i++)    &#123;        if (Rebuf[i] &gt;&#x3D; &#39;0&#39; &amp;&amp; Rebuf[i] &lt;&#x3D; &#39;9&#39;)        &#123;            &#x2F;&#x2F; å¦‚æœå½“å‰å­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºæ•´æ•°å¹¶ç´¯åŠ åˆ°æ­¥æ•°ä¸­            steps &#x3D; steps * 10 + (Rebuf[i] - &#39;0&#39;);            digit_count++;        &#125;    &#125;          MOTOR_Move(1600 * steps, step_accel, step_decel, set_speed);  &#x2F;&#x2F; éœ€è¦æ—¶è°ƒ          buf_len &#x3D; 0;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºè¿™æ ·çš„ä»£ç åŒæ ·å¯ä»¥ç”¨,ä½†æ˜¯åªèƒ½æ˜¯ä¸ªä½æ•°,ç”šè‡³è¿˜æœ‰æ­£è´Ÿ,æ‰€ä»¥åº”è¯¥æ˜¯<code>steps = atoi((const char *)Rebuf);</code>è¿™ä¸ªè½¬æ¢çš„é—®é¢˜</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">int16_t BUFFER_SIZE &#x3D;200;void USART3_IRQHandler(void)&#123;char res;&#x2F;&#x2F;æ— ç¬¦å·,æ‰€ä»¥ä¼šå¯¼è‡´æ²¡æœ‰+- &#x2F;&#x2F;char res;  &#x2F;&#x2F; å°†æ•°æ®ç±»å‹ä¿®æ”¹ä¸ºæœ‰ç¬¦å·çš„int8_t static int i&#x3D;0;char Rebuf[BUFFER_SIZE];   uint8_t buf_len &#x3D; 0;  &#x2F;&#x2F; æ¥æ”¶ç¼“å†²åŒºå½“å‰é•¿åº¦     uint8_t digit_count &#x3D; 0; int32_t steps&#x3D;0 ; &#x2F;&#x2F; å­˜å‚¨æ­¥æ•°å˜é‡if(USART_GetITStatus(USART3,USART_IT_RXNE)!&#x3D; RESET)&#123;    Rebuf[buf_len++]&#x3D;USART_ReceiveData(USART3);       &#x2F;&#x2F;int steps &#x3D; res - &#39;000&#39;; &#x2F;&#x2F; å°†å­—ç¬¦è½¬æ¢ä¸ºæ•°å­—,   è¿™æ ·ä¼šä»¥æœ€å¤§é€Ÿåº¦ä¸€ç›´è½¬        int steps &#x3D; Rebuf[0] - &#39;0&#39;;&#x2F;&#x2F;è¿™ä¸ªæœ‰ç¬¦å·,ä½†æ˜¯åªèƒ½è¯†åˆ«ä¸€ä½      MOTOR_Move((1600 * steps), step_accel, step_decel, set_speed);  &#x2F;&#x2F; éœ€è¦æ—¶è°ƒ       &#125;  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ä»–ä»¬è¯´ä¸²å£å‘é€æ•°æ®æ˜¯ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚å‘é€çš„,åˆè¯´æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦å‘é€çš„,æ‰€ä»¥æˆ‘æœ€å¼€å§‹å†™çš„ä»£ç æ˜¯è¿™æ ·çš„,å½“è¾“å…¥+5çš„æ—¶å€™,è¿™ä¸ªåˆ¤æ–­å¯ä»¥è¿›æ¥,</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">if(rebuf[0]&#x3D;&#x3D;&#39;+&#39;)&#123;&#x2F;&#x2F;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†æ˜¯è¿™ä¸ªè¾“å…¥+5ä¹Ÿå¯ä»¥æ­£å¸¸æ‰§è¡Œ,<del>cæ‰€ä»¥æœ‰æ²¡æœ‰å¯èƒ½ä¸€ä¸ªå­—èŠ‚æ˜¯å…«ä½,è€Œä¸€ä¸ªå­—ç¬¦åªæ˜¯ä¸€ä½</del></p><p>ä¸²å£å‘é€æ•°æ®çš„æ–¹å¼å¯ä»¥æ˜¯ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚å‘é€ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€æ¬¡å‘é€å¤šä¸ªå­—èŠ‚,å› ä¸ºä¸€ä¸ªå­—ç¬¦çš„ ASCII ç å€¼å¯ä»¥ç”¨ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œæ‰€ä»¥ä¸€ä¸ªå­—ç¬¦åªå ç”¨ä¸€ä¸ªå­—èŠ‚çš„ç©ºé—´ã€‚è€Œä¸€ä¸ªæ•´æ•°é€šå¸¸éœ€è¦å¤šä¸ªå­—èŠ‚æ¥è¡¨ç¤ºï¼Œæ‰€ä»¥å°†å­—ç¬¦è½¬æ¢ä¸ºæ•´æ•°æ—¶åªèƒ½è½¬æ¢ä¸ºä¸€ä½æ•°å­—</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">int steps &#x3D; Rebuf[0] - &#39;0&#39;;&#x2F;&#x2F;è¿™ä¸ªæœ‰ç¬¦å·,ä½†æ˜¯åªèƒ½è¯†åˆ«ä¸€ä½<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">Rebuf[buf_len++]&#x3D;USART_ReceiveData(USART3); &#x2F;&#x2F;æ—¢ç„¶æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªä¸­æ–­,é‚£ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°çš„æ˜¯&quot;å“ˆå“ˆå“ˆ&quot;æ˜¯è¿ç€çš„,æ˜¯å› ä¸ºä¸²å£åŠ©æ‰‹è§„èŒƒçš„å—    &#x2F;*åœ¨ä½ çš„ä»£ç ä¸­ï¼Œå¦‚æœæ¥æ”¶åˆ°çš„æ•°æ®æ˜¯è´Ÿæ•°ï¼Œåˆ™è½¬æ¢åä¼šå‡ºç°é”™è¯¯ã€‚    è¿™æ˜¯å› ä¸ºè´Ÿæ•°çš„ASCIIç å€¼å¤§äº127ï¼Œè€Œä½ ä½¿ç”¨çš„uint8_tç±»å‹çš„å˜é‡æ— æ³•è¡¨ç¤ºå¤§äº127çš„æ•°å€¼ã€‚*&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="switchåˆ¤æ–­æ–¹æ³•-ä¸èƒ½è‡ªç”±æ§åˆ¶"><a href="#switchåˆ¤æ–­æ–¹æ³•-ä¸èƒ½è‡ªç”±æ§åˆ¶" class="headerlink" title="switchåˆ¤æ–­æ–¹æ³•,ä¸èƒ½è‡ªç”±æ§åˆ¶"></a>switchåˆ¤æ–­æ–¹æ³•,ä¸èƒ½è‡ªç”±æ§åˆ¶</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">switch(res)&#123;  case &#39;1&#39;:       MOTOR_Move(1600 * 1, step_accel, step_decel, set_speed);  &#x2F;&#x2F; éœ€è¦æ—¶è°ƒ       break;      case &#39;2&#39;:       MOTOR_Move(-1600 * 5, step_accel, step_decel, set_speed);  &#x2F;&#x2F; éœ€è¦æ—¶è°ƒ       break; &#125;       <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="error-42-operand-types-are-incompatible-â€œcharâ€-and-â€œchar-â€"><a href="#error-42-operand-types-are-incompatible-â€œcharâ€-and-â€œchar-â€" class="headerlink" title="error: #42: operand types are incompatible (â€œcharâ€ and â€œchar *â€)"></a>error: #42: operand types are incompatible (â€œcharâ€ and â€œchar *â€)</h2><p>if (Rebuf[0]&#x3D;&#x3D;â€+â€||Rebuf[0]&#x3D;&#x3D;â€ â€œ)sign&#x3D;1;</p><p>è¿™ä¸ªé”™è¯¯æ˜¯å› ä¸ºä½ åœ¨ä»£ç ä¸­å°†ä¸€ä¸ªå­—ç¬¦ï¼ˆ<code>char</code> ç±»å‹ï¼‰ä¸ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆ<code>char*</code> ç±»å‹ï¼‰è¿›è¡Œäº†æ¯”è¾ƒã€‚å…·ä½“è€Œè¨€ï¼Œåœ¨ç¬¬ 75 è¡Œä»£ç ä¸­ï¼Œä½ å°† <code>Rebuf[0]</code> çš„å€¼ä¸å­—ç¬¦ä¸² <code>&quot;+&quot;</code> å’Œ <code>&quot; &quot;</code> è¿›è¡Œäº†æ¯”è¾ƒï¼Œè¿™æ˜¯ä¸å…è®¸çš„ã€‚å› ä¸º <code>Rebuf[0]</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œè€Œ <code>&quot;+&quot;</code> å’Œ <code>&quot; &quot;</code> éƒ½æ˜¯å­—ç¬¦ä¸²å¸¸é‡ï¼Œæ˜¯ç”±å¤šä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦æ•°ç»„ã€‚</p><blockquote><p>å°†â€â€æ¢æˆâ€™â€™,å°†å­—ç¬¦ä¸²å¸¸é‡æ”¹ä¸ºå­—ç¬¦å¸¸é‡\</p></blockquote><h2 id="æˆ‘ä¸æ˜ç™½è¿™ä¸ªä»£ç ä¸ºä»€ä¹ˆæˆ‘å‘é€r12-ä¸åº”è¯¥æ˜¯rrbuf-0-rebuf-1-1-rebuf-2-2è€Œä¸æ˜¯rebuf-0-r12"><a href="#æˆ‘ä¸æ˜ç™½è¿™ä¸ªä»£ç ä¸ºä»€ä¹ˆæˆ‘å‘é€r12-ä¸åº”è¯¥æ˜¯rrbuf-0-rebuf-1-1-rebuf-2-2è€Œä¸æ˜¯rebuf-0-r12" class="headerlink" title="æˆ‘ä¸æ˜ç™½è¿™ä¸ªä»£ç ä¸ºä»€ä¹ˆæˆ‘å‘é€r12,ä¸åº”è¯¥æ˜¯rrbuf[0]&#x3D;,rebuf[1]&#x3D;1,rebuf[2]&#x3D;2è€Œä¸æ˜¯rebuf[0]&#x3D;r12"></a>æˆ‘ä¸æ˜ç™½è¿™ä¸ªä»£ç ä¸ºä»€ä¹ˆæˆ‘å‘é€r12,ä¸åº”è¯¥æ˜¯rrbuf[0]&#x3D;,rebuf[1]&#x3D;1,rebuf[2]&#x3D;2è€Œä¸æ˜¯rebuf[0]&#x3D;r12</h2><p>â€‹           <code> if (res == &#39;\n&#39;)</code></p><p>å¦‚æœæ¥æ”¶åˆ°å›è½¦ç¬¦,è¿™ä¸ªåˆ¤æ–­å¾ˆé‡è¦,æœ‰è¿™ä¸ªå¯ä»¥æ­£å¸¸æŒ‰æ•°ç»„æ¥æ”¶æ•°æ®,æ²¡æœ‰çš„è¯,å¯èƒ½å°±ä¸å˜é‡æ¥æ”¶æ²¡æœ‰åŒºåˆ«</p><p>åŸå› :</p><h3 id="å…³äºstepsæ— æ³•ç®—ä¸¤ä½æ•°ä»¥ä¸Š"><a href="#å…³äºstepsæ— æ³•ç®—ä¸¤ä½æ•°ä»¥ä¸Š" class="headerlink" title="å…³äºstepsæ— æ³•ç®—ä¸¤ä½æ•°ä»¥ä¸Š"></a>å…³äºstepsæ— æ³•ç®—ä¸¤ä½æ•°ä»¥ä¸Š</h3><h3 id="å¹¶ä¸”ä»£ç çš„å…¬å¼æ²¡é—®é¢˜-forå¾ªç¯çš„æ‹¬å·-è¦æŠŠforå¾ªç¯ç»“æŸåstepæ‰æ˜¯æˆ‘æƒ³è¦çš„å€¼"><a href="#å¹¶ä¸”ä»£ç çš„å…¬å¼æ²¡é—®é¢˜-forå¾ªç¯çš„æ‹¬å·-è¦æŠŠforå¾ªç¯ç»“æŸåstepæ‰æ˜¯æˆ‘æƒ³è¦çš„å€¼" class="headerlink" title="å¹¶ä¸”ä»£ç çš„å…¬å¼æ²¡é—®é¢˜,forå¾ªç¯çš„æ‹¬å·,è¦æŠŠforå¾ªç¯ç»“æŸåstepæ‰æ˜¯æˆ‘æƒ³è¦çš„å€¼"></a>å¹¶ä¸”ä»£ç çš„å…¬å¼æ²¡é—®é¢˜,forå¾ªç¯çš„æ‹¬å·,è¦æŠŠforå¾ªç¯ç»“æŸåstepæ‰æ˜¯æˆ‘æƒ³è¦çš„å€¼</h3><h3 id="stepsæ— æ³•è®¡ç®—å°æ•°"><a href="#stepsæ— æ³•è®¡ç®—å°æ•°" class="headerlink" title="stepsæ— æ³•è®¡ç®—å°æ•°"></a>stepsæ— æ³•è®¡ç®—å°æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c"> for ( i &#x3D; 0; i &lt; buf_len; i++)                  &#123;                                          if (Rebuf[i] &gt;&#x3D; &#39;0&#39; &amp;&amp; Rebuf[i] &lt;&#x3D; &#39;9&#39;)&#x2F;&#x2F;1.5                       &#123;    &#x2F;&#x2F; å¦‚æœå½“å‰å­—ç¬¦æ˜¯æ•°å­—ï¼Œåˆ™å°†å…¶è½¬æ¢ä¸ºæ•´æ•°å¹¶ç´¯åŠ åˆ°æ­¥æ•°ä¸­                          steps &#x3D; steps * 10 + (Rebuf[i] - &#39;0&#39;);                      &#125;                       else if(Rebuf[i]&#x3D;&#x3D;&#39;.&#39;)&#x2F;&#x2F;12.5,1.25                      &#123; &#x2F;&#x2F;                      float steps &#x3D; atof(Rebuf + 1); &#x2F;&#x2F; å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæµ®ç‚¹æ•°                        steps &#x3D; steps * 10 + (Rebuf[i+1] - &#39;0&#39;);                                             float ff &#x3D; steps*0.1;                         steps&#x3D;ff;                        break;                       &#125;                     &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é—®é¢˜:å°æ•°ç‚¹æ— æ•ˆ,æ¯”å¦‚r0.5ä¼šæ­£è½¬5åœˆ</p><p>åŸå› :</p><p><code>ä½œç”¨åŸŸé—®é¢˜</code></p><p>å› ä¸ºåœ¨ <code>else if(Rebuf[i]==&#39;.&#39;)</code> åˆ†æ”¯ä¸­é‡æ–°å®šä¹‰äº† <code>steps</code> å˜é‡ï¼Œè€Œä¸”è¿™ä¸ªæ–°å®šä¹‰çš„ <code>steps</code> å˜é‡çš„ä½œç”¨åŸŸä»…é™äºè¯¥åˆ†æ”¯ä¸­ï¼Œä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„ <code>steps</code> å˜é‡ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#define BUFFER_SIZE 200char Rebuf[BUFFER_SIZE];uint8_t buf_len &#x3D; 0;  &#x2F;&#x2F; æ¥æ”¶ç¼“å†²åŒºå½“å‰é•¿åº¦uint8_t digit_count &#x3D; 0;int32_t steps &#x3D; 0; &#x2F;&#x2F; å­˜å‚¨æ­¥æ•°å˜é‡int sign;void USART3_IRQHandler(void)&#123;    if (USART_GetITStatus(USART3, USART_IT_RXNE) !&#x3D; RESET)    &#123;        char res &#x3D; USART_ReceiveData(USART3);        if (buf_len &lt; BUFFER_SIZE - 1) &#x2F;&#x2F; å¦‚æœæ¥æ”¶ç¼“å†²åŒºæœªæ»¡        &#123;            Rebuf[buf_len++] &#x3D; res; &#x2F;&#x2F; å­˜å‚¨æ¥æ”¶åˆ°çš„å­—ç¬¦            if (res &#x3D;&#x3D; &#39;\n&#39;) &#x2F;&#x2F; å¦‚æœæ¥æ”¶åˆ°å›è½¦ç¬¦,è¿™ä¸ªåˆ¤æ–­å¾ˆé‡è¦,æœ‰è¿™ä¸ªå¯ä»¥æ­£å¸¸æŒ‰æ•°ç»„æ¥æ”¶æ•°æ®,æ²¡æœ‰çš„è¯,å¯èƒ½å°±ä¸å˜é‡æ¥æ”¶æ²¡æœ‰åŒºåˆ«            &#123;                &#x2F;&#x2F;Rebuf[buf_len] &#x3D; &#39;\0&#39;; &#x2F;&#x2F; åœ¨æœ€åä¸€ä¸ªå­—ç¬¦åæ·»åŠ å­—ç¬¦ä¸²ç»“æŸç¬¦                if (Rebuf[0] &#x3D;&#x3D; &#39;r&#39;)                &#123;                    steps &#x3D; atoi((char const *)(Rebuf + 1));                    MOTOR_Move(1600 * steps, step_accel, step_decel, set_speed); &#x2F;&#x2F; éœ€è¦æ—¶è°ƒ                &#125;                buf_len &#x3D; 0; &#x2F;&#x2F; æ¸…ç©ºæ¥æ”¶ç¼“å†²åŒº                steps &#x3D; 0; &#x2F;&#x2F; æ¸…ç©ºæ­¥æ•°å˜é‡            &#125;        &#125;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜å¤©çš„ä»»åŠ¡</p><p>0.5.æ‰¾åˆ°ç”µæœºå‘çƒ­é—®é¢˜ </p><p>1.å°è£…xx,y,zç”µæœº</p><p>2.ç”µèµ›å‡†å¤‡</p><p>3.æ•°å­¦åŸç†å¾ˆé‡è¦,å¯ä»¥ç³»ç»Ÿå­¦ä¹ ä¸€ä¸‹,æ­¥è¿›ç”µæœºæ¢¯å½¢åŠ å‡é€Ÿçš„åŸç†</p><p>4.ä¸çŸ¥é“ä¸ºä»€ä¹ˆf4çš„ä¾‹ç¨‹é‡Œé¢æ²¡æœ‰å‡ºç°è¿™ä¸ª\nçš„é—®é¢˜,ä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºhalåº“å°è£…å¥½äº†</p><p>5.æ ‘è“æ´¾ä½¿ç”¨ä¸²å£è¦å…ˆæ‰“å¼€,å¥¶å¥¶æ»´,é‚£ä¸ªäººæ²¡ç»™æˆ‘ip,æ²¡ç»™æˆ‘çƒ­ç‚¹,æˆ‘è¿ä¸ªJQK</p><h2 id="ä¸²å£æ§åˆ¶xxyzå››ä¸ªç”µæœº"><a href="#ä¸²å£æ§åˆ¶xxyzå››ä¸ªç”µæœº" class="headerlink" title="ä¸²å£æ§åˆ¶xxyzå››ä¸ªç”µæœº"></a>ä¸²å£æ§åˆ¶xxyzå››ä¸ªç”µæœº</h2><h3 id="é—®é¢˜å››åˆ†ä¹‹ä¸€"><a href="#é—®é¢˜å››åˆ†ä¹‹ä¸€" class="headerlink" title="é—®é¢˜å››åˆ†ä¹‹ä¸€"></a>é—®é¢˜å››åˆ†ä¹‹ä¸€</h3><p>ç°åœ¨å°±æ˜¯æˆ‘ä¹‹å‰ä½¿ç”¨tim3çš„é€šé“ä¸€,æ§åˆ¶ä¸€ä¸ªç”µæœº,ç°åœ¨æˆ‘çˆ¸å››ä¸ªé€šé“éƒ½æ‰“å¼€äº†,ä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šå˜æˆåŸæ¥çš„å››åˆ†ä¹‹ä¸€,å› ä¸ºè®¡ç®—å…¬å¼éƒ½æ²¡å˜</p><h2 id="æ¢å››ä¸ªå®šæ—¶å™¨-å‚è€ƒå››è½´æ­¥è¿›ç”µæœº"><a href="#æ¢å››ä¸ªå®šæ—¶å™¨-å‚è€ƒå››è½´æ­¥è¿›ç”µæœº" class="headerlink" title="æ¢å››ä¸ªå®šæ—¶å™¨,å‚è€ƒå››è½´æ­¥è¿›ç”µæœº"></a>æ¢å››ä¸ªå®šæ—¶å™¨,å‚è€ƒå››è½´æ­¥è¿›ç”µæœº</h2><p>åœ¨å®šæ—¶å™¨ä¸­æ–­å¤„ç†å‡½æ•°ä¸­ï¼Œæ¯æ¬¡ä¸­æ–­å‘ç”Ÿæ—¶ä¼šæ£€æµ‹å®šæ—¶å™¨çš„ä¸­æ–­æ ‡å¿—ä½ï¼Œå¹¶æ ¹æ®æ ‡å¿—ä½æ¥æ‰§è¡Œç›¸åº”çš„ä»£ç ã€‚å¦‚æœæ‚¨åœ¨ä¸­æ–­å¤„ç†å‡½æ•°ä¸­å¤šæ¬¡æ£€æµ‹å®šæ—¶å™¨ä¸­æ–­æ ‡å¿—ä½ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½å¤„ç†ä¸€ä¸ªè„‰å†²ä¿¡å·ï¼Œé‚£ä¹ˆæ¯æ¬¡ä¸­æ–­å‘ç”Ÿæ—¶å°±ä¼šå¤„ç†å¤šä¸ªè„‰å†²ä¿¡å·ï¼Œå¯¼è‡´æ€»çš„è„‰å†²ä¿¡å·æ•°é‡å¢åŠ ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨å¤šå†™äº†ä¸€ä¸ªå¤„ç†è„‰å†²ä¿¡å·çš„ä»£ç ï¼Œé‚£ä¹ˆæ¯æ¬¡ä¸­æ–­å‘ç”Ÿæ—¶ä¼šå¤„ç†ä¸¤ä¸ªè„‰å†²ä¿¡å·ï¼Œå¯¼è‡´æ€»çš„è„‰å†²ä¿¡å·æ•°é‡å¢åŠ ä¸€å€ï¼Œå› æ­¤ç”µæœºçš„è½¬é€Ÿä¹Ÿä¼šå¢åŠ ä¸€å€ã€‚åŒæ ·åœ°ï¼Œå¦‚æœæ‚¨å¤šå†™äº†ä¸‰ä¸ªå¤„ç†è„‰å†²ä¿¡å·çš„ä»£ç ï¼Œé‚£ä¹ˆæ¯æ¬¡ä¸­æ–­å‘ç”Ÿæ—¶ä¼šå¤„ç†å››ä¸ªè„‰å†²ä¿¡å·ï¼Œå¯¼è‡´æ€»çš„è„‰å†²ä¿¡å·æ•°é‡å‡å°‘å››åˆ†ä¹‹ä¸‰ï¼Œå› æ­¤ç”µæœºçš„è½¬é€Ÿä¹Ÿä¼šå‡å°‘å››åˆ†ä¹‹ä¸‰ã€‚</p></blockquote><h3 id="å•å¼€oc1å¯-oc2-03-oc4éƒ½ä¸è¡Œ"><a href="#å•å¼€oc1å¯-oc2-03-oc4éƒ½ä¸è¡Œ" class="headerlink" title="å•å¼€oc1å¯,oc2,03,oc4éƒ½ä¸è¡Œ"></a>å•å¼€oc1å¯,oc2,03,oc4éƒ½ä¸è¡Œ</h3>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›å…ƒå™¨ä»¶åŸºç¡€çŸ¥è¯†</title>
      <link href="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/"/>
      <url>/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/</url>
      
        <content type="html"><![CDATA[<h2 id="å¦‚ä½•æ”¹å˜hexoç”Ÿæˆçš„æ–°æ–‡ä»¶çš„æ ‡å¤´"><a href="#å¦‚ä½•æ”¹å˜hexoç”Ÿæˆçš„æ–°æ–‡ä»¶çš„æ ‡å¤´" class="headerlink" title="å¦‚ä½•æ”¹å˜hexoç”Ÿæˆçš„æ–°æ–‡ä»¶çš„æ ‡å¤´"></a>å¦‚ä½•æ”¹å˜hexoç”Ÿæˆçš„æ–°æ–‡ä»¶çš„æ ‡å¤´</h2><h2 id="è‡ªé”å¼€å…³6è„š"><a href="#è‡ªé”å¼€å…³6è„š" class="headerlink" title="è‡ªé”å¼€å…³6è„š"></a>è‡ªé”å¼€å…³6è„š</h2><p>å…­è„šå¼€å…³ï¼ˆå…­è„šè‡ªé”å¼€å…³ï¼‰ä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„åŒåˆ€åŒæ·å¼€å…³ï¼Œå¼•è„šå…±2æ’ï¼Œæ¯æ’3ä¸ªå¼•è„šï¼Œä¸­é—´ä¸€æ ¹æ˜¯å…¬å…±ç«¯ï¼Œå¯¹åº”ä»–å·¦å³2ä¸ªè„šä¸€ä¸ªå¸¸å¼€ä¸€ä¸ªå¸¸é—­ï¼Œå¦å¤–ä¸€æ’å’Œè¿™ä¸ªä¸€æ ·ï¼Œå¸¸å¼€å¯¹å¸¸å¼€ï¼Œå…¬å…±ç‚¹å¯¹å…¬å…±ç‚¹ï¼Œå¸¸é—­å¯¹å¸¸é—­ï¼Œä½†æ˜¯æ˜¯å®Œå…¨ç‹¬ç«‹çš„2ç»„ï¼Œé™¤éä½ åœ¨PCBä¸Šå°†ä»–ä»¬è¿æ¥èµ·æ¥æ‰æ˜¯é€šçš„ã€‚</p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230524153941245.png" class="" title="image-20230524153941245"><blockquote><p>ä¸åŒè§„æ ¼çš„å…­è„šè‡ªé”å¼€å…³ä¸åŒ</p><ul><li>5.8*5.8 åŸç†åº•ä¸‹å‡¹æ§½æ˜¯å¸¸å¼€(ä¸¤ä¸ªä¸¤ä¸ªçš„)</li><li>7*7 é è¿‘å‡¹æ§½å¸¸å¼€</li><li>8.5*8.5é è¿‘å‡¹æ§½å¸¸å¼€</li><li>8*8å·¦ä¸Šå³ä¸‹å¸¸å¼€,æ—‹è½¬180Â°ä¹Ÿä¸€æ ·</li></ul></blockquote><p><strong>è´¹åŠ²æ­»äº†,ç”µå‹è¡¨èœ‚é¸£æ¡£ç›´æ¥æµ‹</strong></p><p><a href="https://detail.tmall.com/item.htm?ali_trackid=2:mm_50570328_39070332_145428725:1684914191_026_477441657&bxsign=tbk4CjUu0VKiy6pgKc5NXCeGntgjFGlrlH0o4q57jjAgHBLTi-VROloECI7kUICD5dEgyj2SdysJccMa53Ljd_FEZRfl6OPYUwl5u5SCicHIhzEsLQQeKI_GUEAPW08w3zHuZsQuLKWuYx1_KtW-N5l5w&id=619450836896&spm=a2e1u.27655827.d1661933647166.20&union_lens=lensId:OPT@1684913782@213e7f1b_0ac4_1884caffd34_44f6@01@eyJmbG9vcklkIjo2MTc4NH0ie;recoveryid:201_33.43.202.19_13111709_1684913724229;prepvid:201_33.50.201.183_13093957_1684913779022">è‡ªé”æ— é”å¼€å…³è§†é¢‘ä»‹ç»</a></p><h2 id="ä¸‰æç®¡"><a href="#ä¸‰æç®¡" class="headerlink" title="ä¸‰æç®¡"></a>ä¸‰æç®¡</h2><p>åŠå¯¼ä½“ä¸‰æç®¡(Bipolar Junction Transistor)ï¼Œä¹Ÿç§°åŒæå‹æ™¶ä½“ç®¡ã€æ™¶ä½“ä¸‰æç®¡ï¼Œè‹±æ–‡ç¼©å†™BJTã€‚<br>å®ƒæ˜¯ç”±ä¸¤ä¸ªPNç»“æ„æˆï¼Œä¸‰æ¡å¼•çº¿åˆ†åˆ«ç§°ä¸º å‘å°„æe ï¼ˆEmitterï¼‰ã€ åŸºæb (Base)å’Œ é›†ç”µæc (Collector)<br>ç±»å‹åˆ†ä¸ºNPNå‹ä¸PNPå‹ï¼Œå¦‚ä¸‹å›¾,pæŒ‡å‘n,å³pæµå‘n</p><p><img src="https://img-blog.csdnimg.cn/c076d7166beb4e8baaded679a008b697.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/30464b5bc0b94f2497b98e14edd8eb3c.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ä¸‰æç®¡æœ‰å“ªä¸‰æ"><a href="#ä¸‰æç®¡æœ‰å“ªä¸‰æ" class="headerlink" title="ä¸‰æç®¡æœ‰å“ªä¸‰æ"></a>ä¸‰æç®¡æœ‰å“ªä¸‰æ</h3><ul><li><strong>åŸºæ</strong>ï¼šç”¨äºæ¿€æ´»æ™¶ä½“ç®¡ã€‚ï¼ˆåå­—çš„æ¥æºï¼Œæœ€æ—©çš„ç‚¹æ¥è§¦æ™¶ä½“ç®¡æœ‰ä¸¤ä¸ªç‚¹æ¥è§¦æ”¾ç½®åœ¨åŸºæä¸Šï¼Œè€Œè¿™ç§åŸºæå½¢æˆäº†åº•åº§è¿æ¥ã€‚ï¼‰</li><li><strong>é›†ç”µæ</strong>ï¼šä¸‰æç®¡çš„æ­£æã€‚ï¼ˆå› ä¸ºæ”¶é›†ç”µè·è½½ä½“ï¼‰</li><li><strong>å‘å°„æ</strong>ï¼šä¸‰æç®¡çš„è´Ÿæã€‚ï¼ˆå› ä¸ºå‘å°„ç”µè·è½½æµå­ï¼‰</li></ul><p><img src="https://img-blog.csdnimg.cn/3d3d5b5fe231451daf711043804460b9.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>I&#x3D;ç”µæµ<br>Ie&#x3D;Ib+Ic<br>è¿™å°±æ˜¯è¯´ï¼Œåœ¨åŸºæè¡¥å……ä¸€ä¸ªå¾ˆå°çš„Ibï¼Œå°±å¯ä»¥åœ¨é›†ç”µæä¸Šå¾—åˆ°ä¸€ä¸ªè¾ƒå¤§çš„Icï¼Œè¿™å°±æ˜¯æ‰€è°“ç”µæµæ”¾å¤§ä½œç”¨ï¼ŒIcä¸Ibæ˜¯ç»´æŒä¸€å®šçš„æ¯”ä¾‹å…³ç³»<br>Î²1&#x3D;Ic&#x2F;Ib<br>å¼ä¸­ï¼šÎ²1â€“ç§°ä¸ºç›´æµæ”¾å¤§å€æ•°<br>ä¸‰æç®¡æœ‰3ç§å·¥ä½œçŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯<strong>æˆªæ­¢çŠ¶æ€ã€æ”¾å¤§çŠ¶æ€ã€é¥±å’ŒçŠ¶æ€</strong></p><img src="https://img-blog.csdnimg.cn/e0d49ef9ea2f440c908a9cfee151073b.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style="zoom: 50%;" /><p><strong>æˆªæ­¢çŠ¶æ€ï¼›</strong> å½“å‘å°„æä¸é›†ç”µæå‡ºç°åå‘åç½®æ—¶ï¼Œä¸‰çº§ç®¡è¿›å…¥æˆªæ­¢è½¬æ€<br>è¿™å¥è¯æ¯”è¾ƒåä¸“ä¸šæœ¯è¯­æ¥è®²ï¼Œæˆ‘çš„ä¸ªäººç†è§£æ­£å‘åç½®å°±æ˜¯Påˆ°Nï¼Œå› ä¸ºä¸‰æç®¡æ˜¯æœ‰2ä¸ªPNèŠ‚,æ¢è¨€ä¹‹åå‘åç½®å°±æ˜¯Nåˆ°P</p><img src="https://img-blog.csdnimg.cn/71c14f62b9d14175b7f8fed298b41d3d.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style="zoom: 50%;" /><p><strong>æ”¾å¤§çŠ¶æ€ï¼›</strong> å½“ä¸‰æç®¡å‘å°„ææ­£å‘åç½®ï¼Œé›†ç”µæåå‘åç½®ï¼Œä¸‰æç®¡å°±è¿›å…¥æ”¾å¤§è½¬æ€ã€‚<br>ä»¥NPNå‹ä¸ºä¾‹ï¼Œï¼ˆå¯ä»¥å‚è€ƒæ–‡ç« å›¾2ï¼‰ï¼Œæ­¤æ—¶æ”¾å¤§çŠ¶æ€ç”µæµæµå‘ï¼Œå°±æ˜¯Cåˆ°Eæµï¼ï¼ï¼</p><img src="https://img-blog.csdnimg.cn/eebc584ee75f4fa093ad57f6adbfa49e.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" style="zoom: 50%;" /><p><strong>é¥±å’ŒçŠ¶æ€</strong><br>å½“ä¸‰æç®¡å‘å°„ææ­£åï¼Œé›†ç”µææ­£åæ—¶ï¼Œä¸‰æç®¡å·¥ä½œåœ¨é¥±å’ŒçŠ¶æ€<br>è¯´ç™½äº†å°±æ˜¯BåŸºæç”µæµå¤ªå¤§äº†è¶…è¿‡Cæï¼Œæ°´é˜€é˜€é—¨å·²ç»å¼€åˆ°æœ€å¤§ï¼Œæ‰€ä»¥é¥±å’Œäº†ï¼ï¼ï¼</p><p>I&#x3D;ç”µæµ<br>å¥—ç”¨è¿™ä¸ªå…¬å¼,Ie&#x3D;Ib+Ic<br>Î²1&#x3D;Ic&#x2F;Ib<br>å¼ä¸­ï¼šÎ²1â€“ç§°ä¸ºç›´æµæ”¾å¤§å€æ•°<br>è¿™å°±æ˜¯è¯´ï¼Œåœ¨åŸºæè¡¥å……ä¸€ä¸ªå¾ˆå°çš„Ibï¼Œå°±å¯ä»¥åœ¨é›†ç”µæä¸Šå¾—åˆ°ä¸€ä¸ªè¾ƒå¤§çš„Icï¼Œè¿™å°±æ˜¯æ‰€è°“ç”µæµæ”¾å¤§ä½œç”¨ï¼ŒIcä¸Ibæ˜¯ç»´æŒä¸€å®šçš„æ¯”ä¾‹å…³ç³»</p><h3 id="8550ä¸‰æç®¡"><a href="#8550ä¸‰æç®¡" class="headerlink" title="8550ä¸‰æç®¡"></a>8550ä¸‰æç®¡</h3><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/01.jpg" class="" title="image-20230524151959362"><p>ï¼ˆæ–‡å­—æœè‡ªå·±ï¼Œå¼•è„šæœä¸‹ï¼‰ä»å·¦åˆ°å³æ•°å¦‚ä¸‹:</p><p>1è„š&#x3D;Eï¼ˆ<a href="https://baike.baidu.com/item/%E5%8F%91%E5%B0%84%E6%9E%81/5957463?fromModule=lemma_inlink">å‘å°„æ</a>ï¼Œå¸¦ç®­å¤´çš„é‚£ä¸ªï¼‰ï¼Œ</p><p>2è„š&#x3D;Bï¼ˆ<a href="https://baike.baidu.com/item/%E5%9F%BA%E6%9E%81/763327?fromModule=lemma_inlink">åŸºæ</a>ï¼‰ï¼Œ</p><p>3è„š&#x3D;Cï¼ˆé›†ç”µæï¼‰.</p><p>8550<a href="https://baike.baidu.com/item/%E4%B8%89%E6%9E%81%E7%AE%A1?fromModule=lemma_inlink">ä¸‰æç®¡</a>ï¼ˆSOT-23å°è£…ï¼‰ç®¡è„šå›¾</p><p>1ã€Bï¼ˆåŸºæ)ã€€2ã€Eï¼ˆå‘å°„æ)ã€€3ã€Cï¼ˆé›†ç”µæ)</p><h3 id="s8050ä¸‰æç®¡"><a href="#s8050ä¸‰æç®¡" class="headerlink" title="s8050ä¸‰æç®¡"></a>s8050ä¸‰æç®¡</h3><p>SOTå°è£…çš„s8050ä¸‰æç®¡</p><p>åŸºçº§,å‘å°„é›†,é›†ç”µæ,å¯¹åº”å¼•è„š1,2,3</p><p><img src="https://pics6.baidu.com/feed/2e2eb9389b504fc2a2720fc828b2501a91ef6d4d.png@f_auto?token=09351f9bce6acc8467384f8ca7c7c4ff" alt="img"></p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722181609855.png" class="" title="image-20230722181609855"><h3 id="ä¸‰æç®¡çš„ä½œç”¨"><a href="#ä¸‰æç®¡çš„ä½œç”¨" class="headerlink" title="ä¸‰æç®¡çš„ä½œç”¨"></a>ä¸‰æç®¡çš„ä½œç”¨</h3><p>ä¸‰æç®¡æ›´å¤šçš„æ˜¯åšä¸€ä¸ªå¼€å…³ç®¡æ¥ä½¿ç”¨ï¼Œä¸”åªæœ‰æˆªæ­¢ã€é¥±å’Œä¸¤ä¸ªçŠ¶æ€ã€‚æˆªæ­¢çŠ¶æ€çœ‹ä½œæ˜¯â€œå…³â€ï¼Œé¥±å’ŒçŠ¶æ€çœ‹ä½œæ˜¯â€œå¼€â€</p><h4 id="å¼€å…³ä½œç”¨"><a href="#å¼€å…³ä½œç”¨" class="headerlink" title="å¼€å…³ä½œç”¨"></a>å¼€å…³ä½œç”¨</h4><p>ä¸‰æç®¡ä½œä¸ºå¼€å…³æ—¶,è¦ä¹ˆæ˜¯å·¥ä½œåœ¨é¥±å’ŒåŒº,å³å¯¼é€š,è¦ä¹ˆæ˜¯å·¥ä½œåœ¨æˆªè‡³åŒº,å³æˆªæ­¢</p><p>ä¸èƒ½å·¥ä½œå†æ”¾å¤§åŒº(ç”±äºVceç”µå‹éš¾ä»¥ç¡®å®š,æ— æ³•åŒºåˆ†é«˜ä½ç”µå¹³)</p><p>å¯¼é€š</p><p><strong>NPN</strong>:å¯¼é€šæ¡ä»¶:(Vbe)å¤§äºæŸä¸ªé˜ˆå€¼(é€šå¸¸çº¦ä¸º0.7V),å³VB&gt;VE</p><p><strong>PNP</strong>:ä¸NPNç›¸å</p><p><em>æˆªæ­¢</em></p><p><strong>NPN</strong>:(Vbe)å°äºé˜ˆå€¼æ—¶,ä¸€èˆ¬å°äº0</p><p>ä¸‰æç®¡å¯é æˆªæ­¢æ¡ä»¶æ˜¯:uBE â‰¤ 0 é¥±å’Œå¯¼é€šæ¡ä»¶æ˜¯:iBâ‰¥IB(sat)</p><p><strong>PNP</strong>:ä¸NPNç›¸å</p><p><a href="https://blog.csdn.net/lx123010/article/details/122967176">ä¸‰æç®¡å¼€å…³ä½œç”¨_3æç®¡çš„å¼€å…³ä½œç”¨å’Œå·¥ä½œåŸç†</a></p><p><a href="https://zhuanlan.zhihu.com/p/501215906">ä¸‰æç®¡çš„å·¥ä½œåŸç†</a></p><h4 id="æ”¾å¤§ä½œç”¨"><a href="#æ”¾å¤§ä½œç”¨" class="headerlink" title="æ”¾å¤§ä½œç”¨"></a>æ”¾å¤§ä½œç”¨</h4><img src="D:\blog\source\_posts\61H-ä¸€äº›å…ƒå™¨ä»¶åŸºç¡€çŸ¥è¯†\image-20230722202225861.png" style="zoom:80%;" /><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722202242360.png" class="" title="image-20230722202242360"><p>æˆ‘ä¸æ˜ç™½ä¸ºä»€ä¹ˆä¸èƒ½é›†ç”µææ¥3.3væ¥èœ‚é¸£å™¨,å‘å°„ææ¥åœ°</p><blockquote><p>å› ä¸ºèœ‚é¸£å™¨æ˜¯å› ä¸ºéœ€è¦æ”¾å¤§ç”µæµæ‰ä¼šä½¿ç”¨ä¸‰æç®¡,å¦‚æœå°†ä¸‰æç®¡æ¥åœ¨å‘å°„æ,å°±ä¼šå¤±å»æ”¾å¤§ä½œç”¨</p><p>npnå‹ä¸‰æç®¡å¦‚8050,å½“beé€šç”µæ—¶,ä¼šå¸å¼•ç”µå­,æœ‰ç©ºç©´,ä½†æ˜¯å·¦è¾¹Nçš„ç”µå­å¯†åº¦å¤§äºç©ºç©´</p><p>æ‰€ä»¥ä¸€ä¸ªç©ºç©´ä¼šæœ‰å¤šä¸ªç”µå­å»æŠ¢,å·¦è¾¹çš„ç”µå­æµ“åº¦å¤§äºå³è¾¹,ä½¿ç”µå­ç©¿è¿‡ä¸­é—´çš„PåŒºåˆ°è¾¾C,ä¹Ÿå°±æ˜¯è¯´</p><p>BEæ¯å¸å¼•ä¸€ä¸ªç”µå­åˆ°E,å°±ä¼šæœ‰ä¸€å †,ä¹Ÿå°±æ˜¯<code>Î²å€çš„ç”µå­æµå‘c</code></p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722210429336.png" class="" title="image-20230722210429336"><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722210821202.png" class="" title="image-20230722210821202"></blockquote><p>**PNP</p><p>å…ˆç»™CEé€šç”µä½¿Eæå°†æ­£ç”µç©ºç©´æ¨å¾€ä¸­é—´,Cæé‡Šæ”¾ç”µå­å¡«è¡¥ä¸­é—´ç©ºç©´,</p><p>æ­¤æ—¶è€—å°½å±‚ä»ç„¶å¾ˆå¤§,æ— æ³•é€šè¿‡,ç„¶åç»™BEæ–½åŠ ç”µå‹,Bæå‘é€ä¸€ä¸ªç”µå­,é¡¶æ‰På¡«è¡¥Pçš„ç©ºç©´,</p><p>è¿™ä¸€ç¬é—´å·¦ä¾§ç©ºç©´å’Œä¸­é—´ç©ºç©´éƒ½æ˜¾æ­£ç”µ,å¸å¼•å³ä¾§På€çš„ç”µå­é€šè¿‡è€—å°½å±‚</p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230723071532924.png" class="" title="image-20230723071532924"><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230723070424558.png" class="" title="image-20230723070424558"><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230723070617985.png" class="" title="image-20230723070617985"><h3 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h3><p>ç¡…æ™¶ä½“ä¸å¯¼ç”µ,ç¡…åŸå­å››ä¸ªç”µå­,ç¡…æ™¶ä½“å‘¨å›´å…«ä¸ªç”µå­å››ä¸ªå…±ä»·é”®,ç¨³å®š,ç”µå­ä¸åŠ¨</p><p>æºB,      3+4å½¢æˆ7ç”µå­æœºå•Šä¸€ä¸ªç©ºç©´,æ­£ç”µ,è´Ÿæè¾“å…¥è´Ÿç”µè·å¡«å……åˆ°ç©ºç©´å†è¢«æ­£æå¸å¼•-&gt;På‹åŠå¯¼ä½“</p><p>æºP,,äº”ä¸ªç”µå­+4å½¢æˆå…«ç”µå­åŠ ä¸€è‡ªç”±ç”µå­,å¯¼ç”µäº†,å› ä¸ºè‡ªç”±ç”µå­ä¼šç§»åŠ¨-&gt;Nå‹åŠå¯¼ä½“</p><p>äºŒæç®¡å…·æœ‰å•å‘å¯¼ç”µæ€§,è…¹è‚Œæ¨åŠ¨ç”µå­å‰è¿›,&gt;0.7vå³å¯ç©¿è¿‡påŒºåŸŸ</p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722211013917.png" class="" title="image-20230722211013917"><p>åå‘æˆªæ­¢,å› ä¸ºè€—å°½å±‚(pnç»“)å¢å¤§,ä¸ªäººç†è§£,ä¸¤è¾¹è·ç¦»å˜å¤§äº†,ä¸ºä»€ä¹ˆå«è€—å°½å±‚,æˆ‘ç†è§£çš„æ˜¯+-,ç”µå­-&gt;,èµ°ä¸åŠ¨</p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722212300595.png" class="" title="image-20230722212300595"><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722211130400.png" class="" title="image-20230722211130400"><p><a href="https://www.bilibili.com/video/BV1fB4y147Gn/?spm_id_from=333.788&vd_source=e33ad22b3d91cb180bef532ce5877b2e">ç»ˆäºæœ‰äººè®²äº†ï¼Œå‡­ä»€ä¹ˆä¸‰æç®¡èƒ½æ”¾å¤§?_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://www.bilibili.com/video/BV1js4y1A7GU/?buvid=XXBDF84B608D26441D57DCC92DCF748F1B01A&is_story_h5=false&mid=ige4SFfjyP88bhZMDXpf6g==&p=1&plat_id=114&share_from=ugc&share_medium=android&share_plat=android&share_session_id=ac455019-b821-4d6f-8733-31372cf7a6e9&share_source=COPY&share_tag=s_i&timestamp=1682047526&unique_k=LjVL2ks&up_id=677486623&vd_source=e33ad22b3d91cb180bef532ce5877b2e">æ²¡äººè®²PNPä¸‰æç®¡æ˜¯å§?æˆ‘è®²!_å“”å“©å“”å“©_bilibili</a></p><p><a href="https://www.bilibili.com/read/cv22690611/">3.3V èœ‚é¸£å™¨ç”µè·¯è®¾è®¡ - å“”å“©å“”å“© (bilibili.com)</a></p><p>[ä¸‰æç®¡å·¥ä½œåŸç†ä»‹ç»(åŠ¨ç”»å›¾è§£)]<a href="https://blog.csdn.net/qq_40907156/article/details/125163969?ops_request_misc=%7B%22request_id%22:%22168576074216800222849050%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=168576074216800222849050&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-125163969-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&utm_term=%E4%B8%89%E7%BA%A7%E7%AE%A1&spm=1018.2226.3001.4187">https://blog.csdn.net/qq_40907156/article/details/125163969?ops_request_misc=%7B%22request%5Fid%22%3A%22168576074216800222849050%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168576074216800222849050&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-125163969-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=ä¸‰çº§ç®¡&amp;spm=1018.2226.3001.4187</a>)</p><h2 id="èœ‚é¸£å™¨"><a href="#èœ‚é¸£å™¨" class="headerlink" title="èœ‚é¸£å™¨"></a>èœ‚é¸£å™¨</h2><h3 id="æœ‰æºèœ‚é¸£å™¨-éœ‡è¡æº"><a href="#æœ‰æºèœ‚é¸£å™¨-éœ‡è¡æº" class="headerlink" title="æœ‰æºèœ‚é¸£å™¨(éœ‡è¡æº)"></a>æœ‰æºèœ‚é¸£å™¨(éœ‡è¡æº)</h3><p>å‘å£°åŸç†:æŒ¯è¡å™¨äº§ç”ŸéŸ³é¢‘ä¿¡å·ç”µæµé€šè¿‡çº¿åœˆ,äº§ç”Ÿç£åœº,ç”µç£çº¿åœˆå’Œç£åœºä¸€èµ·èµ·ä½œç”¨ä½¿æŒ¯åŠ¨ç£¨ç‰‡å‘¨æœŸéœ‡åŠ¨</p><p><code>éœ€è¦å¤§ç”µæµ</code>,æ‰€ä»¥ä¼šè¿æ¥ä¸€ä¸ªä¸‰æç®¡å› ä¸ºä¸‰æç®¡æœ‰å¼€å…³å’Œæ”¾å¤§ä½œç”¨,51å•ç‰‡æœºåªæœ‰10maçš„ç”µæµ</p><img src="/2023/05/24/61h-yi-xie-yuan-qi-jian-ji-chu-zhi-shi/image-20230722204642348.png" class="" title="image-20230722204642348"><h3 id="æ— æºèœ‚é¸£å™¨"><a href="#æ— æºèœ‚é¸£å™¨" class="headerlink" title="æ— æºèœ‚é¸£å™¨"></a>æ— æºèœ‚é¸£å™¨</h3><h2 id="è´´ç‰‡ç”µå®¹"><a href="#è´´ç‰‡ç”µå®¹" class="headerlink" title="è´´ç‰‡ç”µå®¹"></a>è´´ç‰‡ç”µå®¹</h2><p><strong>è´´ç‰‡ç”µå®¹</strong>102ç­‰äº1NFï¼Œ103ç­‰äº10NFï¼Œ 104ç­‰äº100NFï¼Œ105ç­‰äº1UFï¼Œ106ç­‰äº10UF</p><p>102ï¼Œå³10Ã—102 pF&#x3D;1nF;</p><p>103ï¼Œå³10Ã—103 pF&#x3D;10nF;</p><p>104ï¼Œå³10Ã—104 pF&#x3D;100nF;</p><p>105ï¼Œå³10Ã—105 pF&#x3D;1000nF&#x3D;1uF;</p><p>106ï¼Œå³10Ã—106 pF&#x3D;10000nF&#x3D;10uF</p><p>10u+æ˜¯10ué’½ç”µå®¹</p><p>ç”µé˜»åŒç†,102å°±æ˜¯10*10å¹³æ–¹&#x3D;1000Î©&#x3D;1k</p><h2 id="å››å±‚PCB"><a href="#å››å±‚PCB" class="headerlink" title="å››å±‚PCB"></a>å››å±‚PCB</h2><h2 id="LM295S"><a href="#LM295S" class="headerlink" title="LM295S"></a>LM295S</h2><h3 id="SAM8108"><a href="#SAM8108" class="headerlink" title="SAM8108"></a>SAM8108</h3><p>SAM8108æ˜¯æŒ‰é”®è§¦å‘å¼€å…³ ICï¼Œä¸€è·¯ NMOS å¼€æ¼è¾“å‡ºã€‚ æœ‰ä¸¤ç§è§¦å‘æ¨¡å¼å¼€å…³åŠŸèƒ½</p><p><a href="https://www.semiee.com/file/Sun&Moon/Sun&Moon-SAM8108.pdf">Deltas Integrated Circuit Technology Co (semiee.com)</a></p><h3 id="MOSç®¡"><a href="#MOSç®¡" class="headerlink" title="MOSç®¡"></a>MOSç®¡</h3><p><a href="https://www.semiee.com/file/TWGMC/TWGMC-SI2301.pdf">TWGMC-SI2301.pdf (semiee.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>60H_TPS54560DDARé™å‹æ¨¡å—</title>
      <link href="/2023/05/12/60h-tps54560ddar-jiang-ya-mo-kuai/"/>
      <url>/2023/05/12/60h-tps54560ddar-jiang-ya-mo-kuai/</url>
      
        <content type="html"><![CDATA[<p>åœ¨TPS54560DDARæ¨¡å—ä¸­ï¼Œè¾“å‡ºç”µå‹çš„åé¦ˆç”µè·¯æ˜¯ç”±ä¸€ä¸ªç”µé˜»åˆ†å‹å™¨ç»„æˆçš„ã€‚è¿™ä¸ªç”µé˜»åˆ†å‹å™¨åŒ…æ‹¬ä¸¤ä¸ªå›ºå®šé˜»å€¼ç”µé˜» R1 å’Œ R2ï¼Œä»¥åŠä¸€ä¸ªåé¦ˆç”µé˜» RFï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">+Vin  |  |  | &#x2F; \R1 R2|   ||   ||   |--- |  | |RF|_| Vout  |----------<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åé¦ˆç”µè·¯çš„åŸºæœ¬åŸç†æ˜¯ï¼Œé€šè¿‡è°ƒæ•´åé¦ˆç”µè·¯çš„ç”µé˜»å€¼ï¼Œä½¿å¾—åé¦ˆç”µå‹ç­‰äºå‚è€ƒç”µå‹ï¼ˆé€šå¸¸ä¸º0.8Vï¼‰ï¼Œä»è€Œå®ç°ç¨³å®šçš„è¾“å‡ºç”µå‹ã€‚åœ¨TPS54560DDARä¸­ï¼Œè¾“å‡ºç”µå‹çš„å…¬å¼ä¸ºï¼š</p><p>Vout &#x3D; Vref x (1 + R1&#x2F;R2) + RF x I(RF)</p><p>å…¶ä¸­ï¼ŒVref æ˜¯å‚è€ƒç”µå‹ï¼ˆé€šå¸¸ä¸º0.8Vï¼‰ï¼ŒR1 å’Œ R2 æ˜¯ç”µé˜»åˆ†å‹å™¨çš„ä¸¤ä¸ªå›ºå®šç”µé˜»ï¼ŒRF æ˜¯åé¦ˆç”µé˜»ï¼ŒI(RF) æ˜¯é€šè¿‡åé¦ˆç”µé˜» RF æµè¿‡çš„ç”µæµã€‚</p><p>å¦‚æœå‡è®¾ TPS54560DDAR çš„å‚è€ƒç”µå‹ Vref ä¸º 0.8Vï¼Œåé¦ˆç”µé˜» RF çš„é˜»å€¼ä¸º 10 kÎ©ï¼Œé‚£ä¹ˆè¾“å‡ºç”µå‹ Vout å¯ä»¥é€šè¿‡ä»¥ä¸‹å…¬å¼è®¡ç®—ï¼š<br>Vout &#x3D; Vref x (1 + R1&#x2F;R2) + RF x I(RF)<br>å…¶ä¸­ï¼ŒR1 å’Œ R2 æ˜¯ç”µé˜»åˆ†å‹å™¨ä¸­çš„ä¸¤ä¸ªç”µé˜»ï¼ŒI(RF) æ˜¯é€šè¿‡åé¦ˆç”µé˜» RF æµè¿‡çš„ç”µæµã€‚<br>ä»£å…¥æ‚¨æä¾›çš„ç”µé˜»å€¼å’Œå‚è€ƒç”µå‹ï¼Œå¯ä»¥è®¡ç®—å‡ºï¼š<br>Vout &#x3D; 0.8V x (1 + 86.6&#x2F;5.22) + 10 kÎ© x I(RF)<br>Vout &#x3D; 14.7V + 10 kÎ© x I(RF)<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåé¦ˆç”µæµ I(RF) çš„å¤§å°å–å†³äºè¾“å‡ºç”µå‹ Vout å’Œåé¦ˆç”µé˜» RF çš„é˜»å€¼ã€‚å¦‚æœæ‚¨æƒ³è¦è®¡ç®—å‡ºå…·ä½“çš„è¾“å‡ºç”µå‹å€¼ï¼Œéœ€è¦è¿›ä¸€æ­¥ç¡®å®šåé¦ˆç”µæµçš„å¤§å°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥æ ¹æ®æ‰€éœ€çš„è¾“å‡ºç”µå‹å’Œåé¦ˆç”µé˜»çš„é˜»å€¼ï¼Œä½¿ç”¨æ¬§å§†å®šå¾‹è®¡ç®—å‡ºåé¦ˆç”µæµçš„å¤§å°ï¼Œç„¶åä»£å…¥ä¸Šè¿°å…¬å¼ä¸­è®¡ç®—å‡ºè¾“å‡ºç”µå‹çš„å€¼ã€‚</p><h3 id="4-7mæ˜¯æŒ‡ç”µé˜»475å—"><a href="#4-7mæ˜¯æŒ‡ç”µé˜»475å—" class="headerlink" title="4.7mæ˜¯æŒ‡ç”µé˜»475å—"></a>4.7mæ˜¯æŒ‡ç”µé˜»475å—</h3><p>æ˜¯ã€‚ç”µé˜»çš„å‘½åæ–¹æ³•ä¸€èˆ¬é‡‡ç”¨é¢œè‰²ç¯å¸¦æ ‡è®°æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ç”µé˜»çš„é˜»å€¼ã€ç²¾åº¦ã€æ¸©åº¦ç³»æ•°ç­‰ä¿¡æ¯ã€‚475ç”µé˜»çš„é˜»å€¼ä¸º47 Ã— 10^5Î©ï¼Œå³475kÎ©ï¼Œ4.7MÎ©</p><p>ä¾‹å¦‚:</p><p>330æ¬§å§†.è¿™ä¸ªå¾ˆå¥½è®¡ç®—çš„,å‰ä¸¤ä½æ˜¯æœ‰æ•ˆæ•°å­—,ç¬¬ä¸‰ä½æ˜¯æŒ‡æ•°.331è¡¨ç¤ºä¸º33ä¹˜ä»¥10çš„1æ¬¡æ–¹,å³ä¸º330æ¬§å§†.å¦‚472å³ä¸º47ä¹˜ä»¥10çš„2æ¬¡æ–¹,å³4.7Kæ¬§.</p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>æ²¡æœ‰æ•ˆæœ,å³è¾“å…¥ç”µå‹ç­‰äºè¾“å‡ºç”µå‹,r5,6,7,8,å‡æ²¡æœ‰ç”µå‹</p><ul><li>åŸå› :ç”µè·¯ç”»é”™äº†<img src="/2023/05/12/60h-tps54560ddar-jiang-ya-mo-kuai/image-20230524152755308.png" class="" title="image-20230524152755308"></li><li>è‡³äºé”™å“ªé‡Œäº†,ç”µè·¯æ²¡å­¦å¥½,æš‚æ—¶ä¸æ˜ç™½â€¦â€¦</li><li><img src="/2023/05/12/60h-tps54560ddar-jiang-ya-mo-kuai/image-20230524152614852.png" class="" title="image-20230524152614852"></li></ul><h2 id="å…‰è€¦æµ‹é€Ÿå™¨"><a href="#å…‰è€¦æµ‹é€Ÿå™¨" class="headerlink" title="å…‰è€¦æµ‹é€Ÿå™¨"></a>å…‰è€¦æµ‹é€Ÿå™¨</h2><p>éœ€æ±‚:åˆ©ç”¨å…‰è€¦ä¼ æ„Ÿå™¨,è®¡ç®—é€šè¿‡å…‰è€¦çš„æ—¶é—´,æ˜¾ç¤ºåœ¨æ•°ç ç®¡ä¸Š,ä¸»æ§èŠ¯ç‰‡stc89c52(ä¾¿å®œ)</p><p>é¢„æœŸé—®é¢˜:æ•°ç ç®¡é©±åŠ¨èŠ¯ç‰‡,ä»¥åŠç›¸å…³èŠ¯ç‰‡çš„é©±åŠ¨ä»£ç </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>59P_Scrapyæ¡†æ¶</title>
      <link href="/2023/04/26/59p-scrapy-kuang-jia/"/>
      <url>/2023/04/26/59p-scrapy-kuang-jia/</url>
      
        <content type="html"><![CDATA[<p>ç±»é‡Œé¢ä¼šé»˜è®¤ä¼ é€’selfå‚æ•°,æªæ„ä½¿ç”¨i.getæ—¶ä¼šæŠ¥é”™,è¯´ä½ ç»™äº†ä¸¤ä¸ªå‚æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import scrapyclass WangyiSpider(scrapy.Spider):    name &#x3D; &quot;wangyi&quot;    allowed_domains &#x3D; [&quot;163.com&quot;]    start_urls &#x3D; [&quot;https:&#x2F;&#x2F;news.163.com&#x2F;&quot;]    def parse(self, response):        selector&#x3D;response.xpath(&#39;&#x2F;&#x2F;div[contains(@ne-if, &quot;&#123;&#123;&quot; )]&#x2F;div&#x2F;a&#39;)        for i in selector:            # print(i.get(&quot;href&quot;))            print(i.xpath(&#39;@href&#39;).get())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>selectoræ˜¯ä¸€ä¸ªé€‰æ‹©å™¨,ç›¸å½“äºä¸€ä¸ªå¤§åˆ—è¡¨é‡Œé¢æ”¾ä¸‹å…¨éƒ¨,ä½¿ç”¨extract()ç›¸å½“äº,æå‡ºæ¥æ¯ä¸ªaæ ‡ç­¾</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">category_list &#x3D;response.xpath(&#39;&#x2F;&#x2F;div[contains(@ne-if, &quot;&#123;&#123;&quot; )]&#x2F;@ne-if&#39;).extract()        for cate in category_list:            print(cate)            &#123;&#123;__i &#x3D;&#x3D; 5&#125;&#125;&#123;&#123;__i &#x3D;&#x3D; 6&#125;&#125;&#123;&#123;__i &#x3D;&#x3D; 7&#125;&#125;&#123;&#123;__i &#x3D;&#x3D; 8&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åºå·é—®é¢˜ä¸ç”¨ç®¡,ä¸»è¦æ˜¯çœ‹ä¸€ä¸‹è¿™ä¸ªåŒºåˆ«</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">category_list &#x3D;response.xpath(&#39;&#x2F;&#x2F;div[contains(@ne-if, &quot;&#123;&#123;&quot; )]&#x2F;@ne-if&#39;)        for cate in category_list:            print(cate)             &lt;Selector xpath&#x3D;&#39;&#x2F;&#x2F;div[contains(@ne-if, &quot;&#123;&#123;&quot; )]&#x2F;@ne-if&#39; data&#x3D;&#39;&#123;&#123;__i &#x3D;&#x3D; 0&#125;&#125;&#39;&gt;&lt;Selector xpath&#x3D;&#39;&#x2F;&#x2F;div[contains(@ne-if, &quot;&#123;&#123;&quot; )]&#x2F;@ne-if&#39; data&#x3D;&#39;&#123;&#123;__i &#x3D;&#x3D; 1&#125;&#125;&#39;&gt;&lt;Selector xpath&#x3D;&#39;&#x2F;&#x2F;div[contains(@ne-if, &quot;&#123;&#123;&quot; )]&#x2F;@ne-if&#39; data&#x3D;&#39;&#123;&#123;__i &#x3D;&#x3D; 2&#125;&#125;&#39;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥,ç›¸å½“äºæ˜¯,è¿”å›äº†ä¸€ä¸ªselectorçš„é€‰æ‹©å™¨åˆ—è¡¨,ç„¶åæˆ‘forå¾ªç¯æå‡ºå•ä¸ªçš„é€‰æ‹©å™¨,ç„¶åå¾—ç”¨getæˆ–è€…extractæå‡ºå…·ä½“å€¼,é‚£ä¸ºä»€ä¹ˆä»¥å‰æˆ‘éƒ½æ²¡ç”¨è¿‡get,è¿˜æ˜¯è¯´,åªæ˜¯scrapyçš„xpathæ˜¯è¿™æ ·çš„,lxmlæ¨¡å—å¹¶ä¸æ˜¯è¿™æ ·çš„</p><blockquote><p>ä¸å¯¹,æ˜¯å› ä¸ºä½ æå–çš„æ˜¯å±æ€§,å°±éœ€è¦get()æˆ–è€…extract()</p></blockquote><p>åœ¨Scrapyä¸­ï¼Œ<code>extract()</code>å’Œ<code>get()</code>æ–¹æ³•éƒ½å¯ä»¥ç”¨äºä»<code>Selector</code>å¯¹è±¡ä¸­æå–æ–‡æœ¬æˆ–å±æ€§çš„å€¼ã€‚å®ƒä»¬çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š</p><ol><li>è¿”å›ç±»å‹ï¼š<code>extract()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œè€Œ<code>get()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li><li>é»˜è®¤å€¼ï¼šå¦‚æœ<code>extract()</code>æ–¹æ³•æ— æ³•æ‰¾åˆ°åŒ¹é…çš„å…ƒç´ æˆ–å±æ€§ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨ã€‚å¦‚æœ<code>get()</code>æ–¹æ³•æ— æ³•æ‰¾åˆ°åŒ¹é…çš„å…ƒç´ æˆ–å±æ€§ï¼Œåˆ™è¿”å›ä¸€ä¸ª<code>None</code>å€¼ã€‚</li><li>å‚æ•°ï¼š<code>get()</code>æ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªé»˜è®¤å€¼ä½œä¸ºå‚æ•°ï¼Œåœ¨æ‰¾ä¸åˆ°åŒ¹é…çš„å…ƒç´ æˆ–å±æ€§æ—¶è¿”å›è¯¥é»˜è®¤å€¼ã€‚è€Œ<code>extract()</code>æ–¹æ³•æ²¡æœ‰è¿™ä¸ªå‚æ•°ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨é»˜è®¤å€¼ï¼Œéœ€è¦é€šè¿‡Pythonçš„æ¡ä»¶è¡¨è¾¾å¼æ¥å®ç°ã€‚</li></ol><h2 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h2><p>downloadä¸­é—´ä»¶å’Œspiderä¸­é—´ä»¶æ˜¯ä¸¤ä¸ª,è¿™ä¸¤ä¸ªä¸­é—´ä»¶æ‰€å¤„çš„ç¯èŠ‚ä¸ä¸€æ ·,æ‰€ä»¥å¦‚æœå‡ºç°,ä¸­é—´ä»¶æ²¡èµ·ä½œç”¨çš„ç°è±¡,æœ‰å¯èƒ½æ˜¯settingé‡Œè®¾ç½®é”™äº†ä¸­é—´ä»¶</p><p>,ä¸­é—´ä»¶æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„</p><h2 id="å…¨ç«™çˆ¬è™«"><a href="#å…¨ç«™çˆ¬è™«" class="headerlink" title="å…¨ç«™çˆ¬è™«"></a>å…¨ç«™çˆ¬è™«</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">start_urls &#x3D; [&#39;http:&#x2F;&#x2F;www.daimg.com&#x2F;pic&#x2F;%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87&#39;] link &#x3D; LinkExtractor(tags&#x3D;[&#39;img&#39;], attrs&#x3D;&#39;src&#39;, deny_extensions&#x3D;[&#39;&#39;], )link2&#x3D;LinkExtractor(allow&#x3D;r&#39;pic&#x2F;%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87&#39;) rules &#x3D; (     Rule(link, callback&#x3D;&quot;parse_item&quot;, follow&#x3D;False, ),       Rule(link2, follow&#x3D;True), )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h2><h3 id="AttributeError"><a href="#AttributeError" class="headerlink" title="AttributeError"></a>AttributeError</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">title&#x3D;li.xpath(&quot;.&#x2F;a&#x2F;img&#x2F;@title&quot;).extract_first() AttributeError: &#39;str&#39; object has no attribute &#39;xpath&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªé”™è¯¯å¸¸å¸¸æ˜¯ç”±äºXPathè¡¨è¾¾å¼çš„é”™è¯¯æ‰€å¼•èµ·çš„ã€‚åœ¨è¿™ä¸ªé—®é¢˜ä¸­ï¼Œå˜é‡<code>li</code>æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªSelectorå¯¹è±¡ï¼Œå› æ­¤ä½ æ— æ³•ä½¿ç”¨XPathè¡¨è¾¾å¼åœ¨å®ƒä¸Šé¢è°ƒç”¨<code>xpath()</code>å‡½æ•°ã€‚</p><p>åŒæ—¶ï¼Œä½ è¿˜éœ€è¦ç¡®ä¿åœ¨XPathè¡¨è¾¾å¼ä¸­ä½¿ç”¨çš„å…ƒç´ ä¸€å®šæ˜¯å­˜åœ¨çš„ï¼Œå¦åˆ™ï¼Œ<code>extract_first()</code>æ–¹æ³•å°†æŠ›å‡º<code>AttributeError</code>å¼‚å¸¸ã€‚</p><h3 id="æ–°å»ºé¡¹ç›®åå®¹æ˜“å‡ºç°çš„é—®é¢˜"><a href="#æ–°å»ºé¡¹ç›®åå®¹æ˜“å‡ºç°çš„é—®é¢˜" class="headerlink" title="æ–°å»ºé¡¹ç›®åå®¹æ˜“å‡ºç°çš„é—®é¢˜"></a>æ–°å»ºé¡¹ç›®åå®¹æ˜“å‡ºç°çš„é—®é¢˜</h3><p>1.ç±»åæ²¡æœ‰æ›´æ”¹</p><p>2.æ¨¡å—æ²¡æœ‰å¯¼å…¥,å¯¼å…¥çš„æ—¶å€™æ³¨æ„åå­—çš„æ›´æ”¹</p><p>3.å¦‚æœæ²¡æœ‰è¿”å›ä½ æƒ³è¦çš„ç»“æœ,ä½†æ˜¯ç¨‹åºè¿˜æ²¡æœ‰ç»“æŸ,ä¸å¦¨å¤šç­‰ä¸€ä¼š</p><h2 id="CrawlSpider"><a href="#CrawlSpider" class="headerlink" title="CrawlSpider"></a>CrawlSpider</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">start_urls &#x3D; [&#39;http:&#x2F;&#x2F;www.daimg.com&#x2F;photo&#x2F;people&#x2F;&#39;] link &#x3D; LinkExtractor(tags&#x3D;[&#39;img&#39;], attrs&#x3D;&#39;src&#39;, deny_extensions&#x3D;[&#39;&#39;], ) link2 &#x3D; LinkExtractor(allow&#x3D;r&#39;&#x2F;photo&#x2F;people&#x2F;&#39;) rules &#x3D; (     Rule(link, callback&#x3D;&quot;parse_item&quot;, follow&#x3D;False, ),     Rule(link2, follow&#x3D;True), )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ª scrapy çš„çˆ¬è™«è§„åˆ™ï¼ˆ<code>rules</code>ï¼‰ï¼Œå…¶ä¸­çˆ¬è™«èµ·å§‹ç½‘å€ä¸º <code>http://www.daimg.com/pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87</code>ï¼Œä¹Ÿå°±æ˜¯ç¾å¥³å›¾ç‰‡çš„ç½‘ç«™ï¼Œåé¢çš„ <code>%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87</code> æ˜¯ url ç¼–ç åçš„ä¸­æ–‡å­—ç¬¦ï¼Œå®é™…ä¸Šå¯¹åº”çš„å°±æ˜¯ â€œç¾å¥³å›¾ç‰‡â€ è¿™ä¸ªè¯ã€‚è¿™ä¸ªèµ·å§‹ç½‘å€æ˜¯ä¸ªåˆ—è¡¨ï¼Œæ„å‘³ç€å¯ä»¥åŒ…å«å¤šä¸ªå€¼ã€‚</p><p>ä½¿ç”¨äº†ä¸¤ä¸ª <code>LinkExtractor</code>ï¼Œç¬¬ä¸€ä¸ªç”¨äºæå–ç½‘é¡µä¸­çš„å›¾åƒé“¾æ¥ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯ç”¨äºåœ¨æ»¡è¶³ç‰¹å®šæ­£åˆ™è¡¨è¾¾å¼è§„åˆ™çš„é“¾æ¥ä¸Šé€’å½’çˆ¬å–ã€‚ç¬¬ä¸€è¡Œä¸­ï¼Œ<code>deny_extensions=[&#39;&#39;]</code> è¡¨ç¤ºæ’é™¤æ–‡ä»¶æ‰©å±•åä¸ºç©ºçš„é“¾æ¥ï¼Œå› ä¸ºè¿™äº›é“¾æ¥é€šå¸¸æ˜¯æŒ‡å‘ç½‘é¡µæœ¬èº«æˆ–è€…è·³è½¬é“¾æ¥çš„ã€‚<code>tags=[&#39;img&#39;], attrs=&#39;src&#39;</code> è¡¨ç¤ºåªæå– img æ ‡ç­¾ä¸­çš„ src å±æ€§ã€‚åœ¨ç¬¬äºŒè¡Œä¸­ï¼Œ<code>allow=r&#39;pic/%E7%BE%8E%E5%A5%B3%E5%9B%BE%E7%89%87&#39;</code> è¡¨ç¤ºåªé€’å½’åŒ¹é…é“¾æ¥ä¸­åŒ…å« â€œpic&#x2F;ç¾å¥³å›¾ç‰‡â€ è¿™ä¸ªå­—ç¬¦ä¸²çš„é“¾æ¥ã€‚</p><p>å®šä¹‰äº†ä¸¤ä¸ªè§„åˆ™ï¼Œç¬¬ä¸€ä¸ªè§„åˆ™å¯¹åº” <code>link</code> å˜é‡ï¼Œå³åªçˆ¬å–å½“å‰ç½‘é¡µä¸­çš„æ‰€æœ‰å›¾åƒé“¾æ¥å¹¶è°ƒç”¨è§£æå‡½æ•° <code>parse_item</code> è¿›è¡Œå¤„ç†ï¼›ç¬¬äºŒä¸ªè§„åˆ™å¯¹åº” <code>link2</code> å˜é‡ï¼Œå³ç”¨äºé€’å½’çˆ¬å–åœ¨å½“å‰ç½‘é¡µä¸­åŒ…å« â€œpic&#x2F;ç¾å¥³å›¾ç‰‡â€ çš„é“¾æ¥ã€‚<code>follow=False</code> åˆ™è¡¨ç¤ºå¯¹ç¬¬ä¸€ä¸ªè§„åˆ™æå–åˆ°çš„é“¾æ¥ä¸è¿›è¡Œé€’å½’çˆ¬å–ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç±»å®ç°çˆ¬å–å°è¯´å­˜å‚¨åˆ°mysqlé‡åˆ°çš„é—®é¢˜</title>
      <link href="/2023/04/14/58p-pa-qu-xiao-shuo-yu-dao-de-error/"/>
      <url>/2023/04/14/58p-pa-qu-xiao-shuo-yu-dao-de-error/</url>
      
        <content type="html"><![CDATA[<h2 id="ç±»å®ç°"><a href="#ç±»å®ç°" class="headerlink" title="ç±»å®ç°"></a>ç±»å®ç°</h2><h3 id="å‚æ•°ä¸ªæ•°ä¸€è‡´å´æŠ¥é”™"><a href="#å‚æ•°ä¸ªæ•°ä¸€è‡´å´æŠ¥é”™" class="headerlink" title="å‚æ•°ä¸ªæ•°ä¸€è‡´å´æŠ¥é”™"></a>å‚æ•°ä¸ªæ•°ä¸€è‡´å´æŠ¥é”™</h3><p>TypeError: get_chapters() takes 3 positional arguments but 4 were given</p><p> get_chapters()éœ€è¦3ä¸ªä½ç½®å‚æ•°ï¼Œä½†ç»™å‡ºçš„æ˜¯4ä¸ª</p><p>æŠ¥é”™åŸå› :è°ƒç”¨å‡½æ•°çš„æ—¶å€™æŠŠselfä¹Ÿå½“åšå‚æ•°ç»™äº†</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">#é”™è¯¯å†™æ³•def get_bookname(self):    self.get_chapters(self,bookName,bookId, book_path)def get_chapters(self,bookName, bookId, book_path):<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ç±»æ–¹æ³•ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°é€šå¸¸æ˜¯ <code>self</code>ï¼Œå®ƒè¡¨ç¤ºå¯¹è¯¥ç±»å®ä¾‹çš„å¼•ç”¨ã€‚å½“ä½ è°ƒç”¨ç±»æ–¹æ³•æ—¶ï¼ŒPython ä¼šè‡ªåŠ¨å°†è¯¥ç±»å®ä¾‹ä¼ é€’ç»™ <code>self</code> å‚æ•°ã€‚å› æ­¤ï¼Œåœ¨è°ƒç”¨ç±»æ–¹æ³•æ—¶ï¼Œä¸éœ€è¦æ˜¾å¼ä¼ é€’ <code>self</code> å‚æ•°ã€‚</p><h3 id="forå¾ªç¯å¤±æ•ˆ"><a href="#forå¾ªç¯å¤±æ•ˆ" class="headerlink" title="forå¾ªç¯å¤±æ•ˆ"></a>forå¾ªç¯å¤±æ•ˆ</h3><p>åŸå› :forå¾ªç¯é‡Œé¢æœ‰<code>return</code></p><pre class="line-numbers language-none"><code class="language-none">&quot;&quot;&quot;åˆ‡è®°returnæ‰§è¡Œåå‡½æ•°ä¸ä¼šåœ¨ç»§ç»­æ‰§è¡Œäº†å¦‚æœåœ¨å‡½æ•°forå¾ªç¯åé¢return,åˆ™forå¾ªç¯åªæ‰§è¡Œä¸€æ¬¡&quot;&quot;&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºå¤šçº§ç›®å½•"><a href="#åˆ›å»ºå¤šçº§ç›®å½•" class="headerlink" title="åˆ›å»ºå¤šçº§ç›®å½•"></a>åˆ›å»ºå¤šçº§ç›®å½•</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">import osbook_path &#x3D; os.path.join(&quot;æˆ‘çš„ä¹¦æ¶&quot;, bookName)if not os.path.exists(book_path):    os.makedirs(os.path.join(&quot;æˆ‘çš„ä¹¦æ¶&quot;, bookName))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>os.makedirs()</code> å‡½æ•°å¯ä»¥é€’å½’åœ°åˆ›å»ºå¤šçº§ç›®å½•ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¦‚æœ â€œæˆ‘çš„ä¹¦æ¶â€ ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™ <code>os.makedirs()</code> ä¼šè‡ªåŠ¨åˆ›å»º â€œæˆ‘çš„ä¹¦æ¶â€ ç›®å½•ï¼Œç„¶ååœ¨ â€œæˆ‘çš„ä¹¦æ¶â€ ç›®å½•ä¸‹åˆ›å»º <code>bookName</code> å­ç›®å½•ã€‚</p><h2 id="å­˜å‚¨åˆ°mysqlæ•°æ®åº“"><a href="#å­˜å‚¨åˆ°mysqlæ•°æ®åº“" class="headerlink" title="å­˜å‚¨åˆ°mysqlæ•°æ®åº“"></a>å­˜å‚¨åˆ°mysqlæ•°æ®åº“</h2><h3 id="æŠ¥é”™AttributeError-â€˜NoneTypeâ€™-object-has-no-attribute-â€˜encodingâ€™"><a href="#æŠ¥é”™AttributeError-â€˜NoneTypeâ€™-object-has-no-attribute-â€˜encodingâ€™" class="headerlink" title="æŠ¥é”™AttributeError: â€˜NoneTypeâ€™ object has no attribute â€˜encodingâ€™"></a>æŠ¥é”™AttributeError: â€˜NoneTypeâ€™ object has no attribute â€˜encodingâ€™</h3><p>èµ·å› å…³äºcharsetçš„è®¾ç½®,æˆ‘åœ¨ç±»æ–¹æ³•çš„åˆå§‹åŒ–é‡Œè®¾ç½®<code>charset=&quot;utf-8&quot;</code></p><p>å°±ä¼šæŠ¥ä¸Šé¢çš„é”™è¯¯,åˆ æ‰å°±å¥½äº†</p><p>åŸå› :</p><blockquote><p>MySQL é»˜è®¤çš„å­—ç¬¦é›†æ˜¯ <code>utf8mb4</code>ï¼Œ<code>utf8</code> å’Œ <code>utf8mb4</code> éƒ½æ˜¯ç”¨äºå­˜å‚¨ Unicode å­—ç¬¦çš„å­—ç¬¦é›†ï¼Œä½†å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›å·®å¼‚ã€‚</p><p>åœ¨ MySQL 5.5.3 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ï¼Œ<code>utf8</code> åªæ”¯æŒæœ€å¤š 3 ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ï¼Œè€Œ <code>utf8mb4</code> æ”¯æŒæœ€å¤š 4 ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ã€‚è¿™æ„å‘³ç€å¦‚æœä½ ä½¿ç”¨ <code>utf8</code> å­˜å‚¨ 4 ä¸ªå­—èŠ‚çš„ Unicode å­—ç¬¦ï¼Œä¼šå‡ºç°æˆªæ–­æ•°æ®çš„æƒ…å†µã€‚å› æ­¤ï¼Œåœ¨ MySQL 5.5.3 åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå»ºè®®ä½¿ç”¨ <code>utf8mb4</code> ä½œä¸ºé»˜è®¤å­—ç¬¦é›†ã€‚</p><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œ<code>UTF-8</code> å’Œ <code>UTF8</code> é€šå¸¸æ˜¯å¯ä»¥äº’æ¢ä½¿ç”¨çš„ï¼Œåœ¨ MySQL ä¸­ï¼Œ<code>UTF-8</code> å’Œ <code>UTF8</code> å¯èƒ½æ— æ³•äº’æ¢ä½¿ç”¨ï¼Œ<code>UTF8</code> æ˜¯æŒ‡ä»£ <code>utf8mb3</code> å­—ç¬¦é›†çš„åˆ«åï¼Œå®ƒä½¿ç”¨æœ€å¤š 3 ä¸ªå­—èŠ‚æ¥å­˜å‚¨ Unicode å­—ç¬¦ã€‚è€Œ <code>UTF-8</code> åˆ™æ˜¯æ ‡å‡†ä¸­ä½¿ç”¨è¿å­—ç¬¦ <code>-</code> åˆ†éš”çš„å­—ç¬¦é›†åç§°ï¼Œå®ƒä½¿ç”¨ 1 åˆ° 4 ä¸ªå­—èŠ‚æ¥å­˜å‚¨ Unicode å­—ç¬¦ã€‚</p><p>åœ¨ MySQL ä¸­ï¼Œå¦‚æœä½ ä½¿ç”¨ <code>UTF-8</code> æ¥æ›¿ä»£ <code>UTF8</code>ï¼Œå¯èƒ½ä¼šå¯¼è‡´ MySQL æ— æ³•è¯†åˆ«è¯¥å­—ç¬¦é›†åç§°ï¼Œä»è€Œå‡ºç°é”™è¯¯ã€‚</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">class Spider(object):    def __init__(self, host, port, user, password,                 database, charset, **kwargs):        # è¿æ¥æ•°æ®åº“æœåŠ¡å™¨        self.conn &#x3D; pymysql.connect(host&#x3D;host, port&#x3D;port, user&#x3D;user, password&#x3D;password,                                    database&#x3D;database, cursorclass&#x3D;pymysql.cursors.DictCursor,                                    charset&#x3D;charset, **kwargs)        # è·å–æ¸¸æ ‡        self.cursor &#x3D; self.conn.cursor()        # åˆå§‹åŒ–è¡¨ã€        self.init_table()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">def init_table(self):    # ä½¿ç”¨ execute()  æ–¹æ³•æ‰§è¡Œ SQL æŸ¥è¯¢    sql1 &#x3D; &quot;&quot;&quot;              create table if not exists book(              id int primary key auto_increment,              bookName varchar(32),              coverImg varchar(255),              authorPenName varchar(32)              )character set&#x3D;utf8;               &quot;&quot;&quot;    self.query(sql1)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è§£å†³è¡¨è®°å½•é‡å¤é—®é¢˜"><a href="#è§£å†³è¡¨è®°å½•é‡å¤é—®é¢˜" class="headerlink" title="è§£å†³è¡¨è®°å½•é‡å¤é—®é¢˜"></a>è§£å†³è¡¨è®°å½•é‡å¤é—®é¢˜</h3><p>ä¸¤ä¸ªæ–¹æ³•,ä¸€ä¸ªæ˜¯æŠ¥é”™åœæ­¢,ä¸€ä¸ªæ˜¯è·³è¿‡</p><ul><li>æ‚¨å¯ä»¥åœ¨æ•°æ®åº“è¡¨ä¸­æ·»åŠ å”¯ä¸€çº¦æŸã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ’å…¥çš„è®°å½•é‡å¤ï¼Œåˆ™ä¼šå¼•å‘é”™è¯¯ï¼Œä»è€Œé˜²æ­¢é‡å¤çš„è®°å½•è¢«æ’å…¥ã€‚</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">ALTER TABLE table_name ADD UNIQUE (column_name);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">try:    cursor.execute(&quot;INSERT INTO book (bookName, coverImg, authorPenName) VALUES (%s, %s, %s)&quot;, (bookName, coverImg, authorPenName))    conn.commit()    print(&quot;æ’å…¥æˆåŠŸ&quot;)except mysql.connector.IntegrityError:    print(&quot;è®°å½•å·²å­˜åœ¨&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>cursor.execute</code>æ–¹æ³•æ‰§è¡Œå‚æ•°åŒ–æŸ¥è¯¢ï¼Œå¹¶å°†å˜é‡å€¼ä½œä¸ºå‚æ•°ä¼ é€’ã€‚å¦‚æœæ’å…¥è®°å½•æ—¶å‘ç”Ÿå”¯ä¸€çº¦æŸå†²çªï¼Œåˆ™ä¼šå¼•å‘<code>mysql.connector.IntegrityError</code>å¼‚å¸¸ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦å¤„ç†è¯¥å¼‚å¸¸</p><ul><li>æ‚¨å¯ä»¥ä½¿ç”¨<code>INSERT IGNORE</code>è¯­å¥æ¥åœ¨æ’å…¥è®°å½•æ—¶è·³è¿‡é‡å¤è®°å½•ã€‚è¿™ä¸ªè¯­å¥ä¼šå°è¯•å°†è®°å½•æ’å…¥è¡¨ä¸­ï¼Œä½†æ˜¯å¦‚æœè¿åäº†å”¯ä¸€çº¦æŸï¼Œåˆ™ä¼šå¿½ç•¥è¯¥æ“ä½œï¼Œè€Œä¸æ˜¯å¼•å‘é”™è¯¯ã€‚</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"># a&#x3D;&quot;INSERT IGNORE INTO book (bookName)&quot;# self.query(a)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">sql &#x3D; f&quot;&quot;&quot;insert into book (bookName,coverImg,authorPenName) values (      &quot;&#123;bookName&#125;&quot;,&quot;&#123;coverImg&#125;&quot;,&quot;&#123;authorPenName&#125;&quot;);&quot;&quot;&quot;      <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">sql &#x3D; f&quot;&quot;&quot;insert IGNORE into book (bookName,coverImg,authorPenName) values (            &quot;&#123;bookName&#125;&quot;,&quot;&#123;coverImg&#125;&quot;,&quot;&#123;authorPenName&#125;&quot;);&quot;&quot;&quot;print(&quot;sql:::&quot;, sql)self.query(sql)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨æ‚¨çš„Pythonä»£ç ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ‰§è¡Œ<code>INSERT IGNORE</code>è¯­å¥ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">cursor.execute(&quot;INSERT IGNORE INTO book (bookName, coverImg, authorPenName) VALUES (%s, %s, %s)&quot;, (bookName, coverImg, authorPenName))conn.commit()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ<code>cursor.execute</code>æ–¹æ³•æ‰§è¡Œ<code>INSERT IGNORE</code>è¯­å¥ï¼Œå¹¶å°†å˜é‡å€¼ä½œä¸ºå‚æ•°ä¼ é€’ã€‚å¦‚æœæ’å…¥è®°å½•æ—¶å‘ç”Ÿå”¯ä¸€çº¦æŸå†²çªï¼Œåˆ™ä¼šå¿½ç•¥è¯¥æ“ä½œï¼Œè€Œä¸æ˜¯å¼•å‘é”™è¯¯ã€‚è¯·æ³¨æ„ï¼Œå³ä½¿æ’å…¥æ“ä½œè¢«å¿½ç•¥ï¼Œæ‚¨ä»ç„¶éœ€è¦è°ƒç”¨<code>conn.commit()</code>æ–¹æ³•æ¥æäº¤äº‹åŠ¡ã€‚</p><h2 id="ä¸€å®šè¦æ³¨æ„forå¾ªç¯åé¢çš„è¯­å¥çš„ä½ç½®"><a href="#ä¸€å®šè¦æ³¨æ„forå¾ªç¯åé¢çš„è¯­å¥çš„ä½ç½®" class="headerlink" title="ä¸€å®šè¦æ³¨æ„forå¾ªç¯åé¢çš„è¯­å¥çš„ä½ç½®"></a>ä¸€å®šè¦æ³¨æ„forå¾ªç¯åé¢çš„è¯­å¥çš„ä½ç½®</h2><p>å¦‚ä½•returnæ”¾åœ¨forå¾ªç¯é‡Œ,å°±åªä¼šæ‰§è¡Œä¸€æ¬¡</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>57H_STM32+esp8266æ™ºèƒ½å®‰å…¨ç›‘æµ‹ç³»ç»Ÿ</title>
      <link href="/2023/04/11/57h-stm32-esp8266-zhi-neng-an-quan-jian-ce-xi-tong/"/>
      <url>/2023/04/11/57h-stm32-esp8266-zhi-neng-an-quan-jian-ce-xi-tong/</url>
      
        <content type="html"><![CDATA[<img src="/2023/04/11/57h-stm32-esp8266-zhi-neng-an-quan-jian-ce-xi-tong/image-20230411220130176.png" class="" title="image-20230411220130176"><img src="/2023/04/11/57h-stm32-esp8266-zhi-neng-an-quan-jian-ce-xi-tong/image-20230411220130176.png" class="" title="text"><img src="/2023/04/11/57h-stm32-esp8266-zhi-neng-an-quan-jian-ce-xi-tong/image-20230411220401901.png" class="" title="image-20230411220401901"><img src="/2023/04/11/57h-stm32-esp8266-zhi-neng-an-quan-jian-ce-xi-tong/image-20230411220401901.png" class="" title="text">]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>56P_çˆ¬å–m3u8è§†é¢‘</title>
      <link href="/2023/04/08/56p-pa-qu-m3u8-shi-pin/"/>
      <url>/2023/04/08/56p-pa-qu-m3u8-shi-pin/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼‚æ­¥çˆ¬è™«"><a href="#å¼‚æ­¥çˆ¬è™«" class="headerlink" title="å¼‚æ­¥çˆ¬è™«"></a>å¼‚æ­¥çˆ¬è™«</h2><h3 id="æŠ¥é”™Event-loop-is-closed"><a href="#æŠ¥é”™Event-loop-is-closed" class="headerlink" title="æŠ¥é”™Event loop is closed"></a>æŠ¥é”™Event loop is closed</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">tasks &#x3D; []for url in ts_urls:    ts_res &#x3D; await aiohttp_(url,&quot;content&quot;)    decrypted_data &#x3D; await decrypt(ts_res, key)    await download(decrypted_data, name)task &#x3D; asyncio.create_task(download(decrypted_data,name))tasks.append(task)   await asyncio.wait(tasks)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">if __name__ &#x3D;&#x3D; &#39;__main__&#39;:    start &#x3D; time.time()    #è¿™å¥ä»£ç å®¹æ˜“å‡ºç°é”™è¯¯Event loop is closed    asyncio.run(main())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¤§ä½¬çš„è§£é‡Š:</p><blockquote><p>aiohttp å†…éƒ¨ä½¿ç”¨äº† _ProactorBasePipeTransport ï¼Œç¨‹åºé€€å‡ºé‡Šæ”¾å†…å­˜æ—¶è‡ªåŠ¨è°ƒç”¨å…¶ <strong>del</strong> æ–¹æ³•å¯¼è‡´äºŒæ¬¡å…³é—­äº‹ä»¶å¾ªç¯ã€‚ä¸€èˆ¬çš„åç¨‹ç¨‹åºæ˜¯ä¸ä¼šä½¿ç”¨_ProactorBasePipeTransport çš„ï¼Œæ‰€ä»¥asyncio.run() è¿˜æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œã€‚è€Œä¸”è¿™ç§æƒ…å†µä»…åœ¨Windowsä¸Šå‘ç”Ÿã€‚</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python"># loop &#x3D; asyncio.get_event_loop()# loop.run_until_complete(main())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½†æ˜¯æˆ‘å‘ç°æ”¹æˆä¸Šé¢çš„ä»£ç åä¼šæŠ¥åˆ«çš„é”™è¯¯,å¹¶ä¸”å½“æˆ‘æŠŠé”™è¯¯å…¨éƒ½æ”¹æ­£å,ç»§ç»­ä½¿ç”¨<code>asyncio.run()</code>ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œ,æ‰€ä»¥æˆ‘çš„ç†è§£æ˜¯,å…¶ä»–ä»£ç å‡ºç°é”™è¯¯å,ä¼šå¯¼è‡´å¾ªç¯å…³é—­</p><h3 id="AttributeError-â€˜NoneTypeâ€™-object-has-no-attribute-â€˜groupâ€™"><a href="#AttributeError-â€˜NoneTypeâ€™-object-has-no-attribute-â€˜groupâ€™" class="headerlink" title="AttributeError: â€˜NoneTypeâ€™ object has no attribute â€˜groupâ€™"></a>AttributeError: â€˜NoneTypeâ€™ object has no attribute â€˜groupâ€™</h3><p>ä½¿ç”¨ <code>group()</code> æ–¹æ³•æå–æ•è·ç»„çš„å€¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…é¡¹ï¼Œ<code>search()</code> æ–¹æ³•å°†è¿”å› <code>None</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">if match is not None:    print(match.group(1))else:    print(&#39;No match found&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="noneè¿”å›å€¼ä¸ºç©º"><a href="#noneè¿”å›å€¼ä¸ºç©º" class="headerlink" title="noneè¿”å›å€¼ä¸ºç©º"></a>noneè¿”å›å€¼ä¸ºç©º</h3><p>å¦‚æœåœ¨çˆ¬è™«æ˜¯å‡ºç°è¿”å›å€¼ä¸ºç©ºçš„æƒ…å†µ,è¦æ£€æŸ¥ä¸€ä¸‹æºä»£ç ,çœ‹çœ‹çˆ¬å–çš„æ•°æ®æ˜¯å¦æ˜¯åŠ¨æ€ç”Ÿæˆæˆ–è€…ä¿®æ”¹çš„</p><h3 id="AttributeError-aenter"><a href="#AttributeError-aenter" class="headerlink" title="AttributeError:__aenter __"></a>AttributeError:__aenter __</h3><p>ç›´æ¥ä½¿ç”¨async,ä¼šæŠ¥é”™æ˜¯å› ä¸ºåœ¨ä½¿ç”¨ â€œasync withâ€ è¯­å¥æ—¶ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ Python å†…ç½®çš„ â€œopenâ€ å‡½æ•°è¿›è¡Œå¼‚æ­¥æ–‡ä»¶æ“ä½œã€‚å› ä¸º â€œopenâ€ å‡½æ•°æ²¡æœ‰å®šä¹‰ â€œ<strong>aenter</strong>â€œ æ–¹æ³•ï¼Œæ‰€ä»¥ä¼šå‡ºç° â€œAttributeError: aenterâ€ é”™è¯¯ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">async with open(f&quot;tsæ–‡ä»¶&#x2F;&#123;name&#125;&quot;, &quot;ab&quot;) as f:    await f.write(decrypted_data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">async with aiofiles.open(f&quot;tsæ–‡ä»¶&#x2F;&#123;name&#125;&quot;, &quot;ab&quot;) as f:    await f.write(decrypted_data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½†æ˜¯è¿™æ ·å†™å°±å¯ä»¥,ä½¿ç”¨ â€œaiofilesâ€ åº“æ¥è¿›è¡Œå¼‚æ­¥æ–‡ä»¶æ“ä½œ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">async with aiohttp.ClientSession() as session:async with session.get(path, ssl&#x3D;False) as resp:# å°†å¾—åˆ°çš„è¯·æ±‚ä¿å­˜åˆ°æ–‡ä»¶ä¸­with open(&quot;tsæ–‡ä»¶&#x2F;&quot; + ts, &quot;wb&quot;) as f:f.write(await resp.content.read())print(f&quot;&#123;ts&#125;ä¸‹è½½å®Œæˆï¼&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç å¯ä»¥æ­£å¸¸è¿è¡Œæ˜¯å› ä¸ºåœ¨ <code>&quot;async with&quot; </code>è¯­å¥ä¸­ä½¿ç”¨çš„æ˜¯ <code>&quot;aiohttp.ClientSession()&quot;</code> å¯¹è±¡ï¼Œè€Œä¸æ˜¯ Python å†…ç½®çš„ â€œopenâ€ å‡½æ•°ã€‚ <code>&quot;aiohttp.ClientSession()&quot; </code>å¯¹è±¡å·²ç»å®šä¹‰äº† <code>&quot;**aenter**&quot;</code> å’Œ <code>&quot;**aexit**&quot; </code>æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºå¼‚æ­¥ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ â€œasync withâ€ è¯­å¥æ¥è¿›è¡Œå¼‚æ­¥æ“ä½œã€‚</p><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œé¦–å…ˆä½¿ç”¨ â€œaiohttp.ClientSession()â€ å¯¹è±¡åˆ›å»ºä¸€ä¸ªå¼‚æ­¥çš„ HTTP å®¢æˆ·ç«¯ä¼šè¯ï¼Œç„¶åä½¿ç”¨ â€œsession.get()â€ æ–¹æ³•å‘èµ·ä¸€ä¸ª GET è¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªå“åº”å¯¹è±¡ â€œrespâ€ã€‚æ¥ç€ï¼Œä½¿ç”¨ â€œawait resp.content.read()â€ æ–¹æ³•å¼‚æ­¥è¯»å–å“åº”å†…å®¹ï¼Œå¹¶å°†ç»“æœå†™å…¥åˆ°æ–‡ä»¶ä¸­ã€‚æœ€åï¼Œè¾“å‡ºä¸‹è½½å®Œæˆçš„æç¤ºä¿¡æ¯ã€‚</p><h2 id="urlçš„æ‹¼æ¥"><a href="#urlçš„æ‹¼æ¥" class="headerlink" title="urlçš„æ‹¼æ¥"></a>urlçš„æ‹¼æ¥</h2><h3 id="ä½¿ç”¨urljoinåº“æ‹¼æ¥"><a href="#ä½¿ç”¨urljoinåº“æ‹¼æ¥" class="headerlink" title="ä½¿ç”¨urljoinåº“æ‹¼æ¥"></a>ä½¿ç”¨urljoinåº“æ‹¼æ¥</h3><p><code>urljoin</code> æ˜¯ Python å†…ç½®çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆå¹¶ä¸¤ä¸ª URL<code>urljoin</code> å‡½æ•°ä¸ä»…ä»…æ˜¯ç®€å•åœ°å°†ä¸¤ä¸ª URL è¿æ¥èµ·æ¥ã€‚å®ƒè¿˜ä¼šå¤„ç† URL ä¸­çš„ç›¸å¯¹è·¯å¾„å’Œç»å¯¹è·¯å¾„ï¼Œç¡®ä¿è¿”å›çš„ URL æ˜¯æ­£ç¡®çš„</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">from urllib.parse import urljoinkey_url &#x3D; urljoin(second_m3u8_link, key_line)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨â€â€-join-æ‹¼æ¥"><a href="#ä½¿ç”¨â€â€-join-æ‹¼æ¥" class="headerlink" title="ä½¿ç”¨â€â€.join()æ‹¼æ¥"></a>ä½¿ç”¨â€â€.join()æ‹¼æ¥</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">import ossecond_m3u8_link &#x3D; os.path.join(os.path.dirname(first_m3u8_link),&quot;&#x2F;&quot;.join(res.text.split(&quot;&#x2F;&quot;)[-3:])))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å…¶ä¸­è¿™ä¸ªè¿”å›çš„æ˜¯ä»¥<code>&quot;/&quot;</code>ä¸ºåˆ†éš”ç¬¦,ä»åå¾€å‰å–ä¸‰ä¸ª,ä½¿ç”¨â€&#x2F;â€œ.joinæŠŠä»–ä»¬ä¸²æˆå­—ç¬¦ä¸²å°±æ˜¯1200kb&#x2F;hls&#x2F;LV5eaTwd.ts</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">#url&#x3D;&quot;https:&#x2F;&#x2F;s1.fsvod1.com&#x2F;20220225&#x2F;fmrpwm7M&#x2F;1200kb&#x2F;hls&#x2F;LV5eaTwd.ts&quot;&quot;&#x2F;&quot;.join(res.text.split(&quot;&#x2F;&quot;)[-3:])è¾“å‡º 1200kb&#x2F;hls&#x2F;LV5eaTwd.ts<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥è¿™æ ·å†™</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">second_m3u8_link &#x3D; os.path.join(os.path.dirname(first_m3u8_link), &quot;&#x2F;&quot;.join(res.text.split(&quot;\n&quot;)[-3:]))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>windowsç³»ç»Ÿä¸è¡Œ,windowsçš„è¾“å‡ºä¼šå˜æˆè¿™æ ·,å¯èƒ½æ˜¯å› ä¸ºwindowsç”Ÿæˆè·¯å¾„ç”¨çš„å°±æ˜¯\</p><blockquote><p>â€œ<a href="https://s1.fsvod1.com/20220225/fmrpwm7M/1200kb/hls/LV5eaTwd.ts">https://s1.fsvod1.com/20220225/fmrpwm7M\1200kb/hls/LV5eaTwd.ts</a>â€œ</p></blockquote><p><code>os.path.join()</code> æ–¹æ³•ç”¨äºå°†å¤šä¸ªè·¯å¾„ç»„åˆæˆä¸€ä¸ªè·¯å¾„å­—ç¬¦ä¸²ã€‚åœ¨è¿™é‡Œï¼Œå®ƒå°† å˜é‡ç»„åˆæˆä¸€ä¸ªè·¯å¾„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åˆ†éš”ç¬¦è®¾ç½®ä¸ºæ“ä½œç³»ç»Ÿçš„é»˜è®¤åˆ†éš”ç¬¦ï¼Œåœ¨ Windows ä¸Šä¸ºåæ–œæ ï¼ˆ\ï¼‰ï¼Œåœ¨ Unix ä¸Šä¸ºæ­£æ–œæ ï¼ˆ&#x2F;ï¼‰ã€‚</p><p>å¹¶ä¸”é‚£ä¸ªåæ–œæ æ— æ³•ç”¨replaceæ›¿æ¢,æ— æ•ˆ,è¿™ä¸ªæˆ‘æš‚æ—¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">second_m3u8_link.replace(&#39;\\&#39;,&#39;&#x2F;&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ä½¿ç”¨å­—ç¬¦ä¸²ç›´æ¥-ä¸Š"><a href="#ä½¿ç”¨å­—ç¬¦ä¸²ç›´æ¥-ä¸Š" class="headerlink" title="ä½¿ç”¨å­—ç¬¦ä¸²ç›´æ¥+ä¸Š"></a>ä½¿ç”¨å­—ç¬¦ä¸²ç›´æ¥+ä¸Š</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">second_m3u8_link&#x3D;(os.path.dirname(first_m3u8_link)+&quot;&#x2F;&quot;+&quot;&#x2F;&quot;.join(res.text.split(&quot;&#x2F;&quot;)[-3:])).split()[0]#è¿™é‡Œçš„split()æ˜¯å»urlåé¢çš„\nçš„(ä¸æ™“å¾—ä»å“ªå¤šå‡ºæ¥ä¸ª\n),è¿”å›çš„æ˜¯åˆ—è¡¨æ‰€ä»¥ç”¨[0]ç»™ä»–å–å‡ºæ¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ä½¿ç”¨æ­£åˆ™åŒ¹é…åˆ°éœ€è¦çš„é‚£éƒ¨åˆ†"><a href="#ä½¿ç”¨æ­£åˆ™åŒ¹é…åˆ°éœ€è¦çš„é‚£éƒ¨åˆ†" class="headerlink" title="ä½¿ç”¨æ­£åˆ™åŒ¹é…åˆ°éœ€è¦çš„é‚£éƒ¨åˆ†"></a>ä½¿ç”¨æ­£åˆ™åŒ¹é…åˆ°éœ€è¦çš„é‚£éƒ¨åˆ†</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">last_m3u8_url &#x3D; re.findall(r&quot;&#x2F;.*?&#x2F;.*?(&#x2F;.*?m3u8?)&quot;, res.text)second_m3u8_link &#x3D; first_m3u8_link.rsplit(&quot;&#x2F;&quot;, 1)[0] + &quot;&quot;.join(last_m3u8_url[0])#åé¢çš„[0]çš„æ„æ€æ˜¯åŒ¹é…åˆ°çš„å…¨æ‹¿å‡ºæ¥,ç”¨research<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="res-textã€res-contentä¸res-readçš„åŒºåˆ«"><a href="#res-textã€res-contentä¸res-readçš„åŒºåˆ«" class="headerlink" title="res.textã€res.contentä¸res.readçš„åŒºåˆ«"></a>res.textã€res.contentä¸res.readçš„åŒºåˆ«</h3><p>res.content å’Œ res.read() æ–¹æ³•éƒ½ç”¨äºè¯»å– HTTP å“åº”çš„å†…å®¹ï¼Œä¸ªäººæ„Ÿè§‰æ²¡æœ‰åŒºåˆ«,è¿™æ¬¡çˆ¬å–m3u8è§†é¢‘ç”¨çš„æ˜¯readä¼°è®¡æ˜¯å› ä¸ºéœ€è¦è§£å¯†</p><p>res.content è¿”å›çš„æ˜¯å“åº”å†…å®¹çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç±»å‹ä¸º bytesï¼Œå¯ä»¥å¤„ç†ä»»ä½•ç±»å‹çš„å“åº”æ•°æ®ï¼ŒåŒ…æ‹¬å›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰äºŒè¿›åˆ¶æ•°æ®ã€‚</p><p>res.read() æ–¹æ³•åˆ™è¿”å›çš„æ˜¯å“åº”å†…å®¹çš„åŸå§‹å­—èŠ‚æ•°æ®ï¼Œç±»å‹ä¸º bytesï¼Œä¹Ÿå¯ä»¥å¤„ç†å„ç§ç±»å‹çš„å“åº”æ•°æ®ï¼Œä½†éœ€è¦æ‰‹åŠ¨è¿›è¡Œè§£ç å’Œå¤„ç†ã€‚</p><p>å½“æ‚¨ä½¿ç”¨ <code>requests</code> åº“å‘é€ HTTP è¯·æ±‚æ—¶ï¼ŒæœåŠ¡å™¨å°†ä»¥äºŒè¿›åˆ¶å½¢å¼è¿”å›å“åº”å†…å®¹ã€‚å¦‚æœæ‚¨ä½¿ç”¨ <code>res.content</code> è·å–å“åº”å†…å®¹ï¼Œæ‚¨å°†è·å¾—å“åº”å†…å®¹çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ï¼Œè¿™å¯¹äºå¤„ç†äºŒè¿›åˆ¶æ•°æ®ï¼ˆä¾‹å¦‚å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰ï¼‰éå¸¸æœ‰ç”¨ã€‚å¦‚æœæ‚¨ä½¿ç”¨ <code>res.text</code> è·å–å“åº”å†…å®¹ï¼Œ<code>requests</code> åº“å°†å°è¯•è‡ªåŠ¨å°†å“åº”å†…å®¹è§£ç ä¸ºæ–‡æœ¬æ ¼å¼ï¼Œå¹¶è¿”å›è§£ç åçš„å­—ç¬¦ä¸².<code>å³res.contentå’Œres.text</code>åªæ˜¯<code>è¿”å›çš„æ ¼å¼ä¸åŒ</code></p><p>å› æ­¤ï¼Œå¦‚æœå“åº”å†…å®¹æ˜¯æ–‡æœ¬ç±»å‹ï¼Œå»ºè®®ä½¿ç”¨ res.text å±æ€§è·å–å“åº”å†…å®¹ï¼›å¦‚æœå“åº”å†…å®¹æ˜¯äºŒè¿›åˆ¶ç±»å‹ï¼Œåˆ™å»ºè®®ä½¿ç”¨ res.content æˆ– res.read() æ–¹æ³•è·å–å“åº”å†…å®¹ã€‚</p><h2 id="åŠ å¯†è§†é¢‘"><a href="#åŠ å¯†è§†é¢‘" class="headerlink" title="åŠ å¯†è§†é¢‘"></a>åŠ å¯†è§†é¢‘</h2><blockquote><p>è¿™ä¸ªæˆ‘ç°åœ¨è¿˜æ²¡å¼„æ¸…æ¥šæ˜¯æ€ä¹ˆå›äº‹,æš‚ä¸”å½“å›ºå®šç”¨æ³•ä½¿ç”¨</p></blockquote><p>åœ¨åŠ å¯†é€šä¿¡ä¸­ï¼ŒIVï¼ˆInitialization Vectorï¼Œåˆå§‹åŒ–å‘é‡ï¼‰æ˜¯ç”¨äºåŠ å¯†ç®—æ³•ä¸­çš„éšæœºåˆå§‹å€¼ã€‚åœ¨ä½¿ç”¨ AES ç®—æ³•è¿›è¡Œ CBC æ¨¡å¼åŠ å¯†æ—¶ï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ª IV å€¼ï¼Œç”¨äºå¢åŠ åŠ å¯†å¼ºåº¦å’Œå®‰å…¨æ€§ã€‚åœ¨è§£å¯†æ—¶ï¼Œä¹Ÿéœ€è¦ä½¿ç”¨ç›¸åŒçš„ IV å€¼æ‰èƒ½æ­£ç¡®è§£å¯†ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">iv &#x3D; ts_res.content[:16]encrypted_data &#x3D; ts_res.content[16:]cipher &#x3D; AES.new(key, AES.MODE_CBC, iv)decrypted_data &#x3D; cipher.decrypt(encrypted_data)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™éƒ¨åˆ†ä»£ç æ˜¯ç”¨äºè§£å¯†AESåŠ å¯†çš„æ•°æ®çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„ç”¨æ³•ã€‚å…¶ä¸­ï¼Œivæ˜¯åˆå§‹å‘é‡ï¼Œæ˜¯åŠ å¯†æ—¶ä½¿ç”¨çš„å‚æ•°ä¹‹ä¸€ï¼Œéœ€è¦å’ŒåŠ å¯†æ•°æ®ä¸€èµ·ä¼ è¾“ï¼›encrypted_dataæ˜¯åŠ å¯†åçš„æ•°æ®ï¼Œå®ƒåŒ…å«äº†åŠ å¯†åçš„è§†é¢‘å†…å®¹ï¼›keyæ˜¯AESåŠ å¯†çš„å¯†é’¥ï¼Œç”¨äºè§£å¯†æ•°æ®ã€‚</p><p>è¿™æ®µä»£ç ä½¿ç”¨äº†PyCryptodomeåº“ä¸­çš„AESæ¨¡å—ï¼Œä½¿ç”¨äº†AES CBCæ¨¡å¼è¿›è¡Œè§£å¯†ã€‚å…¶ä¸­ï¼Œåˆå§‹å‘é‡ivçš„é•¿åº¦ä¸º16å­—èŠ‚ï¼Œä¸åŠ å¯†æ—¶çš„é•¿åº¦ç›¸åŒï¼›å¯†é’¥keyçš„é•¿åº¦å¯ä»¥æ˜¯16å­—èŠ‚ã€24å­—èŠ‚æˆ–32å­—èŠ‚ï¼Œå…·ä½“å–å†³äºåŠ å¯†æ—¶ä½¿ç”¨çš„å¯†é’¥é•¿åº¦ã€‚åœ¨è§£å¯†æ—¶ï¼Œæˆ‘ä»¬å°†åˆå§‹å‘é‡ivå’Œå¯†æ–‡encrypted_dataä¼ é€’ç»™AESåŠ å¯†å™¨å¯¹è±¡cipherï¼Œå¹¶ä½¿ç”¨decryptæ–¹æ³•è§£å¯†æ•°æ®ã€‚è§£å¯†åçš„æ•°æ®å­˜å‚¨åœ¨å˜é‡decrypted_dataä¸­ï¼Œå®ƒå°±æ˜¯åŸå§‹çš„è§†é¢‘å†…å®¹ã€‚</p><p>åœ¨è§£å¯†è¿‡ç¨‹ä¸­å¯èƒ½éœ€è¦ä½¿ç”¨ä¸åŒçš„åˆå§‹å‘é‡ã€å¯†é’¥å’ŒåŠ å¯†ç®—æ³•ï¼Œå…·ä½“å–å†³äºåŠ å¯†æ—¶ä½¿ç”¨çš„åŠ å¯†æ–¹å¼å’Œå¯†é’¥ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">å½“æ¶‰åŠåˆ°åŠ å¯†å’Œè§£å¯†æ—¶ï¼ŒPythonä¸­æœ‰å¾ˆå¤šåº“å¯ä»¥ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨PyCryptodomeåº“è¿›è¡ŒAESå¯¹ç§°åŠ å¯†å’Œè§£å¯†çš„ä¾‹å­ï¼Œè®©æˆ‘æ¥ä¸ºä½ è®²è§£ä¸€ä¸‹è¿™æ®µä»£ç ï¼šfrom Crypto.Cipher import AESfrom Crypto.Util.Padding import pad, unpadimport base64key &#x3D; b&#39;1234567890123456&#39;  # å¯†é’¥å¿…é¡»æ˜¯16ã€24æˆ–32å­—èŠ‚é•¿åº¦iv &#x3D; b&#39;1234567890123456&#39;   # åˆå§‹å‘é‡å¿…é¡»æ˜¯16å­—èŠ‚é•¿åº¦plaintext &#x3D; b&#39;This is a secret message&#39; # å¾…åŠ å¯†çš„æ˜æ–‡# åˆ›å»ºAESåŠ å¯†å™¨ï¼Œå¹¶ä½¿ç”¨CBCæ¨¡å¼å’ŒPKCS7å¡«å……cipher &#x3D; AES.new(key, AES.MODE_CBC, iv)ciphertext &#x3D; cipher.encrypt(pad(plaintext, AES.block_size))# å°†å¯†æ–‡è½¬æ¢ä¸ºBase64å­—ç¬¦ä¸²ciphertext_base64 &#x3D; base64.b64encode(ciphertext).decode(&#39;utf-8&#39;)print(&#39;åŠ å¯†åçš„å¯†æ–‡:&#39;, ciphertext_base64)# å°†Base64å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶å½¢å¼ciphertext &#x3D; base64.b64decode(ciphertext_base64.encode(&#39;utf-8&#39;))# åˆ›å»ºAESè§£å¯†å™¨ï¼Œå¹¶ä½¿ç”¨CBCæ¨¡å¼å’ŒPKCS7å¡«å……cipher&#x3D; AES.new(key, AES.MODE_CBC, iv)decrypted &#x3D; unpad(cipher.decrypt(ciphertext), AES.block_size)print(&#39;è§£å¯†åçš„æ˜æ–‡:&#39;, decrypted.decode(&#39;utf-8&#39;))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è§†é¢‘åˆå¹¶"><a href="#è§†é¢‘åˆå¹¶" class="headerlink" title="è§†é¢‘åˆå¹¶"></a>è§†é¢‘åˆå¹¶</h2><p>è¿™ä¸ªæ˜¯ä½¿ç”¨ffmpeg å¯¹index.m3u8æ–‡ä»¶ä½¿ç”¨å‘½ä»¤è¿›è¡Œåˆå¹¶,é€šè¿‡<code>os.system()</code>,index.m3u8æ–‡ä»¶æ˜¯æŠŠtsçš„res.contentè¿½åŠ å†™å…¥å¾—åˆ°çš„,ç„¶åä½¿ç”¨å‘½ä»¤åˆå¹¶,å…¶å®ä¸åˆå¹¶,ç›´æ¥æ”¹æ–‡ä»¶åç¼€,æˆ‘è§‰å¾—ä¹Ÿæ˜¯å¯ä»¥çš„,ä½†æ˜¯ffmpegåº”è¯¥æ˜¯æœ‰å…¶ä»–æƒ…å†µä¸‹çš„ç”¨æ³•</p><h2 id="çˆ¬å–jsç”Ÿæˆçš„åŠ¨æ€æ•°æ®"><a href="#çˆ¬å–jsç”Ÿæˆçš„åŠ¨æ€æ•°æ®" class="headerlink" title="çˆ¬å–jsç”Ÿæˆçš„åŠ¨æ€æ•°æ®"></a>çˆ¬å–jsç”Ÿæˆçš„åŠ¨æ€æ•°æ®</h2><p>å¾…æ›´æ–°â€¦..</p><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>55P_xpath</title>
      <link href="/2023/03/30/55p-xpath/"/>
      <url>/2023/03/30/55p-xpath/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘è®°å¾—æ˜¯è¿™ä¸ªé—®é¢˜ä¹‹å‰é‡åˆ°è¿‡,ç„¶åå¥½åƒè®°åœ¨ä¸€ä¸ªå†™å®Œçš„ä»£ç äº† ,â€¦.ç„¶åä»£ç åˆ äº†â€¦â€¦</p><h2 id="xpath"><a href="#xpath" class="headerlink" title="xpath"></a>xpath</h2><p><code>selector.xpath(&quot;/html/body/div[5]/dl/dd/a&quot;)``selector.xpath(&quot;/html/body/div[5]/dl/dd/a&quot;)[0]</code>ä¸¤ä¸ªè¡¨è¾¾å¼çš„åŒºåˆ«ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">chapter_list&#x3D;selector.xpath(&quot;&#x2F;html&#x2F;body&#x2F;div[5]&#x2F;dl&#x2F;dd&#x2F;a&quot;)        chapter_list&#x3D;chapter_list.xpath(&quot;&#x2F;&#x2F;@href&quot;)        #chapter_list &#x3D; selector.xpath(&#39;&#x2F;&#x2F;div[@class&#x3D;&quot;Main List&quot;]&#x2F;dl&#x2F;dd&#x2F;a&#x2F;@href&#39;)        print(chapter_list)        for i in chapter_list:            print(i.text)                         error:  chapter_list&#x3D;chapter_list.xpath(&quot;&#x2F;&#x2F;@href&quot;)AttributeError: &#39;list&#39; object has no attribute &#39;xpath&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">chapter_list&#x3D;selector.xpath(&quot;&#x2F;html&#x2F;body&#x2F;div[5]&#x2F;dl&#x2F;dd&#x2F;a&quot;)[0]        chapter_list&#x3D;chapter_list.xpath(&quot;&#x2F;&#x2F;@href&quot;)        #chapter_list &#x3D; selector.xpath(&#39;&#x2F;&#x2F;div[@class&#x3D;&quot;Main List&quot;]&#x2F;dl&#x2F;dd&#x2F;a&#x2F;@href&#39;)        print(chapter_list)        for i in chapter_list:            print(i)  output:    [&#39;&#x2F;&#x2F;static.17k.com&#x2F;skin&#x2F;main.css?v&#x3D;0911&#39;, &#39;&#x2F;&#x2F;static.17k.com&#x2F;www&#x2F;skin&#x2F;main.css?v&#x3D;0915&#39;, &#39;&#x2F;&#x2F;static.17k.com&#x2F;www&#x2F;skin&#x2F;booklist.css?v&#x3D;091508&#39;, &#39;&#x2F;&#x2F;static.17k.com&#x2F;www&#x2F;skin&#x2F;17k_header.css&#39;, &#39;&#x2F;&#x2F;www.17k.com&#39;, .......&#39;https:&#x2F;&#x2F;www.12377.cn&#x2F;jbxzxq&#x2F;64d38691937611ebb858c9da04cf59d3_web.html&#39;]&#x2F;&#x2F;static.17k.com&#x2F;skin&#x2F;main.css?v&#x3D;0911&#x2F;&#x2F;static.17k.com&#x2F;www&#x2F;skin&#x2F;main.css?v&#x3D;0915&#x2F;&#x2F;static.17k.com&#x2F;www&#x2F;skin&#x2F;booklist.css?v&#x3D;091508&#x2F;&#x2F;static.17k.com&#x2F;www&#x2F;skin&#x2F;17k_header.css<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>selector.xpath(&quot;/html/body/div[5]/dl/dd/a&quot;)</code> æ˜¯ä¸€ä¸ª xpath è¡¨è¾¾å¼ï¼Œå®ƒåŒ¹é… HTML æ–‡æ¡£ä¸­æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ <code>a</code> å…ƒç´ ï¼Œå¹¶è¿”å›ä¸€ä¸ªå…ƒç´ åˆ—è¡¨ã€‚ç”±äºè¿™ä¸ªè¡¨è¾¾å¼ä¸­æ²¡æœ‰ä½¿ç”¨ä¸‹æ ‡ï¼Œå› æ­¤è¿”å›çš„æ˜¯ä¸€ä¸ªåŒ…å«æ‰€æœ‰åŒ¹é…å…ƒç´ çš„åˆ—è¡¨ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">[&lt;Element a at 0x25f34ff6380&gt;, &lt;Element a at 0x25f34ff6440&gt;, &lt;Element a at 0x25f35001580&gt;, &lt;Element a at 0x25f35001540&gt;, &lt;Element a at 0x25f35001500&gt;, &lt;Element a at 0x25f35001480&gt;, &lt;Element a at 0x25f35001440&gt;, &lt;Element a at 0x25f35001680&gt;, &lt;Element a at 0x25f35001600&gt;, &lt;Element a at 0x25f350014c0&gt;, &lt;Element a at 0x25f35001640&gt;, &lt;Element a at 0x25f35001f40&gt;]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>selector.xpath(&quot;/html/body/div[5]/dl/dd/a&quot;)[0]</code> åˆ™æ˜¯å¯¹ä¸Šé¢è¡¨è¾¾å¼çš„ç»“æœè¿›è¡Œä¸‹æ ‡è®¿é—®ï¼Œå®ƒè¡¨ç¤ºè·å–åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ç”±äºåˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª <code>Element</code> å¯¹è±¡ï¼Œå› æ­¤ <code>[0]</code> è¡¨ç¤ºè·å–ç¬¬ä¸€ä¸ª <code>Element</code> å¯¹è±¡ã€‚å¦‚æœåˆ—è¡¨ä¸­æ²¡æœ‰ä»»ä½•å…ƒç´ ï¼Œè®¿é—® <code>[0]</code> ä¼šå¼•å‘ IndexError å¼‚å¸¸ã€‚</p><p>å› æ­¤ï¼Œ<code>selector.xpath(&quot;/html/body/div[5]/dl/dd/a&quot;)[0]</code> è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…çš„ <code>a</code> å…ƒç´ ï¼Œå¦‚æœéœ€è¦è·å–æ‰€æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œåº”è¯¥ä½¿ç”¨ <code>selector.xpath(&quot;/html/body/div[5]/dl/dd/a&quot;)</code>ï¼Œå¹¶éå†åˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">chapter_list &#x3D; selector.xpath(&quot;&#x2F;html&#x2F;body&#x2F;div[5]&#x2F;dl&#x2F;dd&#x2F;a&quot;)for chapter in chapter_list:    # do something with chapter<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·å¯ä»¥éå†æ‰€æœ‰åŒ¹é…çš„ <code>a</code> å…ƒç´ ï¼Œå¹¶å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚</p><h2 id="åŒ¹é…ä¸åˆ°"><a href="#åŒ¹é…ä¸åˆ°" class="headerlink" title="åŒ¹é…ä¸åˆ°"></a>åŒ¹é…ä¸åˆ°</h2><p>å¯èƒ½æ˜¯å› ä¸ºé¡µé¢æ˜¯åŠ¨æ€ç”Ÿæˆçš„,éœ€è¦æ£€æŸ¥æºä»£ç åŒ¹é…</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>54h_ç£æ‚¬æµ®ç”µè·¯è®¾è®¡</title>
      <link href="/2023/03/18/54h-ci-xuan-fu-dian-lu-she-ji-0/"/>
      <url>/2023/03/18/54h-ci-xuan-fu-dian-lu-she-ji-0/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>53P_pythonçš„å¼‚æ­¥</title>
      <link href="/2023/01/26/53p-python-de-yi-bu/"/>
      <url>/2023/01/26/53p-python-de-yi-bu/</url>
      
        <content type="html"><![CDATA[<p>å…¨å±€å˜é‡ä¸å†…éƒ¨å˜é‡</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">#test.pyb&#x3D;&quot;å¤–éƒ¨æ²¡æ”¹çš„&quot;def a():    global b    b&#x3D;&quot;å†…éƒ¨æ”¹å®Œäº†&quot;print(b)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">#2.pyfrom .test import bprint(b)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>è¾“å‡ºç»“æœä¸º:å¤–éƒ¨æ²¡æ”¹çš„</p></blockquote><p>æ³¨æ„:ä»£ç å¯¼å…¥å°±ä¼šè¢«æ‰§è¡Œ</p><p>æ²¡æ‰§è¡Œçš„åŸå› å¯èƒ½æœ‰:</p><p>è¢«å¯¼å…¥çš„ä»£ç æœ‰<code>*if __name__ == &quot;__main__&quot;:*</code>è¢«å¯¼å…¥å,é»˜è®¤æ‰§è¡Œ<code>*if __name__ == &quot;__init__&quot;:*</code>åé¢çš„<code>main()</code>å°±æ— æ³•æ‰§è¡Œ</p><p>å¦‚æœæ‚¨å°† juejin.py å¯¼å…¥åˆ° <strong>init</strong>.py æ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆ juejin.py ä¸­çš„æ‰€æœ‰ä»£ç éƒ½å°†åœ¨å¯¼å…¥æ¨¡å—æ—¶è¢«æ‰§è¡Œã€‚å¦‚æœ juejin.py ä¸­æœ‰ä¸€ä¸ª if <strong>name</strong> &#x3D;&#x3D; â€œ<strong>main</strong>â€œ çš„è¯­å¥å—ï¼Œé‚£ä¹ˆåœ¨å¯¼å…¥ <strong>init</strong>.py æ–‡ä»¶æ—¶ï¼Œ<strong>name</strong> çš„å€¼å°†æ˜¯ â€œ<strong>init</strong>â€œï¼Œè€Œä¸æ˜¯ â€œ<strong>main</strong>â€œï¼Œæ‰€ä»¥ if è¯­å¥å—ä¸­çš„ä»£ç ä¸ä¼šè¢«æ‰§è¡Œã€‚</p><p>å¦‚æœä½ æƒ³åœ¨å¯¼å…¥juejin.pyçš„æ—¶å€™æ‰§è¡Œä»–çš„æŸä¸ªå‡½æ•°ï¼Œå¯ä»¥åœ¨__init__.pyæ–‡ä»¶ä¸­ç›´æ¥è°ƒç”¨ã€‚</p><p>å»ºè®®ä½ ä¸è¦å°†ä¸€ä¸ªæ¨¡å—å¯¼å…¥åˆ°å¦ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå› ä¸ºè¿™ä¼šä½¿æ‚¨çš„ä»£ç å˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚åº”è¯¥è€ƒè™‘ä½¿ç”¨å‡½æ•°æˆ–ç±»æ¥å¯¼å‡ºéœ€è¦çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯å¯¼å…¥æ•´ä¸ªæ¨¡å—ã€‚</p><p>å¯¼å…¥åŒ…</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import JueJin_Sign<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯¼å…¥åŒåŒ…çš„æ–‡ä»¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">from . import JueJin_Sign<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="error"><a href="#error" class="headerlink" title="error"></a>error</h2><h3 id="AttributeError-module-â€˜src-plugins-è„šæœ¬ç®¡ç†-JueJin-Signâ€™-has-no-attribute-â€˜message-juejinâ€™"><a href="#AttributeError-module-â€˜src-plugins-è„šæœ¬ç®¡ç†-JueJin-Signâ€™-has-no-attribute-â€˜message-juejinâ€™" class="headerlink" title="AttributeError: module â€˜src.plugins.è„šæœ¬ç®¡ç†.JueJin_Signâ€™ has no attribute â€˜message_juejinâ€™"></a>AttributeError: module â€˜src.plugins.è„šæœ¬ç®¡ç†.JueJin_Signâ€™ has no attribute â€˜message_juejinâ€™</h3><p>è¿™å¥æŠ¥é”™çš„æ„æ€æ˜¯ æ¨¡å—æ²¡æœ‰message_juejinçš„å±æ€§,äººè¯å°±æ˜¯<code>æ²¡è¿™ä¸ªå˜é‡</code></p><p>å¦‚æœä½ å¾ˆç¡®å®š,å·²ç»åœ¨juejin.pyå£°æ˜äº†å…¨å±€å˜é‡,é‚£ä¹ˆå¾ˆæ­£å¸¸,å› ä¸ºjuejin.pyæœ‰å®šæ—¶ä»»åŠ¡,å¯¼å…¥æ—¶å¼‚æ­¥æ‰§è¡Œäº†,æ‰€ä»¥åªæ˜¯æŒ‚èµ·,å¹¶æœªè¿è¡Œå‡½æ•°,ä¹Ÿå°±æ²¡æœ‰è¿™ä¸ªå±æ€§äº†</p><p>ç„¶åæˆ‘è¿™æ ·å†™(é”™è¯¯!!!)</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">if message_juejin and message_upvps:    #å¯ä»¥ç¡®å®šä»»åŠ¡æ‰§è¡Œå®Œæ¯•,å·²ç»æœ‰è¿™ä¸ªå±æ€§äº†,è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œelse:    print(&quot;æ—¶é—´æ²¡åˆ°,è¿˜æœªç­¾åˆ°&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç»“æœ:ä»ç„¶ä¼šå‡ºç°ä¸Šè¿°æŠ¥é”™,å› ä¸ºåˆ¤æ–­å±æ€§æœ‰æ²¡æœ‰çš„æ—¶å€™,ä»ç„¶æŠ¥é”™æ²¡æœ‰è¿™ä¸ªå±æ€§</p></blockquote><p>å¯ä»¥ç”¨hasattr()è¿™ä¸ªå‡½æ•°æ¥åˆ¤æ–­</p><blockquote><p>hasattr(object, name)&#96; å‡½æ•°æ˜¯ Python æ ‡å‡†åº“ä¸­æä¾›çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦å…·æœ‰æŸä¸ªå±æ€§ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><p>objectï¼šè¦åˆ¤æ–­çš„å¯¹è±¡ã€‚</p><p>nameï¼šè¦åˆ¤æ–­çš„å±æ€§åã€‚</p><p>  å®ƒè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œå¦‚æœå¯¹è±¡å…·æœ‰æŒ‡å®šåç§°çš„å±æ€§è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">if hasattr(JueJin_Sign, &#39;message_juejin&#39;) and hasattr(UPVPS, &#39;message_up&#39;):    # do something else:    # do something<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="asyncç”¨æ³•"><a href="#asyncç”¨æ³•" class="headerlink" title="asyncç”¨æ³•"></a>asyncç”¨æ³•</h2><p>asyncæ˜¯Pythonä¸­ç”¨æ¥å®ç°å¼‚æ­¥ç¼–ç¨‹çš„å…³é”®å­—ã€‚å®ƒå¯ä»¥è®©å‡½æ•°åœ¨æ‰§è¡Œæ—¶ä¸ä¼šé˜»å¡å…¶ä»–ä»£ç çš„æ‰§è¡Œã€‚ä½¿ç”¨asyncå…³é”®å­—å£°æ˜ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä½¿ç”¨awaitè°ƒç”¨å¦ä¸€ä¸ªå¼‚æ­¥å‡½æ•°</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">async def main():    result &#x3D; await _async_function()    #ç­‰ä»·äºasyncio.run(my_async_func())    print(result)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨asyncå®šä¹‰å‡½æ•°æ—¶ï¼Œéœ€è¦åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨awaitè¿ç®—ç¬¦æ¥è°ƒç”¨å¦ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚</p><p>ç”¨sleepçš„è¯ï¼Œä½ çš„botåœ¨è¿™3ç§’æœŸé—´æ²¡æ³•å¤„ç†å…¶ä»–æ¶ˆæ¯äº†</p><p>å¼‚æ­¥å®šæ—¶å™¨å¯ä»¥åœ¨æœ¬ç¨‹åºæ‰§è¡Œçš„æ—¶å€™æ‰§è¡Œåˆ«çš„å‡½æ•°ä½†æ˜¯ä¸èƒ½æ‰§è¡Œåˆ«çš„æ–‡ä»¶,åº”è¯¥æ˜¯æœ‰ä¸€ä¸ªè·¨çº¿ç¨‹æˆ–è€…å®é™…è¿›ç¨‹çš„é—®é¢˜</p><p>æˆ‘è§‰å¾—å¦å¼€ä¸€ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹é˜²æ­¢é˜»å¡åº”è¯¥ä¹Ÿæ˜¯å¯è¡Œçš„</p><p>nonebotçš„å®ç°æ–¹å¼å¥½åƒæ˜¯åœ¨nonebotåˆå§‹åŒ–çš„æ—¶å€™å°±æŒ‚è½½,å…·ä½“è¿˜éœ€ç»§ç»­ç ”ç©¶</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>52h_ä¸Šä½æœºè°ƒèŠ‚pid</title>
      <link href="/2023/01/18/52h-shang-wei-ji-diao-jie-pid/"/>
      <url>/2023/01/18/52h-shang-wei-ji-diao-jie-pid/</url>
      
        <content type="html"><![CDATA[<h1 id="Cè¯­è¨€æŒ‡é’ˆ"><a href="#Cè¯­è¨€æŒ‡é’ˆ" class="headerlink" title="Cè¯­è¨€æŒ‡é’ˆ"></a>Cè¯­è¨€æŒ‡é’ˆ</h1><p>1ã€æŒ‡é’ˆå˜é‡å­˜æ”¾çš„æ˜¯åœ°å€ç±»å‹ã€‚<br>2ã€å®šä¹‰æŒ‡é’ˆå˜é‡çš„æ—¶å€™è®¾å®šçš„å˜é‡ç±»å‹ï¼Œç¡®å®šçš„æ˜¯ä»æŒ‡é’ˆå­˜çš„é¦–åœ°å€å¼€å§‹åé¢è¯»å–å¤šå°‘ä¸ªå­—èŠ‚ã€‚ï¼ˆint ä¸º4ä¸ªï¼Œcharä¸º1ä¸ªï¼‰ï¼Œè€ŒæŒ‡é’ˆå˜é‡çš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå¤§å°çœ‹è®¾å¤‡ï¼Œä¸€èˆ¬æ˜¯4ä¸ªå­—èŠ‚ï¼ˆ32ä½ï¼‰</p><h2 id="é€šè¿‡chatgpt"><a href="#é€šè¿‡chatgpt" class="headerlink" title="é€šè¿‡chatgpt"></a>é€šè¿‡chatgpt</h2><blockquote><p>ä¸ºä»€ä¹ˆé€šè¿‡é¦–åœ°å€å¯ä»¥è®¿é—®æ•´ä¸ªå˜é‡,ä¸æ˜¯åº”è¯¥çŸ¥é“æ‰€æœ‰åœ°å€å—<br>é€šè¿‡é¦–åœ°å€å¯ä»¥è®¿é—®æ•´ä¸ªå˜é‡æ˜¯å› ä¸ºé¦–åœ°å€å­˜å‚¨ç€æ•´ä¸ªå˜é‡çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€‚è€Œåœ¨å†…å­˜ä¸­ï¼Œæ•´ä¸ªå˜é‡æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå› æ­¤é€šè¿‡é¦–åœ°å€å¯ä»¥è®¿é—®åˆ°æ•´ä¸ªå˜é‡ã€‚<br>æ¯”å¦‚ä¸€ä¸ªintç±»å‹çš„å˜é‡ï¼Œå®ƒå 4ä¸ªå­—èŠ‚ï¼Œåˆ†åˆ«å­˜å‚¨åœ¨è¿ç»­çš„4ä¸ªä½ç½®ä¸Šï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“å®ƒçš„é¦–åœ°å€ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¿é—®åˆ°å®ƒçš„ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼Œå¹¶ä¸”çŸ¥é“äº†ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ä½ç½®ï¼Œé‚£ä¹ˆå°±å¯ä»¥çŸ¥é“åé¢ä¸‰ä¸ªå­—èŠ‚çš„ä½ç½®ã€‚</p></blockquote><blockquote><p>æ‰€ä»¥é€šè¿‡é¦–åœ°å€å¯ä»¥è®¿é—®æ•´ä¸ªå˜é‡ã€‚<br>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨è®¿é—®æ•´ä¸ªå˜é‡å‰éœ€è¦çŸ¥é“è¿™ä¸ªå˜é‡çš„ç±»å‹å’Œå ç”¨çš„å­—èŠ‚æ•°ï¼Œå› ä¸ºä¸åŒç±»å‹çš„å˜é‡å ç”¨çš„å­—èŠ‚æ•°æ˜¯ä¸åŒçš„ã€‚</p></blockquote><p>æˆ‘çŸ¥é“äº†,å› ä¸ºintå˜é‡åœ¨32ä½ç³»ç»Ÿä¸­å å››ä¸ªå­—èŠ‚,å·²çŸ¥aæœ‰å››ä¸ªå­—èŠ‚,&amp;aè·å–açš„åœ°å€,å³açš„é¦–åœ°å€,å³ä¸€ä¸ªå­—èŠ‚,å°±å¯ä»¥ç»§ç»­æ‰¾ä¸‰ä¸ªå­—èŠ‚,å³ä¸ºa</p><blockquote><p>æ‰€ä»¥p1æ˜¯açš„é¦–åœ°å€,<em>p1å³ä¸ºå–å‡ºp1åœ°å€çš„å€¼,å³</em>p1ä¸ºaçš„é¦–åœ°å€çš„å€¼<br>ä¸å¯¹,p1æ˜¯æŒ‡é’ˆå˜é‡ï¼Œå®ƒæŒ‡å‘açš„é¦–åœ°å€ï¼Œæ‰€ä»¥p1çš„å€¼ä¸ºaçš„é¦–åœ°å€ã€‚è€Œ*p1æ˜¯å–å‡ºp1æŒ‡å‘çš„åœ°å€çš„å€¼ï¼Œå³açš„å€¼ã€‚</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">int a &#x3D; 258;&#x2F;&#x2F;ä½¿ç”¨unsigned charæ¥éªŒè¯intçš„æ¯ä¸€ä¸ªå­—èŠ‚unsigned char *p1 &#x3D; (unsigned char*)&amp;a;   &#x2F;&#x2F;è·å–açš„é¦–åœ°å€unsigned char *p2 &#x3D; (unsigned char*)&amp;a+1; &#x2F;&#x2F;è·å–açš„é¦–åœ°å€çš„åä¸€ä¸ªå­—èŠ‚åœ°å€unsigned char *p3 &#x3D; (unsigned char*)&amp;a+2; &#x2F;&#x2F;è·å–açš„é¦–åœ°å€çš„åä¸¤ä¸ªå­—èŠ‚åœ°å€unsigned char *p4 &#x3D; (unsigned char*)&amp;a+3; &#x2F;&#x2F;è·å–açš„é¦–åœ°å€çš„åä¸‰ä¸ªå­—èŠ‚åœ°å€printf(&quot;[a] p1:%x, %d\r\n&quot;, p1, *p1); &#x2F;&#x2F;æ‰“å°p1çš„åœ°å€ä¸å­˜å‚¨çš„å­—èŠ‚å†…å®¹printf(&quot;[a] p2:%x, %d\r\n&quot;, p2, *p2); &#x2F;&#x2F;æ‰“å°p2çš„åœ°å€ä¸å­˜å‚¨çš„å­—èŠ‚å†…å®¹printf(&quot;[a] p3:%x, %d\r\n&quot;, p3, *p3); &#x2F;&#x2F;æ‰“å°p3çš„åœ°å€ä¸å­˜å‚¨çš„å­—èŠ‚å†…å®¹printf(&quot;[a] p4:%x, %d\r\n&quot;, p4, *p4); &#x2F;&#x2F;æ‰“å°p4çš„åœ°å€ä¸å­˜å‚¨çš„å­—èŠ‚å†…å®¹è¿è¡Œç»“æœï¼š[a] p1:5216f804, 2[a] p2:5216f805, 1[a] p3:5216f806, 0[a] p4:5216f807, 0è¿™ä¸ªå°±å–å‡ºçš„æ˜¯é¦–åœ°å€çš„å€¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äºè¿™æ®µä»£ç ,<code>ä»–å°†å˜é‡açš„åœ°å€å¼ºåˆ¶è½¬æ¢æˆäº†unsigned charç±»å‹çš„æŒ‡é’ˆ</code>,å¹¶ç”¨p1,p2,p3,p4åˆ†åˆ«æŒ‡å‘äº†açš„é¦–åœ°å€å’Œå1,2,3ä¸ªå­—èŠ‚çš„åœ°å€,é€šè¿‡p1,*p2,*p3,*p4è·å–åˆ°äº†è¿™äº›åœ°å€æ‰€å­˜å‚¨çš„å€¼,è¿™äº›å€¼å°±æ˜¯aåœ¨å†…å­˜ä¸­çš„äºŒè¿›åˆ¶è¡¨ç¤º,æ ¹æ®ä¸åŒçš„æœºå™¨å­—èŠ‚åº,ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœã€‚</p><blockquote><p>æ‰€ä»¥åœ¨ä¸Šé¢ä»£ç ä¸­æ‰“å°p1ä¼šè·å¾—açš„é¦–åœ°å€,æ‰“å°*p1ä¼šè·å¾—açš„é¦–åœ°å€çš„å€¼<br>æ˜¯çš„ï¼Œåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œp1æ˜¯açš„é¦–åœ°å€ï¼Œè€Œp1æ˜¯å­˜å‚¨åœ¨açš„é¦–åœ°å€çš„å€¼ã€‚è¿™æ®µä»£ç ä¸­ï¼Œé¦–å…ˆå°†intç±»å‹çš„aè½¬æ¢ä¸ºunsigned charç±»å‹çš„æŒ‡é’ˆp1ï¼Œç„¶ååˆ©ç”¨p1æ¥è®¿é—®açš„æ¯ä¸€ä¸ªå­—èŠ‚ï¼Œp2ã€p3ã€p4åˆ†åˆ«æ˜¯açš„é¦–åœ°å€åä¸€ä¸ªå­—èŠ‚ã€åä¸¤ä¸ªå­—èŠ‚ã€åä¸‰ä¸ªå­—èŠ‚çš„åœ°å€ã€‚åœ¨æ‰“å°p1ã€p2ã€p3ã€p4æ—¶ï¼Œä¼šè¾“å‡ºè¿™äº›åœ°å€çš„åå…­è¿›åˆ¶å€¼ï¼Œåœ¨æ‰“å°p1ã€*p2ã€*p3ã€*p4æ—¶ï¼Œä¼šè¾“å‡ºè¿™äº›åœ°å€æ‰€å­˜å‚¨çš„å€¼ã€‚</p></blockquote><blockquote><p>å°±åƒæ˜¯*p&#x3D;<em>a,å³p&#x3D;açš„å€¼<br>å¯¹ï¼Œè¿™æ˜¯å¯¹çš„ã€‚åœ¨è¿™ä¸ªä»£ç ä¸­ï¼Œp1æ˜¯ä¸€ä¸ªæŒ‡å‘unsigned charç±»å‹çš„æŒ‡é’ˆï¼Œå®ƒè·å–äº†å˜é‡açš„é¦–åœ°å€ã€‚åœ¨æ‰“å°p1æ—¶ï¼Œä½ ä¼šå¾—åˆ°å˜é‡açš„é¦–åœ°å€ã€‚è€Œå½“ä½ æ‰“å°</em>p1æ—¶ï¼Œä½ ä¼šå¾—åˆ°å˜é‡aåœ¨é¦–åœ°å€ä¸Šå­˜å‚¨çš„å€¼ã€‚</p></blockquote><blockquote><p>ä¸å¯¹æˆ‘è¯´é”™äº†æ˜¯<em>p&#x3D;</em>(&amp;a),å³p&#x3D;açš„é¦–åœ°å€,*p&#x3D;açš„å€¼<br>å¯¹çš„ï¼Œp&#x3D;(&amp;a)ï¼Œå³p&#x3D;&amp;aï¼Œå³pæ˜¯açš„é¦–åœ°å€ï¼Œ*p&#x3D;açš„å€¼ã€‚</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">void printf_bin(int num)&#123;    int i, j, k;    unsigned char *p &#x3D; (unsigned char*)&amp;num + 3;&#x2F;&#x2F;på…ˆæŒ‡å‘numåé¢ç¬¬3ä¸ªå­—èŠ‚çš„åœ°å€ï¼Œå³numçš„æœ€é«˜ä½å­—èŠ‚åœ°å€    for (i &#x3D; 0; i &lt; 4; i++) &#x2F;&#x2F;ä¾æ¬¡å¤„ç†4ä¸ªå­—èŠ‚(32ä½ï¼‰    &#123;        j &#x3D; *(p - i); &#x2F;&#x2F;å–æ¯ä¸ªå­—èŠ‚çš„é¦–åœ°å€ï¼Œä»é«˜ä½å­—èŠ‚åˆ°ä½ä½å­—èŠ‚ï¼Œå³p p-1 p-2 p-3åœ°å€å¤„        for (int k &#x3D; 7; k &gt;&#x3D; 0; k--) &#x2F;&#x2F;å¤„ç†æ¯ä¸ªå­—èŠ‚çš„8ä¸ªä½ï¼Œæ³¨æ„å­—èŠ‚å†…éƒ¨çš„äºŒè¿›åˆ¶æ•°æ˜¯æŒ‰ç…§äººçš„ä¹ æƒ¯å­˜å‚¨ï¼        &#123;            if (j &amp; (1 &lt;&lt; k))&#x2F;&#x2F;1å·¦ç§»kä½ï¼Œä¸å•å‰çš„å­—èŠ‚å†…å®¹jè¿›è¡Œæˆ–è¿ç®—ï¼Œå¦‚k&#x3D;7æ—¶ï¼Œ00000000&amp;10000000&#x3D;0 -&gt;è¯¥å­—èŠ‚çš„æœ€é«˜ä½ä¸º0                printf(&quot;1&quot;);            else                printf(&quot;0&quot;);        &#125;        printf(&quot; &quot;);&#x2F;&#x2F;æ¯8ä½åŠ ä¸ªç©ºæ ¼ï¼Œæ–¹ä¾¿æŸ¥çœ‹    &#125;    printf(&quot;\r\n&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ‰€ä»¥1å·¦ç§»kä½çš„æ„æ€å°±æ˜¯ç”Ÿæˆä¸€ä¸ªç¬¬kä½ä¸º1çš„å…«ä½äºŒè¿›åˆ¶æ•°<br>å¯¹çš„ï¼Œ1å·¦ç§»kä½çš„æ„æ€å°±æ˜¯ç”Ÿæˆä¸€ä¸ªç¬¬kä½ä¸º1,å…¶ä»–ä½ä¸º0çš„äºŒè¿›åˆ¶æ•°ã€‚ä¾‹å¦‚ï¼š1å·¦ç§»3ä½ï¼Œå°±æ˜¯0001000ï¼Œç¬¬4ä½ä¸º1ï¼Œå…¶ä»–ä½ä¸º0ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œé€šè¿‡å°†1å·¦ç§»kä½ï¼Œå†ä¸jè¿›è¡Œ&amp;è¿ç®—ï¼Œå°±å¯ä»¥åˆ¤æ–­jçš„ç¬¬kä½æ˜¯å¦ä¸º1ï¼Œä»è€Œå°†æ•´æ•°numè½¬æ¢ä¸ºäºŒè¿›åˆ¶å¹¶è¾“å‡ºã€‚</p></blockquote><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ1å·¦ç§»kä½çš„æ“ä½œæ˜¯ä»ä½ä½åˆ°é«˜ä½è¿›è¡Œçš„ï¼Œä»¥ä¾¿å°†æ¯ä¸€ä½çš„å€¼æšä¸¾å‡ºæ¥ã€‚è¿™æ ·æ‰èƒ½ä¾æ¬¡æ¯”è¾ƒæ¯ä¸€ä½ä¸jçš„å€¼æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒåˆ™è¾“å‡º1ï¼Œå¦åˆ™è¾“å‡º0ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">å¯¹åº”unsigned charå‹çš„æ•°å­—ï¼Œå¦‚æœåªéœ€è¦æ˜¾ç¤º8ä½2è¿›åˆ¶æ•°ï¼Œå¯ä»¥å¯¹ä¸Šè¿°å°ç¨‹åºç®€åŒ–ï¼švoid printf_bin_8(unsigned char num)&#123;    int k;    unsigned char *p &#x3D; (unsigned char*)&amp;num;    for (int k &#x3D; 7; k &gt;&#x3D; 0; k--) &#x2F;&#x2F;å¤„ç†8ä¸ªä½    &#123;        if (*p &amp; (1 &lt;&lt; k))            printf(&quot;1&quot;);        else            printf(&quot;0&quot;);    &#125;    printf(&quot;\r\n&quot;);&#125;&#x2F;&#x2F;æ•°å­—12çš„è¿è¡Œæ•ˆæœ00001100<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºunsign  charåªæœ‰ä¸€ä¸ªå­—èŠ‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;åœ¨64ä½ç³»ç»Ÿä¸­, unsigned charä»ç„¶æ˜¯1ä¸ªå­—èŠ‚, ä¸32ä½ç³»ç»Ÿä¸­ç›¸åŒã€‚ ä¸è¿‡, åœ¨64ä½ç³»ç»Ÿä¸­, int, long, long longç­‰å˜é‡å¯èƒ½ä¼šæ¯”32ä½ç³»ç»Ÿä¸­å¤šå ç”¨ä¸€äº›å­—èŠ‚ã€‚ &#x2F;&#x2F;ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨64ä½ç³»ç»Ÿä¸­å°†intè½¬æ¢ä¸ºäºŒè¿›åˆ¶çš„ä¾‹å­:void printf_bin_64(unsigned int num)&#123;int i, k;unsigned char p &#x3D; (unsigned char)&amp;num + 7;&#x2F;&#x2F;på…ˆæŒ‡å‘numåé¢ç¬¬7ä¸ªå­—èŠ‚çš„åœ°å€ï¼Œå³numçš„æœ€é«˜ä½å­—èŠ‚åœ°å€for (i &#x3D; 0; i &lt; 8; i++) &#x2F;&#x2F;ä¾æ¬¡å¤„ç†8ä¸ªå­—èŠ‚(64ä½ï¼‰&#123;    for (int k &#x3D; 7; k &gt;&#x3D; 0; k--) &#x2F;&#x2F;å¤„ç†æ¯ä¸ªå­—èŠ‚çš„8ä¸ªä½    &#123;        if (*(p - i) &amp; (1 &lt;&lt; k))            printf(&quot;1&quot;);        else            printf(&quot;0&quot;);    &#125;    printf(&quot; &quot;);&#x2F;&#x2F;æ¯8ä½åŠ ä¸ªç©ºæ ¼ï¼Œæ–¹ä¾¿æŸ¥çœ‹&#125;printf(&quot;\r\n&quot;);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤§ä½¬è§‚ç‚¹</p><blockquote><p>ç¼–ç å™¨çš„å•ä½ç”¨rpm<br>æœŸæœ›é€Ÿåº¦ä¹Ÿç”¨rpm<br>pidè®¡ç®—ä¹‹åä¼ å›æ¥çš„å€¼æ˜¯pwm pwmè¶Šå¤§ç”µå‹è¶Šé«˜è½¬é€Ÿè¶Šå¿«</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ–‡å­—è½¬å›¾ç‰‡</title>
      <link href="/2023/01/15/51p-python-wen-zi-zhuan-tu-pian/"/>
      <url>/2023/01/15/51p-python-wen-zi-zhuan-tu-pian/</url>
      
        <content type="html"><![CDATA[<h2 id="æ–‡å­—è½¬å›¾ç‰‡"><a href="#æ–‡å­—è½¬å›¾ç‰‡" class="headerlink" title="æ–‡å­—è½¬å›¾ç‰‡"></a>æ–‡å­—è½¬å›¾ç‰‡</h2><p>å¯ä»¥ç”¨pygameåº“æˆ–è€…pillowåº“</p><h3 id="pygame"><a href="#pygame" class="headerlink" title="pygame"></a>pygame</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">import pygame# åˆå§‹åŒ–pygamepygame.init()# è®¾ç½®æ–‡å­—å†…å®¹text &#x3D; &quot;Hello World!\nHow are you?&quot;# è®¾ç½®å­—ä½“å’Œå¤§å°font &#x3D; pygame.font.Font(None, 36)# ä½¿ç”¨render()å‡½æ•°å°†æ–‡å­—è½¬æ¢ä¸ºå›¾ç‰‡text_image &#x3D; font.render(text, True, (255, 255, 255))# ä½¿ç”¨save()å‡½æ•°å°†å›¾ç‰‡ä¿å­˜åˆ°æ–‡ä»¶pygame.image.save(text_image, &quot;text.png&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªä»£ç åªèƒ½è½¬ä¸€è¡Œ,ä¸èƒ½è¿›è¡Œæ¢è¡Œ</p><blockquote><p>æƒ³æ¢è¡Œçš„è¯,å°†æ–‡æœ¬æ‹†åˆ†,ç„¶ååˆ†åˆ«æ¸²æŸ“æˆå¤šä¸ªå›¾ç‰‡,æœ€åè¿›è¡Œå›¾ç‰‡çš„åˆå¹¶</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">import pygame# åˆå§‹åŒ–pygamepygame.init()# è®¾ç½®æ–‡å­—å†…å®¹text &#x3D; &quot;Hello World! How are you?&quot;# è®¾ç½®å­—ä½“å’Œå¤§å°font &#x3D; pygame.font.Font(None, 36)# è®¾ç½®è¡Œå®½line_width &#x3D; 200# åˆ†å‰²æ–‡æœ¬lines &#x3D; []for line in text.split(&quot;\n&quot;):    lines.extend(textwrap.wrap(line, width&#x3D;line_width))# åˆ›å»ºä¸€ä¸ªç©ºç™½å›¾åƒimage &#x3D; pygame.Surface((line_width, len(lines)*font.size(&quot;A&quot;)[1]),pygame.SRCALPHA)# æ¸²æŸ“æ¯ä¸€è¡Œy &#x3D; 0for line in lines:    text_image &#x3D; font.render(line, True, (255, 255, 255))    image.blit(text_image, (0, y))    y +&#x3D; font.size(&quot;A&quot;)[1]# ä¿å­˜å›¾åƒpygame.image.save(image, &quot;text.png&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="pillowåº“"><a href="#pillowåº“" class="headerlink" title="pillowåº“"></a>pillowåº“</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">import osimport Image,ImageDraw,ImageFont,ImageFilterimport randomtext&#x3D;&quot;ä»»ä½•å±è¯ï¼Œ\nåªè¦è¢«æ‰“å°å‡ºæ¥\nå°±æˆäº†çœŸç†&quot;# PILå®ç°width&#x3D;60*4height&#x3D;60*2im&#x3D;Image.new(&#39;RGB&#39;,(width,height),(255,255,255))dr&#x3D;ImageDraw.Draw(im)font&#x3D;ImageFont.truetype(os.path.join(&quot;C:\\Windows\\Fonts\\&quot;, &quot;simhei.ttf&quot;),20)dr.text((10,5),text,font&#x3D;font,fill&#x3D;&#39;#000000&#39;) im.show()im.save(&quot;t.png&quot;)#åœ¨ä»£ç æ‰§è¡Œå®Œåè‡ªåŠ¨åˆ é™¤å›¾ç‰‡os.remove(&quot;text.png&quot;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2023/01/15/51p-python-wen-zi-zhuan-tu-pian/01.jpg" class=""><p><code>å› ä¸ºbotæ˜¯æ­å»ºåœ¨linuxæœåŠ¡å™¨ä¸Šçš„,æ‰€ä»¥å¯èƒ½ä¼šå‡ºç°ä¸‹é¢é—®é¢˜</code></p><blockquote><p>im.save(â€œt.pngâ€)è¿è¡Œå,æ²¡æœ‰å›¾ç‰‡ç”Ÿæˆ</p><blockquote><p>åŸå› æ˜¯æˆ‘ç›´æ¥é»˜è®¤ä¿å­˜åœ¨å½“å‰ä½ç½®,å½“å‰ç›®å½•æ²¡æœ‰å†™å…¥æƒé™ï¼Œæ— æ³•å°†æ–‡ä»¶ä¿å­˜åˆ°è¯¥ç›®å½•ã€‚ä½ å¯ä»¥åœ¨æ–‡ä»¶è·¯å¾„å‰åŠ ä¸Š&#x2F;tmp&#x2F; æˆ– &#x2F;home&#x2F;user&#x2F; æ¥ä¿å­˜æ–‡ä»¶ã€‚</p></blockquote></blockquote>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†™nonebot2æ’ä»¶æ—¶é‡è§çš„é—®é¢˜</title>
      <link href="/2023/01/15/50p-nonebot-questions/"/>
      <url>/2023/01/15/50p-nonebot-questions/</url>
      
        <content type="html"><![CDATA[<h2 id="å‘é€æŒ‡ä»¤æˆåŠŸè¿è¡Œåæ— æŠ¥é”™-ä½†æ˜¯æ²¡æœ‰å‘å‡ºæ¶ˆæ¯"><a href="#å‘é€æŒ‡ä»¤æˆåŠŸè¿è¡Œåæ— æŠ¥é”™-ä½†æ˜¯æ²¡æœ‰å‘å‡ºæ¶ˆæ¯" class="headerlink" title="å‘é€æŒ‡ä»¤æˆåŠŸè¿è¡Œåæ— æŠ¥é”™,ä½†æ˜¯æ²¡æœ‰å‘å‡ºæ¶ˆæ¯"></a>å‘é€æŒ‡ä»¤æˆåŠŸè¿è¡Œåæ— æŠ¥é”™,ä½†æ˜¯æ²¡æœ‰å‘å‡ºæ¶ˆæ¯</h2><blockquote><p>æ¶ˆæ¯å¤ªé•¿,æˆ–è€…å­—æ•°å¤ªå¤š,æ— æ³•å‘å‡º,æ˜¯qqçš„é—®é¢˜,å¯ä»¥é€‰æ‹©æ–‡å­—è½¬å›¾ç‰‡</p></blockquote><h2 id="æ–‡å­—è½¬å›¾ç‰‡"><a href="#æ–‡å­—è½¬å›¾ç‰‡" class="headerlink" title="æ–‡å­—è½¬å›¾ç‰‡"></a>æ–‡å­—è½¬å›¾ç‰‡</h2><p>å¯ä»¥ç”¨pygameåº“æˆ–è€…pillowåº“<br>å¯èƒ½å‡ºç°çš„æŠ¥é”™<br><code>å·²å®‰è£…pilowä½†æ˜¯ç¼–è¯‘å‡ºç°ModuleNotFoundError:No module named &#39;pillow&#39;</code></p><blockquote><p>pillowæ˜¯PILï¼ˆPythonæˆåƒåº“ï¼‰çš„ä¸€ä¸ªåˆ†æ”¯ï¼ŒPILä¸å†è¢«ç»´æŠ¤äº†ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿æŒå‘åå…¼å®¹æ€§ï¼Œå¾€å¾€ä½¿ç”¨æ—§çš„æ¨¡å—åç§°â€”â€”PILã€‚æ‰€ä»¥ï¼Œç›´æ¥import PILå°±å¯ä»¥äº†ã€‚<br><a href=""></a></p></blockquote><h2 id="è·å–ä¿¡æ¯"><a href="#è·å–ä¿¡æ¯" class="headerlink" title="è·å–ä¿¡æ¯"></a>è·å–ä¿¡æ¯</h2><p>æŒ‡ä»¤å½¢å¼:&#x2F;b baidu.com<br>è·å–ä¿¡æ¯:baidu.com<br>strip() æ–¹æ³•é»˜è®¤å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">t&#x3D;&quot;b baidu.com&quot;print(t.strip(&quot;b&quot;)) #è¿™é‡Œä¼šå¤šå‡ºä¸€ä¸ªç©ºæ ¼print(t.strip(&quot;b &quot;))#è¿™æ ·åˆä¼šå°‘ä¸€ä¸ªbprint(t.replace(&quot;b &quot;,&quot;&quot;))t &#x3D; &quot;aaabbbaaa&quot;print(t.strip(&quot;a&quot;)) #å»é™¤ä¸¤è¾¹çš„a#&gt;&gt;&gt;&quot;bbb&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>è§£å†³</code></p><blockquote><p>å¯ä»¥ä½¿ç”¨<code>replace(&quot;b&quot;,&quot;&quot;,1)</code>æ¥åªåˆ é™¤å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªb<br><code>æˆ–è€…ä½¿ç”¨æ­£åˆ™</code><br>import re<br>t &#x3D; â€œaaabbbaaaâ€<br>print(re.sub(â€œ^aâ€,â€â€,t)) #â€aabbbaaaâ€</p></blockquote><blockquote><p>re.sub(pattern,repl,string,count&#x3D;0) å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨å­—ç¬¦ä¸² string ä¸­æŸ¥æ‰¾æ‰€æœ‰ä¸æ­£åˆ™è¡¨è¾¾å¼ pattern åŒ¹é…çš„å­ä¸²ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸º replã€‚</p></blockquote><p>æ­£åˆ™è¡¨è¾¾å¼<code>^a</code>, åŒ¹é…äº†å­—ç¬¦ä¸²ä¸­ä»¥<code>&#39;a&#39;</code>å¼€å¤´çš„æ‰€æœ‰å­ä¸²ã€‚<br>è°ƒç”¨ re.sub() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œå³å°†åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ª<code>&#39;a&#39;</code>åˆ é™¤åçš„å­—ç¬¦ä¸²</p><h2 id="split-ç”¨æ³•"><a href="#split-ç”¨æ³•" class="headerlink" title="split()ç”¨æ³•"></a>split()ç”¨æ³•</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">s &#x3D; &quot;Hello, World!, wa&quot;print(s.split(&quot;,&quot;)) # [&#39;Hello&#39;, &#39; World!&#39;,&#39;wa&#39;]s &#x3D; &quot;Hello, World!, wa&quot;print(s.split(&quot;,&quot;, 1)) # [&#39;Hello&#39;, &#39; World!, wa&#39;]s &#x3D; &quot;Hello, World!, wa&quot;print(s.split()) # [&#39;Hello,&#39;, &#39;World!,&#39;,&#39; wa&#39;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="chatgpt"><a href="#chatgpt" class="headerlink" title="chatgpt"></a>chatgpt</h2><p>åˆ©ç”¨chatgptå­¦ä¹ äº†å¾ˆå¤šä¸œè¥¿,è¿›ä¸å»çš„è¯å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³:</p><blockquote><p>ERROR CODE 1020ç®€å•è§£å†³æ–¹æ³•<br>â‘ å…ˆæ–­å¼€æ¢¯ï¼Œè¿›å…¥ç™»å½•é¡µé¢ï¼Œè¿›è¡Œæœºå™¨äººéªŒè¯ç„¶åè¾“å¯†ç <br>â‘¡ç‚¹å‡»ç™»å½•ä¹‹å‰è¿æ¢¯ï¼Œè·³è½¬ä¹‹åæç¤º1020é”™è¯¯<br>â‘¢æ–­å¼€æ¢¯å­ï¼Œåˆ·æ–°é”™è¯¯é¡µé¢ï¼Œæ„‰å¿«ç©è€</p></blockquote><p><a href="https://chat.openai.com/chat/b63d3896-8183-4064-b1ea-79fbe15d429a">å‚è€ƒchatgpt</a></p>]]></content>
      
      
      <categories>
          
          <category> QQbot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nonebot2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>base64ç¼–ç </title>
      <link href="/2023/01/12/49p-shi-me-shi-base64-bian-ma/"/>
      <url>/2023/01/12/49p-shi-me-shi-base64-bian-ma/</url>
      
        <content type="html"><![CDATA[<h2 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h2><blockquote><p>Base64æ˜¯ä¸€ç§ç”¨64ä¸ªå­—ç¬¦æ¥è¡¨ç¤ºä»»æ„äºŒè¿›åˆ¶æ•°æ®çš„æ–¹æ³•.</p></blockquote><p>Base64å¯ä»¥å°†ASCIIå­—ç¬¦ä¸²æˆ–è€…æ˜¯äºŒè¿›åˆ¶ç¼–ç æˆåªåŒ…å«Aâ€”Zï¼Œaâ€”zï¼Œ0â€”9ï¼Œ+ï¼Œ&#x2F;è¿™64ä¸ªå­—ç¬¦(26ä¸ªå¤§å†™å­—æ¯ï¼Œ26ä¸ªå°å†™å­—æ¯ï¼Œ10ä¸ªæ•°å­—ï¼Œ1ä¸ª+ï¼Œä¸€ä¸ª&#x2F;åˆšå¥½64ä¸ªå­—ç¬¦)ã€‚è¿™64ä¸ªå­—ç¬¦ç”¨6ä¸ªbitä½å°±å¯ä»¥å…¨éƒ¨è¡¨ç¤ºå‡ºæ¥ï¼Œä¸€ä¸ªå­—èŠ‚æœ‰8ä¸ªbit ä½,å‰©ä¸‹ä¸¤ä¸ªbitä½ç”¨0æ¥è¡¥å……ã€‚å…¶å®ï¼Œä¸€ä¸ªBase64å­—ç¬¦ä»ç„¶æ˜¯8ä¸ªbitä½,ä½†æ˜¯æœ‰æ•ˆéƒ¨åˆ†åªæœ‰å³è¾¹çš„6ä¸ª bitï¼Œå·¦è¾¹ä¸¤ä¸ªæ°¸è¿œæ˜¯0ã€‚Base64å°†3ä¸ªå­—èŠ‚è½¬å˜ä¸º4ä¸ªå­—èŠ‚ï¼Œå› æ­¤ï¼Œç¼–ç åçš„ä»£ç é‡ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰çº¦æ¯”ç¼–ç å‰çš„ä»£ç é‡å¤šäº†1&#x2F;3 (24,32,(32-24)&#x2F;24&#x3D;1&#x2F;3)</p><img src="/2023/01/12/49p-shi-me-shi-base64-bian-ma/01.png" class=""><p>é¦–å…ˆå¯¹äºŒè¿›åˆ¶æ•°è¿›è¡Œå¤„ç†,æ¯ä¸‰ä¸ªå­—èŠ‚ä¸€ç»„,ä¸€å…±æ˜¯3x8&#x3D;24bitä½,äºŒè¿›åˆ¶æ•°ä¸€ç»„æ˜¯8ä½,ä¸€ä¸ªå­—èŠ‚,å°†è¿™24ä½æ•°æ®é‡æ–°åˆ†æˆå››ç»„,ä¸€ç»„6bit.åœ¨æ¯ç»„å‰é¢åŠ ä¸Šä¸¤ä¸ª0,å˜æˆ8bit(<code>ä¸ºä»€ä¹ˆè¦åŠ ä¸Šä¸¤ä¸ª0,åŠ ä¸åŠ ä¸éƒ½æ˜¯0-63å—,å› ä¸º:å®šä¹‰çš„ä¸€ä¸ªå­—èŠ‚=8ä½,é€»è¾‘ä¸Šå¯ä»¥åˆ†æˆå…­ä½,ä½†æ˜¯ç¨‹åºå¤„ç†çš„æ—¶å€™æŒ‰å…«ä½ä¸€ä¸ªå­—èŠ‚å¤„ç†,æ‰€ä»¥ä¸åŠ ä¸¤ä¸ª0çš„è¯,ç›¸å½“äºæ²¡è½¬,æ— äº‹å‘ç”Ÿ</code>)<br>å°†è·å¾—çš„å››ä¸ªæ•°å­—ä½œä¸ºç´¢å¼•,æŸ¥base64ç è¡¨,è·å¾—å¯¹åº”çš„å››ä¸ªå­—ç¬¦,å°±æ˜¯ç¼–ç åçš„å­—ç¬¦ä¸²</p><p>è‹¥éœ€è¦ç¼–ç çš„äºŒè¿›åˆ¶æ•°æ®ä¸æ˜¯ä¸‰çš„å€æ•°,æœ€åä¼šå‰©ä¸‹ä¸€ä¸¤ä¸ªå­—èŠ‚,base64ä¼šç”¨\x00è¡¥è¶³å,åŠ ä¸Šç­‰å·,è¡¨ç¤ºè¡¥äº†å‡ ä½,è§£ç çš„æ—¶å€™ä¼šè‡ªåŠ¨å»æ‰<br><a href="https://zhidao.baidu.com/question/936729407932485852.html">ä¸ºä»€ä¹ˆåœ¨å…­ä½æ•°æ®å‰é¢åŠ ä¸¤ä¸ªé›¶</a></p><h2 id="Base64ç è¡¨"><a href="#Base64ç è¡¨" class="headerlink" title="Base64ç è¡¨"></a>Base64ç è¡¨</h2><img src="/2023/01/12/49p-shi-me-shi-base64-bian-ma/ASCII%E7%A0%81%E8%A1%A8.png" class=""><h2 id="ASCIIç è¡¨"><a href="#ASCIIç è¡¨" class="headerlink" title="ASCIIç è¡¨"></a>ASCIIç è¡¨</h2><img src="/2023/01/12/49p-shi-me-shi-base64-bian-ma/Base64%E7%A0%81%E8%A1%A8.png" class=""><h2 id="è½¬æ¢æ¼”ç¤ºâ€AbCâ€"><a href="#è½¬æ¢æ¼”ç¤ºâ€AbCâ€" class="headerlink" title="è½¬æ¢æ¼”ç¤ºâ€AbCâ€"></a>è½¬æ¢æ¼”ç¤ºâ€AbCâ€</h2><p>åè¿›åˆ¶:â€Abcâ€:65,98,99<br>äºŒè¿›åˆ¶:0100 0001,0110 0010, 0110 0011<br>Base64:0100 00,0101 10,0010 01,1000 11<br>è¡¥0å˜æˆå…«ä½:<code>00</code>0100 00,<code>00</code>0101 10,<code>00</code>0010 01,<code>00</code>1000 11<br>Base64:16,22,9,67  æŸ¥Base64ç¼–ç è¡¨è·å¾—<code>QWJj</code><br><a href="https://blog.csdn.net/JGYBZX_G/article/details/125636691">Base64ç¼–ç æ­¥éª¤</a><br><a href="https://blog.csdn.net/doublepg13/article/details/128383734?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-128383734-blog-127026213.pc_relevant_multi_platform_whitelistv3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-2-128383734-blog-127026213.pc_relevant_multi_platform_whitelistv3&utm_relevant_index=5">Base64ç¼–ç å‰–æ</a><br><a href="https://www.cnblogs.com/libin-1/p/6165485.html">Base64ç¼–ç åŸç†åˆ†æ</a></p><h2 id="Base64çš„åº”ç”¨"><a href="#Base64çš„åº”ç”¨" class="headerlink" title="Base64çš„åº”ç”¨"></a>Base64çš„åº”ç”¨</h2><p>å› ä¸ºBase64ç æ˜¯å°†äºŒè¿›åˆ¶è½¬æ¢ä¸ºå¯æ‰“å°çš„å­—ç¬¦,æ‰€ä»¥æˆ‘ä»¬è¦å…ˆå°†ASCIIç è½¬å˜æˆäºŒè¿›åˆ¶æ•°æ®<br>æˆ‘è¿™é‡Œæ˜¯è°ƒç”¨apiæ—¶ä¼ å…¥çš„urléœ€è¦ç”¨base64è½¬æ¢</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import base64print(base64.b64encode(b&#39;binary\x00string&#39;))print(base64.b64decode(&#39;YmluYXJ5AHN0cmluZw&#x3D;&#x3D;&#39;))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p><code>&gt;&gt;&gt;</code>bâ€™YmluYXJ5AHN0cmluZw&#x3D;&#x3D;â€™<br> <code>&gt;&gt;&gt;</code>bâ€™binary\x00stringâ€™<br>è¿™ä¸ªbåº”è¯¥æ˜¯ç”¨æ¥åŒºåˆ†base64ç¼–ç å’Œå­—ç¬¦ä¸²å§ï¼Œæ‰€ä»¥å¦‚æœæƒ³å•çº¯çš„ä½¿ç”¨base64ç¼–ç éœ€è¦æŠŠå¤šä½™çš„å­—ç¬¦å»æ‰</p></blockquote><h3 id="decodeä¸ºutf-8ç¼–ç "><a href="#decodeä¸ºutf-8ç¼–ç " class="headerlink" title="decodeä¸ºutf-8ç¼–ç "></a>decodeä¸ºutf-8ç¼–ç </h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a&#x3D;&#39;AbC&#39;.encode()a &#x3D;a.decode(&#39;utf-8&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="strè½¬åŒ–ä¸ºutf-8ç¼–ç "><a href="#strè½¬åŒ–ä¸ºutf-8ç¼–ç " class="headerlink" title="strè½¬åŒ–ä¸ºutf-8ç¼–ç "></a>strè½¬åŒ–ä¸ºutf-8ç¼–ç </h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">a&#x3D;&#39;AbC&#39;.encode()a &#x3D;str(a,&#39;utf-8&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><a href="http://t.zoukankan.com/annatest-p-14758317.html">å‚è€ƒæ–‡ç« </a></p><h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><h3 id="å­—ç¬¦å‹è½¬æ¢ä¸ºå­—èŠ‚å‹-strè½¬æ¢byte"><a href="#å­—ç¬¦å‹è½¬æ¢ä¸ºå­—èŠ‚å‹-strè½¬æ¢byte" class="headerlink" title="å­—ç¬¦å‹è½¬æ¢ä¸ºå­—èŠ‚å‹,strè½¬æ¢byte"></a>å­—ç¬¦å‹è½¬æ¢ä¸ºå­—èŠ‚å‹,strè½¬æ¢byte</h3><blockquote><p>str.encode(â€œutf-8â€)<br>bâ€strâ€</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">a&#x3D;b&quot;uuudiy.com&quot;a &#x3D; base64.b64encode(a)print(a)&gt;&#96;&gt;&gt;&gt;&#96;b&#39;dXV1ZGl5LmNvbQ&#x3D;&#x3D;&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python">a&#x3D;base64.b64decode(a)a &#x3D; str(a, &#39;utf-8&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><blockquote><p><code>&gt;&gt;&gt;</code>dXV1ZGl5LmNvbQ&#x3D;&#x3D;</p></blockquote><p><a href="https://blog.csdn.net/lotus_2015/article/details/104637938?spm=1001.2101.3001.6650.6&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-6-104637938-blog-126154421.pc_relevant_3mothn_strategy_recovery&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-6-104637938-blog-126154421.pc_relevant_3mothn_strategy_recovery&utm_relevant_index=13">Base64å’ŒBase64URLåŠ è§£å¯†</a></p><h2 id="ç±»å‹è½¬æ¢-1"><a href="#ç±»å‹è½¬æ¢-1" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><p>é¦–å…ˆæ˜¯<code>.encode()</code></p><p>å°†å­—ç¬¦ä¸²è½¬ä¸ºäºŒè¿›åˆ¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">a&#x3D;&quot;uuudiy.com&quot;print(a.encode())&gt;&gt;&gt;b&#39;uuudiy.com&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>.decode()</code>å°†äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºå­—ç¬¦(æŒ‰ç…§æŒ‡å®šçš„å­—ç¬¦é›†ï¼ˆä¾‹å¦‚UTF-8ï¼‰è§£ç æˆå­—ç¬¦ä¸²)</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">#b&#x3D;b.decode(&#39;utf-8&#39;) #b &#x3D; str(b,&#39;utf-8&#39;)print(b)&gt;&gt;&gt;uuudiy.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="base64åº“"><a href="#base64åº“" class="headerlink" title="base64åº“"></a>base64åº“</h3><p>base64æ˜¯å°†<code>äºŒè¿›åˆ¶æ•°æ®</code>æŒ‰ç…§(base64å­—ç¬¦é›†)è½¬æ¢ä¸º<code>å­—ç¬¦ä¸²</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import base64a&#x3D;&quot;uuudiy.com&quot;print(base64.b64encode(a.encode()))&gt;&gt;&gt;b&#39;dXV1ZGl5LmNvbQ&#x3D;&#x3D;&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›çš„ç»“æœæ˜¯äºŒè¿›åˆ¶æ•°æ®æ‰€ä»¥è¦åŠ <code>.decode()</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">&gt;&gt;&gt;dXV1ZGl5LmNvbQ&#x3D;&#x3D;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>requestsåº“å®ç°è‡ªåŠ¨ç­¾åˆ°</title>
      <link href="/2022/12/02/48p-python-qian-dao-jiao-ben/"/>
      <url>/2022/12/02/48p-python-qian-dao-jiao-ben/</url>
      
        <content type="html"><![CDATA[<h2 id="ç­¾åˆ°åŸç†"><a href="#ç­¾åˆ°åŸç†" class="headerlink" title="ç­¾åˆ°åŸç†"></a>ç­¾åˆ°åŸç†</h2><p>æŒ‰ä¸‹<code>ç­¾åˆ°</code>å,æµè§ˆå™¨å‘ä¼šå‘é€è¯·æ±‚,æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ¨¡æ‹Ÿæµè§ˆå™¨,ç»™å¯¹åº”çš„urlå‘é€è¯·æ±‚å°±å¯ä»¥äº†</p><h3 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h3><p>ä½†æ˜¯,ç­¾åˆ°ä¹‹å‰ä¸€èˆ¬è¦å…ˆç™»å½•,ç™»å½•çš„åŸç†æ˜¯<code>æäº¤è¡¨å•</code>è¿™éƒ¨åˆ†å†…å®¹å‚è€ƒ&lt;&lt;pythonç½‘ç»œçˆ¬è™«æƒå¨æŒ‡å—&gt;&gt;<br>å¤§å¤šæ•°ç½‘é¡µè¡¨å•éƒ½æ˜¯ç”±ä¸€äº› HTML å­—æ®µã€ä¸€ä¸ªæäº¤æŒ‰é’®å’Œä¸€ä¸ªè¿›è¡Œè¡¨å•å¤„ç†çš„æ“ä½œé¡µé¢æ„<br>æˆçš„ã€‚è™½ç„¶è¿™äº› HTML å­—æ®µé€šå¸¸ç”±æ–‡å­—å†…å®¹æ„æˆï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥å®ç°æ–‡ä»¶ä¸Šä¼ æˆ–åŒ…å«å…¶ä»–é<br>æ–‡å­—å†…å®¹ã€‚<br><a href="pythonscraping.com">ä¹¦ä¸­æä¾›çš„ç¤ºä¾‹ç½‘ç«™</a><br>æ„å»ºäº†ä¸€ç»„ä¸åŒç±»å‹çš„è¡¨å•å’Œç™»å½•çª—å£ï¼Œä»¥ä¾¿ä½ ç”¨ç½‘ç»œçˆ¬è™«æŠ“å–ã€‚æœ€ç®€å•çš„è¡¨å•ä½äº<br><a href="http://pythonscraping.com/pages/files/form.html%E3%80%82">http://pythonscraping.com/pages/files/form.htmlã€‚</a><br>è¿™ä¸ªè¡¨å•çš„æºä»£ç æ˜¯ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">&lt;form method&#x3D;&quot;post&quot; action&#x3D;&quot;processing.php&quot;&gt;First name: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;firstname&quot;&gt;&lt;br&gt;Last name: &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;lastname&quot;&gt;&lt;br&gt;&lt;input type&#x3D;&quot;submit&quot; value&#x3D;&quot;Submit&quot;&gt;&lt;&#x2F;form&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>é¦–å…ˆï¼Œä¸¤ä¸ªè¾“å…¥å­—æ®µçš„åç§°æ˜¯ firstname å’Œ lastnameï¼Œ<br>è¿™ä¸¤ä¸ªå­—æ®µçš„åç§°å†³å®šäº†è¡¨å•æäº¤åè¦è¢« POST åˆ°æœåŠ¡å™¨ä¸Šçš„å¯å˜å‚æ•°çš„åç§°ã€‚<br>å¦‚æœä½ æƒ³æ¨¡æ‹Ÿè¡¨å•æäº¤æ•°æ®çš„è¡Œä¸ºï¼Œå°±è¦ä¿è¯ä½ çš„å˜é‡åç§°ä¸å­—æ®µåç§°æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚<br>å…¶æ¬¡ï¼Œè¡¨å•çš„æ“ä½œå‘ç”Ÿåœ¨ <code>processing.php</code>ï¼ˆç»å¯¹è·¯å¾„æ˜¯<a href="http://pythonscraping.com/files/processing">http://pythonscraping.com/files/processing</a>.<br>phpï¼‰ã€‚å¯¹è¡¨å•çš„ä»»ä½• POST è¯·æ±‚å…¶å®éƒ½å‘ç”Ÿåœ¨è¿™ä¸ªé¡µé¢ä¸Šï¼Œè€Œéè¡¨å•æœ¬èº«æ‰€åœ¨çš„é¡µé¢ã€‚</p></blockquote><blockquote><p>åˆ‡è®°ï¼šHTML è¡¨å•çš„ç›®çš„ï¼Œåªæ˜¯å¸®åŠ©ç½‘ç«™çš„è®¿é—®è€…å°†æ ¼å¼æ­£ç¡®çš„è¯·æ±‚å‘é€åˆ°è¿›è¡Œå®é™…æ“ä½œçš„</p></blockquote><p>ç”¨ Requests åº“æäº¤è¡¨å•åªéœ€ 4 è¡Œä»£ç ï¼ŒåŒ…æ‹¬å¯¼å…¥åº“æ–‡ä»¶çš„è¯­å¥å’Œæ‰“å°å†…å®¹çš„æŒ‡ä»¤</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import requestsparams &#x3D; &#123;&#39;firstname&#39;: &#39;Ryan&#39;, &#39;lastname&#39;: &#39;Mitchell&#39;&#125;r &#x3D; requests.post(&quot;http:&#x2F;&#x2F;pythonscraping.com&#x2F;pages&#x2F;processing.php&quot;, data&#x3D;params)print(r.text)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¡¨å•è¢«æäº¤ä¹‹åï¼Œç¨‹åºåº”è¯¥ä¼šè¿”å›å“åº”çš„å†…å®¹ï¼š</p><blockquote><p>Hello there, Ryan Mitchell!<br>ç„¶åä¿å­˜cooike,è¯·æ±‚ç­¾åˆ°æŒ‰é’®å¯¹åº”çš„url</p></blockquote><h3 id="è·Ÿè¸ªcookiesçš„ä¸¤ä¸ªæ–¹æ³•"><a href="#è·Ÿè¸ªcookiesçš„ä¸¤ä¸ªæ–¹æ³•" class="headerlink" title="è·Ÿè¸ªcookiesçš„ä¸¤ä¸ªæ–¹æ³•"></a>è·Ÿè¸ªcookiesçš„ä¸¤ä¸ªæ–¹æ³•</h3><p>ç›´æ¥ä»è¯·æ±‚ç»“æœä¸­è·å¾—</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">r &#x3D; requests.post(&quot;http:&#x2F;&#x2F;pythonscraping.com&#x2F;pages&#x2F;processing.php&quot;, data&#x3D;params)print(&#39;Cookie is set to:&#39;)print(r.cookies.get_dict())print(&#39;Going to profile page...&#39;)r &#x3D; requests.get(&#39;http:&#x2F;&#x2F;pythonscraping.com&#x2F;pages&#x2F;cookies&#x2F;profile.php&#39;,cookies&#x3D;r.cookies)#è¯·æ±‚å®Œæˆprint(r.text)#æ‰“å°ä¸€ä¸‹è¿”å›çš„å†…å®¹,çœ‹çœ‹æ˜¯å¦ç­¾åˆ°æˆåŠŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡requests.Session()è·å¾—<br>ä¼šè¯ï¼ˆsessionï¼‰å¯¹è±¡ï¼ˆé€šè¿‡è°ƒç”¨ requests.Session() è·å–ï¼‰ä¼šæŒç»­è·Ÿè¸ªä¼šè¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬ cookieã€headerï¼Œç”šè‡³æ˜¯ HTTP åè®®çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ HTTPAdapterï¼ˆä¸º HTTPå’Œ HTTPS çš„é“¾æ¥ä¼šè¯æä¾›ç»Ÿä¸€æ¥å£ï¼‰</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">session&#x3D;requests.Session()s &#x3D; session.post(&#39;http:&#x2F;&#x2F;pythonscraping.com&#x2F;pages&#x2F;cookies&#x2F;welcome.php&#39;, params)print(&#39;Cookie is set to:&#39;)print(s.cookies.get_dict())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>ä¸ç®¡æˆ‘æ€ä¹ˆè¯·æ±‚,éƒ½æ— æ³•ç­¾åˆ°<br>åæ¥å‘ç°ç­¾åˆ°è¯·æ±‚çš„urlä¹Ÿéœ€è¦postæäº¤è¡¨å•</p><h3 id="MutableMapping-from-collections"><a href="#MutableMapping-from-collections" class="headerlink" title="MutableMapping from collections"></a>MutableMapping from collections</h3><p>ImportError: cannot import name <code>MutableMapping</code>ï¼ˆ<code>Iterable</code>ï¼‰from collections<br>ç½‘ä¸ŠæŸ¥å¯»èµ„æ–™è¯´æ˜¯pythonç‰ˆæœ¬è¿‡é«˜ï¼ˆæˆ‘æ˜¯æœ€æ–°çš„3.10.1ï¼Œéœ€è¦ç‰ˆæœ¬é™çº§)<br>è¯¦ç»†æŠ¥é”™</p><p>æ‰¾åˆ°æœ€åçš„pyæ–‡ä»¶,å°†ä¿®æ”¹collections.æ›¿æ¢ä¸ºcollections.abc.,å°±æ˜¯åœ¨åé¢åŠ ä¸ª.abc<br>ç»§ç»­è¿è¡Œ,å¦‚æœç»§ç»­æŠ¥é”™,é‡å¤ä¸Šè¿°æ­¥éª¤<br><a href="https://ask.csdn.net/questions/7639233?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166994137416800213042846%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=166994137416800213042846&biz_id=4&utm_medium=distribute.pc_search_result.none-task-ask_topic-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-7639233-null-null.142%5Ev67%5Econtrol,201%5Ev3%5Econtrol_2,213%5Ev2%5Et3_esquery_v3&utm_term=Python%E5%85%B3%E4%BA%8EImportError:%20cannot%20import%20name%20%E2%80%98MutableMapping%E2%80%98%20%EF%BC%88%E6%88%96%E8%80%85%E2%80%98Iterable%E2%80%98%20%EF%BC%89from%20%E2%80%98collections%E2%80%98&spm=1018.2226.3001.4187">åŸå› </a></p><blockquote><p>è‡ª Python 3.10 é–‹å§‹ï¼Œåº« collections ä»¥ä¸‹å„é …éƒ½åœç”¨äº†ï¼Œå…¶ä¸­å°±åŒ…å«äº† pygal._compat.py ä¸­çš„ from collections import Iterator</p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">[&quot;Awaitable&quot;, &quot;Coroutine&quot;, &quot;AsyncIterable&quot;, &quot;AsyncIterator&quot;, &quot;AsyncGenerator&quot;, &quot;Hashable&quot;,<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><a href="">ä¸ºä»€ä¹ˆæ”¹æˆ.abcå°±å¥½ç”¨äº†</a><br><a href="https://blog.csdn.net/weixin_47251596/article/details/124198903">å‚è€ƒæ–‡ç« </a></p><h2 id="ä½¿ç”¨ä»£ç†"><a href="#ä½¿ç”¨ä»£ç†" class="headerlink" title="ä½¿ç”¨ä»£ç†"></a>ä½¿ç”¨ä»£ç†</h2><p>import os<br>os.environ[â€œhttp_proxyâ€] &#x3D; â€œ<a href="http://127.0.0.1:1231/">http://127.0.0.1:1231</a>â€œ<br>os.environ[â€œhttps_proxyâ€] &#x3D; â€œ<a href="http://127.0.0.1:1231/">http://127.0.0.1:1231</a>â€œ<br><a href="https://blog.csdn.net/whatday/article/details/112169945">å‚è€ƒæ–‡ç« </a><br>å¦‚æœç”µè„‘å¼€ç€ä»£ç†,ä¸”æ²¡æœ‰åŠ ä¸Šé¢ä»£ç ,ä¼šæŠ¥é”™</p><h2 id="è®¾ç½®å®šæ—¶ä»»åŠ¡"><a href="#è®¾ç½®å®šæ—¶ä»»åŠ¡" class="headerlink" title="è®¾ç½®å®šæ—¶ä»»åŠ¡"></a>è®¾ç½®å®šæ—¶ä»»åŠ¡</h2><p>ä½¿ç”¨çš„æ˜¯apscheduler,ä¸‹é¢è¿™ä¸‰è¡Œä»£ç å°±å¯ä»¥äº†</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">sched &#x3D; BlockingScheduler()sched.add_job(main, &#39;cron&#39;, hour&#x3D;10, minute&#x3D;55)sched.start()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><a href="https://huaweicloud.csdn.net/63802ef2dacf622b8df86279.html?spm=1001.2101.3001.6650.11&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-11-102600181-blog-124737291.pc_relevant_recovery_v2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~activity-11-102600181-blog-124737291.pc_relevant_recovery_v2&utm_relevant_index=17#5_apscheduler__186?login=from_csdn">å‚è€ƒæ–‡ç« </a></p><h2 id="serveré…±é€šçŸ¥"><a href="#serveré…±é€šçŸ¥" class="headerlink" title="serveré…±é€šçŸ¥"></a>serveré…±é€šçŸ¥</h2><p>serveré…±APIè°ƒç”¨å®ä¾‹<br>æœ€ç®€å•çš„è°ƒç”¨æ–¹å¼ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä»¥ä¸‹ URLï¼š</p><blockquote><p><a href="https://sctapi.ftqq.com/SCT90898T5nukNVW9mMKCGjtQxCN6Xs3K.send?title=messagetitle">https://sctapi.ftqq.com/SCT90898T5nukNVW9mMKCGjtQxCN6Xs3K.send?title=messagetitle</a></p></blockquote><p>å¦‚æœä½ è¦å‘é€ä¸­æ–‡ï¼Œè®°å¾—è¦æŠŠå‚æ•°ç¼–ç ï¼Œæ¯”å¦‚é€šè¿‡ urlencode å‡½æ•°ã€‚è¿™æ ·å‘é€åªæœ‰æ ‡é¢˜ï¼Œå¦‚æœéœ€è¦å†…å®¹ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><blockquote><p><a href="https://sctapi.ftqq.com/SCT90898T5nukNVW9mMKCGjtQxCN6Xs3K.send?title=messagetitle&desp=messagecontent">https://sctapi.ftqq.com/SCT90898T5nukNVW9mMKCGjtQxCN6Xs3K.send?title=messagetitle&amp;desp=messagecontent</a></p></blockquote><pre class="line-numbers language-python" data-language="python"><code class="language-python">def send_wechat(msg):    &quot;&quot;&quot;serveré…±æ¨é€&quot;&quot;&quot;    #token &#x3D; &#39; XXXXXXXXXXXXXXXXXX&#39; #å‰è¾¹å¤åˆ¶åˆ°é‚£ä¸ªtoken    key&#x3D;&quot;SCT90898T5nukNVW9mMKCGjtQxCN6Xs3K&quot;    messagetitle &#x3D; &#39;æ ‡é¢˜&#39;    messagecontent &#x3D; æƒ³è¦çš„å†…å®¹    url &#x3D; f&quot;https:&#x2F;&#x2F;sctapi.ftqq.com&#x2F;&#123;key&#125;.send?title&#x3D;&#123;messagetitle&#125;&amp;desp&#x3D;&#123;messagecontent&#125;&quot;    #print(url)    r &#x3D; requests.get(url&#x3D;url)    #print(r.text)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¾®ä¿¡ä¼ä¸šå·é€šçŸ¥"><a href="#å¾®ä¿¡ä¼ä¸šå·é€šçŸ¥" class="headerlink" title="å¾®ä¿¡ä¼ä¸šå·é€šçŸ¥"></a>å¾®ä¿¡ä¼ä¸šå·é€šçŸ¥</h2><p>å¾…å®Œæˆâ€¦â€¦.</p><h2 id="éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š"><a href="#éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š" class="headerlink" title="éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š"></a>éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š</h2><p>screenæŒ‚åå°</p><p><a href="https://blog.csdn.net/m0_46497373/article/details/119873630?spm=1001.2101.3001.6650.3&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-119873630-blog-119858120.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-3-119873630-blog-119858120.pc_relevant_default&utm_relevant_index=4">æ•´ä½“ä»£ç å‚è€ƒ</a></p><p><a href="https://www.cnblogs.com/chenyuting/p/9322791.html">sys.exit(main())</a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è„šæœ¬ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”µå‹æ¯”è¾ƒå™¨</title>
      <link href="/2022/11/21/47h-lm321mfx/"/>
      <url>/2022/11/21/47h-lm321mfx/</url>
      
        <content type="html"><![CDATA[<h2 id="ç”µå‹æ¯”è¾ƒå™¨åŸºæœ¬åº”ç”¨ç”µè·¯"><a href="#ç”µå‹æ¯”è¾ƒå™¨åŸºæœ¬åº”ç”¨ç”µè·¯" class="headerlink" title="ç”µå‹æ¯”è¾ƒå™¨åŸºæœ¬åº”ç”¨ç”µè·¯"></a>ç”µå‹æ¯”è¾ƒå™¨åŸºæœ¬åº”ç”¨ç”µè·¯</h2><h3 id="ä»€ä¹ˆæ˜¯ç”µå‹æ¯”è¾ƒå™¨"><a href="#ä»€ä¹ˆæ˜¯ç”µå‹æ¯”è¾ƒå™¨" class="headerlink" title="ä»€ä¹ˆæ˜¯ç”µå‹æ¯”è¾ƒå™¨"></a>ä»€ä¹ˆæ˜¯ç”µå‹æ¯”è¾ƒå™¨</h3><p>æ¯”è¾ƒå™¨æ˜¯ä¸€ä¸ªå°†æ¨¡æ‹Ÿç”µå‹ä¿¡å·ä¸åŸºå‡†ç”µå‹ç›¸æ¯”è¾ƒçš„ç”µè·¯,ä¸¤ä¸ªæˆ–å¤šä¸ªè¾“å…¥ç”µå‹ç›¸æ¯”,æ¥ç¡®å®šä»–ä»¬çš„çš„å¤§å°å…³ç³»,ç±»ä¼¼äºå¢ç›Šä¸å¯è°ƒçš„è¿ç®—æ”¾å¤§å™¨,å¦‚LM339ç”µå‹æ¯”è¾ƒå™¨ã€‚ä¸¤è·¯è¾“å…¥ä¸ºæ¨¡æ‹Ÿä¿¡å·,è¾“å‡ºä¸º0æˆ–1,å½“è¾“å…¥ç”µå‹çš„å·®å€¼å¢å¤§æˆ–å‡å°,ä¸”æ­£è´Ÿç¬¦å·ä¸å˜æ—¶,è¾“å‡ºä¿æŒæ’å®š</p><h3 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h3><p>ç”µå‹æ¯”è¾ƒå™¨æ˜¯å¯¹ä¸¤ä¸ªæ¨¡æ‹Ÿç”µå‹æ¯”è¾ƒå…¶å¤§å°(ä¹Ÿæœ‰ä¸¤ä¸ªæ•°å­—ç”µå‹æ¯”è¾ƒçš„ï¼Œè¿™é‡Œä¸ä»‹ç»)ï¼Œå¹¶åˆ¤æ–­å‡ºå…¶ä¸­å“ªä¸€ä¸ªç”µå‹é«˜ï¼Œå¦‚å›¾1æ‰€ç¤ºï¼Œå›¾1(aæ˜¯æ¯”è¾ƒå™¨ï¼Œå®ƒæœ‰ä¸¤ä¸ªè¾“å…¥ç«¯:åŒç›¸è¾“å…¥ç«¯(â€œ+â€)åŠåç›¸è¾“å…¥ç«¯(â€œâ€ç«¯)ï¼Œæœ‰ä¸€ä¸ªè¾“å‡ºç«¯Vout(è¾“å‡ºç”µå¹³ä¿¡å·)ã€‚å¦å¤–æœ‰ç”µæº+åŠåœ°è¿™æ˜¯ä¸ªå•ç”µæºæ¯”è¾ƒå™¨)ï¼ŒåŒç›¸ç«¯è¾“å…¥ç”µå‹VAï¼Œåç›¸ç«¯è¾“å…¥VBã€‚VAå’ŒVBçš„å˜åŒ–å¦‚å›¾11b)ç¤ºã€åœ¨æ—¶é—´0<del>t1æ—¶ï¼ŒVA&gt;VB: åœ¨t1 ~t2æ—¶ï¼ŒVB&gt;VA: åœ¨t2</del>t3æ—¶VA&gt;VBã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒVoutçš„è¾“å‡ºå¦‚å›¾11C)æ‰€ç¤º: VA&gt;VBæ—¶ï¼ŒVoutè¾“å‡ºé«˜ç”µå¹³(é¥±å’Œè¾“å‡º)ï¼ŒVB&gt;VAæ—¶ï¼ŒVoutè¾“å‡ºä½ç”µå¹³ï¼Œæ ¹æ®è¾“å‡ºç”µå¹³çš„é«˜ä½ä¾¿å¯çŸ¥é“å“ªä¸ªç”µå‹å¤§</p><img src="/2022/11/21/47h-lm321mfx/03.jpg" class=""><p>åŒä¸€æ¯”è¾ƒå™¨æ ¹æ®å¤–å›´ç”µè·¯çš„ä¸åŒå¯ä»¥å®ç°å¤šç§ç”µå‹æ¯”è¾ƒåŠŸèƒ½ï¼Œå¦‚å•é™æ¯”è¾ƒå™¨ã€æ»å›æ¯”è¾ƒå™¨ã€çª—å£æ¯”è¾ƒå™¨ã€‚</p><h3 id="å•é™æ¯”è¾ƒå™¨"><a href="#å•é™æ¯”è¾ƒå™¨" class="headerlink" title="å•é™æ¯”è¾ƒå™¨"></a>å•é™æ¯”è¾ƒå™¨</h3><p>å•é™æ¯”è¾ƒå™¨æ˜¯æœ€ç®€å•çš„ç”µå‹æ¯”è¾ƒç”µè·¯ï¼Œå¦‚å›¾1aæ‰€ç¤ºï¼ŒVrefä¸ºå›ºå®šå‚è€ƒç”µå‹ï¼ŒVinä¸ºè¾“å…¥ç”µå‹ï¼ŒVoutä¸ºè¾“å‡ºç”µå‹ã€‚VoutéšVinçš„å˜åŒ–å…³ç³»å¦‚å›¾1bæ‰€ç¤ºï¼Œçº¢çº¿ä»£è¡¨è¾“å‡ºç”µå‹ã€‚å½“Vinä½äºVrefæ—¶ï¼Œè¾“å‡ºå¼•è„šä¸‹æ‹‰åˆ°GNDï¼Œè¾“å‡ºä½ç”µå¹³ã€‚å½“Viné«˜äºVrefæ—¶ï¼Œè¾“å‡ºå¼•è„šæ‚¬ç©ºï¼Œç›¸å½“äºå¼€è·¯,ç”±äºæœ‰R1ä¸Šæ‹‰ç”µé˜»ï¼Œæ‰€ä»¥Voutæ­¤æ—¶è¾“å‡ºé«˜ç”µå¹³ã€‚ï¼ˆæˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿æ˜¾ç¤ºåŸç†ï¼Œæœ‰æ—¶ä¼šå°†VCCã€GNDä»¥åŠä¸Šæ‹‰ç”µé˜»R1åœ¨å›¾ä¸­çœç•¥æ‰ï¼Œå°†è¾“å‡ºVCCç§°ä¸ºè¾“å‡ºé«˜ç”µå¹³VOHï¼Œå°†è¾“å‡ºGNDç§°ä¸ºä½ç”µå¹³VOLï¼‰</p><img src="/2022/11/21/47h-lm321mfx/01.jpg" class=""><img src="/2022/11/21/47h-lm321mfx/02.jpg" class=""><p><a href="https://mbb.eet-china.com/blog/3890995-407228.html">ç”µå‹æ¯”è¾ƒå™¨åŸºæœ¬åº”ç”¨ç”µè·¯</a><br><a href="http://www.jbeilai.net/jbeilai_Article_144303.html">ç”µå‹æ¯”è¾ƒå™¨çš„å·¥ä½œåŸç†åŠåº”ç”¨</a><br><a href="https://blog.csdn.net/qlexcel/article/details/79671016">è¿æ”¾çš„ç”µå‹çš„æ¯”è¾ƒå™¨</a><br><a href="https://www.dianyuan.com/article/48225.html">æ¯”è¾ƒå™¨ä¸è¿æ”¾</a><br><a href="%E8%BF%90%E6%94%BE%E8%87%AA%E9%94%81%E7%94%B5%E8%B7%AF">è¿æ”¾çš„è‡ªé”ç”µè·¯</a></p><h3 id="å…‰æ•ç”µé˜»"><a href="#å…‰æ•ç”µé˜»" class="headerlink" title="å…‰æ•ç”µé˜»"></a>å…‰æ•ç”µé˜»</h3><p>å…‰æ•ç”µé˜»ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç”µé˜»ï¼Œç®€ç§°å…‰ç”µé˜»ï¼Œåˆåå…‰å¯¼ç®¡ã€‚é»‘æš—ä¸­ç”µé˜»å¯ä»¥è¾¾åˆ°å‡ åKåˆ°å‡ ä¸ªMï¼Œè€Œæ­£å¸¸å¯è§†çš„å…‰å¼ºä¸‹ï¼Œæ¦‚å¿µæ¨¡ç³Šï¼Œä¸èƒ½ç¡®å®šï¼Œå¦‚æœè¯´æ˜¯å¼ºå…‰ç…§å°„ï¼Œé˜»å€¼å¤§æ¦‚ä¸ºå‡ ä¸ªæ¬§å§†åˆ°å‡ ç™¾æ¬§å§†ï¼Œå®ƒçš„ç”µé˜»å’Œå…‰çº¿çš„å¼ºå¼±æœ‰ç›´æ¥å…³ç³»ã€‚<code>å…‰å¼ºåº¦å¢åŠ ï¼Œåˆ™ç”µé˜»å‡å°:å…‰å¼ºåº¦å‡å°ï¼Œåˆ™ç”µé˜»å¢å¤§</code>ã€‚è¿™æ˜¯ç”±äºå…‰ç…§äº§ç”Ÿçš„è½½æµå­éƒ½å‚ä¸å¯¼ç”µï¼Œåœ¨å¤–åŠ ç”µæ˜“çš„ä½œç”¨ä¸‹ä½œæ¼‚ç§»è¿åŠ¨ï¼Œç”µå­å¥”å‘ç”µæºçš„æ­£æï¼Œç©ºç©´å¥”å‘ç”µæºçš„è´Ÿæï¼Œä»è€Œä½¿å…‰æ•ç”µé˜»å™¨çš„é˜»å€¼è¿…é€Ÿä¸‹é™</p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿ç®—æ”¾å¤§å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PYæ•°æ®å¯è§†åŒ–</title>
      <link href="/2022/11/11/46p-shu-ju-ke-shi-hua/"/>
      <url>/2022/11/11/46p-shu-ju-ke-shi-hua/</url>
      
        <content type="html"><![CDATA[<p><a href="https://gallery.pyecharts.org/">pyrchartçš„å®˜æ–¹æ–‡æ¡£</a></p><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">from pyecharts import options as optsfrom pyecharts.charts import Mapfrom pyecharts.faker import Fakerf &#x3D; open(&#39;å›½å†…ç–«æƒ…æ•°æ®.csv&#39;, mode&#x3D;&#39;a&#39;, encoding&#x3D;&#39;utf-8-sig&#39;, newline&#x3D;&#39;&#39;)csv_writer &#x3D; csv.writer(f)csv_read &#x3D; csv.reader(f)csv_writer.writerow([&quot;date&quot;,&quot;province&quot;, &quot;city&quot;, &quot;local_confirm_add&quot;, &quot;local_wzz_add&quot;])df &#x3D; pd.read_csv(&quot;å›½å†…ç–«æƒ…æ•°æ®.csv&quot;) #è¯»å–csvæ–‡ä»¶city &#x3D; df[&#39;city&#39;].tolist()          #tolist()è½¬æˆåˆ—è¡¨local_confirm_add &#x3D; df[&#39;local_confirm_add&#39;].tolist()  # è½¬æˆåˆ—è¡¨title &#x3D; str(date)c &#x3D; (    Map()    .add(&quot;å•†å®¶A&quot;, [list(z) for z in zip(Faker.country, Faker.values())], &quot;world&quot;)    .set_series_opts(label_opts&#x3D;opts.LabelOpts(is_show&#x3D;False))    .set_global_opts(        title_opts&#x3D;opts.TitleOpts(title&#x3D;&quot;Map-ä¸–ç•Œåœ°å›¾&quot;),        visualmap_opts&#x3D;opts.VisualMapOpts(max_&#x3D;200),    )    .render(&quot;map_world.html&quot;))#ä¸çŸ¥é“æ•°æ®æ˜¯ä»€ä¹ˆå¯ä»¥æ‰“å°å‡ºæ¥çœ‹ä¸€ä¸‹print(Faker.country)print(Faler.values())<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®å¯è§†åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬è™«é‡åˆ°çš„error</title>
      <link href="/2022/11/03/45p-pa-chong-bao-cuo/"/>
      <url>/2022/11/03/45p-pa-chong-bao-cuo/</url>
      
        <content type="html"><![CDATA[<h2 id=""><a href="#" class="headerlink" title=""></a></h2><h3 id="list-index-out-of-range"><a href="#list-index-out-of-range" class="headerlink" title="list index out of range"></a>list index out of range</h3><p>1.ist [index] indexè¶…å‡ºèŒƒå›´<br>2.listæ˜¯ç©ºçš„,æ— å…ƒç´ </p><h3 id="only-concatenate-str-not-â€œNoneTypeâ€œ-to-str"><a href="#only-concatenate-str-not-â€œNoneTypeâ€œ-to-str" class="headerlink" title="only concatenate str (not â€œNoneTypeâ€œ) to str"></a>only concatenate str (not â€œNoneTypeâ€œ) to str</h3><blockquote><p>åªèƒ½è¿æ¥str(ä¸æ˜¯â€œç©ºâ€)åˆ°str<br>åœ¨è§£æåè¿‡æ»¤ç©ºå€¼ã€‚</p></blockquote><h4 id="concatenate-str-not-â€œlistâ€-to-str"><a href="#concatenate-str-not-â€œlistâ€-to-str" class="headerlink" title="concatenate str (not â€œlistâ€) to str"></a>concatenate str (not â€œlistâ€) to str</h4><blockquote><p>ç±»å‹é”™è¯¯:åªèƒ½è¿æ¥str(ä¸æ˜¯â€œåˆ—è¡¨â€)åˆ°str<br>debugæ“ä½œï¼šstr()ç±»å‹è½¬æ¢</p></blockquote><h4 id="concatenate-str-not-â€œfloatâ€-to-str"><a href="#concatenate-str-not-â€œfloatâ€-to-str" class="headerlink" title="concatenate str (not â€œfloatâ€) to str"></a>concatenate str (not â€œfloatâ€) to str</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">print(&quot;æ—¶é—´æ˜¯&quot;+t)æ”¹æˆprint(:&quot;æ—¶é—´æ˜¯&quot;+str(t))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="FileNotFoundError-Errno-2-No-such-file-or-directory"><a href="#FileNotFoundError-Errno-2-No-such-file-or-directory" class="headerlink" title="FileNotFoundError: [Errno 2] No such file or directory"></a>FileNotFoundError: [Errno 2] No such file or directory</h3><ul><li><p>å‡ºç°åŸå› ï¼šè¿™é‡Œæ˜¯ç”±äºVscodeä¸­ï¼Œpythoné‡Œçš„è·¯å¾„æ˜¯ç›¸å¯¹ä¸å·¥ä½œç›®å½•æ¥è¿›è¡Œå®šä½çš„ã€‚æ‰€ä»¥åœ¨å¤šçº§ç›®å½•æƒ…å†µä¸‹ï¼Œè‹¥ä¸è®¾ç½®ç»å¯¹è·¯å¾„ï¼Œå¾€å¾€æ‰¾ä¸åˆ°ç›¸åº”çš„æ–‡ä»¶çš„ã€‚</p></li><li><p>è§£å†³åŠæ³•ï¼šé¦–å…ˆæ‰“å¼€å·¦ä¸‹è§’çš„è®¾ç½®æŒ‰é’®ï¼Œåœ¨æ–¹æ¡†ä¸­è¾“å…¥python dirï¼Œå›è½¦ï¼Œæ‰¾åˆ°pythonè¿™ä¸€æ ï¼Œæ‰“å¼€ï¼Œå‹¾é€‰ä¸Šâ€Execute In File Dirâ€å³å¯ã€‚æˆ–è€…åœ¨setting.jsonä¸­è¾“å…¥ï¼šâ€python.terminal.executeInFileDirâ€: trueä¹Ÿå¯ä»¥ã€‚<br><a href="https://blog.csdn.net/likepoems/article/details/123924280">åŸæ–‡é“¾æ¥</a></p></li></ul><h3 id="NoneTypeâ€˜-object-has-no-attribute-â€™find-allâ€˜"><a href="#NoneTypeâ€˜-object-has-no-attribute-â€™find-allâ€˜" class="headerlink" title="NoneTypeâ€˜ object has no attribute â€™find_allâ€˜"></a>NoneTypeâ€˜ object has no attribute â€™find_allâ€˜</h3><p>NoneTypeç±»å‹ï¼Œå®ƒæ²¡æœ‰â€˜find_allâ€™è¿™ä¸ªæ–¹æ³•</p><blockquote><p>è§£å†³:å°è¯•ç€å…ˆæŠŠå®ƒè½¬æ¢ä¸ºâ€™strâ€™ç±»å‹</p></blockquote><h3 id="NoneTypeâ€˜-object-has-no-attribute-â€˜xxxâ€˜"><a href="#NoneTypeâ€˜-object-has-no-attribute-â€˜xxxâ€˜" class="headerlink" title="NoneTypeâ€˜ object has no attribute â€˜xxxâ€˜"></a>NoneTypeâ€˜ object has no attribute â€˜xxxâ€˜</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">Nonetypeç±»å‹NoneTypeç±»å‹åªæœ‰ä¸€ä¸ªå€¼Noneï¼Œè¡¨ç¤ºç©ºå€¼ï¼Œå®ƒæ˜¯ç‰¹æ®ŠPythonå¯¹è±¡ï¼Œä¸0ã€ç©ºå­—ç¬¦ä¸²ã€ç©ºåˆ—è¡¨ä¸åŒprint(type(None))ç»“æœè¾“å‡ºï¼š&lt;class &#39;NoneType&#39;&gt;Noneåœ¨Pythonè§£é‡Šå™¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºï¼Œè§£é‡Šå™¨é€€å‡ºæ—¶é”€æ¯NoneTypeç±»å‹åªæœ‰ä¸€ä¸ªå€¼None.Noneä¸æ”¯æŒä»»ä½•è¿ç®—ä¹Ÿæ²¡æœ‰ä»»ä½•å†…å»ºæ–¹æ³•Noneå’Œä»»ä½•å…¶ä»–çš„æ•°æ®ç±»å‹æ¯”è¾ƒæ°¸è¿œè¿”å›FalseA &#x3D; &quot;&quot;B &#x3D; Noneif(A is not B):    print(&quot;ç©ºå­—ç¬¦ä¸²å’ŒNoneä¸åŒ&quot;)if(B is None):    print(&quot;å˜é‡Bçš„å€¼æ˜¯None&quot;)ç»“æœè¾“å‡ºï¼šç©ºå­—ç¬¦ä¸²å’ŒNoneä¸åŒå˜é‡Bçš„å€¼æ˜¯None<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠ¥é”™åŸå› :</p><blockquote><p>Nonetypeç±»å‹åªæœ‰ä¸€ä¸ªNoneï¼Œåæ¨ä¹Ÿå°±æ˜¯å‡ºç°é—®é¢˜çš„è¯­å¥ä¸­ï¼Œå«æœ‰äº† Noneè¿™ä¸ªå˜é‡ã€‚è€Œæ ¹æ®å‰é¢çŸ¥é“ï¼ŒNoneæ˜¯æ²¡æœ‰ä»»ä½•å†…å»ºæ–¹æ³•çš„ï¼Œä»è€Œä¹Ÿå°±æ²¡æœ‰äº†ä»»ä½•å±æ€§ã€‚<br>1.è¯»å–æ–‡ä»¶ä¸æˆåŠŸ<br>2.å‡½æ•°è¿”å›none<br><a href="https://blog.csdn.net/panbaoran913/article/details/124650015?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0-124650015-blog-79908033.pc_relevant_3mothn_strategy_and_data_recovery&spm=1001.2101.3001.4242.1&utm_relevant_index=3">å‚è€ƒæ©å¼ </a></p></blockquote><h3 id="requests-exceptions-ConnectionError-HTTPSConnectionPool-host-â€˜xxxâ€™-port-443"><a href="#requests-exceptions-ConnectionError-HTTPSConnectionPool-host-â€˜xxxâ€™-port-443" class="headerlink" title="requests.exceptions.ConnectionError: HTTPSConnectionPool(host&#x3D;â€˜xxxâ€™, port&#x3D;443)"></a>requests.exceptions.ConnectionError: HTTPSConnectionPool(host&#x3D;â€˜xxxâ€™, port&#x3D;443)</h3><p>ä¸ªäººè§‰å¾—å°±æ˜¯è¿æ¥è¶…æ—¶äº†,ç§‘å­¦ä¸Šç½‘æ‰“å¼€å°±æ­£å¸¸äº†</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">1.æ£€æŸ¥ä»¥ä¸‹åº“æœ‰æ²¡æœ‰# æ²¡æœ‰çš„è¯è¯·ä¾æ¬¡å®‰è£…pip install certifipip install cryptographypip install pyOpenSSL2.è¯·åœ¨ç½‘é¡µè¯·æ±‚ä¸­åŠ å…¥ï¼šverify&#x3D;Falseè¿™ä¸ªçš„å«ä¹‰æ˜¯ï¼š requestsè®¾ç½®ç§»é™¤SSLè®¤è¯response &#x3D; requests.get(url, headers&#x3D;headers,verify&#x3D;False)print(response)# ä½†æ˜¯å¯èƒ½ä¼šå‡ºç° InsecureRequestWarning è­¦å‘Šï¼Œ# è™½ç„¶ä¸å½±å“ä»£ç é‡‡é›†ä½†æ˜¯çœ‹ç€ä¸èˆ’æœï¼Œå¯ä»¥åŠ ä¸Šä¸‹é¢ä¸¤è¡Œï¼šimport urllib3urllib3.disable_warnings()3.è®¿é—®é¢‘ç¹åœ¨ä»£ç ä¸­åŠ å…¥å»¶è¿Ÿ time.sleep(3)æ›´æ¢IPæ›´æ¢ä½¿ç”¨éšæœºçš„UAç½‘ç»œé—®é¢˜ï¼Œæ›´æ¢ç½‘ç»œæˆ–è€…ä½¿ç”¨æ‰‹æœºæµé‡4.è¿æ¥æ•°è¿‡å¤šå¦‚æœrequestsè¿æ¥æ•°å¾ˆå¤šï¼Œé‚£ä¹ˆåœ¨è¯·æ±‚ä¸­é¿å…ä½¿ç”¨æŒä¹…è¿æ¥å¯ä»¥åŠ ä¸Šheaders &#x3D; &#123;&#39;Connection&#39;: &#39;close&#39;&#125;æˆ–è€…requests.adapters.DEFAULT_RETRIES &#x3D; 55.requestsè¯·æ±‚ç½‘é¡µæ—¶å¯èƒ½ä¼šè¯·æ±‚ä¸åˆ°ï¼Œé‡è¯•åŠ å…¥tryâ€¦exceptâ€¦è¯­å¥try:response &#x3D; session.get(url, headers&#x3D;headers,verify&#x3D;False)except:response &#x3D; session.get(url, headers&#x3D;headers,verify&#x3D;False)print(response)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/weixin_45520735/article/details/115260374">å‚è€ƒæ–‡ç« </a></p><h3 id="InvalidHeader-Invalid-return-character-or-leading-space-in-header-user-agent"><a href="#InvalidHeader-Invalid-return-character-or-leading-space-in-header-user-agent" class="headerlink" title=".InvalidHeader: Invalid return character or leading space in header: user-agent"></a>.InvalidHeader: Invalid return character or leading space in header: user-agent</h3><p>è¯·æ±‚å¤´ä¿¡æ¯é‡Œé¢ï¼Œä¸èƒ½æœ‰ç©ºæ ¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">&quot;user-agent&quot;:&quot; Mozilla&#x2F;5.0(  åƒè¿™ç§,æŠŠç©ºæ ¼å»æ‰å°±å¥½äº†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="InsecureRequestWarning-Unverified-HTTPS-request-is-being-made-Adding-certificate-verif"><a href="#InsecureRequestWarning-Unverified-HTTPS-request-is-being-made-Adding-certificate-verif" class="headerlink" title="InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verif"></a>InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate verif</h3><p>åœ¨æœªå¯ç”¨è¯ä¹¦éªŒè¯çš„æƒ…å†µä¸‹å‘ HTTPS URL å‘å‡ºè¯·æ±‚æ—¶ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">requests åº“å…¶å®æ˜¯åŸºäº urllib ç¼–å†™çš„ï¼Œå¯¹ urllib è¿›è¡Œäº†å°è£…ï¼Œä½¿å¾—ä½¿ç”¨æ—¶å€™çš„ä½“éªŒå¥½äº†å¾ˆå¤šï¼Œç°åœ¨ urllib å·²ç»å‡ºåˆ°äº†3ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å’Œæ€§èƒ½è‡ªç„¶æ˜¯æå‡äº†ä¸å°‘ã€‚æ‰€ä»¥ï¼Œrequestsæœ€æ–°ç‰ˆæœ¬ä¹Ÿæ˜¯åŸºäºæœ€æ–°çš„ urllib3 è¿›è¡Œå°è£…ã€‚åœ¨urllib2æ—¶ä»£å¯¹httpsçš„å¤„ç†éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨è¯·æ±‚çš„æ—¶å€™åŠ ä¸Š verify&#x3D;False å³å¯ï¼Œè¿™ä¸ªå‚æ•°çš„æ„æ€æ˜¯å¿½ç•¥httpså®‰å…¨è¯ä¹¦çš„éªŒè¯ï¼Œä¹Ÿå°±æ˜¯ä¸éªŒè¯è¯ä¹¦çš„å¯é æ€§ï¼Œç›´æ¥è¯·æ±‚ï¼Œè¿™å…¶å®æ˜¯ä¸å®‰å…¨çš„ï¼Œå› ä¸ºè¯ä¹¦å¯ä»¥ä¼ªé€ ï¼Œä¸éªŒè¯çš„è¯å°±ä¸èƒ½ä¿è¯æ•°æ®çš„çœŸå®æ€§ã€‚åœ¨urllib3æ—¶ä»£ï¼Œå®˜æ–¹å¼ºåˆ¶éªŒè¯httpsçš„å®‰å…¨è¯ä¹¦ï¼Œå¦‚æœæ²¡æœ‰é€šè¿‡æ˜¯ä¸èƒ½é€šè¿‡è¯·æ±‚çš„ï¼Œè™½ç„¶æ·»åŠ å¿½ç•¥éªŒè¯çš„å‚æ•°ï¼Œä½†æ˜¯ä¾ç„¶ä¼š ç»™å‡ºé†’ç›®çš„ Warningï¼Œè¿™ä¸€ç‚¹æ²¡æ¯›ç—…ã€‚å·²ç»æœ‰å¾ˆå¤šåšä¸»ï¼Œç»™å‡ºè§£å†³æ–¹æ³•ï¼Œæˆ‘è¯•äº†ä¸€ä¸‹ï¼ŒçœŸçš„å¯ä»¥ã€‚è¿™é‡Œè¯¦ç»†ç†Ÿè¯´ä¸‹ï¼Œä½¿ç”¨è¿‡ç¨‹ã€‚é¦–å…ˆæ‰¾åˆ°ä½ åŸæ¥è¯·æ±‚ç½‘é¡µçš„è¿æ¥ï¼Œæ¯”å¦‚æˆ‘çš„ï¼šè“è‰²çš„æ˜¯ç½‘é¡µè¯·æ±‚è¿æ¥ï¼Œåœ¨å‰é¢ä¸€è¡Œæ·»åŠ ä»£ç å°±æ²¡æœ‰äº†å®‰å…¨è­¦å‘Šã€‚requests.packages.urllib3.disable_warnings()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="name-â€˜xxxâ€™-is-not-defined"><a href="#name-â€˜xxxâ€™-is-not-defined" class="headerlink" title="name â€˜xxxâ€™ is not defined"></a>name â€˜xxxâ€™ is not defined</h3><p>ä¸ªäººé‡åˆ°çš„æƒ…å†µæ˜¯:å‰é¢æ²¡å®šä¹‰,åé¢å°±ç›´æ¥ç”¨äº†<br><a href="https://www.cnblogs.com/zyh19980816/p/11844659.html">å‚è€ƒæ–‡ç« </a></p><h2 id="json"><a href="#json" class="headerlink" title="json"></a>json</h2><h3 id="JSONDecodeError-Expecting-value-line-1-column-1-char-0"><a href="#JSONDecodeError-Expecting-value-line-1-column-1-char-0" class="headerlink" title=".JSONDecodeError: Expecting value: line 1 column 1 (char 0)"></a>.JSONDecodeError: Expecting value: line 1 column 1 (char 0)</h3><p>1.æŠ¥é”™çš„æ„æ€æ˜¯ï¼Œä½ è·å–çš„æ•°æ®jsonæ•°æ®ä¸æ˜¯å­—å…¸å½¢å¼ï¼Œ</p><p>è§£å†³ï¼šéœ€è¦è·å–å¦‚ä¸‹å›¾æ‰€ç¤ºçš„å­—å…¸å½¢å¼jsonæ•°æ®ï¼Œæ‰èƒ½é€šè¿‡json.loads è§£ææˆpythonçš„å­—å…¸å½¢å¼ã€‚</p><p>2.æ£€æŸ¥urlæ˜¯å¦æ­£ç¡®</p><p>ä¹Ÿå¯èƒ½æ˜¯ç½‘ç«™å°é”äº†æˆ‘çš„è´¦å·ï¼Œå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œä½†ä¸å…è®¸è¿™ä¸ªè´¦å·è¿›è¡Œçˆ¬è™«â€¦<br><a href="https://stackoverflow.com/questions/16573332/jsondecodeerror-expecting-value-line-1-column-1-char-0">å¤§ä½¬ä»¬çš„å›ç­”</a><br>json è§£ç é”™è¯¯ ä½ ä¼ çš„å€¼ä¸å¯¹<br>è°ƒç”¨ç½‘ç»œapiæ—¶è¿”å›å€¼ä¸æ˜¯jsonç±»å‹</p><h3 id="ä½¿ç”¨json-dump-ä¸json-dumps-é¿å…ä¸€è¡Œæ˜¾ç¤º"><a href="#ä½¿ç”¨json-dump-ä¸json-dumps-é¿å…ä¸€è¡Œæ˜¾ç¤º" class="headerlink" title="ä½¿ç”¨json.dump()ä¸json.dumps()é¿å…ä¸€è¡Œæ˜¾ç¤º"></a>ä½¿ç”¨json.dump()ä¸json.dumps()é¿å…ä¸€è¡Œæ˜¾ç¤º</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"># one line showdata1 &#x3D; json.dumps(data) # multi lines show as dict formatdata2 &#x3D; json.dumps(data, indent&#x3D;2)ã€€# indent è¡¨ç¤ºç¼©è¿›<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kaliè™šæ‹Ÿæœºç½‘ç»œé…ç½®</title>
      <link href="/2022/10/14/44l-kali/"/>
      <url>/2022/10/14/44l-kali/</url>
      
        <content type="html"><![CDATA[<h2 id="ç½‘ç»œé…ç½®"><a href="#ç½‘ç»œé…ç½®" class="headerlink" title="ç½‘ç»œé…ç½®"></a>ç½‘ç»œé…ç½®</h2><h3 id="æš‚æ—¶æ”¹å˜ip"><a href="#æš‚æ—¶æ”¹å˜ip" class="headerlink" title="æš‚æ—¶æ”¹å˜ip"></a>æš‚æ—¶æ”¹å˜ip</h3><p>åœ¨rootæƒé™ä¸‹æ‰§è¡Œ</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">ifconfig                           #æŸ¥çœ‹æœ¬æœºIPåœ°å€vim &#x2F;etc&#x2F;network&#x2F;interfaces        #ä¿®æ”¹ç½‘å¡é…ç½®æ–‡ä»¶auto eth0iface eth0 inet dhcpifconfig eth0 192.168.31.119&#x2F;24    #é…ç½®ä¸´æ—¶iproute add default gw 192.168.31.1  #é…ç½®é»˜è®¤è·¯ç”±&#x2F;etc&#x2F;init.d&#x2F;networking restart     #é‡å¯ç½‘ç»œæœåŠ¡ echo name server 8.8.8.8&gt; &#x2F;etc&#x2F;resolv.conf                                    #é…ç½®dnsæœåŠ¡å™¨<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ°¸ä¹…æ”¹å˜ip"><a href="#æ°¸ä¹…æ”¹å˜ip" class="headerlink" title="æ°¸ä¹…æ”¹å˜ip"></a>æ°¸ä¹…æ”¹å˜ip</h3><p>vim &#x2F;etc&#x2F;network&#x2F;interfaces        #ä¿®æ”¹ç½‘å¡é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">auto eth0iface eth0 inet staticaddress 192.168.31.119netmask 255.255.255.0gateway 192.168.31.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="sshè¿æ¥è™šæ‹Ÿæœº"><a href="#sshè¿æ¥è™šæ‹Ÿæœº" class="headerlink" title="sshè¿æ¥è™šæ‹Ÿæœº"></a>sshè¿æ¥è™šæ‹Ÿæœº</h2><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">netstat -lnt                 &#x2F;&#x2F;æŸ¥çœ‹å¼€æ”¾æ˜¯å¦å¼€æ”¾22ç«¯å£vim &#x2F;etc&#x2F;ssh&#x2F;sshd_configpermitrootlogin yespubkeyauthenticatation yes&#x2F;etc&#x2F;init.d&#x2F;ssh restartlsof -i :22                 &#x2F;&#x2F;æŸ¥çœ‹22ç«¯å£æ˜¯å¦è¢«ç›‘å¬&#x2F;etc&#x2F;init.d&#x2F;ssh status      &#x2F;&#x2F;æŸ¥çœ‹sshæœåŠ¡çŠ¶æ€ï¼Œrunningåˆ™è¡¨ç¤ºå·²å¯åŠ¨æˆåŠŸupdate-rc.d ssh enable      &#x2F;&#x2F;è®¾ç½®ä¸ºè‡ªåŠ¨å¯åŠ¨sshç™»å½•æœåŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="error"><a href="#error" class="headerlink" title="error"></a>error</h3><p>å¦‚æœsshè¿æ¥ä¸ä¸Šä¸”<code>pingä¸é€š</code>çš„è¯,æŠŠè™šæ‹Ÿæœºçš„<code>natæ¨¡å¼</code>æ¢æˆ<code>æ¡¥æ¥æ¨¡å¼</code><br>natæ¨¡å¼ä¸‹ä¸å¯ä»¥sshï¼Œè™šæ‹Ÿæœºå¯ä»¥ä¸Šç½‘<br>æ¡¥æ¥æ¨¡å¼ä¸‹å¯ä»¥sshï¼Œä½†æ˜¯è™šæ‹Ÿæœºä¸èƒ½ä¸Šç½‘ï¼ï¼</p><p>è§£å†³æ— æ³•ä¸Šç½‘<br>vim &#x2F;etc&#x2F;resolv.conf</p><p>nameserver dns<br>nameserver 114.114.114.114</p><p>å³å¯ä¸Šç½‘</p><h2 id="æ¢æº"><a href="#æ¢æº" class="headerlink" title="æ¢æº"></a>æ¢æº</h2><p>deb <a href="https://mirrors.aliyun.com/kali">https://mirrors.aliyun.com/kali</a> kali-rolling main non-free contrib<br>deb-src <a href="https://mirrors.aliyun.com/kali">https://mirrors.aliyun.com/kali</a> kali-rolling main non-free contrib<br>apt update</p><blockquote><p>å‚è€ƒæ–‡ç« <br><a href="https://zhuanlan.zhihu.com/p/113141126">sshè¿æ¥kaliè™šæ‹Ÿæœº</a><br><a href="https://blog.csdn.net/woai_zhongguo/article/details/121373551">sshç™»å½•kali</a><br><a href="https://blog.csdn.net/polimo/article/details/84080869">è™šæ‹Ÿæœºç½‘ç»œè¿æ¥æ¨¡å¼</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kali </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HACKTHEBOXå…¥é—¨</title>
      <link href="/2022/10/05/43l-hackthebox/"/>
      <url>/2022/10/05/43l-hackthebox/</url>
      
        <content type="html"><![CDATA[<h2 id="å¼€å§‹ç»ƒä¹ "><a href="#å¼€å§‹ç»ƒä¹ " class="headerlink" title="å¼€å§‹ç»ƒä¹ "></a>å¼€å§‹ç»ƒä¹ </h2><blockquote><p>å³ä¸Šè§’-&gt;STARING POINT-&gt;OPENVON-&gt;DOWNLOAD<br>ç„¶åå°†æ–‡ä»¶ä¸Šä¼ åˆ°kali<br>ä½¿ç”¨rootç”¨æˆ·æ‰§è¡Œ<br>openvpn æ–‡ä»¶å<br>å·¦è¾¹é€‰æ‹©ä¸€ä¸ªmachine,ç”Ÿæˆæœºå™¨,pingä¸€ä¸‹çœ‹çœ‹éš§é“æ˜¯å¦å»ºç«‹æˆåŠŸ</p></blockquote><h3 id="OpenVPN-ç®€ä»‹"><a href="#OpenVPN-ç®€ä»‹" class="headerlink" title="OpenVPN ç®€ä»‹"></a>OpenVPN ç®€ä»‹</h3><blockquote><p>VPN ç›´è¯‘å°±æ˜¯è™šæ‹Ÿä¸“ç”¨é€šé“ï¼Œæ˜¯æä¾›ç»™ä¼ä¸šä¹‹é—´æˆ–è€…ä¸ªäººä¸å…¬å¸ä¹‹é—´å®‰å…¨æ•°æ®ä¼ è¾“çš„éš§é“ï¼ŒOpenVPN æ— ç–‘æ˜¯ Linux ä¸‹å¼€æº VPN çš„å…ˆé”‹ï¼Œæä¾›äº†è‰¯å¥½çš„æ€§èƒ½å’Œå‹å¥½çš„ç”¨æˆ· GUIã€‚<br>è™šæ‹Ÿç§æœ‰ç½‘ç»œï¼ˆVPNï¼‰éš§é“æ˜¯é€šè¿‡ Internet éš§é“æŠ€æœ¯å°†ä¸¤ä¸ªä¸åŒåœ°ç†ä½ç½®çš„ç½‘ç»œå®‰å…¨çš„è¿æ¥èµ·æ¥çš„æŠ€æœ¯ã€‚<code>å½“ä¸¤ä¸ªç½‘ç»œæ˜¯ä½¿ç”¨ç§æœ‰ IP åœ°å€çš„ç§æœ‰å±€åŸŸç½‘ç»œ</code>æ—¶ï¼Œå®ƒä»¬ä¹‹é—´æ˜¯ä¸èƒ½ç›¸äº’è®¿é—®çš„ï¼Œè¿™æ—¶ä½¿ç”¨<code>éš§é“æŠ€æœ¯</code>å°±å¯ä»¥ä½¿å¾—<code>ä¸¤ä¸ªå­ç½‘å†…çš„ä¸»æœºè¿›è¡Œé€šè®¯</code>ã€‚ä¾‹å¦‚ï¼ŒVPN éš§é“æŠ€æœ¯ç»å¸¸è¢«ç”¨äº<code>å¤§å‹æœºæ„</code>ä¸­<code>ä¸åŒåŠå…¬åŒºåŸŸå­ç½‘çš„è¿æ¥</code>ã€‚æœ‰æ—¶ï¼Œä½¿ç”¨ VPN éš§é“ä»…ä»…æ˜¯å› ä¸ºå®ƒå¾ˆå®‰å…¨ã€‚æœåŠ¡æä¾›å•†ä¸å…¬å¸ä¼šä½¿ç”¨è¿™æ ·ä¸€ç§æ–¹å¼æ¶è®¾ç½‘ç»œï¼Œä»–ä»¬å°†é‡è¦çš„æœåŠ¡å™¨ï¼ˆå¦‚ï¼Œæ•°æ®åº“ï¼ŒVoIPï¼Œé“¶è¡ŒæœåŠ¡å™¨ï¼‰æ”¾ç½®åˆ°ä¸€ä¸ªå­ç½‘å†…ï¼Œä»…ä»…è®©æœ‰æƒé™çš„ç”¨æˆ·é€šè¿‡ VPN éš§é“è¿›è¡Œè®¿é—®ã€‚å¦‚æœéœ€è¦æ­å»ºä¸€ä¸ªå®‰å…¨çš„ VPN éš§é“ï¼Œé€šå¸¸ä¼šé€‰ç”¨ IPSecï¼Œå› ä¸º IPSec VPN éš§é“è¢«å¤šé‡å®‰å…¨å±‚æ‰€ä¿æŠ¤ã€‚<br><a href="https://juejin.cn/post/6844903736012193800">OpenVPN ç®€ä»‹</a></p></blockquote><h2 id="Meow"><a href="#Meow" class="headerlink" title="Meow"></a>Meow</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">1.What does the acronym VM stand for?ï¼ˆVMæ˜¯ä»€ä¹ˆçš„ç¼©å†™ï¼‰virtual machine2.What tool do we use to interact with the operating system in order to start our vpn connection?(æˆ‘ä»¬ç”¨ä»€ä¹ˆå·¥å…·ä¸æ“ä½œç³»ç»Ÿè¿›è¡Œäº¤äº’è¿›è€Œå¼€å¯æˆ‘ä»¬çš„vpnè¿æ¥ï¼Ÿ)terminal3.What service do we use to form our vpn connection?ï¼ˆæˆ‘ä»¬ç”¨ä»€ä¹ˆæœåŠ¡å½¢æˆæˆ‘ä»¬vpnè¿æ¥ï¼Ÿï¼‰openvpn4.What is the abreviated name for a tunnel interface in the output of your vpn boot-up sequence output?ï¼ˆvpnå¯åŠ¨åéš§é“æ¥å£çš„ç¼©å†™åç§°æ˜¯ä»€ä¹ˆï¼‰tun5.What tool do we use to test our connection to the target?ï¼ˆæˆ‘ä»¬ç”¨ä»€ä¹ˆå·¥å…·æ¥æµ‹è¯•ä¸ç›®æ ‡é¶æœºçš„è¿æ¥ï¼Ÿï¼‰ping6.What is the name of the tool we use to scan the target&#39;s ports?ï¼ˆæˆ‘ä»¬ç”¨ä»€ä¹ˆå·¥å…·æ¥æ‰«æç›®æ ‡é¶æœºçš„ç«¯å£ï¼Ÿï¼‰nmap7.What service do we identify on port 23&#x2F;tcp during our scans?ï¼ˆåœ¨æˆ‘ä»¬çš„æ‰«æç»“æœä¸­tcp23ç«¯å£è¢«æˆ‘ä»¬è®¤å®šä¸ºæ˜¯ä»€ä¹ˆæœåŠ¡ï¼‰telnet8.What username ultimately works with the remote management login prompt for the target?ï¼ˆå“ªä¸ªç”¨æˆ·åæœ€ç»ˆå¯ä»¥æˆåŠŸè¿œç¨‹ç™»å½•åˆ°ç›®æ ‡é¶æœºï¼Ÿï¼‰root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ“ä½œåŠå‘½ä»¤"><a href="#æ“ä½œåŠå‘½ä»¤" class="headerlink" title="æ“ä½œåŠå‘½ä»¤"></a>æ“ä½œåŠå‘½ä»¤</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">nmap 10.129.151.144telnet 10.129.151.144 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="Fawn"><a href="#Fawn" class="headerlink" title="Fawn"></a>Fawn</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">1.What does the 3-letter acronym FTP stand for?ï¼ˆFTPæ˜¯ä»€ä¹ˆçš„ç®€ç§°ï¼Ÿï¼‰File Transfer Protocol2.What communication model does FTP use, architecturally speaking?ï¼ˆä»æ¶æ„ä¸Šæ¥è¯´ï¼ŒFTPç”¨çš„æ˜¯ä»€ä¹ˆé€šä¿¡æ¨¡å‹ï¼Ÿï¼‰client-server model3.What is the name of one popular GUI FTP program?ï¼ˆæœ€å—æ¬¢è¿çš„FTPå›¾å½¢åŒ–è½¯ä»¶çš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿï¼‰FileZilla4.Which port is the FTP service active on usually?ï¼ˆé€šå¸¸æƒ…å†µä¸‹ï¼ŒFTPæ´»è·ƒåœ¨å“ªä¸ªç«¯å£ï¼Ÿï¼‰21 tcp5.What acronym is used for the secure version of FTP?ï¼ˆå®‰å…¨ç‰ˆæœ¬çš„FTPçš„ç®€ç§°æ˜¯ä»€ä¹ˆï¼Ÿï¼‰sftpè§†é¢‘ä¸­æå‡ºçš„é—®é¢˜ç­”æ¡ˆï¼šFTPï¼šæ˜æ–‡ä¼ è¾“ï¼Œé€šè¿‡Wiresharkå¯ä»¥æŠ“åŒ…çœ‹åˆ°å‘½ä»¤åŠæ–‡ä»¶ä¼ è¾“çš„å†…å®¹SFTPï¼šåŠ å¯†ä¼ è¾“ï¼Œsshå†…åµŒçš„åè®®ï¼Œé»˜è®¤æƒ…å†µä¸‹åªè¦å¯åŠ¨äº†sshdæœåŠ¡ï¼ŒsftpæœåŠ¡å°±ä¼šåœ¨22ç«¯å£å·¥ä½œã€‚FTPSï¼šåŠ å¯†ä¼ è¾“ï¼Œç±»ä¼¼äºHTTPSã€‚ï¼ˆæ›´å¤šè¯¦ç»†çš„ä¿¡æ¯å¯ä»¥é€šè¿‡åº¦å¨˜æ¥æŸ¥è¯¢ï¼‰6.What is the command we can use to test our connection to the target?ï¼ˆæˆ‘ä»¬å¯ä»¥ç”¨ä»€ä¹ˆå·¥å…·æµ‹è¯•æˆ‘ä»¬ä¸ç›®æ ‡ä¸»æœºçš„è¿é€šæ€§ï¼Ÿï¼‰ping7.From your scans, what version is FTP running on the target?ï¼ˆä»ä½ æ‰«æçš„ç»“æœæ¥çœ‹ï¼Œç›®æ ‡é¶æœºä¸Šè¿è¡Œçš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„FTPï¼Ÿï¼‰&gt;nmap -sV ip æŸ¥çœ‹8.From your scans, what OS type is running on the target?ï¼ˆä»ä½ çš„æ‰«æç»“æœæ¥çœ‹ï¼Œç›®æ ‡ä¸»æœºçš„æ“ä½œç³»ç»Ÿç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿï¼‰&gt;nmap -sV ip æŸ¥çœ‹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ“ä½œåŠå‘½ä»¤-1"><a href="#æ“ä½œåŠå‘½ä»¤-1" class="headerlink" title="æ“ä½œåŠå‘½ä»¤"></a>æ“ä½œåŠå‘½ä»¤</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">nmap -sV 10.129.165.160ftpÂ 10.129.165.160anonymousftp&gt;Â  lsftp&gt; get flag.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Dancing"><a href="#Dancing" class="headerlink" title="Dancing"></a>Dancing</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">1.What does the 3-letter acronym SMB stand for?ï¼ˆSMBæ˜¯ä»€ä¹ˆçš„ç®€ç§°ï¼Ÿï¼‰Server Message Block2.What port does SMB use to operate at?ï¼ˆç”¨ä»€ä¹ˆç«¯å£å»æ“ä½œSMB?ï¼‰4453.What network communication model does SMB use, architecturally speaking?ï¼ˆä»æ¶æ„ä¸Šè®²ï¼ŒSMBå±äºå“ªç§é€šä¿¡æ¨¡å‹ï¼Ÿï¼‰client-server model4.What is the service name for port 445 that came up in our nmap scan?ï¼ˆä»æ‰«æç»“æœæ¥çœ‹ï¼Œ445ç«¯å£çš„æœåŠ¡åç§°æ˜¯ä»€ä¹ˆï¼Ÿï¼‰microsoft-ds5.What is the tool we use to connect to SMB shares from our Linux distribution?ï¼ˆåœ¨Linuxå‘è¡Œç‰ˆä¸­ï¼Œæˆ‘ä»¬ç”¨ä»€ä¹ˆå·¥å…·å»è¿æ¥SMBæœåŠ¡çš„åˆ†äº«ï¼Ÿï¼‰smbclient6.What is the &#96;flag&#96; or &#96;switch&#96; we can use with the SMB tool to &#96;list&#96; the contents of the share?ï¼ˆæˆ‘ä»¬å¯ä»¥ç”¨SMBå·¥å…·å“ªä¸ªâ€œæ ‡è¯†â€æˆ–è€…â€œå¼€å…³â€æ¥åˆ—ä¸¾å‡ºåˆ†äº«çš„æ–‡ä»¶ï¼Ÿï¼‰-L7.What is the name of the share we are able to access in the end?ï¼ˆæœ€ç»ˆæˆ‘ä»¬å¯ä»¥è®¿é—®çš„åˆ†äº«åç§°æ˜¯ä»€ä¹ˆï¼Ÿï¼‰WorkShares8.What is the command we can use within the SMB shell to download the files we find?ï¼ˆåœ¨SMB Shellä¸‹ï¼Œæˆ‘ä»¬ç”¨ä»€ä¹ˆå‘½ä»¤æ¥ä¸‹è½½æˆ‘ä»¬æ‰¾åˆ°çš„æ–‡ä»¶ï¼Ÿï¼‰get<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ“ä½œåŠå‘½ä»¤-2"><a href="#æ“ä½œåŠå‘½ä»¤-2" class="headerlink" title="æ“ä½œåŠå‘½ä»¤"></a>æ“ä½œåŠå‘½ä»¤</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">nmap -sV -v 10.129.219.244smbclient -L 10.129.219.244smbclient &#x2F;&#x2F;10.129.219.244&#x2F;WorkSharessmb&gt; lssmb&gt; get flag.txt <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Nmap"><a href="#Nmap" class="headerlink" title="Nmap"></a>Nmap</h2><p>Nmapæ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„ç½‘ç»œå‘ç°ï¼ˆNetwork Discoveryï¼‰å’Œå®‰å…¨å®¡è®¡ï¼ˆSecurity Auditingï¼‰å·¥å…·ã€‚è½¯ä»¶åå­—Nmapæ˜¯Network Mapperçš„ç®€ç§°ã€‚Nmapæœ€åˆæ˜¯ç”±Fyodoråœ¨1997å¹´å¼€å§‹åˆ›å»ºçš„ã€‚éšååœ¨å¼€æºç¤¾åŒºä¼—å¤šçš„å¿—æ„¿è€…å‚ä¸ä¸‹ï¼Œè¯¥å·¥å…·é€æ¸æˆä¸ºæœ€ä¸ºæµè¡Œå®‰å…¨å¿…å¤‡å·¥å…·ä¹‹ä¸€ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒNmapç”¨äºåˆ—ä¸¾ç½‘ç»œä¸»æœºæ¸…å•ã€ç®¡ç†æœåŠ¡å‡çº§è°ƒåº¦ã€ç›‘æ§ä¸»æœºæˆ–æœåŠ¡è¿è¡ŒçŠ¶å†µã€‚Nmapå¯ä»¥æ£€æµ‹ç›®æ ‡æœºæ˜¯å¦åœ¨çº¿ã€ç«¯å£å¼€æ”¾æƒ…å†µã€ä¾¦æµ‹è¿è¡Œçš„æœåŠ¡ç±»å‹åŠç‰ˆæœ¬ä¿¡æ¯ã€ä¾¦æµ‹æ“ä½œç³»ç»Ÿä¸è®¾å¤‡ç±»å‹ç­‰ä¿¡æ¯ã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">ç»å…¸å•ä¸ªä¸»æœºIP&#x2F;åŸŸåæ™®é€šæ‰«æï¼šnmap     IP   å¯ä»¥å¾—åˆ°serviceçš„portçŠ¶æ€,ä»¥åŠç«¯å£å·nmap -sV IP    èƒ½å¤Ÿå¾—åˆ°æœåŠ¡ç‰ˆæœ¬ä¿¡æ¯ nmap -sC IP    sCå‚æ•°ï¼Œèƒ½å¤Ÿå¾—åˆ°æ›´åŠ è¯¦ç»†çš„æœåŠ¡ä¿¡æ¯nmap -sS -sV -T4 ip -sS:ä½¿ç”¨TCP SYNæ‰«æ-sV:è¿›è¡Œç‰ˆæœ¬æ¢æµ‹T0-T5 è¡¨ç¤ºæ‰«æé€Ÿåº¦ï¼Œæ•°å­—è¶Šå¤§é€Ÿåº¦è¶Šå¿«ä½¿ç”¨TCPåè®®ï¼š1.åŠæ‰«æï¼Œè¿…é€Ÿä¸”éšè”½nmap -sS ç›®æ ‡IP2.å…¨æ‰«æï¼Œå®Œæˆ3æ¬¡æ¡æ‰‹nmap -sT ç›®æ ‡IP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/Gjqhs/article/details/121957155">Nampåœ¨kaliä¸­çš„å¸¸è§å‘½ä»¤</a></p><h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><blockquote><p>redis æ˜¯ä¸€ä¸ªå¼€æºçš„ã€ä½¿ç”¨ C è¯­è¨€ç¼–å†™çš„ NoSQL æ•°æ®åº“<br>redis åŸºäºå†…å­˜è¿è¡Œå¹¶æ”¯æŒæŒä¹…åŒ–ï¼ˆæ”¯æŒå­˜å‚¨åœ¨ç£ç›˜ï¼‰ï¼Œé‡‡ç”¨ key-valueï¼ˆé”®å€¼å¯¹ï¼‰çš„å­˜å‚¨å½¢å¼ï¼Œæ˜¯ç›®å‰åˆ†å¸ƒå¼æ¶æ„ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯<br>redis æœåŠ¡å™¨ç¨‹åºæ˜¯å•è¿›ç¨‹æ¨¡å‹</p></blockquote><h3 id="redis-cliå‘½ä»¤è¡Œå·¥å…·"><a href="#redis-cliå‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="redis-cliå‘½ä»¤è¡Œå·¥å…·"></a>redis-cliå‘½ä»¤è¡Œå·¥å…·</h3><p>redis-cli å¸¸ç”¨äºç™»é™†è‡³redis æ•°æ®åº“<br>redis-cli -h host -p port -a password<br>-h æŒ‡å®šè¿œç¨‹ä¸»æœº<br>-p æŒ‡å®š redis æœåŠ¡çš„ç«¯å£å·<br>-a æŒ‡å®šå¯†ç ï¼Œæœªè®¾ç½®æ•°æ®åº“å¯†ç å¯ä»¥çœç•¥ -a é€‰é¡¹<br>è‹¥ä¸æ·»åŠ ä»»ä½•é€‰é¡¹è¡¨ç¤ºï¼Œåˆ™ä½¿ç”¨ 127.0.0.1:6379 è¿æ¥æœ¬æœºä¸Šçš„ redis æ•°æ®åº“</p><p>æ³¨:<br>æ‰§è¡Œè¯¥æ¡å‘½ä»¤æ˜¯å¯èƒ½ä¼šå‡ºç°<code>Command &#39;redis-cli&#39; not found</code></p><blockquote><p>apt-get update </p></blockquote><p>æ‰§è¡Œåå¯èƒ½ä¼šå‡ºç°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">E: æ— æ³•ä¸‹è½½ https:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;kali&#x2F;pool&#x2F;main&#x2F;r&#x2F;redis&#x2F;redis-tools_6.0.16-2_amd64.deb  404  Not Found [IP: 119.188.121.248 443]E: æœ‰å‡ ä¸ªè½¯ä»¶åŒ…æ— æ³•ä¸‹è½½ï¼Œè¦ä¸è¿è¡Œ apt-get update æˆ–è€…åŠ ä¸Š --fix-missing çš„é€‰é¡¹å†è¯•è¯•ï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">wget -q -O - https:&#x2F;&#x2F;archive.kali.org&#x2F;archive-key.asc | apt-key addapt-key adv --keyserver hkp:&#x2F;&#x2F;keys.gnupg.net --recv-keys 7D8D0BF6ç”¨äº†è¿™ä¸¤æ¡å‘½ä»¤æ›´æ–°äº†ç­¾åé—®é¢˜å°±è§£å†³äº†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ²¡è§£å†³çœ‹åŸæ–‡ç« ,æˆ‘æ˜¯apt-get updateå°±å¯ä»¥äº†<br><a href="https://blog.csdn.net/MENGYOU____/article/details/115091631">å…³äºkaliæºçš„é—®é¢˜</a></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">redis-server: ç”¨äºå¯åŠ¨Redis çš„å·¥å…·redis-benchmark: ç”¨äºæ£€æµ‹Redisåœ¨æœ¬æœºçš„è¿è¡Œæ•ˆç‡redis-check-aof: ä¿®å¤AOFæŒä¹…åŒ–æ–‡ä»¶redis-check-rdb: ä¿®å¤RDBæŒä¹…åŒ–æ–‡ä»¶redis-cli: Redis å‘½ä»¤è¡Œå·¥å…·.rdb å’Œaof æ˜¯redisæœåŠ¡ä¸­æŒä¹…åŒ–åŠŸèƒ½çš„ä¸¤ç§å½¢å¼RDB AOF <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">1ã€è¿œç¨‹è¿æ¥redisï¼šredis-cli -h ip -p port   ï¼ˆæ— è´¦å·å¯†ç ç™»å½•ï¼‰2ã€æŸ¥çœ‹redisç›¸å…³ä¿¡æ¯ï¼šinfoï¼ˆè¯¥å‘½ä»¤å¯ä»¥æŸ¥çœ‹redisçš„ç‰ˆæœ¬ä¿¡æ¯ã€å¤šå°‘ä¸ªkeyç­‰ï¼‰3ã€æŸ¥çœ‹keyæ‰€å­˜å‚¨çš„æ•°æ®ç±»å‹ï¼štype key4ã€è·å–keyæ‰€å­˜å‚¨çš„å†…å®¹ï¼šget key5ã€obtain all the keys in a database: keys *<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://copyfuture.com/blogs-details/202207130551151366#1%E3%80%81Redis%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7">rediså‘½ä»¤å·¥å…·</a></p><h2 id="Redeemer"><a href="#Redeemer" class="headerlink" title="Redeemer"></a>Redeemer</h2><pre class=" language-language-c"><code class="language-language-c">1.Q : Which TCP port is open on the machine?Â A : nmap IP -> 63792.Q : Which service is running on the port that is open on the machine?Â A : nmap IP -> redis2.Q : What type of database is Redis? Choose from the following options: (i) In-memory Database, (ii) Traditional DatabaseÂ A :Â (i) In-memory Database4.Q : Which command-line utility is used to interact with the Redis server? Enter the program name you would enter into the terminal without any arguments.Â A : redis-cli5.Q : Which flag is used with the Redis command-line utility to specify the hostname?Â A : -h6.Q : Once connected to a Redis server, which command is used to obtain the information and statistics about the Redis server?Â A : info7.Q : What is the version of the Redis server being used on the target machine?Â A : nmap -sV IP -> 5.0.78.Q : Which command is used to select the desired database in Redis?Â A : select9.Q : How many keys are present inside the database with index 0?Â A : info -> 410.Q : Which command is used to obtain all the keys in a database?Â A : keys *11.Q : Submit root flagÂ A : redis-cli -h IP -p 6379Â Â Â Â keys *Â Â Â Â get flag </code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HACKTHEBOX </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GPIOåŠŸèƒ½</title>
      <link href="/2022/09/29/42h-f407-gpio/"/>
      <url>/2022/09/29/42h-f407-gpio/</url>
      
        <content type="html"><![CDATA[<h2 id="GPIOçš„åŠŸèƒ½"><a href="#GPIOçš„åŠŸèƒ½" class="headerlink" title="GPIOçš„åŠŸèƒ½"></a>GPIOçš„åŠŸèƒ½</h2><blockquote><p>å¤ç”¨åŠŸèƒ½<br>STM32Fxxå†…éƒ¨é›†æˆäº†å¾ˆå¤šçš„å¤–è®¾æ§åˆ¶å™¨ï¼Œæ¯”å¦‚USARTã€SPIã€bxCANç­‰ç­‰ï¼Œè¿™äº›å¤–è®¾æ§åˆ¶å™¨ï¼Œä¹Ÿéœ€è¦é€šè¿‡å¼•è„šä¸å¤–è®¾è¿æ¥ã€‚å¤ç”¨åŠŸèƒ½æ˜¯ç›¸å¯¹äºå•ç‰‡æœºçš„å¼•è„šè€Œè¨€çš„ã€‚æ‰€è°“â€œå¤ç”¨åŠŸèƒ½â€ï¼Œæ˜¯æŒ‡å•ç‰‡æœºçš„å¼•è„šæ—¢å¯ä»¥åšæ™®é€šGPIOä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå†…éƒ¨å¤–è®¾æ§åˆ¶å™¨çš„å¼•è„šæ¥ä½¿ç”¨ã€‚</p></blockquote><p><a href="https://blog.csdn.net/weixin_45378136/article/details/123038151">stm32å•ç‰‡æœºçš„å¼•è„šå¤ç”¨åŠŸèƒ½</a><br><a href="https://blog.csdn.net/k666499436/article/details/123845466">STM32å…¥é—¨-GPIOç«¯å£çš„å…«ç§å·¥ä½œæ¨¡å¼(è¶…çº§è¯¦ç»†)</a><br><a href="https://blog.csdn.net/Savage888777/article/details/125469496">å››ç§è¾“å…¥å’Œå››ç§è¾“å‡ºæ¨¡å¼</a></p><h2 id="æ¨æŒ½è¾“å‡º"><a href="#æ¨æŒ½è¾“å‡º" class="headerlink" title="æ¨æŒ½è¾“å‡º"></a>æ¨æŒ½è¾“å‡º</h2><p>â— æ–½å¯†ç‰¹è§¦å‘è¾“å…¥è¢«æ¿€æ´»<br>â— å¼±ä¸Šæ‹‰å’Œä¸‹æ‹‰ç”µé˜»è¢«ç¦æ­¢<br>â— <code>å‡ºç°åœ¨I/Oè„šä¸Šçš„æ•°æ®åœ¨æ¯ä¸ªAPB2æ—¶é’Ÿè¢«é‡‡æ ·åˆ°è¾“å…¥æ•°æ®å¯„å­˜å™¨</code><br>â— åœ¨å¼€æ¼æ¨¡å¼æ—¶ï¼Œå¯¹è¾“å…¥æ•°æ®å¯„å­˜å™¨çš„è¯»è®¿é—®å¯å¾—åˆ°I&#x2F;OçŠ¶æ€<br>â— åœ¨æ¨æŒ½å¼æ¨¡å¼æ—¶ï¼Œå¯¹è¾“å‡ºæ•°æ®å¯„å­˜å™¨çš„è¯»è®¿é—®å¾—åˆ°æœ€åä¸€æ¬¡å†™çš„å€¼</p><p>åœ¨è¾“å‡ºæ¨¡å¼ä¸­ï¼Œæ¨æŒ½æ¨¡å¼æ—¶åŒ MOS ç®¡ä»¥è½®æµæ–¹å¼å·¥ä½œï¼Œè¾“å‡ºæ•°æ®å¯„å­˜å™¨ GPIOx_ODRå¯æ§åˆ¶ I&#x2F;O è¾“å‡ºé«˜ä½ç”µå¹³ã€‚å¼€æ¼æ¨¡å¼æ—¶ï¼Œåªæœ‰ N-MOS ç®¡å·¥ä½œï¼Œè¾“å‡ºæ•°æ®å¯„å­˜å™¨å¯æ§åˆ¶ I&#x2F;Oè¾“å‡ºé«˜é˜»æ€æˆ–ä½ç”µå¹³ã€‚<br><a href="https://blog.csdn.net/baidu_19356259/article/details/80921524?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-80921524-blog-120311499.pc_relevant_multi_platform_whitelistv3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-80921524-blog-120311499.pc_relevant_multi_platform_whitelistv3&utm_relevant_index=2">mosç®¡çš„åŸºæœ¬è®¤è¯†</a></p><h3 id="MOSç®¡çš„å¼€å…³æ¡ä»¶"><a href="#MOSç®¡çš„å¼€å…³æ¡ä»¶" class="headerlink" title="MOSç®¡çš„å¼€å…³æ¡ä»¶"></a>MOSç®¡çš„å¼€å…³æ¡ä»¶</h3><p>N-MOS ç®¡ï¼šé«˜ç”µå¹³ å¯¼é€š<br>P-MOS ç®¡ï¼š ä½ç”µå¹³ å¯¼é€š<br>Næ²Ÿé“â€”å¯¼é€šæ—¶ Ug&gt; Us,Ugs&gt; Ugs(th)æ—¶å¯¼é€š<br>Pæ²Ÿé“â€”å¯¼é€šæ—¶ Ug&lt; Us,Ugs&lt; Ugs(th)æ—¶å¯¼é€š<br>æ€»ä¹‹ï¼Œå¯¼é€šæ¡ä»¶ï¼š|Ugs|&gt;|Ugs(th)|</p><h2 id="å¼€æ¼è¾“å‡º"><a href="#å¼€æ¼è¾“å‡º" class="headerlink" title="å¼€æ¼è¾“å‡º"></a>å¼€æ¼è¾“å‡º</h2><h2 id="å¤ç”¨åŠŸèƒ½æ¨æŒ½å¼€æ¼è¾“å‡º"><a href="#å¤ç”¨åŠŸèƒ½æ¨æŒ½å¼€æ¼è¾“å‡º" class="headerlink" title="å¤ç”¨åŠŸèƒ½æ¨æŒ½å¼€æ¼è¾“å‡º"></a>å¤ç”¨åŠŸèƒ½æ¨æŒ½å¼€æ¼è¾“å‡º</h2><p>å¤ç”¨åŠŸèƒ½æ¨¡å¼ä¸­ï¼Œè¾“å‡ºä½¿èƒ½ï¼Œè¾“å‡ºé€Ÿåº¦å¯é…ç½®ï¼Œå¯å·¥ä½œåœ¨å¼€æ¼åŠæ¨æŒ½æ¨¡å¼ï¼Œ ä½†æ˜¯è¾“å‡ºä¿¡å·æºäºå…¶å®ƒå¤–è®¾<br>è¾“å‡ºæ•°æ®å¯„å­˜å™¨ GPIOx_ODR æ— æ•ˆï¼›è¾“å…¥å¯ç”¨ï¼Œé€šè¿‡è¾“å…¥æ•°æ®å¯„å­˜å™¨å¯è·å– I&#x2F;O å®é™…çŠ¶æ€ï¼Œä½†ä¸€èˆ¬ç›´æ¥ç”¨å¤–è®¾çš„å¯„å­˜å™¨æ¥è·å–è¯¥æ•°æ®ä¿¡å·<br>è¿™é‡Œä»¥ä¸²å£çš„å‘é€TXå’Œæ¥æ”¶RXå¼•è„šä¸ºä¾‹</p><p><code>å¤ç”¨åŠŸèƒ½çš„æ¨æŒ½ä¸å¼€æ¼è¾“å‡ºä¸æ™®é€šçš„æ¨æŒ½ä¸å¼€æ¼è¾“å‡ºåªæ˜¯è¾“å‡ºçš„å¯„å­˜å™¨æ¢æˆå¤–è®¾çš„å¯„å­˜å™¨</code><br>å¤ç”¨æ¨æŒ½è¾“å‡ºå’Œï¼ˆæ™®é€šï¼‰æ¨æŒ½è¾“å‡ºåœ¨è¾“å‡ºçš„æ—¶å€™å‡ä½¿ç”¨ä¸¤ä¸ªMOSç®¡ï¼ˆP-MOSå’Œ-MOSï¼‰ï¼Œå…¶è¾“å‡ºç”µè·¯æ˜¯ç›¸åŒçš„ã€‚<br>åŒºåˆ«åœ¨äºæ§åˆ¶è¾“å‡ºçš„ä¿¡å·æ¥æºï¼š<br>ï¼ˆæ™®é€šï¼‰æ¨æŒ½è¾“å‡ºæ§åˆ¶MOSç®¡çš„ä¿¡å·æ¥è‡ª è¾“å‡ºæ•°æ®å¯„å­˜å™¨ã€‚<br>å¤ç”¨æ¨æŒ½è¾“å‡ºçš„æ§åˆ¶ä¿¡å·æ¥è‡ªå•ç‰‡æœºçš„ å†…ç½®å¤–è®¾æ§åˆ¶å™¨ï¼ˆæ¯”å¦‚SPI1ï¼‰ã€‚</p><h2 id="ä¸ºä»€ä¹ˆF407çš„usart-rxå’Œusart-txéƒ½æ˜¯æ¨æŒ½å¤ç”¨è¾“å‡º"><a href="#ä¸ºä»€ä¹ˆF407çš„usart-rxå’Œusart-txéƒ½æ˜¯æ¨æŒ½å¤ç”¨è¾“å‡º" class="headerlink" title="ä¸ºä»€ä¹ˆF407çš„usart_rxå’Œusart_txéƒ½æ˜¯æ¨æŒ½å¤ç”¨è¾“å‡º"></a>ä¸ºä»€ä¹ˆF407çš„usart_rxå’Œusart_txéƒ½æ˜¯æ¨æŒ½å¤ç”¨è¾“å‡º</h2><p>ç½‘ä¸Šå¤§ä½¬çš„ç†è§£:</p><blockquote><p>åœ¨STM32F103çš„ä¸²å£é…ç½®ä¾‹ç¨‹ä¸­ä¸€èˆ¬æŠŠRXè®¾ç½®æˆäº†æµ®ç©ºè¾“å…¥æ¨¡å¼ï¼Œè€Œåœ¨STM32F407çš„ä¸²å£é…ç½®æ¨¡å¼ä¸­å´æŠŠRXé…ç½®æˆäº†æ¨æŒ½è¾“å‡ºçš„æ¨¡å¼ï¼ŒRXæ˜¯æ¥æ”¶ç«¯ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯è¾“å…¥æ¨¡å¼ï¼Œä½†æ˜¯è¿™æ ·è®¾ç½®å´å¯ä»¥æ­£å¸¸ä½¿ç”¨,æµ®ç©ºè¾“å…¥æ—¶ï¼Œå‘ˆé«˜é˜»æ€ï¼Œæ–½å¯†ç‰¹è§¦å‘å™¨èµ·ä½œç”¨ï¼Œè¯»å–è¾“å…¥ç»“æœæ—¶ï¼Œåªæœ‰0æˆ–1ä¸¤ç§ï¼ŒRXè®¾ç½®ä¸ºæµ®ç©ºè¾“å…¥å¯ä»¥åŠ å¼ºæŠµå¾¡å¤–éƒ¨é˜»æŠ—å˜åŒ–çš„å¯¹å†…éƒ¨çš„å¹²æ‰°ï¼ŒRXåœ¨æ¨æŒ½æ¨¡å¼ä¸‹ï¼Œè™½ç„¶æ˜¯åœ¨è¾“å‡ºçŠ¶æ€ï¼Œä½†æ˜¯è¿™ç§çŠ¶æ€é€šè¿‡å¯¹è¾“å‡ºæ•°æ®å¯„å­˜å™¨çš„è¯»è®¿é—®å¯ä»¥å¾—åˆ°æœ€åä¸€æ¬¡å†™çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥å¾—åˆ°RXå¼•è„šä¸Šçš„ç”µå‹</p></blockquote><p>ğŸ˜ƒæˆ‘çš„ç†è§£:</p><p>âœ”å¦‚å›¾,æ¨æŒ½è¾“å‡ºå’Œå¼€æ¼è¾“å‡ºçš„ç‰¹ç‚¹æ˜¯<code>å‡ºç°åœ¨I/Oè„šä¸Šçš„æ•°æ®åœ¨æ¯ä¸ªAPB2æ—¶é’Ÿè¢«é‡‡æ ·åˆ°è¾“å…¥æ•°æ®å¯„å­˜å™¨</code>æ‰€ä»¥å³ä¾¿æ˜¯è¾“å‡ºæ¨¡å¼,ä¹Ÿå¯ä»¥ç›‘æµ‹åˆ°usart_rxå¼•è„šçš„ç”µå¹³å˜åŒ–,æ˜¯0è¿˜æ˜¯1.</p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F407 </tag>
            
            <tag> GPIO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>USARTä¸²å£é€šä¿¡</title>
      <link href="/2022/09/28/41h-f407-usart/"/>
      <url>/2022/09/28/41h-f407-usart/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®é€šä¿¡æ–¹å¼"><a href="#æ•°æ®é€šä¿¡æ–¹å¼" class="headerlink" title="æ•°æ®é€šä¿¡æ–¹å¼"></a>æ•°æ®é€šä¿¡æ–¹å¼</h2><h3 id="ä¸²è¡Œä¸å¹¶è¡Œé€šä¿¡"><a href="#ä¸²è¡Œä¸å¹¶è¡Œé€šä¿¡" class="headerlink" title="ä¸²è¡Œä¸å¹¶è¡Œé€šä¿¡"></a>ä¸²è¡Œä¸å¹¶è¡Œé€šä¿¡</h3><blockquote><p>æŒ‰æ•°æ®ä¼ é€çš„æ–¹å¼ï¼Œé€šè®¯å¯åˆ†ä¸ºä¸²è¡Œé€šè®¯ä¸å¹¶è¡Œé€šè®¯ã€‚</p></blockquote><ul><li>ä¸²è¡Œé€šè®¯ï¼šæ˜¯æŒ‡è®¾å¤‡ä¹‹é—´é€šè¿‡ä¸€æ ¹æ•°æ®ä¿¡å·çº¿ï¼Œåœ°çº¿ä»¥åŠæ§åˆ¶ä¿¡å·çº¿ï¼ŒæŒ‰æ•°æ®ä½å½¢å¼ä¸€ä½ä¸€ä½åœ°ä¼ è¾“æ•°æ®çš„é€šè®¯æ–¹å¼ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½ä¼ è¾“ä¸€ä½(bit)æ•°æ®ã€‚<br>å¹¶è¡Œé€šè®¯ï¼šæ˜¯æŒ‡ä½¿ç”¨ 8ã€16ã€32 åŠ 64 æ ¹æˆ–æ›´å¤šçš„æ•°æ®çº¿(æœ‰å¤šå°‘ä¿¡å·ä¸ºå°±éœ€è¦å¤šå°‘ä¿¡å·ä½)è¿›è¡Œä¼ è¾“çš„é€šè®¯æ–¹å¼ï¼Œå¯ä»¥åŒä¸€æ—¶åˆ»ä¼ è¾“å¤šä¸ªæ•°æ®ä½çš„æ•°æ®</li></ul><img src="/2022/09/28/41h-f407-usart/01.jpg" class=""><ul><li><p>å…¨åŒå·¥ã€åŠåŒå·¥åŠå•å·¥é€šè®¯<br>å•å·¥é€šä¿¡ï¼šä¿¡æ¯åªèƒ½å•æ–¹å‘ä¼ è¾“çš„å·¥ä½œæ–¹å¼ï¼Œä¸€ä¸ªå›ºå®šä¸ºå‘é€è®¾å¤‡ï¼Œå¦ä¸€ä¸ªå›ºå®šä¸ºæ¥æ”¶è®¾å¤‡ï¼Œå‘é€ç«¯åªèƒ½å‘é€ä¿¡æ¯ä¸èƒ½æ¥æ”¶ä¿¡æ¯ï¼Œæ¥æ”¶ç«¯åªèƒ½æ¥æ”¶ä¿¡æ¯ä¸èƒ½å‘é€ä¿¡æ¯ï¼Œåªéœ€ä¸€æ ¹ä¿¡å·çº¿</p></li><li><p>åŠåŒå·¥é€šä¿¡ï¼šå¯ä»¥å®ç°åŒå‘çš„é€šä¿¡ï¼Œä½†ä¸èƒ½åœ¨ä¸¤ä¸ªæ–¹å‘ä¸ŠåŒæ—¶è¿›è¡Œï¼Œå¿…é¡»è½®æµäº¤æ›¿è¿›è¡Œï¼Œå…¶å®ä¹Ÿå¯ä»¥ç†è§£æˆä¸€ç§å¯ä»¥åˆ‡æ¢æ–¹å‘çš„å•å·¥é€šä¿¡ï¼ŒåŒä¸€æ—¶åˆ»å¿…é¡»åªèƒ½ä¸€ä¸ªæ–¹å‘ä¼ è¾“ï¼Œåªéœ€ä¸€æ ¹æ•°æ®çº¿</p></li><li><p>å…¨åŒå·¥é€šä¿¡ï¼šåœ¨åŒä¸€æ—¶åˆ»ï¼Œä¸¤ä¸ªè®¾å¤‡ä¹‹é—´å¯ä»¥åŒæ—¶æ”¶å‘æ•°æ®ï¼Œå…¨åŒå·¥æ–¹å¼æ— éœ€è¿›è¡Œæ–¹å‘çš„åˆ‡æ¢ï¼Œè¿™ç§æ–¹å¼è¦æ±‚é€šè®¯åŒæ–¹å‡æœ‰å‘é€å™¨å’Œæ¥æ”¶å™¨ï¼ŒåŒæ—¶ï¼Œéœ€è¦2æ ¹æ•°æ®çº¿ã€‚</p></li></ul><img src="/2022/09/28/41h-f407-usart/02.jpg" class=""><h3 id="åŒæ­¥é€šè®¯ä¸å¼‚æ­¥é€šè®¯"><a href="#åŒæ­¥é€šè®¯ä¸å¼‚æ­¥é€šè®¯" class="headerlink" title="åŒæ­¥é€šè®¯ä¸å¼‚æ­¥é€šè®¯"></a>åŒæ­¥é€šè®¯ä¸å¼‚æ­¥é€šè®¯</h3><ul><li>åŒæ­¥é€šè®¯ï¼šæ”¶å‘è®¾å¤‡åŒæ–¹ä¼šä½¿ç”¨ä¸€æ ¹ä¿¡å·çº¿è¡¨ç¤ºæ—¶é’Ÿä¿¡å·ï¼Œåœ¨æ—¶é’Ÿä¿¡å·çš„é©±åŠ¨ä¸‹åŒæ–¹è¿›è¡Œåè°ƒï¼ŒåŒæ­¥æ•°æ®ï¼Œé€šè®¯ä¸­é€šå¸¸åŒæ–¹ä¼šç»Ÿä¸€è§„å®šåœ¨æ—¶é’Ÿä¿¡å·çš„ä¸Šå‡æ²¿æˆ–ä¸‹é™æ²¿å¯¹æ•°æ®çº¿è¿›è¡Œé‡‡æ ·ï¼Œå¯¹åº”æ—¶é’Ÿææ€§ä¸æ—¶é’Ÿç›¸ä½ã€‚<br>I2C çš„åŒæ­¥é€šä¿¡ï¼š</li></ul><img src="/2022/09/28/41h-f407-usart/03.jpg" class=""><p>å¼‚æ­¥é€šè®¯ï¼šä¸éœ€è¦æ—¶é’Ÿä¿¡å·è¿›è¡Œæ•°æ®åŒæ­¥ï¼Œå®ƒä»¬ç›´æ¥åœ¨æ•°æ®ä¿¡å·ä¸­ç©¿æ’ä¸€äº›åŒæ­¥ç”¨çš„ä¿¡å·ä½ï¼Œæˆ–è€…æŠŠä¸»ä½“æ•°æ®è¿›è¡Œæ‰“åŒ…ï¼Œä»¥æ•°æ®å¸§ï¼ˆä¸²å£ï¼šèµ·å§‹ä½ æ•°æ® æ ¡éªŒä½(å¯ä»¥æ²¡æœ‰) åœæ­¢ä½ï¼‰çš„æ ¼å¼ä¼ è¾“æ•°æ®ï¼ŒæŸäº›é€šè®¯ä¸­è¿˜éœ€è¦åŒæ–¹çº¦å®šæ•°æ®çš„ä¼ è¾“é€Ÿç‡ï¼ˆæ³¢ç‰¹ç‡ï¼‰ï¼Œä»¥ä¾¿æ›´å¥½åœ°åŒæ­¥ã€‚</p><img src="/2022/09/28/41h-f407-usart/04.jpg" class=""><h2 id="ä¸²å£é€šè®¯åè®®"><a href="#ä¸²å£é€šè®¯åè®®" class="headerlink" title="ä¸²å£é€šè®¯åè®®"></a>ä¸²å£é€šè®¯åè®®</h2><h3 id="ç‰©ç†å±‚"><a href="#ç‰©ç†å±‚" class="headerlink" title="ç‰©ç†å±‚"></a>ç‰©ç†å±‚</h3><h4 id="1-RS232æ ‡å‡†"><a href="#1-RS232æ ‡å‡†" class="headerlink" title="(1)RS232æ ‡å‡†"></a>(1)RS232æ ‡å‡†</h4><p>å¾ˆå¤šå•ç‰‡æœºå†…éƒ¨ä¾‹å¦‚æˆ‘ä»¬æ‰€ç”¨çš„STM32ï¼Œä»¥åŠä¸€äº›ä¼ æ„Ÿå™¨ä¸€èˆ¬éƒ½æ˜¯TTLç”µå¹³ã€‚<br>RS232æ˜¯ä¸€ç§ä¸²è¡Œæ•°æ®ä¼ è¾“å½¢å¼ï¼Œç§°å…¶ä¸ºä¸²è¡Œè¿æ¥ï¼Œæœ€ç»å…¸çš„æ ‡å¿—å°±æ˜¯ 9 é’ˆå­”çš„ DB9 ç”µç¼†RS232ç”µå‹è¡¨ç¤ºé€»è¾‘ 1 ï¼Œ0çš„èŒƒå›´å¤§æå¤§çš„å¢å¼ºäº†å®¹é”™ç‡ï¼Œä¸»è¦ç”¨äºå·¥ä¸šè®¾å¤‡ç›´æ¥é€šä¿¡ã€‚</p><img src="/2022/09/28/41h-f407-usart/05.jpg" class=""><p>ç”±ä¸Šå›¾å¯çŸ¥ï¼ŒTLLä¸RS-232æ ‡å‡†é€»è¾‘ç›¸åï¼Œè€Œä¸”ç”µå¹³ä¹Ÿå¤§ä¸ç›¸åŒï¼Œè‹¥å•ç‰‡æœºä¸å•ç‰‡æœºæˆ–å…¶ä»–è®¾å¤‡TLLè®¾å¤‡é€šä¿¡é‡‡ç”¨RS-232é€šä¿¡ï¼ˆDB9ï¼‰,è‚¯å®šå…ˆè¦è¿›è¡Œç”µå¹³çš„è½¬åŒ–TLL-&gt;RS232 RS232-&gt;TTL</p><img src="/2022/09/28/41h-f407-usart/06.jpg" class=""><p>ä¸¤ä¸ªé€šè®¯è®¾å¤‡çš„â€œDB9 æ¥å£â€ä¹‹é—´é€šè¿‡ä¸²å£ä¿¡å·çº¿å»ºç«‹èµ·è¿æ¥ï¼Œä¸²å£ä¿¡å·çº¿ä¸­ä½¿ç”¨â€œRS-232 æ ‡å‡†â€ä¼ è¾“æ•°æ®ä¿¡å·ã€‚ç”±äº RS-232 ç”µå¹³æ ‡å‡†çš„ä¿¡å·ä¸èƒ½ç›´æ¥è¢«æ§åˆ¶å™¨ç›´æ¥è¯†åˆ«ï¼Œæ‰€ä»¥è¿™äº›ä¿¡å·ä¼šç»è¿‡ä¸€ä¸ªâ€œç”µå¹³è½¬æ¢èŠ¯ç‰‡â€è½¬æ¢æˆæ§åˆ¶å™¨èƒ½è¯†åˆ«çš„â€œTTL æ ‡å‡†â€çš„ç”µå¹³ä¿¡å·ï¼Œæ‰èƒ½å®ç°é€šè®¯ã€‚<br>ç”µå¹³è½¬æ¢èŠ¯ç‰‡ä¸€èˆ¬æœ‰max3232,sp3232</p><h4 id="USBè½¬ä¸²å£"><a href="#USBè½¬ä¸²å£" class="headerlink" title="USBè½¬ä¸²å£"></a>USBè½¬ä¸²å£</h4><p>ä¸»è¦ç”¨äºå•ç‰‡æœºä¸ç”µè„‘é€šä¿¡</p><img src="/2022/09/28/41h-f407-usart/07.jpg" class=""><p>ç”µå¹³è½¬æ¢èŠ¯ç‰‡ä¸€èˆ¬æœ‰CH340ã€PL2303ã€CP2102ã€FT232</p><img src="/2022/09/28/41h-f407-usart/08.jpg" class=""><h4 id="åŸç”Ÿçš„ä¸²å£åˆ°ä¸²å£"><a href="#åŸç”Ÿçš„ä¸²å£åˆ°ä¸²å£" class="headerlink" title="åŸç”Ÿçš„ä¸²å£åˆ°ä¸²å£"></a>åŸç”Ÿçš„ä¸²å£åˆ°ä¸²å£</h4><img src="/2022/09/28/41h-f407-usart/09.jpg" class=""><p>åŸç”Ÿçš„ä¸²å£é€šä¿¡ä¸»è¦æ˜¯æ§åˆ¶å™¨è·Ÿä¸²å£çš„è®¾å¤‡æˆ–è€…ä¼ æ„Ÿå™¨é€šä¿¡ä»–ä»¬ä½†æ˜¯TLLç”µå¹³ï¼Œä¸éœ€è¦ç»è¿‡ç”µå¹³è½¬æ¢èŠ¯ç‰‡æ¥è½¬æ¢ç”µå¹³ï¼Œç›´æ¥å°±ç”¨TTLç”µå¹³é€šä¿¡ï¼ŒGPSæ¨¡å—ã€GSMæ¨¡å—ã€ä¸²å£è½¬WIFIæ¨¡å—ã€HC04è“ç‰™æ¨¡å—</p><h3 id="åè®®å±‚"><a href="#åè®®å±‚" class="headerlink" title="åè®®å±‚"></a>åè®®å±‚</h3><img src="/2022/09/28/41h-f407-usart/04.jpg" class=""><h3 id="1ï¼‰é€šè®¯çš„èµ·å§‹å’Œåœæ­¢ä¿¡å·"><a href="#1ï¼‰é€šè®¯çš„èµ·å§‹å’Œåœæ­¢ä¿¡å·" class="headerlink" title="1ï¼‰é€šè®¯çš„èµ·å§‹å’Œåœæ­¢ä¿¡å·"></a>1ï¼‰é€šè®¯çš„èµ·å§‹å’Œåœæ­¢ä¿¡å·</h3><p>ä¸²å£é€šè®¯çš„ä¸€ä¸ªæ•°æ®åŒ…ä»èµ·å§‹ä¿¡å·å¼€å§‹ï¼Œç›´åˆ°åœæ­¢ä¿¡å·ç»“æŸã€‚æ•°æ®åŒ…çš„èµ·å§‹ä¿¡å·ç”±ä¸€ä¸ªé€»è¾‘ 0 çš„æ•°æ®ä½è¡¨ç¤ºï¼Œè€Œæ•°æ®åŒ…çš„åœæ­¢ä¿¡å·å¯ç”± 0.5ã€1ã€1.5 æˆ– 2 ä¸ªé€»è¾‘ 1 çš„æ•°æ®ä½è¡¨ç¤º</p><p>1ä¸ªåœæ­¢ä½ï¼šåœæ­¢ä½ä½æ•°çš„é»˜è®¤å€¼ã€‚<br>2ä¸ªåœæ­¢ä½ï¼šå¯ç”¨äºå¸¸è§„USARTæ¨¡å¼ã€å•çº¿æ¨¡å¼ä»¥åŠè°ƒåˆ¶è§£è°ƒå™¨æ¨¡å¼ã€‚<br>0.5ä¸ªåœæ­¢ä½ï¼šåœ¨æ™ºèƒ½å¡æ¨¡å¼ä¸‹æ¥æ”¶æ•°æ®æ—¶ä½¿ç”¨ã€‚<br>1.5ä¸ªåœæ­¢ä½ï¼šåœ¨æ™ºèƒ½å¡æ¨¡å¼ä¸‹å‘é€å’Œæ¥æ”¶æ•°æ®æ—¶ä½¿ç”¨ã€‚</p><h3 id="2-æœ‰æ•ˆæ•°æ®"><a href="#2-æœ‰æ•ˆæ•°æ®" class="headerlink" title="2)æœ‰æ•ˆæ•°æ®"></a>2)æœ‰æ•ˆæ•°æ®</h3><p>åœ¨æ•°æ®åŒ…çš„èµ·å§‹ä½ä¹‹åç´§æ¥ç€çš„å°±æ˜¯è¦ä¼ è¾“çš„ä¸»ä½“æ•°æ®å†…å®¹ï¼Œä¹Ÿç§°ä¸ºæœ‰æ•ˆæ•°æ®ï¼Œæœ‰æ•ˆæ•°æ®çš„é•¿åº¦å¸¸è¢«çº¦å®šä¸º 5ã€6ã€7 æˆ– 8 ä½é•¿</p><h3 id="3-æ•°æ®æ ¡éªŒ"><a href="#3-æ•°æ®æ ¡éªŒ" class="headerlink" title="3)æ•°æ®æ ¡éªŒ"></a>3)æ•°æ®æ ¡éªŒ</h3><p>å¶æ ¡éªŒï¼šæ ¡éªŒä½ä½¿å¾—ä¸€å¸§ä¸­çš„7æˆ–8ä¸ªLSBæ•°æ®ä»¥åŠæ ¡éªŒä½ä¸­â€™1â€™çš„ä¸ªæ•°ä¸ºå¶æ•°ã€‚<br>ä¾‹å¦‚ï¼šæ•°æ®&#x3D;00110101ï¼Œæœ‰4ä¸ªâ€™1â€™ï¼Œå¦‚æœé€‰æ‹©å¶æ ¡éªŒ(åœ¨USART_CR1ä¸­çš„PSï¼0)ï¼Œæ ¡éªŒä½å°†æ˜¯â€™0â€™ï¼Œæœ€åæ•°æ®æ£€éªŒå¦‚æœæ•°æ®æœ‰å¶æ•°ä¸ª1åˆ™æ•°æ®ä¼ è¾“æ²¡æœ‰å‡ºé”™(ä½†ä¸æ˜¯ç»å¯¹çš„ï¼Œå¦‚æœåŒæ—¶ä¸¤ä¸ªæ•°æ®ä¸ºå‘é€é”™è¯¯(0å˜æˆ1)åˆ™è¿˜æ˜¯å¶æ•°ä¸ª1)</p><img src="/2022/09/28/41h-f407-usart/10.jpg" class=""><p>å¥‡æ ¡éªŒï¼šæ­¤æ ¡éªŒä½ä½¿å¾—ä¸€å¸§ä¸­çš„7æˆ–8ä¸ªLSBæ•°æ®ä»¥åŠæ ¡éªŒä½ä¸­â€™1â€™çš„ä¸ªæ•°ä¸ºå¥‡æ•°ã€‚<br>ä¾‹å¦‚ï¼šæ•°æ®&#x3D;00110101ï¼Œæœ‰4ä¸ªâ€™1â€™ï¼Œå¦‚æœé€‰æ‹©å¥‡æ ¡éªŒ(åœ¨USART_CR1ä¸­çš„PSï¼1)ï¼Œæ ¡éªŒä½å°†æ˜¯â€™1â€™ï¼Œæœ€åæ•°æ®æ£€éªŒå¦‚æœæ•°æ®æœ‰å¥‡æ•°ä¸ª1åˆ™æ•°æ®ä¼ è¾“æ²¡æœ‰å‡ºé”™ï¼Œä½†åŒæ ·ä¸æ˜¯ç»å¯¹çš„(åŒæ—¶ä¸¤ä¸ª1å˜æˆ0)</p><img src="/2022/09/28/41h-f407-usart/11.jpg" class=""><h3 id="æ§åˆ¶å¯„å­˜å™¨-USART-CR1"><a href="#æ§åˆ¶å¯„å­˜å™¨-USART-CR1" class="headerlink" title="æ§åˆ¶å¯„å­˜å™¨(USART_CR1)"></a>æ§åˆ¶å¯„å­˜å™¨(USART_CR1)</h3><img src="/2022/09/28/41h-f407-usart/12.jpg" class=""><p>ä¼ è¾“æ¨¡å¼ï¼šå¦‚æœUSART_CR1çš„PCEä½è¢«ç½®ä½ï¼Œå¦‚æœå¥‡å¶æ ¡éªŒå¤±è´¥USART_SRå¯„å­˜å™¨ä¸­çš„PEæ ‡å¿—è¢«ç½®â€™1â€™ï¼Œå¹¶ä¸”å¦‚æœUSART_CR1å¯„å­˜å™¨çš„PEIEåœ¨è¢«é¢„å…ˆè®¾ç½®çš„è¯ï¼Œä¸­æ–­äº§ç”Ÿ(æˆ‘ä»¬å¯ä»¥åœ¨ç›¸åº”çš„ä¸­æ–­æœåŠ¡å‡½æ•°ä¸­ï¼Œå†™å¤„ç†æ ¡éªŒå¤±è´¥çš„ä»£ç )</p><h3 id="çŠ¶æ€å¯„å­˜å™¨-USART-CR1"><a href="#çŠ¶æ€å¯„å­˜å™¨-USART-CR1" class="headerlink" title="çŠ¶æ€å¯„å­˜å™¨(USART_CR1)"></a>çŠ¶æ€å¯„å­˜å™¨(USART_CR1)</h3><img src="/2022/09/28/41h-f407-usart/13.jpg" class=""><img src="/2022/09/28/41h-f407-usart/14.jpg" class=""><h2 id="ğŸ”¥USARTåŠŸèƒ½æ¡†å›¾"><a href="#ğŸ”¥USARTåŠŸèƒ½æ¡†å›¾" class="headerlink" title="ğŸ”¥USARTåŠŸèƒ½æ¡†å›¾"></a>ğŸ”¥USARTåŠŸèƒ½æ¡†å›¾</h2><img src="/2022/09/28/41h-f407-usart/15.jpg" class=""><h3 id="åŠŸèƒ½å¼•è„š"><a href="#åŠŸèƒ½å¼•è„š" class="headerlink" title="åŠŸèƒ½å¼•è„š"></a>åŠŸèƒ½å¼•è„š</h3><img src="/2022/09/28/41h-f407-usart/16.jpg" class=""><h3 id="æ•°æ®å¯„å­˜å™¨ï¼ˆé‡ç‚¹ï¼‰"><a href="#æ•°æ®å¯„å­˜å™¨ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="æ•°æ®å¯„å­˜å™¨ï¼ˆé‡ç‚¹ï¼‰"></a>æ•°æ®å¯„å­˜å™¨ï¼ˆé‡ç‚¹ï¼‰</h3><img src="/2022/09/28/41h-f407-usart/17.jpg" class=""><img src="/2022/09/28/41h-f407-usart/18.jpg" class=""><img src="/2022/09/28/41h-f407-usart/19.jpg" class=""><img src="/2022/09/28/41h-f407-usart/20.jpg" class=""><h3 id="æ§åˆ¶å•å…ƒ"><a href="#æ§åˆ¶å•å…ƒ" class="headerlink" title="æ§åˆ¶å•å…ƒ"></a>æ§åˆ¶å•å…ƒ</h3><ul><li>å‘é€å™¨</li></ul><p>å‘é€å™¨æ ¹æ®Mä½çš„çŠ¶æ€å‘é€8ä½æˆ–9ä½çš„æ•°æ®å­—ã€‚å½“å‘é€ä½¿èƒ½ä½(TE)è¢«è®¾ç½®æ—¶ï¼Œå‘é€ç§»ä½å¯„å­˜å™¨ä¸­çš„æ•°æ®åœ¨TXè„šä¸Šè¾“å‡ºï¼Œç›¸åº”çš„æ—¶é’Ÿè„‰å†²åœ¨CKè„šä¸Šè¾“å‡ºã€‚</p><p>ä¸€ä¸ªå­—ç¬¦å¸§å‘é€éœ€è¦ä¸‰ä¸ªéƒ¨åˆ†ï¼šèµ·å§‹ä½+æ•°æ®å¸§ï¼ˆå¯èƒ½æœ‰æ ¡éªŒä½ï¼‰+åœæ­¢ä½ã€‚<code>æ¯ä¸ªå­—ç¬¦(ä¸€ä¸ªæ•°æ®å¸§)ä¹‹å‰éƒ½æœ‰ä¸€ä¸ªä½ç”µå¹³çš„èµ·å§‹ä½ï¼Œä¹‹åè·Ÿç€çš„åœæ­¢ä½</code>ï¼Œå…¶æ•°ç›®å¯é…ç½®,æ•°æ®å¸§å°±æ˜¯æˆ‘ä»¬è¦å‘é€çš„ 8 ä½æˆ– 9 ä½æ•°æ®ï¼Œ<code>æ•°æ®æ˜¯ä»æœ€ä½ä½å¼€å§‹ä¼ è¾“çš„</code>,åœæ­¢ä½æ˜¯ä¸€å®šæ—¶é—´å‘¨æœŸçš„é«˜ç”µå¹³ã€‚</p><p>é…ç½®æ­¥éª¤ï¼š</p><img src="/2022/09/28/41h-f407-usart/21.jpg" class=""><img src="/2022/09/28/41h-f407-usart/22.jpg" class=""><img src="/2022/09/28/41h-f407-usart/23.jpg" class=""><img src="/2022/09/28/41h-f407-usart/24.jpg" class=""><img src="/2022/09/28/41h-f407-usart/25.jpg" class=""><p><code>å®é™…ä¸Šå°±æ˜¯æŠŠåè¿›åˆ¶çš„å°æ•°è½¬åŒ–æˆåå…­è¿›åˆ¶</code></p><img src="/2022/09/28/41h-f407-usart/32.jpg" class=""><blockquote><p>æ³¢ç‰¹ç‡è®¡ç®—æ–¹æ³•<br>é¦–å…ˆæ—¶é’Ÿæ¥æºï¼ŒfPCLK1æˆ–fPCLK2<br>ç„¶åé™¤ä»¥USARTDIV<br>å†é™¤ä»¥8*ï¼ˆ2-OVER8ï¼‰<br>OVER8æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œå¯ä»¥ä¸º1æˆ–0ï¼ˆåœ¨CR1å¯„å­˜å™¨15ä½è®¾ç½®ï¼‰<br>æ•…æ³¢ç‰¹ç‡ &#x3D; F&#x2F;ï¼ˆï¼ˆ8*ï¼ˆ2-OVER8ï¼‰ï¼‰*USARTDIVï¼‰<br>å¦‚æœä½ è¦å¿«ï¼Œå°±è®¾ç½®OVER8ä¸º1ï¼Œ8å€è¿‡æ ·ç‡ï¼Œä½†æ˜¯å®¹é”™å·®<br>å¦‚æœä½ è¦ç²¾å‡†ï¼Œå°±OVER8è®¾ç½®ä¸º0ï¼Œ16å€è¿‡æ ·ç‡ï¼Œä½†æ˜¯æ…¢<br>æˆ‘ä»¬å¦‚ä½•æ§åˆ¶æ³¢ç‰¹ç‡ï¼Œå½“æˆ‘ä»¬ç¡®è®¤å¥½æˆ‘ä»¬çš„æ³¢ç‰¹ç‡ï¼Œæ—¶é’Ÿä¿¡å·ä¹Ÿç¡®å®šäº†ï¼Œå°±éœ€è¦æ§åˆ¶USARTDIVå¤§å°<br>USARTDIVçš„å€¼å¦‚ä½•å†³å®š<br>ç”±USART_BRRå†³å®š<br>å½“OVER8ä¸º0æ—¶ï¼Œå°æ•°æ¯”æ–¹ç¼–ç ä¸º4ä½ï¼Œå¹¶é€šè¿‡USART_BRRå¯„å­˜å™¨ä¸­çš„DIV_fraction[3:0]ä½ç¼–ç¨‹<br>å½“OVER8ä¸º1æ—¶ï¼Œå°æ•°æ¯”æ–¹ç¼–ç ä¸º3ä½ï¼Œå¹¶é€šè¿‡USART_BRRå¯„å­˜å™¨ä¸­çš„DIV_fraction[2:0]ä½ç¼–ç¨‹ï¼Œè¿™DIV_fraction[3]å¿…é¡»ä¿æŒæ¸…0<br>USART_BRRå¯„å­˜å™¨å¦‚ä¸Šå›¾<br>32ä½ä½¿ç”¨äº†ä½16ä½ï¼Œåˆ†ä¸º2éƒ¨åˆ†ï¼Œæœ‰é«˜12ä½å’Œä½4ä½<br>é«˜12ä½ï¼šæ•´æ•°<br>ä½4ä½ï¼šå°æ•°</p></blockquote><blockquote><p>OVER8&#x3D;0æ—¶å€™æ³¢ç‰¹ç‡è®¡ç®—</p></blockquote><img src="/2022/09/28/41h-f407-usart/33.png" class=""><p><a href="https://blog.csdn.net/qq_54674051/article/details/126858320?ops_request_misc=&request_id=&biz_id=102&utm_term=stm32%E4%B8%B2%E5%8F%A3%E6%B3%A2%E7%89%B9%E7%8E%87%E5%A6%82%E4%BD%95%E8%80%8C%E8%AE%A1%E7%AE%97&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-8-126858320.142%5Ev51%5Econtrol,201%5Ev3%5Econtrol_1&spm=1018.2226.3001.4187">STM32ä¸²å£å·¥ä½œåŸç†</a></p><blockquote><p>å°çŸ¥è¯†:<br>æ³¢ç‰¹ç‡å°±æ˜¯æ¯ç§’ä¼ è¾“çš„bitçš„ä½æ•°<br>è®¡ç®—æœºæœ€å°çš„å•ä½æ˜¯bit,ä½,ä¹Ÿå«æ¯”ç‰¹ä½<br>byteæ˜¯å­—èŠ‚,ä¹Ÿå°±æ˜¯B<br>ä¸€å­—èŠ‚(B)&#x3D;8ä½(bit)<br>ä½åªæœ‰ä¸¤ç§å½¢å¼,0å’Œ1,åªèƒ½è¡¨ç¤ºä¸¤ç§çŠ¶æ€,è€Œå­—èŠ‚æœ‰å…«ä¸ªä½,æœ‰256ä¸ªçŠ¶æ€<br>1GB&#x3D;1024MB<br>1MB&#x3D;1024KB<br>1KB&#x3D;1024B<br>1B&#x3D;8bit</p></blockquote><p>è®¾ç½®USART_CR1ä¸­çš„TEä½ï¼Œå‘é€ä¸€ä¸ªç©ºé—²å¸§å¸§(<code>ä¸€ä¸ªæ•°æ®å¸§é•¿åº¦çš„é«˜ç”µå¹³</code>)ä½œä¸ºç¬¬ä¸€æ¬¡æ•°æ®å‘é€ã€‚</p><img src="/2022/09/28/41h-f407-usart/26.jpg" class=""><h3 id="æ·±å…¥ç†è§£TXEä½ä¸TCä½ï¼š"><a href="#æ·±å…¥ç†è§£TXEä½ä¸TCä½ï¼š" class="headerlink" title="æ·±å…¥ç†è§£TXEä½ä¸TCä½ï¼š"></a>æ·±å…¥ç†è§£TXEä½ä¸TCä½ï¼š</h3><p>æ¸…é›¶TXEä½æ€»æ˜¯é€šè¿‡å¯¹æ•°æ®å¯„å­˜å™¨çš„å†™æ“ä½œ(CPU æˆ– DMA)æ¥å®Œæˆçš„ï¼Œå½“TXEä½å·²ç»è¢«ç¡¬ä»¶ç½®1å®ƒè¡¨æ˜ï¼š</p><p>â— æ•°æ®å·²ç»ä»TDRç§»é€åˆ°ç§»ä½å¯„å­˜å™¨ï¼Œæ•°æ®å‘é€å·²ç»å¼€å§‹(å‘é€ç§»ä½å¯„å­˜å™¨æ­£åœ¨ä¸€ä½ä¸€ä½å‘å¤–ä¼ è¾“æ•°æ®)</p><p>â— TDRå¯„å­˜å™¨è¢«æ¸…ç©º</p><p>â— ä¸‹ä¸€ä¸ªæ•°æ®å¯ä»¥è¢«å†™è¿›USART_DRå¯„å­˜å™¨è€Œä¸ä¼šè¦†ç›–å…ˆå‰çš„æ•°æ®å¦‚æœTXEIEä½è¢«è®¾ç½®ï¼Œæ­¤æ ‡å¿—å°†äº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚</p><p>å¦‚æœæ­¤æ—¶USARTæ­£åœ¨å‘é€æ•°æ®(å‘é€ç§»ä½å¯„å­˜å™¨æ­£åœ¨ä¸€ä½ä¸€ä½å‘å¤–ä¼ è¾“æ•°æ®)ï¼Œå¯¹USART_DRå¯„å­˜å™¨çš„å†™æ“ä½œæŠŠæ•°æ®å­˜è¿›TDRå¯„å­˜å™¨ï¼Œå¹¶åœ¨å½“å‰ä¼ è¾“ç»“æŸæ—¶æŠŠè¯¥æ•°æ®å¤åˆ¶è¿›ç§»ä½å¯„å­˜å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ç§»ä½å¯„å­˜å™¨é‡Œé¢çš„æ•°æ®å¹¶ä¸ä¼šè¢«è¦†ç›–ï¼Œæ‰€ä»¥æˆ‘è§‰å¾—åªè¦ä½ å‘é€ä¸€å¸§æ•°æ®ç­‰å¾…TXEç½®1ï¼Œå°±ç®—æ˜¯å‘é€å¤šå¸§æ•°æ®æ—¶æœ€åä¹Ÿä¸ç”¨ç­‰å¾…TC&#x3D;1ã€‚</p><p>å¦‚æœæ­¤æ—¶USARTæ²¡æœ‰åœ¨å‘é€æ•°æ®ï¼Œå¤„äºç©ºé—²çŠ¶æ€ï¼Œå¯¹USART_DRå¯„å­˜å™¨çš„å†™æ“ä½œç›´æ¥æŠŠæ•°æ®æ”¾è¿›ç§»ä½å¯„å­˜å™¨ï¼Œæ•°æ®ä¼ è¾“å¼€å§‹ï¼ŒTXEä½ç«‹å³è¢«ç½®èµ·ã€‚</p><p>å½“ä¸€å¸§å‘é€å®Œæˆæ—¶(åœæ­¢ä½å‘é€å)å¹¶ä¸”è®¾ç½®äº†TXEä½ï¼ŒTCä½è¢«ç½®èµ·ï¼Œå¦‚æœUSART_CR1å¯„å­˜å™¨ä¸­çš„TCIEä½è¢«ç½®èµ·æ—¶ï¼Œåˆ™ä¼šäº§ç”Ÿä¸­æ–­</p><p>ä½¿ç”¨ä¸‹åˆ—è½¯ä»¶è¿‡ç¨‹æ¸…é™¤TCä½ï¼š<br>1ï¼è¯»ä¸€æ¬¡USART_SRå¯„å­˜å™¨ï¼›<br>2ï¼å†™ä¸€æ¬¡USART_DRå¯„å­˜å™¨ã€‚<br>TCä½ä¹Ÿå¯ä»¥é€šè¿‡è½¯ä»¶å¯¹å®ƒå†™â€™0â€™æ¥æ¸…é™¤ã€‚æ­¤æ¸…é›¶æ–¹å¼åªæ¨èåœ¨å¤šç¼“å†²å™¨é€šä¿¡æ¨¡å¼ä¸‹ä½¿ç”¨</p><p>æ¥æ”¶å™¨<br>å¦‚æœå°† USART_CR1 å¯„å­˜å™¨çš„ RE ä½ç½® 1ï¼Œä½¿èƒ½ USART æ¥æ”¶ï¼Œä½¿å¾—æ¥æ”¶å™¨åœ¨ RX çº¿å¼€å§‹æœç´¢èµ·å§‹ä½ã€‚åœ¨ç¡®å®šåˆ°èµ·å§‹ä½åå°±æ ¹æ® RX çº¿ç”µå¹³çŠ¶æ€æŠŠæ•°æ®å­˜æ”¾åœ¨æ¥æ”¶ç§»ä½å¯„å­˜å™¨å†…ã€‚æ¥æ”¶å®Œæˆåå°±æŠŠæ¥æ”¶ç§»ä½å¯„å­˜å™¨æ•°æ®ç§»åˆ° RDR å†…ï¼Œå¹¶æŠŠ USART_SR å¯„å­˜å™¨çš„ RXNE ä½ç½®1ï¼ŒåŒæ—¶å¦‚æœ USART_CR2 å¯„å­˜å™¨çš„ RXNEIE ç½® 1 çš„è¯å¯ä»¥äº§ç”Ÿä¸­æ–­ã€‚</p><p>å½“ä¸€å­—ç¬¦è¢«æ¥æ”¶åˆ°æ—¶ï¼Œ<br>â— RXNEä½è¢«ç½®1ã€‚å®ƒè¡¨æ˜ç§»ä½å¯„å­˜å™¨çš„å†…å®¹è¢«è½¬ç§»åˆ°RDRã€‚æ¢å¥è¯è¯´ï¼Œæ•°æ®å·²ç»è¢«æ¥æ”¶å¹¶ä¸”å¯ä»¥è¢«è¯»å‡ºã€‚</p><p>â— å¦‚æœRXNEIEä½è¢«è®¾ç½®ï¼Œäº§ç”Ÿä¸­æ–­ã€‚</p><p>â— åœ¨å¤šç¼“å†²å™¨é€šä¿¡æ—¶ï¼ŒRXNEåœ¨æ¯ä¸ªå­—èŠ‚æ¥æ”¶åè¢«ç½®èµ·ï¼Œå¹¶ç”±DMAå¯¹æ•°æ®å¯„å­˜å™¨çš„è¯»æ“ä½œè€Œæ¸…é›¶ã€‚</p><p>â— åœ¨å•ç¼“å†²å™¨æ¨¡å¼é‡Œï¼Œç”±è½¯ä»¶è¯»USART_DRå¯„å­˜å™¨å®Œæˆå¯¹RXNEä½æ¸…é™¤,RXNEæ ‡å¿—ä¹Ÿå¯ä»¥é€šè¿‡å¯¹å®ƒå†™0æ¥æ¸…é™¤ã€‚RXNEä½å¿…é¡»åœ¨ä¸‹ä¸€å­—ç¬¦æ¥æ”¶ç»“æŸå‰(æ¥æ”¶ç§»ä½å¯„å­˜å™¨æ¥æ”¶æ»¡)è¢«æ¸…é›¶(è¦å°†æ•°æ®è¯»å‡º)ï¼Œä»¥é¿å…æº¢å‡ºé”™è¯¯(ç§»ä½å¯„å­˜å™¨çš„æ•°æ®ä¼šè¢«è¦†ç›–)ã€‚</p><p>æº¢å‡ºé”™è¯¯<br>å¦‚æœRXNEè¿˜æ²¡æœ‰è¢«å¤ä½ï¼ˆè¿˜æ²¡æœ‰è¯»å‡ºDRå¯„å­˜å™¨çš„æ•°æ®ï¼‰ï¼Œåˆæ¥æ”¶åˆ°ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ™å‘ç”Ÿæº¢å‡ºé”™è¯¯,æ•°æ®åªæœ‰å½“RXNEä½è¢«æ¸…é›¶åæ‰èƒ½ä»ç§»ä½å¯„å­˜å™¨è½¬ç§»åˆ°RDRå¯„å­˜å™¨ã€‚RXNEæ ‡è®°æ˜¯æ¥æ”¶åˆ°æ¯ä¸ªå­—èŠ‚åè¢«ç½®ä½çš„ã€‚å¦‚æœä¸‹ä¸€ä¸ªæ•°æ®å·²è¢«æ”¶åˆ°æˆ–å…ˆå‰DMAè¯·æ±‚è¿˜æ²¡è¢«æœåŠ¡æ—¶ï¼ŒRXNEæ ‡å¿—ä»æ˜¯1ï¼Œæº¢å‡ºé”™è¯¯äº§ç”Ÿã€‚</p><p>å½“æº¢å‡ºé”™è¯¯äº§ç”Ÿæ—¶ï¼š<br>â— OREä½è¢«ç½®ä½ã€‚<br>â— RDRå†…å®¹å°†ä¸ä¼šä¸¢å¤±ã€‚è¯»USART_DRå¯„å­˜å™¨ä»èƒ½å¾—åˆ°å…ˆå‰çš„æ•°æ®ã€‚<br>â— ç§»ä½å¯„å­˜å™¨ä¸­ä»¥å‰çš„å†…å®¹å°†è¢«è¦†ç›–ã€‚éšåæ¥æ”¶åˆ°çš„æ•°æ®éƒ½å°†ä¸¢å¤±ã€‚</p><p>â— å¦‚æœRXNEIEä½è¢«è®¾ç½®æˆ–EIEå’ŒDMARä½éƒ½è¢«è®¾ç½®ï¼Œä¸­æ–­äº§ç”Ÿã€‚</p><p>â— é¡ºåºæ‰§è¡Œå¯¹USART_SRå’ŒUSART_DRå¯„å­˜å™¨çš„è¯»æ“ä½œï¼Œå¯å¤ä½OREä½</p><img src="/2022/09/28/41h-f407-usart/27.jpg" class=""><img src="/2022/09/28/41h-f407-usart/28.jpg" class=""><h3 id="USARTå’ŒUARTçš„åŒºåˆ«"><a href="#USARTå’ŒUARTçš„åŒºåˆ«" class="headerlink" title="USARTå’ŒUARTçš„åŒºåˆ«"></a>USARTå’ŒUARTçš„åŒºåˆ«</h3><p>UARTï¼šuniversal asynchronous receiver and transmitteré€šç”¨å¼‚æ­¥æ”¶&#x2F;å‘å™¨(è£å‰ªæ‰äº†åŒæ­¥é€šä¿¡åŠŸèƒ½ï¼ˆæ—¶é’ŸåŒæ­¥ï¼‰)<br>USART:universal synchronous asynchronous receiver and transmitteré€šç”¨åŒæ­¥&#x2F;å¼‚æ­¥æ”¶&#x2F;å‘å™¨<br>å¤§å®¶èƒ½çœ‹å‡ºæ¥USARTå’ŒUARTç›¸æ¯”è¾ƒï¼Œå¯ä»¥å®ç°åŒæ­¥ï¼Œå°±æ˜¯è¯´USARTç›¸å¯¹UARTçš„åŒºåˆ«ä¹‹ä¸€å°±æ˜¯èƒ½æä¾›ä¸»åŠ¨æ—¶é’Ÿã€‚</p><blockquote><p>ä¸²è¡Œé€šä¿¡ä¸€èˆ¬æ˜¯ä»¥å¸§æ ¼å¼ä¼ è¾“æ•°æ®ï¼Œå³æ˜¯ä¸€å¸§ä¸€å¸§çš„ä¼ è¾“ï¼Œæ¯å¸§åŒ…å«æœ‰èµ·å§‹ä¿¡å·ã€æ•°æ®ä¿¡æ¯ã€æ ¡éªŒä¿¡æ¯(ç”±æˆ‘ä»¬è‡ªå·±è®¾ç½®)ã€åœæ­¢ä¿¡å·ã€‚</p></blockquote><h3 id="ä¸²å£ç›¸å…³å¯„å­˜å™¨"><a href="#ä¸²å£ç›¸å…³å¯„å­˜å™¨" class="headerlink" title="ä¸²å£ç›¸å…³å¯„å­˜å™¨"></a>ä¸²å£ç›¸å…³å¯„å­˜å™¨</h3><blockquote><p>USART_SRã€€çŠ¶æ€å¯„å­˜å™¨<br>USART_DRã€€æ•°æ®å¯„å­˜å™¨<br>USART_BRRã€€æ³¢ç‰¹ç‡å¯„å­˜å™¨<br>USART_CR1ã€€æ§åˆ¶å¯„å­˜å™¨</p></blockquote><h3 id="å°è£…å‡½æ•°"><a href="#å°è£…å‡½æ•°" class="headerlink" title="å°è£…å‡½æ•°"></a>å°è£…å‡½æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F; è·å–çŠ¶æ€æ ‡å¿—ä½FlagStatus USART_GetFlagStatus(USART_TypeDef* USARTx, uint16_t USART_FLAG);&#x2F;&#x2F; æ¸…é™¤çŠ¶æ€æ ‡å¿—ä½void USART_ClearFlag(USART_TypeDef* USARTx, uint16_t USART_FLAG);&#x2F;&#x2F; è·å–ä¸­æ–­çŠ¶æ€æ ‡å¿—ä½ITStatus USART_GetITStatus(USART_TypeDef* USARTx, uint16_t USART_IT);&#x2F;&#x2F; æ¸…é™¤ä¸­æ–­çŠ¶æ€æ ‡å¿—ä½void USART_ClearITPendingBit(USART_TypeDef* USARTx, uint16_t USART_IT);&#x2F;&#x2F; å‘é€æ•°æ®åˆ°ä¸²å£(é€šè¿‡å†™USART_DRå¯„å­˜å™¨å‘é€æ•°æ®)void USART_SendData(USART_TypeDef* USARTx, uint16_t Data);&#x2F;&#x2F; æ¥æ”¶æ•°æ®ï¼ˆä»USART_DRå¯„å­˜å™¨è¯»å–æ¥æ”¶åˆ°çš„æ•°æ®ï¼‰uint16_t USART_ReceiveData(USART_TypeDef* USARTx);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="USARTåˆå§‹åŒ–ç»“æ„ä½“"><a href="#USARTåˆå§‹åŒ–ç»“æ„ä½“" class="headerlink" title="USARTåˆå§‹åŒ–ç»“æ„ä½“"></a>USARTåˆå§‹åŒ–ç»“æ„ä½“</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">typedef struct&#123;  uint32_t USART_BaudRate;            uint16_t USART_WordLength;          uint16_t USART_StopBits;            uint16_t USART_Parity;               uint16_t USART_Mode;               uint16_t USART_HardwareFlowControl;                                         &#125; USART_InitTypeDef;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2022/09/28/41h-f407-usart/28.jpg" class=""><ol><li><p>USART_BaudRateï¼šæ³¢ç‰¹ç‡è®¾ç½®ã€‚ä¸€èˆ¬è®¾ç½®ä¸º9600ã€115200ã€‚æ ‡å‡†åº“å‡½æ•°ä¼šè‡ªå·±è®¡ç®—è®¡ç®—å¾—åˆ° USARTDIV å€¼ï¼Œä»è€Œå†™å…¥USART_BRR å¯„å­˜å™¨ã€‚</p></li><li><p>USART_WordLengthï¼šæ•°æ®å¸§å­—é•¿ï¼Œå¯é€‰ 8 ä½æˆ– 9 ä½ã€‚å®ƒè®¾ç½®äº†USART_CR1 å¯„å­˜å™¨çš„ M ä½çš„å€¼ã€‚å¦‚æœæ²¡æœ‰ä½¿èƒ½å¥‡å¶æ ¡éªŒä½ï¼Œä¸€èˆ¬ä½¿ç”¨ 8 æ•°æ®ä½ï¼›å¦‚æœä½¿èƒ½äº†å¥‡å¶æ ¡éªŒåˆ™ä¸€èˆ¬è®¾ç½®ä¸º 9 æ•°æ®ä½ï¼Œæœ€åä¸€ä½æ˜¯å¥‡å¶æ ¡éªŒä½ã€‚</p></li><li><p>USART_StopBitsï¼šåœæ­¢ä½è®¾ç½®ï¼Œå¯é€‰ 0.5 ä¸ªã€1 ä¸ªã€1.5 ä¸ªå’Œ 2 ä¸ªåœæ­¢ä½ï¼Œå®ƒè®¾å®šUSART_CR2 STOPä½ï¼Œä¸€èˆ¬æˆ‘ä»¬é€‰æ‹© 1 ä¸ªåœæ­¢ä½ã€‚</p></li><li><p>USART_Parity ï¼š å¥‡ å¶ æ ¡ éªŒ æ§ åˆ¶ é€‰ æ‹© ï¼ŒUSART_CR1 å¯„å­˜å™¨çš„ PCE ä½å’Œ PS ä½çš„å€¼ã€‚</p></li><li><p>USART_Modeï¼šUSART æ¨¡å¼é€‰æ‹©ï¼Œæœ‰ USART_Mode_Rx å’Œ USART_Mode_Txï¼Œå…è®¸ä½¿ç”¨é€»è¾‘æˆ–è¿ç®—é€‰æ‹©ä¸¤ä¸ª,USART_CR1 å¯„å­˜å™¨çš„ RE ä½å’Œ TE ä½ã€‚</p></li><li><p>USART_HardwareFlowControlï¼šç¡¬ä»¶æµæ§åˆ¶é€‰æ‹©ï¼Œåªæœ‰åœ¨ç¡¬ä»¶æµæ§åˆ¶æ¨¡å¼æ‰æœ‰æ•ˆï¼Œå¯é€‰æœ‰â‘´ä½¿èƒ½ RTSã€â‘µä½¿èƒ½ CTSã€â‘¶åŒæ—¶ä½¿èƒ½ RTS å’Œ CTSã€â‘·ä¸ä½¿èƒ½ç¡¬ä»¶æµã€‚</p></li></ol><h3 id="ç¼–ç¨‹æ€è·¯"><a href="#ç¼–ç¨‹æ€è·¯" class="headerlink" title="ç¼–ç¨‹æ€è·¯"></a>ç¼–ç¨‹æ€è·¯</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">1) ä½¿èƒ½ RX å’Œ TX å¼•è„š GPIO æ—¶é’Ÿå’Œ USART æ—¶é’Ÿï¼›2) åˆå§‹åŒ– GPIOï¼Œå¹¶å°† GPIO å¤ç”¨åˆ° USART ä¸Šï¼›3) é…ç½® USART å‚æ•°åˆå§‹åŒ–ç»“æ„ä½“ï¼›4) é…ç½®ä¸­æ–­æ§åˆ¶å™¨å¹¶ä½¿èƒ½ USART æ¥æ”¶ä¸­æ–­ï¼›5) ä½¿èƒ½ USARTï¼›6) åœ¨ USART æ¥æ”¶ä¸­æ–­æœåŠ¡å‡½æ•°å®ç°æ•°æ®æ¥æ”¶å’Œå‘é€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸²å£æ”¶å‘ä»£ç "><a href="#ä¸²å£æ”¶å‘ä»£ç " class="headerlink" title="ä¸²å£æ”¶å‘ä»£ç "></a>ä¸²å£æ”¶å‘ä»£ç </h3><p><code>usart.h</code></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#ifndef _USART_H#define _USART_H#include &quot;stm32f10x.h&quot;#include &lt;stdio.h&gt;#define   DEBUG_USART1    1#define   DEBUG_USART2    0#if  DEBUG_USART1 &#x2F;&#x2F; ä¸²å£1-USART1#define  DEBUG_USARTx                   USART1#define  DEBUG_USART_CLK                RCC_APB2Periph_USART1#define  DEBUG_USART_APBxClkCmd         RCC_APB2PeriphClockCmd#define  DEBUG_USART_BAUDRATE           115200&#x2F;&#x2F; USART GPIO å¼•è„šå®å®šä¹‰#define  DEBUG_USART_GPIO_CLK           (RCC_APB2Periph_GPIOA)#define  DEBUG_USART_GPIO_APBxClkCmd    RCC_APB2PeriphClockCmd    #define  DEBUG_USART_TX_GPIO_PORT       GPIOA   #define  DEBUG_USART_TX_GPIO_PIN        GPIO_Pin_9#define  DEBUG_USART_RX_GPIO_PORT       GPIOA#define  DEBUG_USART_RX_GPIO_PIN        GPIO_Pin_10#define  DEBUG_USART_IRQ                USART1_IRQn#define  DEBUG_USART_IRQHandler         USART1_IRQHandler#elif   DEBUG_USART2 &#x2F;&#x2F; ä¸²å£2-USART2#define  DEBUG_USARTx                   USART2#define  DEBUG_USART_CLK                RCC_APB1Periph_USART2#define  DEBUG_USART_APBxClkCmd         RCC_APB1PeriphClockCmd#define  DEBUG_USART_BAUDRATE           115200&#x2F;&#x2F; USART GPIO å¼•è„šå®å®šä¹‰#define  DEBUG_USART_GPIO_CLK           (RCC_APB2Periph_GPIOA)#define  DEBUG_USART_GPIO_APBxClkCmd    RCC_APB2PeriphClockCmd    #define  DEBUG_USART_TX_GPIO_PORT       GPIOA   #define  DEBUG_USART_TX_GPIO_PIN        GPIO_Pin_2#define  DEBUG_USART_RX_GPIO_PORT       GPIOA#define  DEBUG_USART_RX_GPIO_PIN        GPIO_Pin_3#define  DEBUG_USART_IRQ                USART2_IRQn#define  DEBUG_USART_IRQHandler         USART2_IRQHandler#endifvoid USART_Config(void);void Usart_SendByte( USART_TypeDef * pUSARTx, uint8_t date);void Usart_SendString( USART_TypeDef * pUSARTx, char *str);void Usart_SendHalfWord( USART_TypeDef * pUSARTx, uint16_t date);void Usart_SendArray(USART_TypeDef * pUSARTx,uint8_t *arr,uint16_t num);#endif &#x2F;* _USART_H *&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>usart.c</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &quot;usart.h&quot;#include &quot;led.h&quot;static void NVIC_Configuration(void)&#123;NVIC_InitTypeDef  NVIC_InitStructure;NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);NVIC_InitStructure.NVIC_IRQChannel &#x3D;DEBUG_USART_IRQ;NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority &#x3D;0x01;NVIC_InitStructure.NVIC_IRQChannelSubPriority &#x3D;0x01;NVIC_InitStructure.NVIC_IRQChannelCmd &#x3D;ENABLE;NVIC_Init(&amp;NVIC_InitStructure);&#125;void USART_Config(void)&#123; GPIO_InitTypeDef GPIO_InitStructure;USART_InitTypeDef USART_InitStructure;&#x2F;&#x2F; æ‰“å¼€ä¸²å£GPIOçš„æ—¶é’ŸDEBUG_USART_GPIO_APBxClkCmd(DEBUG_USART_GPIO_CLK, ENABLE);&#x2F;&#x2F; æ‰“å¼€ä¸²å£å¤–è®¾çš„æ—¶é’ŸDEBUG_USART_APBxClkCmd(DEBUG_USART_CLK, ENABLE);&#x2F;&#x2F; å°†USART Txçš„GPIOé…ç½®ä¸ºæ¨æŒ½å¤ç”¨æ¨¡å¼GPIO_InitStructure.GPIO_Pin &#x3D; DEBUG_USART_TX_GPIO_PIN;GPIO_InitStructure.GPIO_Mode &#x3D; GPIO_Mode_AF_PP;GPIO_InitStructure.GPIO_Speed &#x3D; GPIO_Speed_50MHz;GPIO_Init(DEBUG_USART_TX_GPIO_PORT, &amp;GPIO_InitStructure);  &#x2F;&#x2F; å°†USART Rxçš„GPIOé…ç½®ä¸ºæµ®ç©ºè¾“å…¥æ¨¡å¼GPIO_InitStructure.GPIO_Pin &#x3D; DEBUG_USART_RX_GPIO_PIN;GPIO_InitStructure.GPIO_Mode &#x3D; GPIO_Mode_IN_FLOATING;GPIO_Init(DEBUG_USART_RX_GPIO_PORT, &amp;GPIO_InitStructure);&#x2F;&#x2F; é…ç½®ä¸²å£çš„å·¥ä½œå‚æ•°&#x2F;&#x2F; é…ç½®æ³¢ç‰¹ç‡USART_InitStructure.USART_BaudRate &#x3D; DEBUG_USART_BAUDRATE;&#x2F;&#x2F; é…ç½® é’ˆæ•°æ®å­—é•¿USART_InitStructure.USART_WordLength &#x3D; USART_WordLength_8b;&#x2F;&#x2F; é…ç½®åœæ­¢ä½USART_InitStructure.USART_StopBits &#x3D; USART_StopBits_1;&#x2F;&#x2F; é…ç½®æ ¡éªŒä½USART_InitStructure.USART_Parity &#x3D; USART_Parity_No ;&#x2F;&#x2F; é…ç½®ç¡¬ä»¶æµæ§åˆ¶USART_InitStructure.USART_HardwareFlowControl &#x3D; USART_HardwareFlowControl_None;&#x2F;&#x2F; é…ç½®å·¥ä½œæ¨¡å¼ï¼Œæ”¶å‘ä¸€èµ·USART_InitStructure.USART_Mode &#x3D; USART_Mode_Rx | USART_Mode_Tx;&#x2F;&#x2F; å®Œæˆä¸²å£çš„åˆå§‹åŒ–é…ç½®USART_Init(DEBUG_USARTx, &amp;USART_InitStructure);&#x2F;&#x2F;ä¸­æ–­é…ç½®NVIC_Configuration();&#x2F;&#x2F;å¼€å¯ä¸²å£æ¥æ”¶ä¸­æ–­USART_ITConfig(DEBUG_USARTx,USART_IT_RXNE, ENABLE);&#x2F;&#x2F;ä½¿èƒ½ä¸²å£USART_Cmd(DEBUG_USARTx, ENABLE);&#125;&#x2F;&#x2F;å‘é€ä¸€ä¸ªå­—èŠ‚void Usart_SendByte(USART_TypeDef * pUSARTx,uint8_t date)&#123; USART_SendData(pUSARTx,date); while( USART_GetFlagStatus(pUSARTx,USART_FLAG_TXE)&#x3D;&#x3D; RESET);&#125;&#x2F;&#x2F;å‘é€ä¸€ä¸ª16ä½çš„æ•°æ®void Usart_SendHalfWord(USART_TypeDef * pUSARTx,uint16_t date)&#123;uint16_t tmp_h;uint16_t tmp_l;tmp_h &#x3D;date&gt;&gt;0x08;tmp_l &#x3D;date &amp; 0xff;Usart_SendByte(pUSARTx,tmp_h);Usart_SendByte(pUSARTx,tmp_l);&#125;&#x2F;&#x2F;å‘é€ä¸€ä¸ª8ä½çš„æ•°ç»„void Usart_SendArray(USART_TypeDef * pUSARTx,uint8_t *arr,uint16_t num)&#123;    while(num--) &#123; Usart_SendByte( pUSARTx ,*arr++); &#125; while (USART_GetFlagStatus(pUSARTx, USART_FLAG_TC)&#x3D;&#x3D; RESET);&#125;&#x2F;&#x2F;å‘é€å­—ç¬¦ä¸²void Usart_SendString( USART_TypeDef * pUSARTx, char *str)&#123; while( *str!&#x3D;&#39;\0&#39; ) &#123; Usart_SendByte( pUSARTx, *str++);  &#125; while (USART_GetFlagStatus(pUSARTx, USART_FLAG_TC)&#x3D;&#x3D; RESET);&#125;&#x2F;&#x2F;&#x2F;é‡å®šå‘cåº“å‡½æ•°printfåˆ°ä¸²å£ï¼Œé‡å®šå‘åå¯ä½¿ç”¨printfå‡½æ•°int fputc(int ch, FILE *f)&#123;&#x2F;* å‘é€ä¸€ä¸ªå­—èŠ‚æ•°æ®åˆ°ä¸²å£ *&#x2F;USART_SendData(DEBUG_USARTx, (uint8_t) ch);&#x2F;* ç­‰å¾…å‘é€å®Œæ¯• *&#x2F;while (USART_GetFlagStatus(DEBUG_USARTx, USART_FLAG_TXE) &#x3D;&#x3D; RESET);return (ch);&#125;&#x2F;&#x2F;&#x2F;é‡å®šå‘cåº“å‡½æ•°scanfåˆ°ä¸²å£ï¼Œé‡å†™å‘åå¯ä½¿ç”¨scanfã€getcharç­‰å‡½æ•°int fgetc(FILE *f)&#123;&#x2F;* ç­‰å¾…ä¸²å£è¾“å…¥æ•°æ® *&#x2F;while (USART_GetFlagStatus(DEBUG_USARTx, USART_FLAG_RXNE) &#x3D;&#x3D; RESET);return (int)USART_ReceiveData(DEBUG_USARTx);&#125;&#x2F;&#x2F;ä¸­æ–­æœåŠ¡å‡½æ•°void DEBUG_USART_IRQHandler(void)&#123;     uint16_t tmp;if(USART_GetFlagStatus(DEBUG_USARTx, USART_FLAG_RXNE) !&#x3D; RESET)&#123;  tmp&#x3D;USART_ReceiveData(DEBUG_USARTx); USART_SendData(DEBUG_USARTx,tmp);while( USART_GetFlagStatus(DEBUG_USARTx, USART_FLAG_TXE)&#x3D;&#x3D; RESET);&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &quot;stm32f10x.h&quot;#include &quot;led.h&quot;#include  &quot;usart.h&quot;#include  &lt;string.h&gt;#define SOFT_DELAY Delay(0x0FFFFF);void Delay(__IO u32 nCount); int main(void)&#123; uint16_t ch; uint8_t arr[10]&#x3D;&#123;1,2,3,4,5,6,7,8,9,10&#125;;&#x2F;* LED ç«¯å£åˆå§‹åŒ– *&#x2F;LED_GPIO_Config();  &#x2F;*åˆå§‹åŒ–USART é…ç½®æ¨¡å¼ä¸º 115200 8-N-1ï¼Œä¸­æ–­æ¥æ”¶*&#x2F;  USART_Config();   &#x2F;&#x2F;å‘é€ä¸€ä¸ªå­—ç¬¦ printf(&quot;å‘é€ä¸€ä¸ªå­—èŠ‚ï¼š\r\n&quot;);   Usart_SendByte(DEBUG_USARTx ,97); printf(&quot;\r\n&quot;);    &#x2F;&#x2F;å‘é€ä¸€ä¸ª16ä½æ•°æ® Usart_SendHalfWord(DEBUG_USARTx,0xffee); &#x2F;&#x2F;å‘é€ä¸€ä¸ªæ•°ç»„ Usart_SendArray(DEBUG_USARTx, arr,10); &#x2F;&#x2F;å‘é€ä¸€ä¸ªå­—ç¬¦ä¸² printf(&quot;å‘é€ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š\r\n&quot;); Usart_SendString( DEBUG_USARTx, &quot;hello world\r\n&quot;);  while(1);&#125; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="printfå‡½æ•°"><a href="#printfå‡½æ•°" class="headerlink" title="printfå‡½æ•°"></a>printfå‡½æ•°</h2><img src="/2022/09/28/41h-f407-usart/30.jpg" class=""><img src="/2022/09/28/41h-f407-usart/31.jpg" class=""><p><a href="https://blog.csdn.net/k666499436/article/details/124354165?spm=1001.2014.3001.5502">ä¸€ä½å¤§ä½¬å†™çš„STM32ä¸²å£é€šä¿¡è¯¦è§£</a><br><a href="https://www.dandelioncloud.cn/article/details/1531874206224773122">stm32 USART_IT_IDLEä¸­æ–­ ä¸€å¸§æ•°æ®</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F407 </tag>
            
            <tag> USART </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‚–ç‰¹åŸºäºŒæç®¡</title>
      <link href="/2022/09/27/40h-sbd-diode/"/>
      <url>/2022/09/27/40h-sbd-diode/</url>
      
        <content type="html"><![CDATA[<h2 id="è‚–ç‰¹åŸºäºŒæç®¡"><a href="#è‚–ç‰¹åŸºäºŒæç®¡" class="headerlink" title="è‚–ç‰¹åŸºäºŒæç®¡"></a>è‚–ç‰¹åŸºäºŒæç®¡</h2><p>è‚–ç‰¹åŸºï¼ˆSchottkyï¼‰äºŒæç®¡ï¼Œåˆç§°è‚–ç‰¹åŸºåŠ¿å’äºŒæç®¡ï¼ˆç®€ç§° SBDï¼‰ï¼Œå®ƒå±ä¸€ç§ä½åŠŸè€—ã€è¶…é«˜é€ŸåŠå¯¼ä½“å™¨ä»¶ã€‚æœ€æ˜¾è‘—çš„ç‰¹ç‚¹ä¸ºåå‘æ¢å¤æ—¶é—´æçŸ­ï¼ˆå¯ä»¥å°åˆ°å‡ çº³ç§’ï¼‰ï¼Œæ­£å‘å¯¼é€šå‹é™ä»…0.4Vå·¦å³ã€‚å…¶å¤šç”¨ä½œé«˜é¢‘ã€ä½å‹ã€å¤§ç”µæµæ•´æµäºŒæç®¡ã€ç»­æµäºŒæç®¡ã€ä¿æŠ¤äºŒæç®¡ï¼Œä¹Ÿæœ‰ç”¨åœ¨å¾®æ³¢é€šä¿¡ç­‰ç”µè·¯ä¸­ä½œæ•´æµäºŒæç®¡ã€å°ä¿¡å·æ£€æ³¢äºŒæç®¡ä½¿ç”¨ã€‚åœ¨é€šä¿¡ç”µæºã€å˜é¢‘å™¨ç­‰ä¸­æ¯”è¾ƒå¸¸è§ã€‚SBDä¸æ˜¯é€šè¿‡ä½¿ç”¨åœ¨På‹åŠå¯¼ä½“å’ŒNå‹åŠå¯¼ä½“ä¹‹é—´å½¢æˆPNç»“çš„åŸç†æ¥åˆ¶é€ çš„ï¼Œè€Œæ˜¯é€šè¿‡ä½¿ç”¨é€šè¿‡é‡‘å±å’ŒåŠå¯¼ä½“ä¹‹é—´çš„æ¥è§¦å½¢æˆçš„é‡‘å±-åŠå¯¼ä½“ç»“çš„åŸç†æ¥åˆ¶é€ çš„ã€‚å› æ­¤ï¼ŒSBDä¹Ÿè¢«ç§°ä¸ºé‡‘å±-åŠå¯¼ä½“ï¼ˆæ¥è§¦ï¼‰äºŒæç®¡æˆ–è¡¨é¢åŠ¿å’äºŒæç®¡ï¼Œå®ƒæ˜¯çƒ­è½½æµå­äºŒæç®¡ã€‚</p><p>ã€€ã€€è‚–ç‰¹åŸºäºŒæç®¡çš„æœ€å¤§ç‰¹ç‚¹æ˜¯æ­£å‘å‹é™VFæ¯”è¾ƒå°ã€‚åœ¨åŒæ ·ç”µæµçš„æƒ…å†µä¸‹ï¼Œå®ƒçš„æ­£å‘å‹é™è¦å°è®¸å¤šã€‚å¦å¤–å®ƒçš„æ¢å¤æ—¶é—´çŸ­ã€‚<br>    ç¼ºç‚¹æ˜¯ï¼šè€å‹æ¯”è¾ƒä½ï¼Œæ¼ç”µæµç¨å¤§äº›ã€‚é€‰ç”¨æ—¶è¦å…¨é¢è€ƒè™‘ã€‚<br>ã€€ã€€è‚–ç‰¹åŸºäºŒæç®¡æ˜¯ä¸€ç§ä½åŠŸè€—ã€è¶…é«˜é€ŸåŠå¯¼ä½“å™¨ä»¶ï¼Œå¹¿æ³›åº”ç”¨äºå¼€å…³ç”µæºã€å˜é¢‘å™¨ã€é©±åŠ¨å™¨ç­‰ç”µè·¯ï¼Œä½œé«˜é¢‘ã€ä½å‹ã€å¤§ç”µæµæ•´æµäºŒæç®¡ã€ç»­æµäºŒæç®¡ã€ä¿æŠ¤äºŒæç®¡ä½¿ç”¨ï¼Œæˆ–åœ¨å¾®æ³¢é€šä¿¡ç­‰ç”µè·¯ä¸­ä½œæ•´æµäºŒæç®¡ã€å°ä¿¡å·æ£€æ³¢äºŒæç®¡ä½¿ç”¨ã€‚å¸¸è§åº”ç”¨ï¼š ç”µæºï¼Œå……ç”µå™¨ï¼Œé€‚é…å™¨ã€‚æ±½è½¦ç”µå­ã€‚å°å®¶ç”µç­‰ã€‚</p><h3 id="è‚–ç‰¹åŸºäºŒæç®¡åœ¨ç”µè·¯ä¸­ä½œç”¨"><a href="#è‚–ç‰¹åŸºäºŒæç®¡åœ¨ç”µè·¯ä¸­ä½œç”¨" class="headerlink" title="è‚–ç‰¹åŸºäºŒæç®¡åœ¨ç”µè·¯ä¸­ä½œç”¨"></a>è‚–ç‰¹åŸºäºŒæç®¡åœ¨ç”µè·¯ä¸­ä½œç”¨</h3><p>ã€€ã€€&gt;è‚–ç‰¹åŸºäºŒæç®¡åœ¨ç”µè·¯ä¸­æœ€å¸¸è§çš„ä½œç”¨å°±æ˜¯è¾…åŠ©ç”µè·¯çš„è¿è¡Œã€‚æ•´æµã€ç»­æµã€ä¿æŠ¤.<br>ã€€ã€€ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè‚–ç‰¹åŸºäºŒæç®¡çš„ç‰¹æ€§æ˜¯å¯¼é€šå‹é™ä½ï¼Œåå‘æ¢å¤æå¿«ï¼Œè¿™ä¸€ä¸ªç‰¹ç‚¹å°±è®©è‚–ç‰¹åŸºäºŒæç®¡åœ¨ç”µè·¯ä¸­ç‰¹æ®Šèµ·æ¥ã€‚åœ¨è‚–ç‰¹åŸºäºŒæç®¡ç”µè·¯é‡Œçš„ç”µå‹ï¼Œä¸¤ä¸ªç”µå‹å½“ä¿¡å·å¤„ç†ï¼Œè¿™å°±è¯æ˜æœ‰ä¸€ä¸ªç”µå‹è¿›è¡Œè´Ÿè½½ï¼Œç¦»è‚–ç‰¹åŸºäºŒæç®¡è¾ƒè¿œçš„é‚£ä¸ªç”µå‹å¦‚æœè¾ƒä½çš„è¯ï¼Œç”µå‹ç»™æˆªæ­¢ã€‚è¿™å°±æ˜¯å……ç”µå›è·¯çš„å·¥ä½œåŸç†<br><a href="https://m.elecfans.com/article/809909.html">å‚è€ƒæ–‡ç« 1</a><br><a href="https://baike.baidu.com/item/%E8%82%96%E7%89%B9%E5%9F%BA%E4%BA%8C%E6%9E%81%E7%AE%A1/3217901?fr=aladdin">å‚è€ƒæ–‡ç« 2</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¡¬ä»¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>F407ä¸²å£DMAæ”¶å‘æ•°æ®</title>
      <link href="/2022/09/23/39h-usart-dma/"/>
      <url>/2022/09/23/39h-usart-dma/</url>
      
        <content type="html"><![CDATA[<h2 id="ğŸ“•DMA-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ“•DMA-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ“•DMA æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ğŸ“•DMA æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>å…¨ç§° Direct Memory Accessï¼Œå³ç›´æ¥å­˜å‚¨å™¨è®¿é—®ã€‚<br>ä½œç”¨:ç»™ CPU è§£æ”¾å‡ºæ¥ï¼Œè®© CPU ä¸ç”¨å»ç®¡æ•°æ®çš„ä¼ è¾“ï¼Œåªç®¡æ•°æ®çš„å¤„ç†ã€‚<br>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ•°æ®å¦‚æœæƒ³è¦ä¼ è¾“ï¼Œå¾—ç”± CPU å…ˆè¯»å–ç›®æ ‡æ•°æ®ï¼Œå†ä¼ å‘ç›®æ ‡åœ°å€ã€‚æœ‰äº† DMA åï¼Œä¼ è¾“çš„äº‹å°±æ˜¯ DMA åšçš„äº†ï¼ŒCPU åªè¦åˆå§‹åŒ– DMA å°±å¯ä»¥äº†ã€‚<br>STM32F4 æœ€å¤šæœ‰ 2 ä¸ª DMA æ§åˆ¶å™¨ï¼Œ2 ä¸ª DMA æ§åˆ¶å™¨æ€»å…±æœ‰ 16 ä¸ªæ•°æ®æµï¼ˆæ¯ä¸ªæ§åˆ¶å™¨ 8 ä¸ªï¼‰ï¼Œ8 ä¸ªæ•°æ®æµä¸­æ¯ä¸€ä¸ªéƒ½è¿æ¥åˆ°ä¸“ç”¨ç¡¬ä»¶ DMA é€šé“ï¼ˆè¯·æ±‚ï¼‰ã€‚æ¯ä¸ª DMA æ§åˆ¶å™¨éƒ½ç”¨äºç®¡ç†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¤–è®¾çš„å­˜å‚¨å™¨è®¿é—®è¯·æ±‚ã€‚æ¯ä¸ªæ•°æ®æµæ€»å…±å¯ä»¥æœ‰å¤šè¾¾ 8 ä¸ªé€šé“ï¼ˆæˆ–è¯·æ±‚ï¼‰ï¼ˆç†è®ºä¸Šä¸€å…±å°±æ˜¯ 16x8&#x3D;128 ä¸ªé€šé“ï¼Œå®é™…ä¸Šæ¯ä¸ªé€šé“éƒ½å›ºå®šäº†å¯¹åº”çš„æ˜ å°„ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ 128 ä¸ªï¼‰ï¼Œæ¯ä¸ªé€šé“éƒ½æœ‰ä¸€ä¸ªä»²è£å™¨ï¼Œç”¨äºå¤„ç† DMA è¯·æ±‚é—´çš„ä¼˜å…ˆçº§ã€‚</p><p>æ³¨ï¼šæ¯ä¸ªæ•°æ®æµåªèƒ½åŒæ—¶æ¥ä¸€ä¸ªé€šé“ï¼</p><img src="/2022/09/23/39h-usart-dma/01.png" class=""><p>DMA ä¼ è¾“ï¼Œç”±æºåœ°å€-&gt;ç›®æ ‡åœ°å€ï¼Œæºåœ°å€å’Œç›®æ ‡åœ°å€éƒ½å¯ä»¥æ˜¯å¤–è®¾ã€å­˜å‚¨å™¨çš„åœ°å€ã€‚</p><p>ç‰¹åˆ«çš„ï¼Œå½“<code>å­˜å‚¨å™¨</code>åˆ°<code>å­˜å‚¨å™¨</code>æ—¶å€™ï¼Œ<code>ä»…é™äºDMA2</code>æ§åˆ¶å™¨ï¼›ä¸€èˆ¬æ²¡æœ‰å¤–è®¾åˆ°å¤–è®¾ã€‚</p><p>å¯è®¾ç½®ç‹¬ç«‹çš„æºå’Œç›®æ ‡ä¼ è¾“å®½åº¦ï¼ˆå­—èŠ‚ï¼ˆ8 ä½ï¼‰ã€åŠå­—ï¼ˆ16 ä½ï¼‰ã€å­—ï¼ˆ32 ä½ï¼‰ï¼‰ï¼šæºå’Œç›®æ ‡çš„æ•°æ®å®½åº¦ä¸ç›¸ç­‰æ—¶ï¼ŒDMA è‡ªåŠ¨å°è£…&#x2F;è§£å°å¿…è¦çš„ä¼ è¾“æ•°æ®æ¥ä¼˜åŒ–å¸¦å®½ã€‚è¿™ä¸ªç‰¹æ€§ä»…åœ¨ FIFO æ¨¡å¼ä¸‹å¯ç”¨ã€‚å¦‚ï¼šA è®¾ç½® 8 ä½ä¼ è¾“å‡ºå»ï¼ŒB è®¾ç½® 32 ä½æ¥æ”¶ï¼ŒFIFO ä¼šç­‰ A ä¼ å‡º 4 æ¬¡ï¼Œå…± 32 ä½æ•°æ®ï¼Œç„¶åå°è£…æˆ B çš„ä¸€æ¬¡â€œå­—â€çš„æ¥æ”¶ã€‚</p><img src="/2022/09/23/39h-usart-dma/02.png" class=""><p>DMA1 æ§åˆ¶å™¨ AHB å¤–è®¾ç«¯å£ä¸ DMA2 æ§åˆ¶å™¨çš„æƒ…å†µä¸åŒï¼Œä¸è¿æ¥åˆ°æ€»çº¿çŸ©é˜µï¼Œå› æ­¤ï¼Œä»… DMA2 æ•°æ®æµèƒ½å¤Ÿæ‰§è¡Œå­˜å‚¨å™¨åˆ°<br>å­˜å‚¨å™¨çš„ä¼ è¾“</p><img src="/2022/09/23/39h-usart-dma/03.png" class=""><img src="/2022/09/23/39h-usart-dma/04.png" class=""><p>æµé…ç½®è¿‡ç¨‹</p><img src="/2022/09/23/39h-usart-dma/05.jpg" class=""><img src="/2022/09/23/39h-usart-dma/06.jpg" class=""><h3 id="å¸¸ç”¨çš„-DMA-åº“å‡½æ•°"><a href="#å¸¸ç”¨çš„-DMA-åº“å‡½æ•°" class="headerlink" title="å¸¸ç”¨çš„ DMA åº“å‡½æ•°"></a>å¸¸ç”¨çš„ DMA åº“å‡½æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">void DMA_Init(DMA_Stream_TypeDef* DMAy_Streamx, DMA_InitTypeDef* DMA_InitStruct);void DMA_Cmd(DMA_Stream_TypeDef* DMAy_Streamx, FunctionalState NewState);void DMA_SetCurrDataCounter(DMA_Stream_TypeDef* DMAy_Streamx, uint16_t Counter);uint16_t DMA_GetCurrDataCounter(DMA_Stream_TypeDef* DMAy_Streamx);void DMA_DoubleBufferModeConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t Memory1BaseAddr,uint32_t DMA_CurrentMemory);void DMA_DoubleBufferModeCmd();void DMA_MemoryTargetConfig(DMA_Stream_TypeDef* DMAy_Streamx,uint32_t MemoryBaseAddr, uint32_t DMA_MemoryTarget);uint32_t DMA_GetCurrentMemoryTarget(DMA_Stream_TypeDef* DMAy_Streamx);FunctionalState DMA_GetCmdStatus(DMA_Stream_TypeDef* DMAy_Streamx);uint32_t DMA_GetFIFOStatus(DMA_Stream_TypeDef* DMAy_Streamx);FlagStatus DMA_GetFlagStatus(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FLAG);void DMA_ClearFlag(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_FLAG);void DMA_ITConfig(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT, FunctionalState NewState);ITStatus DMA_GetITStatus(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT);void DMA_ClearITPendingBit(DMA_Stream_TypeDef* DMAy_Streamx, uint32_t DMA_IT);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/sinat_42513925/article/details/81481467">DMA åº“å‡½æ•°åŠŸèƒ½</a></p><h3 id="å¤–è®¾-DMA-ä½¿èƒ½åº“å‡½æ•°"><a href="#å¤–è®¾-DMA-ä½¿èƒ½åº“å‡½æ•°" class="headerlink" title="å¤–è®¾ DMA ä½¿èƒ½åº“å‡½æ•°"></a>å¤–è®¾ DMA ä½¿èƒ½åº“å‡½æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">void USART_DMACmd(USART_TypeDef* USARTx, uint16_t USART_DMAReq,FunctionalState NewState);void ADC_DMACmd(ADC_TypeDef* ADCx, FunctionalState NewState);void DAC_DMACmd(uint32_t DAC_Channel, FunctionalState NewState);void I2C_DMACmd(I2C_TypeDef* I2Cx, FunctionalState NewState);void SDIO_DMACmd(FunctionalState NewState);void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq,FunctionalState NewState);void TIM_DMAConfig(TIM_TypeDef* TIMx, uint16_t TIM_DMABase,uint16_t TIM_DMABurstLength)void TIM_DMACmd(TIM_TypeDef* TIMx, uint16_t TIM_DMASource,FunctionalState NewState);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DMA-Init"><a href="#DMA-Init" class="headerlink" title="DMA_Init();"></a>DMA_Init();</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">void DMA_Init(DMA_Stream_TypeDef* DMAy_Streamx, DMA_InitTypeDef* DMA_InitStruct);typedef struct&#123;  uint32_t DMA_Channel;                &#x2F;&#x2F;DMA_Channel_0~ DMA_Channel_7  uint32_t DMA_PeripheralBaseAddr;     &#x2F;&#x2F;è®¾ç½® DMA ä¼ è¾“çš„å¤–è®¾åŸºåœ°å€ï¼Œæ¯”å¦‚è¦è¿›è¡Œä¸²å£DMA ä¼ è¾“ï¼Œé‚£ä¹ˆå¤–è®¾åŸºåœ°å€ä¸º                                       &#x2F;&#x2F;ä¸²å£æ¥å—å‘é€æ•°æ®å­˜å‚¨å™¨ USART1-&gt;DR çš„åœ°å€ï¼Œè¡¨ç¤ºæ–¹æ³•ä¸º&amp;USART1-&gt;DR  uint32_t DMA_Memory0BaseAddr;        &#x2F;&#x2F;å†…å­˜åŸºåœ°å€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å­˜æ”¾ DMA ä¼ è¾“æ•°æ®çš„å†…å­˜åœ°å€ã€‚  uint32_t DMA_DIR;                    &#x2F;&#x2F;è®¾ç½®æ•°æ®ä¼ è¾“æ–¹å‘ï¼Œä»å¤–è®¾è¯»å–æ•°æ®åˆ°å†…å­˜,é€‰æ‹©ç›®çš„åœ°  uint32_t DMA_BufferSize;             &#x2F;&#x2F;è®¾ç½®ä¸€æ¬¡ä¼ è¾“æ•°æ®é‡çš„å¤§å°  uint32_t DMA_PeripheralInc;          &#x2F;&#x2F;è®¾ç½®ä¼ è¾“æ•°æ®çš„æ—¶å€™å¤–è®¾åœ°å€æ˜¯ä¸å˜è¿˜æ˜¯é€’å¢ã€‚å¦‚æœè®¾ç½®ä¸ºé€’å¢ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡                                       &#x2F;&#x2F;ä¼ è¾“çš„æ—¶å€™åœ°å€åŠ  1ï¼Œè¿™é‡Œå› ä¸ºæˆ‘ä»¬æ˜¯ä¸€ç›´å¾€å›ºå®šå¤–è®¾åœ°å€&amp;USART1-&gt;DR                                       &#x2F;&#x2F;å‘é€æ•°æ®ï¼Œæ‰€ä»¥åœ°å€ä¸é€’å¢ï¼Œå€¼ä¸º DMA_PeripheralInc_Disableï¼›  uint32_t DMA_MemoryInc;              &#x2F;&#x2F;è®¾ç½®ä¼ è¾“æ•°æ®æ—¶å€™å†…å­˜åœ°å€æ˜¯å¦é€’å¢                                       &#x2F;&#x2F;è¿™é‡Œæˆ‘ä»¬çš„åœºæ™¯æ˜¯å°†å†…å­˜ä¸­è¿ç»­å­˜å‚¨å•å…ƒçš„æ•°æ®å‘é€åˆ°ä¸²å£ï¼Œæ¯«æ— ç–‘é—®å†…å­˜åœ°                                       &#x2F;&#x2F;å€æ˜¯éœ€è¦é€’å¢çš„ï¼Œæ‰€ä»¥å€¼ä¸º DMA_MemoryInc_Enable  uint32_t DMA_PeripheralDataSize;     &#x2F;&#x2F;è®¾ç½®å¤–è®¾çš„æ•°æ®é•¿åº¦æ˜¯ä¸ºå­—èŠ‚ä¼ è¾“ï¼ˆ8bitsï¼‰                                       &#x2F;&#x2F;åŠå­—ä¼ è¾“(16bits),è¿˜æ˜¯å­—ä¼ è¾“(32bits)  uint32_t DMA_MemoryDataSize;         &#x2F;&#x2F;å†…å­˜çš„æ•°æ®é•¿åº¦,è·Ÿä¸Šä¸€ä¸ªæ„æ€ç›¸è¿‘  uint32_t DMA_Mode;                   &#x2F;&#x2F;è®¾ç½® DMAæ¨¡å¼,åˆ†ä¸ºå¾ªç¯æ¨¡å¼å’Œé“ºé“œæ¨¡å¼  uint32_t DMA_Priority;               &#x2F;&#x2F;è®¾ç½® DMAé€šé“çš„ä¼˜å…ˆçº§,æœ‰ä½,ä¸­,é«˜,è¶…é«˜ä¸‰ç§æ¨¡å¼                                       &#x2F;&#x2F;DMAä»²è£å™¨å°†æ ¹æ®è¿™äº›ä¼˜å…ˆçº§çš„è®¾ç½®æ¥å†³å®šå…ˆæ‰§è¡Œé‚£ä¸ªæ•°æ®æµçš„DMA                                       &#x2F;&#x2F;ä¼˜å…ˆçº§ç›¸åŒçš„æ—¶å€™,æ ¹æ®ç¡¬ä»¶ä¸Šçš„ç¼–å·æ¥å†³å®šå“ªä¸ªå…ˆæ‰§è¡Œï¼ˆç¼–å·è¶Šå°è¶Šä¼˜å…ˆï¼‰  uint32_t DMA_FIFOMode;               &#x2F;&#x2F;æ¥è®¾ç½®æ˜¯å¦å¼€å¯ FIFO æ¨¡å¼  uint32_t DMA_FIFOThreshold;          &#x2F;&#x2F;è®¾ç½®FIFOé˜ˆå€¼.æ ¹æ®å‰é¢è®²è§£å¯ä»¥ä¸ºFIFOå®¹é‡çš„1&#x2F;4,1&#x2F;2,3&#x2F;4ä»¥åŠ1å€  uint32_t DMA_MemoryBurst;            &#x2F;&#x2F;ç”¨æ¥é…ç½®å­˜å‚¨å™¨çªå‘ä¼ è¾“é…ç½®,å¯ä»¥é€‰æ‹©ä¸º 4 ä¸ªèŠ‚æ‹çš„å¢é‡çªå‘ä¼ è¾“                                       &#x2F;&#x2F;DMA_MemoryBurst_INC4.8ä¸ªèŠ‚æ‹,16ä¸ªèŠ‚æ‹,å•æ¬¡ä¼ è¾“  uint32_t DMA_PeripheralBurst;        &#x2F;&#x2F;é…ç½®å¤–è®¾çªå‘ä¼ è¾“é…ç½®ã€‚&#125;DMA_InitTypeDef;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="DMA-é…ç½®ç¨‹åºè¿‡ç¨‹"><a href="#DMA-é…ç½®ç¨‹åºè¿‡ç¨‹" class="headerlink" title="DMA é…ç½®ç¨‹åºè¿‡ç¨‹"></a>DMA é…ç½®ç¨‹åºè¿‡ç¨‹</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">  DMA_InitTypeDef DMA_InitStructure ();  &#x2F;&#x2F;å®šä¹‰DMAç»“æ„ä½“â‘  RCC_AHB1PeriphClockCmd();  ä½¿èƒ½DMAæ—¶é’Ÿâ‘¡  DMA_DeInit();â‘¢ USART_DMACmd();  ä½¿èƒ½ä¸²å£DMAå‘é€,ä¸²å£DMAä½¿èƒ½å‡½æ•°ï¼šâ‘£ DMA_GetCmdStatus();  æŸ¥è¯¢DMAçš„ENä½ï¼Œç¡®ä¿æ•°æ®æµå°±ç»ªï¼Œå¯ä»¥é…ç½®â‘¤ DMA_SetCurrDataCounter();  è®¾ç½®é€šé“å½“å‰å‰©ä½™æ•°æ®é‡â‘¥ DMA_Cmd();  ä½¿èƒ½DMA1é€šé“ï¼Œå¯åŠ¨ä¼ è¾“ã€‚â‘¤ DMA_GetFlagStatus();  æŸ¥è¯¢DMAä¼ è¾“çŠ¶æ€â‘¥ DMA_GetCurrDataCounter();  è·å–&#x2F;è®¾ç½®é€šé“å½“å‰å‰©ä½™æ•°æ®é‡ï¼š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä»£ç ç†è§£-ğŸ˜¶"><a href="#ä»£ç ç†è§£-ğŸ˜¶" class="headerlink" title="ä»£ç ç†è§£ ğŸ˜¶"></a>ä»£ç ç†è§£ ğŸ˜¶</h2><p>1.é…ç½® usart éƒ¨åˆ†</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">æ³¨æ„:1.å¼•è„šå¤ç”¨æ˜ å°„     2.å¤ç”¨æ¨æŒ½è¾“å‡º     (STM32çš„IOéƒ½æ˜¯é€šç”¨æ¥å£     å› æ­¤åœ¨ä½œä¸ºç‰¹æ®Šç”¨é€”å¦‚ä¸²å£è¾“å‡ºæ—¶ï¼Œéœ€è¦å¯¹è¯¥IOå£çš„è®¾ç½®æˆç«¯å£å¤ç”¨,åŒºåˆ«äºæ™®é€šæ¨æŒ½è¾“å‡º)     3.&#x2F;&#x2F;ä½¿èƒ½ä¸²å£       USART_Cmd(Usartx, ENABLE);       &#x2F;&#x2F;å¼€å¯ä¸²å£ç©ºé—²ä¸­æ–­       USART_ITConfig(Usartx, USART_IT_IDLE, ENABLE);       ä»–çš„å·¥ä½œåŸç†ä¸ºï¼š       å½“STM32çš„ä¸²å£æ¥æ”¶å®Œä¸€åŒ…æ•°æ®åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªç©ºé—²ä¸­æ–­ã€‚       è¿™ä¸ªä¸­æ–­åœ¨ä¸²å£å…¶ä»–ä»»ä½•çŠ¶æ€éƒ½ä¸äº§ç”Ÿï¼Œåªä¼šåœ¨æ¥æ”¶å®Œä¸€åŒ…æ•°æ®åæ‰ä¼šäº§ç”Ÿï¼Œä¸€åŒ…æ•°æ®å¯ä»¥æ˜¯1ä¸ªå­—èŠ‚æˆ–è€…å¤šä¸ªå­—èŠ‚.       å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªç©ºé—²ä¸­æ–­å‡½æ•°ä¸­ï¼Œè®¾ç½®ä¸€ä¸ªæ¥æ”¶å®Œæˆæ ‡å¿—ä½ã€‚       åªéœ€è¦åœ¨ä¸»ç¨‹åºä¸­æ£€æµ‹è¿™ä¸ªæ ‡å¿—ä½å°±çŸ¥é“æ•°æ®æ˜¯å¦æ¥æ”¶å®Œæˆ.       if(USART_GetITStatus(USART1,USART_IT_IDLE) !&#x3D; RESET) &#x2F;&#x2F;æ¥æ”¶ä¸­æ–­(æ¥æ”¶åˆ°çš„æ•°æ®å¿…é¡»æ˜¯0x0d 0x0aç»“å°¾)  RESETæ˜¯0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="http://blog.uuudiy.com/2022/09/29/42h-f407-gpio/">ä¸ºä»€ä¹ˆæ˜¯å¤ç”¨æ¨æŒ½è¾“å‡º</a><br><a href="https://www.guyuehome.com/35488">ä¸²å£ç©ºé—²æ£€æµ‹ä¸­æ–­</a> 2.é…ç½® DMA éƒ¨åˆ† ğŸ˜¶â€ğŸŒ«ï¸</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">æ³¨æ„:1.ä½¿èƒ½DMAæ—¶é’Ÿ   ä½¿èƒ½ DMA2 æ—¶é’Ÿï¼Œå¹¶ç­‰å¾…æ•°æ®æµå¯é…ç½®ã€‚   DMA çš„æ—¶é’Ÿä½¿èƒ½æ˜¯é€šè¿‡ AHB1ENR å¯„å­˜å™¨æ¥æ§åˆ¶çš„ï¼Œè¿™é‡Œæˆ‘ä»¬è¦å…ˆä½¿èƒ½æ—¶é’Ÿï¼Œæ‰å¯ä»¥é…ç½® DMA   ç›¸å…³å¯„å­˜å™¨ã€‚æ‰€ä»¥å…ˆè¦ä½¿èƒ½DMA2çš„æ—¶é’Ÿã€‚å¦å¤–ï¼Œè¦å¯¹é…ç½®å¯„å­˜å™¨ï¼ˆDMA_SxCRï¼‰è¿›è¡Œè®¾ç½®ï¼Œå¿…é¡»   å…ˆç­‰å¾…å…¶æœ€ä½ä½ä¸º&#96;0&#96;ä¹Ÿå°±æ˜¯ DMA ä¼ è¾“ç¦æ­¢äº†æ‰å¯ä»¥è¿›è¡Œé…ç½®ã€‚   RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_DMA2,ENABLE);    &#x2F;&#x2F;DMA2 æ—¶é’Ÿä½¿èƒ½   ç­‰å¾… DMA å¯é…ç½®ï¼Œä¹Ÿå°±æ˜¯ç­‰å¾… DMA_SxCR å¯„å­˜å™¨æœ€ä½ä½ä¸º 0 çš„æ–¹æ³•ä¸ºï¼š   while (DMA_GetCmdStatus(DMA_Streamx) !&#x3D; DISABLE)&#123;&#125;    &#x2F;&#x2F;ç­‰å¾… DMA å¯é…ç½®    2.åˆå§‹åŒ–DMAé€šé“å‚æ•°    3.ä½¿èƒ½ä¸²å£DMAå‘é€    4.æŸ¥è¯¢DMAçš„ENä½ï¼Œç¡®ä¿æ•°æ®æµå°±ç»ªï¼Œå¯ä»¥é…ç½®    5.è®¾ç½®é€šé“å½“å‰å‰©ä½™æ•°æ®é‡    6.ä½¿èƒ½DMA1é€šé“ï¼Œå¯åŠ¨ä¼ è¾“ã€‚    7.æŸ¥è¯¢DMAä¼ è¾“çŠ¶æ€    8.è·å–&#x2F;è®¾ç½®é€šé“å½“å‰å‰©ä½™æ•°æ®é‡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>&#x2F;&#x2F;DMA çš„å‘é€åˆå§‹åŒ–å‡½æ•°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">    @Usartx             æŒ‡å®šçš„ä¸²å£ï¼Œå¦‚ USART1    @Par                DMAå¤–è®¾åœ°å€ï¼Œå¦‚ (u32)&amp;USART1-&gt;DR    @DMA_Streamx_tx     ä»£è¡¨DMA1çš„å‘é€æ•°æ®æµï¼ŒDMA1_Stream0~DMA1_Stream7    @DMA_Chx            ä»£è¡¨DMAçš„é€šé“é€‰æ‹©ï¼ŒDMA_Channel_0~DMA_Channel_7    @Tx_Buf             ä»£è¡¨DMAçš„å‘é€ç¼“å†²åŒº    @Tx_Size            ä»£è¡¨å‘é€æ•°æ®ä¸ªæ•°    @DMA_Streamx_Irqn   DMAæ•°æ®æµçš„ä¸­æ–­ï¼Œå¦‚ DMA2_Stream7_IRQnvoid Init_Dma_Tx_Config(USART_TypeDef *Usartx,u32 Par, DMA_Stream_TypeDef *DMA_Streamx_Tx,                        u32 DMA_Chx,u32 Tx_Buf, u16 Tx_Size, u32 DMA_Streamx_Irqn)&#123;    DMA_InitStructure.DMA_Channel &#x3D; DMA_Chx;                                   &#x2F;&#x2F;é€šé“é€‰æ‹©    DMA_InitStructure.DMA_PeripheralBaseAddr &#x3D; Par;                            &#x2F;&#x2F;DMAå¤–è®¾åœ°å€    DMA_InitStructure.DMA_Memory0BaseAddr &#x3D; Tx_Buf;                            &#x2F;&#x2F;DMA å­˜å‚¨å™¨0åœ°å€    DMA_InitStructure.DMA_DIR &#x3D; DMA_DIR_MemoryToPeripheral;                    &#x2F;&#x2F;å­˜å‚¨å™¨åˆ°å¤–è®¾æ¨¡å¼    DMA_InitStructure.DMA_BufferSize &#x3D; Tx_Size;                                &#x2F;&#x2F;æ•°æ®ä¼ è¾“é‡    DMA_InitStructure.DMA_PeripheralInc &#x3D; DMA_PeripheralInc_Disable;           &#x2F;&#x2F;å¤–è®¾éå¢é‡æ¨¡å¼    DMA_InitStructure.DMA_MemoryInc &#x3D; DMA_MemoryInc_Enable;                    &#x2F;&#x2F;å­˜å‚¨å™¨å¢é‡æ¨¡å¼    DMA_InitStructure.DMA_PeripheralDataSize &#x3D; DMA_PeripheralDataSize_Byte;    &#x2F;&#x2F;å¤–è®¾æ•°æ®é•¿åº¦:8ä½    DMA_InitStructure.DMA_MemoryDataSize &#x3D; DMA_MemoryDataSize_Byte;            &#x2F;&#x2F;å­˜å‚¨å™¨æ•°æ®é•¿åº¦:8ä½    DMA_InitStructure.DMA_Mode &#x3D; DMA_Mode_Normal;                              &#x2F;&#x2F; ä½¿ç”¨æ™®é€šæ¨¡å¼    DMA_InitStructure.DMA_Priority &#x3D; DMA_Priority_Medium;                      &#x2F;&#x2F;ä¸­ç­‰ä¼˜å…ˆçº§    DMA_InitStructure.DMA_FIFOMode &#x3D; DMA_FIFOMode_Disable;                     &#x2F;&#x2F;åˆå§‹åŒ–DMA_FIFOMode    DMA_InitStructure.DMA_FIFOThreshold &#x3D; DMA_FIFOThreshold_Full;              &#x2F;&#x2F;FIFO é˜ˆå€¼é€‰æ‹©ã€‚    DMA_InitStructure.DMA_MemoryBurst &#x3D; DMA_MemoryBurst_Single;                &#x2F;&#x2F;å­˜å‚¨å™¨çªå‘å•æ¬¡ä¼ è¾“    DMA_InitStructure.DMA_PeripheralBurst &#x3D; DMA_PeripheralBurst_Single;        &#x2F;&#x2F;å¤–è®¾çªå‘å•æ¬¡ä¼ è¾“    DMA_Init(DMA_Streamx_Tx, &amp;DMA_InitStructure);                               &#x2F;&#x2F;åˆå§‹åŒ–    DMAStream    &#x2F;&#x2F;DMA ä¸­æ–­è®¾ç½®    NVIC_InitStructure.NVIC_IRQChannel &#x3D; DMA_Streamx_Irqn;                     &#x2F;&#x2F;DMAå‘é€æ•°æ®æµä¸­æ–­é€šé“    NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority &#x3D; 0;                  &#x2F;&#x2F;æŠ¢å ä¼˜å…ˆçº§0    NVIC_InitStructure.NVIC_IRQChannelSubPriority &#x3D; 0;                         &#x2F;&#x2F;å­ä¼˜å…ˆçº§0    NVIC_InitStructure.NVIC_IRQChannelCmd &#x3D; ENABLE;                            &#x2F;&#x2F;IRQé€šé“ä½¿èƒ½    NVIC_Init(&amp;NVIC_InitStructure);                                            &#x2F;&#x2F;æ ¹æ®æŒ‡å®šçš„å‚æ•°åˆå§‹åŒ–NVICå¯„å­˜å™¨    USART_DMACmd(Usartx,USART_DMAReq_Tx,ENABLE);                               &#x2F;&#x2F;ä½¿èƒ½ä¸²å£1çš„DMAå‘é€    DMA_Cmd(DMA_Streamx_Tx, DISABLE);                                          &#x2F;&#x2F;å…³é—­DMAä¼ è¾“    DMA_ITConfig(DMA_Streamx_Tx,DMA_IT_TC,ENABLE);                             &#x2F;&#x2F;ä½¿èƒ½DMAçš„å‘é€æ•°æ®æµä¸­æ–­&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>&#x2F;&#x2F;DMA çš„æ¥æ”¶åˆå§‹åŒ–å‡½æ•°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">    @Usartx             æŒ‡å®šçš„ä¸²å£ï¼Œå¦‚ USART1    @Par                DMAå¤–è®¾åœ°å€ï¼Œå¦‚ (u32)&amp;USART1-&gt;DR    @DMA_Streamx_rx     ä»£è¡¨DMA1çš„æ¥æ”¶æ•°æ®æµï¼ŒDMA1_Stream0~DMA1_Stream7    @DMA_Chx            ä»£è¡¨DMAçš„é€šé“é€‰æ‹©ï¼ŒDMA_Channel_0~DMA_Channel_7    @Rx_Buf             ä»£è¡¨DMAçš„æ¥æ”¶ç¼“å†²åŒº    @Rx_Size            ä»£è¡¨æ¥æ”¶æ•°æ®ä¸ªæ•°void Init_Dma_Rx_Config(USART_TypeDef *Usartx, u32 Par, DMA_Stream_TypeDef *DMA_Streamx_Rx,                        u32 DMA_Chx,u32 Rx_Buf, u16 Rx_Size)&#123;    DMA_InitStructure.DMA_Channel &#x3D; DMA_Chx;                                 &#x2F;&#x2F;é€šé“é€‰æ‹©    DMA_InitStructure.DMA_PeripheralBaseAddr &#x3D; Par;                          &#x2F;&#x2F;DMAå¤–è®¾åœ°å€    DMA_InitStructure.DMA_Memory0BaseAddr &#x3D; Rx_Buf;                          &#x2F;&#x2F;DMA å­˜å‚¨å™¨0åœ°å€    DMA_InitStructure.DMA_DIR &#x3D; DMA_DIR_PeripheralToMemory ;                 &#x2F;&#x2F;å¤–è®¾åˆ°å­˜å‚¨å™¨æ¨¡å¼    DMA_InitStructure.DMA_BufferSize &#x3D; Rx_Size;                              &#x2F;&#x2F;æ•°æ®ä¼ è¾“é‡    DMA_InitStructure.DMA_PeripheralInc &#x3D; DMA_PeripheralInc_Disable;         &#x2F;&#x2F;å¤–è®¾éå¢é‡æ¨¡å¼    DMA_InitStructure.DMA_MemoryInc &#x3D; DMA_MemoryInc_Enable;                  &#x2F;&#x2F;å­˜å‚¨å™¨å¢é‡æ¨¡å¼    DMA_InitStructure.DMA_PeripheralDataSize &#x3D; DMA_PeripheralDataSize_Byte;  &#x2F;&#x2F;å¤–è®¾æ•°æ®é•¿åº¦:8ä½    DMA_InitStructure.DMA_MemoryDataSize &#x3D; DMA_MemoryDataSize_Byte;          &#x2F;&#x2F;å­˜å‚¨å™¨æ•°æ®é•¿åº¦:8ä½    DMA_InitStructure.DMA_Mode &#x3D; DMA_Mode_Normal;                            &#x2F;&#x2F; ä½¿ç”¨æ™®é€šæ¨¡å¼    DMA_InitStructure.DMA_Priority &#x3D; DMA_Priority_Medium;                    &#x2F;&#x2F;ä¸­ç­‰ä¼˜å…ˆçº§    DMA_InitStructure.DMA_FIFOMode &#x3D; DMA_FIFOMode_Disable;                   &#x2F;&#x2F;åˆå§‹åŒ–DMA_FIFOMode    DMA_InitStructure.DMA_FIFOThreshold &#x3D; DMA_FIFOThreshold_Full;            &#x2F;&#x2F;FIFO é˜ˆå€¼é€‰æ‹©ã€‚    DMA_InitStructure.DMA_MemoryBurst &#x3D; DMA_MemoryBurst_Single;              &#x2F;&#x2F;å­˜å‚¨å™¨çªå‘å•æ¬¡ä¼ è¾“    DMA_InitStructure.DMA_PeripheralBurst &#x3D; DMA_PeripheralBurst_Single;      &#x2F;&#x2F;å¤–è®¾çªå‘å•æ¬¡ä¼ è¾“    DMA_Init(DMA_Streamx_Rx, &amp;DMA_InitStructure);                            &#x2F;&#x2F;åˆå§‹åŒ–DMA Stream    USART_DMACmd(Usartx,USART_DMAReq_Rx,ENABLE);                             &#x2F;&#x2F;ä½¿èƒ½ä¸²å£çš„DMAæ¥æ”¶    DMA_Cmd(DMA_Streamx_Rx, ENABLE);                                         &#x2F;&#x2F;å¼€å¯DMAä¼ è¾“&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DMA-çš„å‘é€ä½¿èƒ½"><a href="#DMA-çš„å‘é€ä½¿èƒ½" class="headerlink" title="DMA çš„å‘é€ä½¿èƒ½"></a>DMA çš„å‘é€ä½¿èƒ½</h3><p>DMA é…ç½® mormal æ¨¡å¼åªèƒ½è¿›è¡Œä¸€æ¬¡æ•°æ®çš„å‘é€<br>circular æ¨¡å¼å¯ä»¥æŒç»­å‘é€ç›¸åŒçš„æ•°æ®ã€‚ä½†æ˜¯è¦å¤šæ¬¡å‘é€ä¸åŒçš„æ•°æ®<br>normal æ¨¡å¼ä¸‹éœ€è¦è¿›è¡Œä¸€ä¸‹æ“ä½œ</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">DMA1_Channel4-&gt;CCR&amp;&#x3D;~(1&lt;&lt;0);   &#x2F;&#x2F;å…³é—­DMA1çš„é€šé“å››DMA1_Channel4-&gt;CNDTR&#x3D;9;        &#x2F;&#x2F;è®¾ç½®DMAæ•°æ®è®¡æ•°å™¨çš„å€¼DMA1_Channel4-&gt;CCR|&#x3D;1&lt;&lt;0;      &#x2F;&#x2F;ä½¿èƒ½DMA1çš„é€šé“å››ä¸Šé¢æ˜¯ä½¿ç”¨äº†ç›´æ¥æ“ä½œå¯„å­˜å™¨çš„æ–¹å¼å®ç°äº†éœ€æ±‚DMA_Cmd(DMA1_Channel4,DISABLE);DMA_SetCurrDataCounter(DMA1_Channel4,9);DMA_Cmd(DMA1_Channel4,ENABLE);è¿™æ ·æ¯æ¬¡è°ƒç”¨DMAå‘é€å‡½æ•°æ—¶,ç›¸å½“äºé‡æ–°è®¡æ•°,è¾¾åˆ°å¤šæ¬¡å‘é€ä¸åŒæ•°æ®çš„æ•ˆæœ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">    @DMA_Streamx_tx             &#x2F;&#x2F;ä»£è¡¨DMAçš„å‘é€æ•°æ®æµ    @DMA1_Stream0~DMA1_Stream7  &#x2F;&#x2F;DMA2_Stream0~DMA2_Stream7    @ndtr                       &#x2F;&#x2F;ä»£è¡¨DMAçš„å‘é€æ•°æ®ä¸ªæ•°void Dma_Send_Enable(DMA_Stream_TypeDef *DMA_Streamx_tx,u16 ndtr)&#123;    DMA_Cmd(DMA_Streamx_tx, DISABLE);                         &#x2F;&#x2F;å…³é—­DMAä¼ è¾“    while (DMA_GetCmdStatus(DMA_Streamx_tx) !&#x3D; DISABLE);      &#x2F;&#x2F;ç¡®ä¿DMAå¯ä»¥è¢«è®¾ç½®    DMA_SetCurrDataCounter(DMA_Streamx_tx,ndtr);              &#x2F;&#x2F;æ•°æ®ä¼ è¾“é‡    DMA_Cmd(DMA_Streamx_tx, ENABLE);                          &#x2F;&#x2F;å¼€å¯DMAä¼ è¾“&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DMA-çš„å‘é€å®Œæˆä¸­æ–­å‡½æ•°"><a href="#DMA-çš„å‘é€å®Œæˆä¸­æ–­å‡½æ•°" class="headerlink" title="DMA çš„å‘é€å®Œæˆä¸­æ–­å‡½æ•°"></a>DMA çš„å‘é€å®Œæˆä¸­æ–­å‡½æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">void DMA2_Stream7_IRQHandler(void)&#123;    if(DMA_GetFlagStatus(DMA2_Stream7,DMA_FLAG_TCIF7)!&#x3D;RESET) &#x2F;&#x2F;ç­‰å¾…DMA2_Steam7ä¼ è¾“å®Œæˆ    &#123;        DMA_ClearFlag(DMA2_Stream7,DMA_FLAG_TCIF7);           &#x2F;&#x2F;æ¸…é™¤DMA2_Steam7ä¼ è¾“å®Œæˆæ ‡å¿—        DMA_Cmd(DMA2_Stream7,DISABLE);                        &#x2F;&#x2F;å…³é—­DMA        DMA_ClearITPendingBit(DMA2_Stream7, DMA_IT_TCIF7);    &#x2F;&#x2F;æ¸…é™¤ä¸­æ–­å±è”½ä½    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2022/09/23/39h-usart-dma/08.png" class=""><h3 id="ä¸²å£-1-çš„ç©ºé—²ä¸­æ–­å‡½æ•°"><a href="#ä¸²å£-1-çš„ç©ºé—²ä¸­æ–­å‡½æ•°" class="headerlink" title="ä¸²å£ 1 çš„ç©ºé—²ä¸­æ–­å‡½æ•°"></a>ä¸²å£ 1 çš„ç©ºé—²ä¸­æ–­å‡½æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">void USART1_IRQHandler(void)&#123;    u16 i;                                                       &#x2F;&#x2F;ä¸²å£ç©ºé—²ä¸­æ–­,idleç½®1è¯´æ˜æ¥æ”¶åˆ°äº†ä¸€åŒ…æ•°æ®    if(USART_GetITStatus(USART1,USART_IT_IDLE) !&#x3D; RESET)         &#x2F;&#x2F;æ¥æ”¶ä¸­æ–­,RESET&#x3D;0        DMA_Cmd(DMA2_Stream5, DISABLE);                          &#x2F;&#x2F;å…³é—­DMA,é˜²æ­¢å¤„ç†å…¶é—´æœ‰æ•°æ®        &#x2F;&#x2F;å…ˆè¯»SRï¼Œå†è¯»DRï¼Œæ˜¯ä¸ºäº†æ¸…é™¤IDLEä¸­æ–­        i &#x3D; USART1-&gt;SR;                                          &#x2F;&#x2F;è¯»SRå¯„å­˜å™¨(çŠ¶æ€å¯„å­˜å™¨)        i &#x3D; USART1-&gt;DR;                                          &#x2F;&#x2F;è¯»DRå¯„å­˜å™¨(æ•°æ®å¯„å­˜å™¨)        rx_len &#x3D; BufferLen - DMA_GetCurrDataCounter(DMA2_Stream5);  &#x2F;&#x2F;è·å¾—è¿™ä¸€å¸§æ•°æ®çš„é•¿åº¦,è·å¾—è¿™ä¸€å¸§æ•°æ®çš„é•¿åº¦                                                                    &#x2F;&#x2F;DMAç¼“å­˜çš„å¤§å° - å‰©ä½™ DMAç¼“å­˜å¤§å°        if(rx_len !&#x3D;0)                                              &#x2F;&#x2F;è¿™ä¸€å¸§æ•°æ®é•¿åº¦ä¸ä¸º0        &#123;            rx_flag &#x3D; 1;                                            &#x2F;&#x2F;æ•°æ®å¸§æ¥æ”¶æ ‡å¿—ç½®1            for(i&#x3D;0;i&lt;rx_len;i++)            &#123;                SendBuffer[i]&#x3D; ReceiveBuffer[i];                    &#x2F;&#x2F;å°†æ¥æ”¶çš„æ•°æ®ä¿å­˜            &#125;            for(i&#x3D;0;i&lt;rx_len;i++)                                   &#x2F;&#x2F;å°†æ¥æ”¶ç¼“å†²åŒºæ¸…é›¶            &#123;                ReceiveBuffer[i]&#x3D;0;                                 &#x2F;&#x2F;è¿™æ®µæˆ‘ç†è§£çš„æ˜¯åˆ©ç”¨ä¸²å£ç©ºé—²ä¸­æ–­æ ‡å¿—ä½,rx_flagä½œä¸ºdma_sendå‡½æ•°æ˜¯å¦å‘                                                                    &#x2F;&#x2F;é€çš„æ ‡å¿—ä½            &#125;        &#125;        &#x2F;&#x2F;æ¸…é™¤DMA2_Steam5ä¼ è¾“å®Œæˆæ ‡å¿—        DMA_ClearFlag(DMA2_Stream5,DMA_FLAG_TCIF5 | DMA_FLAG_FEIF5 | DMA_FLAG_DMEIF5 | DMA_FLAG_TEIF5 | DMA_FLAG_HTIF5);        DMA_SetCurrDataCounter(DMA2_Stream5, BufferLen);            &#x2F;&#x2F;è®¾ç½®DMAæ¥æ”¶å•å…ƒçš„é•¿åº¦        DMA_Cmd(DMA2_Stream5, ENABLE);                              &#x2F;&#x2F;æ‰“å¼€DMA    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2022/09/23/39h-usart-dma/07.png" class=""><h3 id="ä¸»å‡½æ•°"><a href="#ä¸»å‡½æ•°" class="headerlink" title="ä¸»å‡½æ•°"></a>ä¸»å‡½æ•°</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">int main(void)&#123;    LED_Init();    delay_init(168);          &#x2F;&#x2F;åˆå§‹åŒ–å»¶æ—¶å‡½æ•°    Init_Clock_Config();                     &#x2F;&#x2F;æ—¶é’Ÿåˆå§‹åŒ–    Init_Gpio_Config();                      &#x2F;&#x2F;GPIOå¼•è„šåˆå§‹åŒ–    Init_Usart_Config(USART1,19200);          &#x2F;&#x2F;ä¸²å£åˆå§‹åŒ–    Init_Usart_Nvic_Config(USART1_IRQn);     &#x2F;&#x2F;ä¸²å£ä¸­æ–­åˆå§‹åŒ–    &#x2F;&#x2F;DMA å‘é€æ•°æ®æµåˆå§‹åŒ–    Init_Dma_Tx_Config(USART1, (u32)(&amp;USART1-&gt;DR), DMA2_Stream7, DMA_Channel_4, (u32)SendBuffer, BufferLen, DMA2_Stream7_IRQn);    &#x2F;&#x2F;DMA æ¥æ”¶æ•°æ®æµåˆå§‹åŒ–    Init_Dma_Rx_Config(USART1, (u32)(&amp;USART1-&gt;DR), DMA2_Stream5, DMA_Channel_4, (u32)ReceiveBuffer, BufferLen);    while(1)    &#123;        &#x2F;&#x2F;æ¥æ”¶åˆ°ä¸€å¸§æ•°æ®        if(rx_flag)        &#123;            &#x2F;&#x2F;å°†æ¥æ”¶åˆ°çš„æ•°æ®å‘é€åˆ°è®¾å¤‡            Dma_Send_Enable(DMA2_Stream7, rx_len);        &#x2F;&#x2F;è¿™é‡Œæˆ‘ä¸ç†è§£ä¸ºä»€ä¹ˆæ˜¯rx_len,è€Œä¸æ˜¯sendbuffer ,rx_lenä¸åªæ˜¯ä¸ªé•¿åº¦å—                                                          &#x2F;&#x2F;æ•°æ®é•¿åº¦å³æ•°æ®æœ¬èº«,åŸç†åº”è¯¥è·Ÿå·²çŸ¥è®¡æ•°æœ€å¤§å€¼,                                                          &#x2F;&#x2F;æ±‚è®¡æ•°åˆå€¼&#x3D;è®¡æ•°æœ€å¤§å€¼-è¦è®¡çš„ä¸ªæ•°ç›¸ä¼¼                                                          &#x2F;&#x2F;ä¼ è¾“çš„æ•°æ®å®é™…ä¸Šå°±æ˜¯0 1            &#x2F;&#x2F;æ•°æ®å¸§æ¥æ”¶æ ‡å¿—æ¸…é›¶            rx_flag &#x3D; 0;        &#125;        LED1 &#x3D; !LED1;     &#x2F;&#x2F;LEDç¯é—ªçƒï¼Œè¡¨ç¤ºç¨‹åºæ­£å¸¸è¿è¡Œ        delay_ms(100);                    &#x2F;&#x2F;å»¶æ—¶300ms    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ğŸ“– æˆ‘å¯èƒ½éœ€è¦æ¶è¡¥ä¸€ä¸‹ c è¯­è¨€ ğŸ˜­<br><a href="https://blog.csdn.net/m0_62722416/article/details/126540746?spm=1001.2101.3001.6650.17&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-126540746-blog-121202129.t0_edu_mlt&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-17-126540746-blog-121202129.t0_edu_mlt&utm_relevant_index=22">DMA é…ç½®</a><br><a href="https://blog.csdn.net/qq_28959531/article/details/81219150?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-5-81219150-blog-122668801.pc_relevant_aa_2&spm=1001.2101.3001.4242.4&utm_relevant_index=8">STM32F407ZGT6 ä¸²å£ DMA</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F407 </tag>
            
            <tag> USART_DMA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>matlabçš„å‡ ä¸ªç»˜å›¾å‡½æ•°</title>
      <link href="/2022/09/12/38m-matlab/"/>
      <url>/2022/09/12/38m-matlab/</url>
      
        <content type="html"><![CDATA[<h2 id="linspace-ç”Ÿæˆçº¿æ€§é—´è·å‘é‡"><a href="#linspace-ç”Ÿæˆçº¿æ€§é—´è·å‘é‡" class="headerlink" title="linspace ç”Ÿæˆçº¿æ€§é—´è·å‘é‡"></a>linspace ç”Ÿæˆçº¿æ€§é—´è·å‘é‡</h2><p>y &#x3D; linspace(x1,x2) è¿”å›åŒ…å« x1 å’Œ x2 ä¹‹é—´çš„ 100 ä¸ªç­‰é—´è·ç‚¹çš„è¡Œå‘é‡ã€‚<br>y &#x3D; linspace(x1,x2,n) ç”Ÿæˆ n ä¸ªç‚¹ã€‚è¿™äº›ç‚¹çš„é—´è·ä¸º (x2-x1)&#x2F;(n-1)ã€‚</p><p>linspace ç±»ä¼¼äºå†’å·è¿ç®—ç¬¦â€œ:â€ï¼Œä½†å¯ä»¥ç›´æ¥æ§åˆ¶ç‚¹æ•°å¹¶å§‹ç»ˆåŒ…æ‹¬ç«¯ç‚¹ã€‚â€œlinspaceâ€åç§°ä¸­çš„â€œlinâ€æŒ‡ç¤ºç”Ÿæˆçº¿æ€§é—´è·å€¼è€Œä¸æ˜¯åŒçº§å‡½æ•° logspaceï¼Œåè€…ä¼šç”Ÿæˆå¯¹æ•°é—´è·å€¼ã€‚</p><h2 id="plot-äºŒç»´çº¿å›¾"><a href="#plot-äºŒç»´çº¿å›¾" class="headerlink" title="plot äºŒç»´çº¿å›¾"></a>plot äºŒç»´çº¿å›¾</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">è¯­æ³•plot(X,Y)åˆ›å»º Y ä¸­æ•°æ®å¯¹ X ä¸­å¯¹åº”å€¼çš„äºŒç»´çº¿å›¾ã€‚         è¦ç»˜åˆ¶ç”±çº¿æ®µè¿æ¥çš„ä¸€ç»„åæ ‡ï¼Œè¯·å°† X å’Œ Y æŒ‡å®šä¸ºç›¸åŒé•¿åº¦çš„å‘é‡ã€‚         è¦åœ¨åŒä¸€ç»„åæ ‡è½´ä¸Šç»˜åˆ¶å¤šç»„åæ ‡ï¼Œè¯·å°† X æˆ– Y ä¸­çš„è‡³å°‘ä¸€ä¸ªæŒ‡å®šä¸ºçŸ©é˜µã€‚plot(X,Y,LineSpec)    ä½¿ç”¨æŒ‡å®šçš„çº¿å‹ã€æ ‡è®°å’Œé¢œè‰²åˆ›å»ºç»˜å›¾ã€‚plot(X1,Y1,...,Xn,Yn) åœ¨åŒä¸€ç»„åæ ‡è½´ä¸Šç»˜åˆ¶å¤šå¯¹ x å’Œ y åæ ‡ã€‚æ­¤è¯­æ³•å¯æ›¿ä»£å°†åæ ‡æŒ‡å®šä¸ºçŸ©é˜µçš„å½¢å¼ã€‚plot(X1,Y1,LineSpec1,...,Xn,Yn,LineSpecn) å¯ä¸ºæ¯ä¸ª x-y å¯¹ç»„æŒ‡å®šç‰¹å®šçš„çº¿å‹ã€æ ‡è®°å’Œé¢œè‰²ã€‚&#39;x&#39; é»˜è®¤ &#39;--&#39;è™šçº¿  &#39;:&#39;ç‚¹çº¿                                          å¯ä»¥å¯¹æŸäº› x-y å¯¹ç»„æŒ‡å®š LineSpecï¼Œè€Œå¯¹å…¶ä»–å¯¹ç»„çœç•¥å®ƒã€‚plot(x,y1,&#39;g&#39;,x,y2,&#39;b--o&#39;,x,y3,&#39;c*&#39;)      æŒ‡å®šçº¿å‹ã€é¢œè‰²å’Œæ ‡è®°plot(x,y,&#39;-o&#39;,&#39;MarkerIndices&#39;,1:5:length(y)) åœ¨ç‰¹å®šçš„æ•°æ®ç‚¹æ˜¾ç¤ºæ ‡è®°plot(X1,Y1,&#39;o&#39;,X2,Y2) å¯¹ç¬¬ä¸€ä¸ª x-y å¯¹ç»„æŒ‡å®šæ ‡è®°ï¼Œä½†æ²¡æœ‰å¯¹ç¬¬äºŒä¸ªå¯¹ç»„æŒ‡å®šæ ‡è®°ã€‚plot(Y)              ç»˜åˆ¶ Y å¯¹ä¸€ç»„éšå¼ x åæ ‡çš„å›¾ã€‚                     å¦‚æœ Y æ˜¯å‘é‡ï¼Œåˆ™ x åæ ‡èŒƒå›´ä» 1 åˆ° length(Y)ã€‚                     å¦‚æœ Y æ˜¯çŸ©é˜µï¼Œåˆ™å¯¹äº Y ä¸­çš„æ¯ä¸ªåˆ—ï¼Œå›¾ä¸­åŒ…å«ä¸€ä¸ªå¯¹åº”çš„è¡Œã€‚x åæ ‡çš„èŒƒå›´æ˜¯ä» 1 åˆ° Y çš„è¡Œæ•°ã€‚                     å¦‚æœ Y åŒ…å«å¤æ•°ï¼ŒMATLABÂ® ç»˜åˆ¶ Y çš„è™šéƒ¨å¯¹ Y çš„å®éƒ¨çš„å›¾ã€‚ å¦‚æœåŒæ—¶æŒ‡å®šäº† X å’Œ Yï¼Œè™šéƒ¨å°†è¢«å¿½ç•¥ã€‚plot(___,Name,Value) ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªåç§°-å€¼å‚æ•°æŒ‡å®š Line å±æ€§ã€‚                     è¿™äº›å±æ€§åº”ç”¨äºç»˜åˆ¶çš„æ‰€æœ‰çº¿æ¡ã€‚éœ€è¦åœ¨ä¸Šè¿°ä»»ä¸€è¯­æ³•ä¸­çš„æ‰€æœ‰å‚æ•°ä¹‹åæŒ‡å®šåç§°-å€¼å‚æ•°ã€‚æœ‰å…³å±æ€§åˆ—è¡¨ï¼Œè¯·å‚é˜… Line å±æ€§ã€‚plot(ax,___)         åœ¨ç›®æ ‡åæ ‡åŒºä¸Šæ˜¾ç¤ºç»˜å›¾ã€‚å°†åæ ‡åŒºæŒ‡å®šä¸ºä¸Šè¿°ä»»ä¸€è¯­æ³•ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ã€‚p &#x3D; plot(___)        è¿”å›ä¸€ä¸ª Line å¯¹è±¡æˆ– Line å¯¹è±¡æ•°ç»„ã€‚åˆ›å»ºç»˜å›¾åï¼Œä½¿ç”¨ p ä¿®æ”¹è¯¥ç»˜å›¾çš„å±æ€§ã€‚æœ‰å…³å±æ€§åˆ—è¡¨ï¼Œè¯·å‚é˜…                     Line å±æ€§ã€‚ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="meshå‡½æ•°ç”¨æ³•"><a href="#meshå‡½æ•°ç”¨æ³•" class="headerlink" title="meshå‡½æ•°ç”¨æ³•"></a>meshå‡½æ•°ç”¨æ³•</h2><p>meshè¯­å¥ç”»ç½‘æ ¼å›¾ç‰‡ï¼Œå®é™…ä¸Šå°±æ˜¯ç»™å‡ºä¸€å¯¹åæ ‡(x,y)ï¼Œæ¥ç”»çŸ©é˜µz(x,y)çš„å€¼ã€‚</p><img src="/2022/09/12/38m-matlab/01.jpg" class=""><h2 id="meshgridå‡½æ•°"><a href="#meshgridå‡½æ•°" class="headerlink" title="meshgridå‡½æ•°"></a>meshgridå‡½æ•°</h2><p>å°†å‡½æ•°è½¬æ¢ç”ŸæˆçŸ©é˜µ</p><img src="/2022/09/12/38m-matlab/02.jpg" class=""><pre class="line-numbers language-c" data-language="c"><code class="language-c">x&#x3D;-4:0.25:4;y&#x3D;x;[X,Y]&#x3D;meshgrid(x,y);   #ç¼ºå°‘è¿™æ­¥éª¤ä¼šæŠ¥é”™:Zå¿…é¡»ä¸ºçŸ©é˜µï¼Œä¸èƒ½æ˜¯æ ‡é‡æˆ–å‘é‡ã€‚Z&#x3D;-X.^4+Y.^5;mesh(Z)title(&#39;ç½‘æ ¼é¢&#39;)xlabel(&#39;x&#39;),ylabel(&#39;y&#39;),zlabel(&#39;z&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2022/09/12/38m-matlab/03.jpg" class=""><pre class="line-numbers language-c" data-language="c"><code class="language-c">t&#x3D;-4:0.1:4;[X,Y]&#x3D;meshgrid(t);Z&#x3D;peaks(X,Y);mesh(X,Y,Z)title(&#39;æ˜¾ç¤ºç½‘æ ¼&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/2022/09/12/38m-matlab/04.jpg" class=""><h2 id="for-ç”¨æ¥é‡å¤æŒ‡å®šæ¬¡æ•°çš„-for-å¾ªç¯"><a href="#for-ç”¨æ¥é‡å¤æŒ‡å®šæ¬¡æ•°çš„-for-å¾ªç¯" class="headerlink" title="for ç”¨æ¥é‡å¤æŒ‡å®šæ¬¡æ•°çš„ for å¾ªç¯"></a>for ç”¨æ¥é‡å¤æŒ‡å®šæ¬¡æ•°çš„ for å¾ªç¯</h2><p><a href="https://ww2.mathworks.cn/help/matlab/ref/mesh.html?searchHighlight=mesh&s_tid=srchtitle_mesh_1">å®˜æ–¹æ–‡æ¡£</a><br><a href="https://blog.csdn.net/weixin_44044161/article/details/115802993?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166286682316782412591023%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166286682316782412591023&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-3-115802993-null-null.142%5Ev47%5Epc_rank_34_default_2,201%5Ev3%5Econtrol_1&utm_term=matlab%20mesh&spm=1018.2226.3001.4187">ä¸‰ç»´ç½‘æ ¼ç»˜å›¾ï¼ˆmesh)</a><br><a href="https://blog.csdn.net/Ricardo2/article/details/117514592?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166337608116782412577988%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166337608116782412577988&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-117514592-null-null.142%5Ev47%5Epc_rank_34_default_2,201%5Ev3%5Econtrol_1&utm_term=matlab%E6%95%B0%E5%80%BC%E7%A7%AF%E5%88%86&spm=1018.2226.3001.4187">æ•°å€¼ç§¯åˆ†</a><br><a href="https://blog.csdn.net/fifiyang/article/details/116357355">matlabç»˜åˆ¶å¥ˆå¥æ–¯ç‰¹å›¾å’Œä¼¯å¾·å›¾</a></p>]]></content>
      
      
      <categories>
          
          <category> Matlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>keilå¼€å‘51å•ç‰‡æœºåŠä½¿ç”¨æ±‡ç¼–è¯­è¨€ç‚¹äº®æ•°ç ç®¡</title>
      <link href="/2022/09/08/37h-51-number-led/"/>
      <url>/2022/09/08/37h-51-number-led/</url>
      
        <content type="html"><![CDATA[<h2 id="keil-æ­å»º-51-ç¯å¢ƒ"><a href="#keil-æ­å»º-51-ç¯å¢ƒ" class="headerlink" title="keil æ­å»º 51 ç¯å¢ƒ"></a>keil æ­å»º 51 ç¯å¢ƒ</h2><p>å®‰è£… c51v959.exe,ç„¶åä½¿ç”¨ keygen æ¿€æ´»ä¸€ä¸‹</p><p>file-&gt;device database æœç´¢ at89c51 èŠ¯ç‰‡</p><p>output-&gt;âˆš create hex file(output é‡Œå¯ä»¥å¯¹ç”Ÿæˆçš„.hex æ–‡ä»¶å‘½å)</p><p>target-&gt;å¯ä»¥æ›´æ”¹æ›´æ”¹æ™¶æŒ¯é¢‘ç‡</p><p>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹-&gt;ä½œä¸ºæ–°å»ºçš„å·¥ç¨‹çš„ä½ç½®-&gt;é€‰å¦(é€‰æ‹©ä¸å¤åˆ¶ 8051 å¯åŠ¨ä»£ç åˆ°å·¥ç¨‹æ–‡ä»¶)<code>æš‚æ—¶è¿˜ä¸çŸ¥é“ä¸ºå•¥,ä¸è¿‡æ±‡ç¼–è¯­è¨€å’Œç›´æ¥ä½¿ç”¨proteusä»¿çœŸ</code></p><p>ç„¶æ·»åŠ æ–‡ä»¶è·¯å¾„,å’Œæ–‡ä»¶,.asm æ–‡ä»¶ä¸èƒ½é€šè¿‡é‚£ä¸‰ä¸ªé­”æ–¹åŠ å…¥,ä¼¼ä¹åªæœ‰.c å¯ä»¥,ä½†æ˜¯å¯ä»¥é€šè¿‡<code>åŒå‡»source group1å°†.asmåŠ å…¥è¿›æ¥</code></p><h2 id="æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åº"><a href="#æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åº" class="headerlink" title="æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åº"></a>æ±‡ç¼–è¯­è¨€ç¼–å†™ç¨‹åº</h2><p>æ³¨æ„:<br>æ±‡ç¼–è¯­è¨€ä¸­,ä»¥å­—æ¯å¼€å¤´çš„æ•°å‰é¢è¦åŠ  0 æ¯”å¦‚ 0F8H<br><a href="https://blog.csdn.net/nuli123lkj/article/details/124102398">51 å•ç‰‡æœºâ€”â€”â€”â€”Keil åŸºæœ¬æ“ä½œ</a>)</p><h2 id="ä¸€äº›åŸºç¡€æ±‡ç¼–æŒ‡ä»¤"><a href="#ä¸€äº›åŸºç¡€æ±‡ç¼–æŒ‡ä»¤" class="headerlink" title="ä¸€äº›åŸºç¡€æ±‡ç¼–æŒ‡ä»¤"></a>ä¸€äº›åŸºç¡€æ±‡ç¼–æŒ‡ä»¤</h2><p>ä¸€ã€ç¬¦å·å®šä¹‰</p><table><thead><tr><th align="center">å ç§°</th><th align="left">è¯´ æ˜</th></tr></thead><tbody><tr><td align="center">Rn</td><td align="left">n&#x3D;0 ï½ 7ï¼ŒR0 ï½ R7 å¯„å­˜å™¨</td></tr><tr><td align="center">Direct</td><td align="left">ç›´æ¥åœ°å€ï¼Œå†…éƒ¨æ•°æ®åŒºçš„åœ°å€ RAM(00H ï½ 7FH)</td></tr><tr><td align="center">SFR</td><td align="left">(80H ï½ FFH) Bï¼ŒACCï¼ŒPSWï¼ŒIPï¼ŒP3ï¼ŒIEï¼ŒP2ï¼ŒSCONï¼ŒP1ï¼ŒTCONï¼ŒP0</td></tr><tr><td align="center">@Ri</td><td align="left">é—´æ¥å¯»å€ Ri&#x3D;R0ã€R1 8051&#x2F;31RAM åœ°å€(00H ï½ 7FH) 8052&#x2F;32RAM åœ°å€(00H ï½ FFH)</td></tr><tr><td align="center">#data</td><td align="left">8 ä½å¸¸æ•°</td></tr><tr><td align="center">#data16</td><td align="left">16 ä½å¸¸æ•°</td></tr><tr><td align="center">Addr16</td><td align="left">16 ä½çš„ç›®æ ‡åœ°å€</td></tr><tr><td align="center">Addr11</td><td align="left">11 ä½çš„ç›®æ ‡åœ°å€</td></tr><tr><td align="center">Rel</td><td align="left">ç›¸å…³åœ°å€</td></tr><tr><td align="center">bit</td><td align="left">å†…éƒ¨æ•°æ® RAM(20H ï½ 2FH)ï¼Œç‰¹æ®ŠåŠŸèƒ½å¯„å­˜å™¨çš„ç›´æ¥åœ°å€çš„ä½</td></tr></tbody></table><p><a href="https://blog.csdn.net/Danie_wu/article/details/80461726?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166311995416782425166909%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166311995416782425166909&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-80461726-null-null.142%5Ev47%5Epc_rank_34_default_2,201%5Ev3%5Econtrol_1&utm_term=cjne%E6%8C%87%E4%BB%A4&spm=1018.2226.3001.4187">å¸¸ç”¨æ±‡ç¼–è¯­è¨€æŒ‡ä»¤ 1</a><br><a href="https://blog.csdn.net/m0_51171997/article/details/115632110?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166311995416782425166909%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166311995416782425166909&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-2-115632110-null-null.142%5Ev47%5Epc_rank_34_default_2,201%5Ev3%5Econtrol_1&utm_term=cjne%E6%8C%87%E4%BB%A4&spm=1018.2226.3001.4187">å¸¸ç”¨æ±‡ç¼–è¯­è¨€æŒ‡ä»¤ 2</a></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">ORG 0000H           ;æŒ‡å®šç¨‹åºçš„èµ·å§‹åœ°å€   SJMP  MAIN       ;è·³è½¬åˆ°MAINç¨‹åºMAIN:               ;ç¨‹åºçš„ä¸»ç¨‹åº    MOV  A,#08H     ;å°†08Hé€å…¥Aå¯„å­˜å™¨    MOV  P0,A       ;å°†Aå¯„å­˜å™¨çš„å€¼é€å…¥P0å£    MOV  A,#00H     ;ç”¨æ¥å­˜å‚¨åç§»é‡    MOV  R0,#10     ;è®°å½•å¾ªç¯æ¬¡æ•°,0-9æœ‰åä¸ªæ•°    MOV  R1,#0    MOV  DPTR,#DIGIT ;æ•°ç»„é¦–åœ°å€ç”¨DPRTè®°å½•,æŒ‡é’ˆç»™DPRT,è§è§£æ¥è¯´,DPRTæ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªåœ°å€                     ;æˆ‘æƒ³çŸ¥é“è¿™ä¸ªDIGITæ˜¯ä¸æ˜¯å°±æ˜¯ä¸€ä¸ªå•çº¯çš„æ•°ç»„åLOOP:    MOV   A,R1    MOVC  A,@A+DPTR ;åŸºåœ°å€çš„åç§»æŒ‡é’ˆ,åªèƒ½ç”¨aåšåç§»é‡    MOV   P2,A      ;è¯»å–åˆ°çš„æ•°ç»„å†…å®¹èµ‹å€¼ç»™P2å¼•è„š    INC   R1        ;åç§»é‡åŠ 1    LCALL DELAY500MS ;LCALLçš„æ„æ€æ˜¯è°ƒç”¨ï¼Œè°ƒç”¨DELAY1000MS    DJNZ  R0,LOOP    ;å°†R0å‡ä¸€ï¼Œé0åˆ™è·³è½¬åˆ°LOOPï¼Œä¸º0åˆ™æ‰§è¡Œä¸‹ä¸€å¥ï¼ˆå¯ä»¥æ‰§è¡Œ10æ¬¡ï¼‰    SJMP  MAINDIGIT:    DB 0C0H,0F9H,0A4H,0B0H,099H,092H,082H,0F8H,080H,090H  ;å‰é¢åŠ 0,å› ä¸ºä¸èƒ½ä»¥å­—æ¯å¼€å¤´ ;å…±é˜³   0    1    2    3    4    5    6    7    8    9   ;æ³¨ï¼šåœ¨æ±‡ç¼–è¯­è¨€ä¸­åå…­è¿›åˆ¶çš„ç«‹å³æ•°æœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå½“åå…­è¿›åˆ¶æ•°æ˜¯å­—æ¯å¼€å¤´æ—¶è¦åœ¨å‰é¢åŠ 0ï¼Œ                                                          ;è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæ—¶#0C0H è€Œä¸æ˜¯ #C0Hçš„åŸå› äº†ï¼‰DELAY500MS:    MOV   R7,#17H     ;è®©CPUæ‰§è¡ŒåºŸæŒ‡ä»¤è¾¾åˆ°å»¶æ—¶çš„ç›®çš„,å¯ä»¥é€šè¿‡è°ƒæ•´R7,R6,R5çš„å€¼è°ƒæ•´å»¶æ—¶çš„æ—¶é—´DL1:    MOV   R6,#98HDL0:    MOV   R5,#46H    DJNZ  R5,$      ;å¦‚æœR5ä¸ä¸º0ï¼Œå°±è·³è½¬åˆ°$å¤„ï¼Œä¹Ÿå°±æ˜¯è·³è½¬åˆ°æœ¬å¥ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å»¶æ—¶    DJNZ  R6,DL0    ;å½“R6ä¸ä¸º0æ—¶ï¼Œè·³è½¬åˆ°DL0ï¼Œä¸º0æ—¶æ‰§è¡Œä¸‹ä¸€å¥    DJNZ  R7,DL1    NOP             ;ç©º    RET             ;å‡½æ•°ç»“æŸ    END             ;æ•´ä¸ªç¨‹åºå—ç»“æŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/yvge669/article/details/124522144">51å•ç‰‡æœºæ±‡ç¼–è¯­è¨€ç‚¹äº®ä¸€ä½æ•°ç ç®¡</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 51å•ç‰‡æœº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>STC89C52å•ç‰‡æœº</title>
      <link href="/2022/09/03/36h-stc89c52/"/>
      <url>/2022/09/03/36h-stc89c52/</url>
      
        <content type="html"><![CDATA[<h2 id="å•ç‰‡æœºæŒ‰é”®å¤ä½ç”µè·¯çš„åŸç†"><a href="#å•ç‰‡æœºæŒ‰é”®å¤ä½ç”µè·¯çš„åŸç†" class="headerlink" title="å•ç‰‡æœºæŒ‰é”®å¤ä½ç”µè·¯çš„åŸç†"></a>å•ç‰‡æœºæŒ‰é”®å¤ä½ç”µè·¯çš„åŸç†</h2><p>51å•ç‰‡æœºè¦å¤ä½åªéœ€æ±‚åœ¨ç¬¬9å¼•è„šæ¥ä¸ªé«˜ç”µå¹³æŒç»­2uså°±èƒ½å¤Ÿå®Œç»“,åªéœ€ç¡®ä¿ç”µå®¹çš„å……æ”¾ç”µæ—¶åˆ»å¤§äº2USï¼Œå³å¯å®Œç»“å¤ä½ï¼Œæ‰€ä»¥ç”µè·¯ä¸­çš„ç”µå®¹å€¼æ˜¯èƒ½å¤Ÿæ”¹åŠ¨çš„</p><img src="/2022/09/03/36h-stc89c52/01.png" class="" title="å¤ä½ç”µè·¯"><p>åˆ©ç”¨RCç”µè·¯çš„å……æ”¾ç”µæ•ˆåº”ã€‚å½“å•ç‰‡æœºä¸Šç”µçš„æ—¶å€™ï¼Œå¤ä½ç”µè·¯é€šè¿‡ç”µå®¹åŠ è½½RSTå¼•è„šä¸€ä¸ªçŸ­æš‚çš„é«˜ç”µå¹³ä¿¡å·ï¼Œè¿™ä¸ªé«˜ç”µå¹³ä¿¡å·éšç€ç”µå®¹çš„å……ç”µè€Œé€æ¸é™ä½ï¼Œè¿™ä¸ªé«˜ç”µå¹³æŒç»­çš„æ—¶é—´å’ŒRCç”µè·¯çš„å……æ”¾ç”µæ—¶é—´æœ‰å…³ã€‚ç”¨æˆ·åœ¨ä½¿ç”¨æ—¶ï¼Œéœ€è¦é€‰æ‹©åˆé€‚çš„ç”µå®¹å’Œç”µé˜»æ¥ä½¿é«˜ç”µå¹³çš„æŒç»­æ—¶é—´å¤§äºå•ç‰‡æœºçš„å¤ä½æ—¶é—´ã€‚<br>1ï¼ä¸Šç”µå¤ä½ï¼š<br>åœ¨ç”µè·¯å›¾ä¸­ï¼Œç”µå®¹çš„çš„å¤§å°æ˜¯10ufï¼Œç”µé˜»çš„å¤§å°æ˜¯10kã€‚æ‰€ä»¥ä¾æ®å…¬å¼â€¦..(<code>æš‚æ—¶æœªçŸ¥</code>).ï¼Œèƒ½å¤Ÿç®—å‡ºç”µå®¹å……ç”µåˆ°ç”µæºç”µå‹çš„0.7å€ï¼ˆå•ç‰‡æœºçš„ç”µæºæ˜¯5Vï¼Œæ‰€ä»¥å……ç”µåˆ°0.7å€å³ä¸º3.5Vï¼‰ï¼Œéœ€æ±‚çš„æ—¶é—´æ˜¯10K*10UF&#x3D;0.1Sã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨å•ç‰‡æœºå¯åŠ¨çš„0.1Så†…ï¼Œç”µå®¹ä¸¤å¤´çš„ç”µå‹æ—¶åœ¨0<del>3.5Væ·»åŠ ã€‚è¿™ä¸ªæ—¶é—´10Kç”µé˜»ä¸¤å¤´çš„ç”µå‹ä¸ºä»5</del>1.5Vå‰Šå‡ï¼ˆä¸²è”åˆ†å‹ï¼‰ã€‚æ‰€ä»¥åœ¨0.1Så†…ï¼ŒRSTå¼•è„šæ‰€æ¥çº³åˆ°çš„ç”µå‹æ˜¯5V~1.5Vã€‚åœ¨5Væ­£å¸¸ä½œä¸šçš„51å•ç‰‡æœºä¸­å°äº1.5Vçš„ç”µå‹ä¿¡å·ä¸ºä½ç”µå¹³ä¿¡å·ï¼Œè€Œå¤§äº1.5Vçš„ç”µå‹ä¿¡å·ä¸ºé«˜ç”µå¹³ä¿¡å·ã€‚æ‰€ä»¥åœ¨å¼€æœº0.1Så†…ï¼Œå•ç‰‡æœºä½“ç³»ä¸»åŠ¨å¤ä½ï¼ˆRSTå¼•è„šæ¥çº³åˆ°çš„é«˜ç”µå¹³ä¿¡å·æ—¶åˆ»ä¸º0.1Sæ‘†å¸ƒï¼‰ã€‚</p><p>2ï¼æ‰‹åŠ¨å¤ä½ï¼š<br>åœ¨å•ç‰‡æœºå¯åŠ¨0.1Såï¼Œç”µå®¹Cä¸¤å¤´çš„ç”µå‹ç»§ç»­å……ç”µä¸º5Vï¼Œè¿™ä¸ªæ—¶å€™10Kç”µé˜»ä¸¤å¤´çš„ç”µå‹æŒ¨è¿‘äº0Vï¼ŒRSTå¤„äºä½ç”µå¹³æ‰€ä»¥ä½“ç³»æ­£å¸¸å·¥ä½œã€‚å½“æŒ‰é”®æŒ‰ä¸‹æ—¶ï¼Œå¼€å…³å¯¼é€šï¼Œè¿™ä¸ªæ—¶å€™ç”µå®¹ä¸¤å¤´æ„æˆäº†ä¸€ä¸ªå›è·¯ï¼Œç”µå®¹è¢«çŸ­è·¯ï¼Œæ‰€ä»¥åœ¨æŒ‰é”®æŒ‰ä¸‹çš„è¿™ä¸ªè¿›ç¨‹ä¸­ï¼Œç”µå®¹å¼€ç«¯å¼€é‡Šä¹‹å‰å……çš„ç”µé‡ã€‚éšç€æ—¶åˆ»çš„æ¨ç§»ï¼Œç”µå®¹çš„ç”µå‹åœ¨0.1Så†…ï¼Œä»5Vå¼€é‡Šåˆ°å˜ä¸ºäº†1.5Vï¼Œç”šè‡³æ›´å°ã€‚ä¾æ®ä¸²è”ç”µè·¯ç”µå‹ä¸ºéåœ°ä¹‹å’Œï¼Œæ­¤æ—¶10Kç”µé˜»ä¸¤å¤´çš„ç”µå‹ä¸º3.5Vï¼Œå¯èƒ½æ›´å¤§ï¼Œæ‰€ä»¥RSTå¼•è„šåˆæ¥åˆ°é«˜ç”µå¹³ã€‚å•ç‰‡æœºä½“ç³»ä¸»åŠ¨å¤ä½ã€‚<br>3.ç›¸å…³å…¬å¼<br>1.1 RCå……æ”¾ç”µæ—¶é—´å¸¸æ•°<br>ä¸²è”RCç”µè·¯çš„æ—¶é—´å¸¸æ•°æ˜¯ä¸€ä¸ªå›ºå®šçš„æ—¶é—´é—´éš”ï¼Œç­‰äºç”µé˜»å’Œç”µå®¹çš„ä¹˜ç§¯ã€‚å…¶å…¬å¼ä¸ºï¼š</p><img src="/2022/09/03/36h-stc89c52/02.png" class=""><p>å¼ä¸­ï¼ŒÏ„ä¸ºRCå……æ”¾ç”µæ—¶é—´å¸¸æ•°ï¼Œå•ä½æ˜¯Sï¼›Rä¸ºç”µé˜»ï¼Œå•ä½æ˜¯Î©ï¼›Cä¸ºç”µå®¹ï¼Œå•ä½æ˜¯Fã€‚<br>1.2 RLå……æ”¾ç”µæ—¶é—´å¸¸æ•°<br>ä¸²è”RLç”µè·¯çš„æ—¶é—´å¸¸æ•°æ˜¯ä¸€ä¸ªå›ºå®šçš„æ—¶é—´é—´éš”ï¼Œç­‰äºç”µæ„Ÿå¯¹ç”µé˜»çš„æ¯”å€¼ã€‚å…¶å…¬å¼ä¸ºï¼š</p><img src="/2022/09/03/36h-stc89c52/03.png" class=""><p>å¼ä¸­ï¼ŒÏ„ä¸ºRLå……æ”¾ç”µæ—¶é—´å¸¸æ•°ï¼Œå•ä½æ˜¯Sï¼›Lä¸ºç”µæ„Ÿï¼Œå•ä½æ˜¯Hï¼›Rä¸ºç”µé˜»ï¼Œå•ä½æ˜¯Î©ã€‚</p><h2 id="STC89C52RCåŸç†å›¾"><a href="#STC89C52RCåŸç†å›¾" class="headerlink" title="STC89C52RCåŸç†å›¾"></a>STC89C52RCåŸç†å›¾</h2><p>P0.0åˆ°P0.7å†…éƒ¨æ— ä¸Šæ‹‰ç”µé˜»,å¦‚æœä½œä¸ºIOå£çš„,å¿…é¡»å¤–æ¥10k-4.7kçš„ä¸Šæ‹‰ç”µé˜»<br>å½“P0ä½œä¸ºæ•°æ®&#x2F;åœ°å€æ€»çº¿ä½¿ç”¨æ—¶,æ­¤æ—¶æ— éœ€å¤–æ¥ä¸Šæ‹‰ç”µé˜»<br>EAå¼•è„šå·²å†…éƒ¨ä¸Šæ‹‰åˆ°VCC,å¤–éƒ¨ä¸åŠ ä¸Šæ‹‰æˆ–ä¸Šæ‹‰åˆ°VCC,ä¸Šç”µå¤ä½åå•ç‰‡æœºä»å†…éƒ¨å¼€å§‹æ‰§è¡Œç¨‹åº<br>EAå¼•è„šå¤–éƒ¨ä¸‹æ‹‰åˆ°åœ°,å•ç‰‡æœºä¸Šç”µå¤ä½åä»å¤–éƒ¨å¼€å§‹æ‰§è¡Œç¨‹åº<br>æ™¶æŒ¯,æ•°æ®æ‰‹å†Œä¸Šå»ºè®®çš„æ˜¯47pf,æš‚æ—¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆå¤§å¤šæ•°éƒ½ç”¨äº†22pf</p><p>LEDç¯çš„åŸç†å›¾</p><img src="/2022/09/03/36h-stc89c52/08.png" class=""><p>å¼•è„šå·¦éƒ¨åˆ†ä¸ºå•ç‰‡æœºå†…éƒ¨ç”µè·¯,ä¸ç”¨aç”µè·¯,ç¬¬ä¸€æ˜¯å› ä¸ºledå¯¼é€šå¯¹ç”µå‹æœ‰è¦æ±‚,è€Œå•ç‰‡æœºç”µå‹å¯èƒ½ä¼šæŸè€—,ledå¯èƒ½ä¼šå‡ºç°æ— æ³•è¢«ç‚¹äº®çš„æƒ…å†µ,bç”µè·¯å¯ä»¥ä¿è¯å¼•è„šä¸ºä½ç”µå¹³æ—¶äºŒæç®¡ä¸€å®šå¯¼é€š,ç¬¬äºŒæ˜¯å¯èƒ½ä¼šå› ä¸ºåŠŸç‡é—®é¢˜å¯¼è‡´èŠ¯ç‰‡çƒ§æ¯</p><p>å¼•è„šåŠŸèƒ½å›¾</p><img src="/2022/09/03/36h-stc89c52/04.png" class=""><img src="/2022/09/03/36h-stc89c52/05.png" class=""><img src="/2022/09/03/36h-stc89c52/06.png" class=""><p>èŠ¯ç‰‡å¼•è„šå›¾</p><img src="/2022/09/03/36h-stc89c52/07.png" class=""><img src="/2022/09/03/36h-stc89c52/09.png" class=""><p><a href="https://www.eefocus.com/e/485623">å‚è€ƒæ–‡ç« </a><br><a href="https://www.elecfans.com/emb/danpianji/202007121244668.html">å‚è€ƒæ–‡ç« </a><br><a href="https://www.semiee.com/file/STC/STC-STC89C51RC.pdf">æ•°æ®æ‰‹å†Œ</a></p><p>ã€€ã€€</p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STC89C52 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…«è·¯ç°åº¦ä¼ æ„Ÿå™¨</title>
      <link href="/2022/08/30/35h-grayscale-sensor/"/>
      <url>/2022/08/30/35h-grayscale-sensor/</url>
      
        <content type="html"><![CDATA[<h2 id="ç°åº¦ä¼ æ„Ÿå™¨ä¸çº¢å¤–ä¼ æ„Ÿå™¨"><a href="#ç°åº¦ä¼ æ„Ÿå™¨ä¸çº¢å¤–ä¼ æ„Ÿå™¨" class="headerlink" title="ç°åº¦ä¼ æ„Ÿå™¨ä¸çº¢å¤–ä¼ æ„Ÿå™¨"></a>ç°åº¦ä¼ æ„Ÿå™¨ä¸çº¢å¤–ä¼ æ„Ÿå™¨</h2><p>1.ç°åº¦ä¼ æ„Ÿå™¨æ˜¯æ¨¡æ‹Ÿä¼ æ„Ÿå™¨,æœ‰ä¸€åªå‘å…‰äºŒæç®¡å’Œä¸€åªå…‰æ•ç”µé˜»,å®‰è£…åœ¨åŒä¸€é¢ä¸Š,åˆ©ç”¨ä¸åŒé¢œè‰²çš„æ£€æµ‹é¢å¯¹å…‰çš„åå°„ç¨‹åº¦ä¸åŒï¼Œå…‰æ•ç”µé˜»å¯¹ä¸åŒæ£€æµ‹é¢è¿”å›çš„å…‰ï¼Œå…¶é˜»å€¼ä¹Ÿä¸åŒçš„åŸç†è¿›è¡Œé¢œè‰²æ·±æµ…æ£€æµ‹ã€‚åœ¨æœ‰æ•ˆçš„æ£€æµ‹è·ç¦»å†…ï¼Œå‘å…‰äºŒæç®¡å‘å‡ºç™½å…‰ï¼Œç…§å°„åœ¨æ£€æµ‹é¢ä¸Šï¼Œæ£€æµ‹é¢åå°„éƒ¨åˆ†å…‰çº¿ï¼Œå…‰æ•ç”µé˜»æ£€æµ‹æ­¤å…‰çº¿çš„å¼ºåº¦å¹¶å°†å…¶è½¬æ¢ä¸ºæœºå™¨äººå¯ä»¥è¯†åˆ«çš„ä¿¡å·ã€‚</p><p>ç°åº¦ä¼ æ„Ÿå™¨ï¼šæ‰€è°“ç°åº¦ä¹Ÿå¯è®¤ä¸ºæ˜¯äº®åº¦ï¼Œç®€å•çš„è¯´å°±æ˜¯è‰²å½©çš„æ·±æµ…ç¨‹åº¦ã€‚æ ¹æ®åå°„å…‰çš„å¼ºåº¦ï¼Œå¯ä»¥åˆ¤æ–­å‡ºç‰©ä½“çš„ç°çº§ç¨‹åº¦</p><p>ç°åº¦ä¼ æ„Ÿå™¨ç¼ºç‚¹ï¼šæœ‰æ•ˆæ£€æµ‹è·ç¦»æ¯”è¾ƒçŸ­ã€‚</p><p>2.çº¢å¤–ä¼ æ„Ÿå™¨ï¼šçº¢å¤–ä¼ æ„Ÿå™¨ä¸»è¦ç”¨æ¥æ£€æµ‹æ˜¯å¦æœ‰éšœç¢ç‰©ï¼Œä¸€èˆ¬ç”±ä¸¤åªçº¢å¤–ç®¡æ„æˆçš„ï¼Œä¸€åªå‘å°„ï¼Œä¸€åªæ¥æ”¶</p><ul><li>è°ƒç”µé˜»å¯å˜ç”µé˜»çš„æŠ€æœ¯æŒ‡æ ‡<ul><li>å¯è°ƒç”µé˜»è¢«å¹¿æ³›çš„åº”ç”¨äºå„ç§ç”µè·¯ä¸­ï¼Œå¸¸è§çš„å‹å·æœ‰3361Wã€3006Pã€3266Wã€3323Pã€3266Pã€3296Pã€3386Pã€3296Wã€3362Pã€3362Mã€3361Pã€3266Xç­‰ã€‚å¸¸è§é˜»å€¼çš„æ ‡æ³¨æ–¹æ³•æœ‰ï¼š101è¡¨ç¤º10Ã—10çš„ä¸€æ¬¡æ–¹ï¼Œå³100Î©;202è¡¨ç¤º200Ã—10çš„äºŒæ¬¡æ–¹ï¼Œå³2000Î©&#x3D;2kÎ©;501è¡¨ç¤º50Ã—10çš„ä¸€æ¬¡æ–¹ï¼Œå³500Î©;</li></ul></li><li>å•åœˆç”µä½å™¨å’Œå¤šåœˆç”µä½å™¨çš„åŒºåˆ«<ul><li><p>å•åœˆç”µä½å™¨æ˜¯è¯´ï¼Œå®ƒçš„ç”µé˜»ä½“åªæœ‰ä¸€å‘¨ï¼Œæ—¢å¯ä»¥æ— é™è¿ç»­æ—‹è½¬ï¼Œä¹Ÿå¯ä»¥æœ‰æœºæ¢°é™ä½è§’åº¦ã€‚æœ‰æ­¢æŒ¡çš„è¯ï¼Œå¯ä»¥åœ¨0-360åº¦èŒƒå›´å†…é€‰æ‹©ç”µæ°”è§’åº¦ã€‚ å¤šåœˆç”µä½å™¨æ˜¯è¯´ï¼Œå®ƒçš„ç”µé˜»ä½“æœ‰å¾ˆå¤šå‘¨ï¼Œé€šå¸¸æ¥è¯´æœ‰10å‘¨ã€‚å³ï¼šå®ƒçš„æœºæ¢°è¡Œç¨‹ä¸º3600åº¦ã€‚å†…éƒ¨å¯ä»¥åšæˆèºæ—‹çŠ¶çš„æœºæ¢°è¡Œç¨‹å¯¼è½¨ï¼Œåœ¨å¯¼è½¨ä¸¤å¤´è®¾ç½®æ­¢æŒ¡ã€‚<br> æ— è®ºå¤šåœˆè¿˜æ˜¯å•åœˆç”µä½å™¨ï¼Œåªè¦åœ¨æœºæ¢°éƒ¨åˆ†è®¾ç½®äº†æ­¢æŒ¡ï¼Œåˆ™ç”µä½å™¨çš„æœºæ¢°è¡Œç¨‹æ˜¯æœ‰èŒƒå›´çš„ï¼Œå³ï¼šä¸å¯è¿ç»­æ— é™æ—‹è½¬çš„ã€‚ ç”µä½å™¨å¾ˆå°ï¼Œå®ƒçš„æ­¢æŒ¡æ˜¯æœ‰â€œæ­¢æŒ¡åŠ›çŸ©â€çš„ï¼Œè¿‡å¤§çš„åŠ›å°†ç ´åç”µä½å™¨çš„æ­¢æŒ¡ï¼Œä»è€Œå¼•èµ·ç”µä½å™¨çš„æŸåã€‚<br> æ²¡æœ‰é™åˆ¶è§’åº¦çš„ç”µä½å™¨ï¼Œå«åšæ— æ­¢æŒ¡ç”µä½å™¨ï¼ˆä»æœºæ¢°è§’åº¦è®²ï¼Œå¯ä»¥è¿ç»­æ—‹è½¬ï¼Œä½†æ˜¯ç”µé˜»ä½“ä¸Šæ€»æ˜¯æœ‰ä¸€ä¸ªèµ·å§‹ç‚¹å’Œä¸€ä¸ªç»ˆæ­¢ç‚¹ï¼‰</p></li><li><p>å•åœˆç”µä½å™¨ä¸»è¦ç”¨åœ¨æ°‘ç”¨è®¾å¤‡ä¸Šï¼Œä¸»è¦ç‰¹ç‚¹æ˜¯åœ¨ä¸€åœˆçš„èŒƒå›´å†…å°±èƒ½å®Œæˆå¤§å¹…åº¦çš„æ”¹å˜ï¼Œå¤šåœˆç‰¹ç‚¹æ˜¯èƒ½è°ƒèŠ‚çš„ç²¾å¯†ï¼Œé€‚åˆè®¾å¤‡ä¸Šæˆ–å·¥æ§ç”¨ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ä½ ä¹°ä¸ªéŸ³ç®±ï¼Œæƒ³å˜ä¸ªéŸ³é‡ï¼Œä½†éŸ³ç®±ç”¨å¤šåœˆç”µä½å™¨ï¼Œä½ å—å¾—äº†è°ƒä¸ªéŸ³é‡å°±å¾—è½¬åå‡ åœˆä¹ˆï¼Ÿä½†å¦‚æœæœ‰ä¸ª0~5Vçš„ç”µå‹æºï¼Œä½ èƒ½è¦è¾“å‡º3.25Vï¼Œä½†å•åœˆç”µä½å™¨ç¨å¾®ä¸€ç¢°å°±0.5Vçš„å˜åŠ¨ï¼Œè‚¯å®šç”¨å•åœˆå°±æ˜¯å¤±è´¥çš„è®¾è®¡ã€‚åœ¨PCBè®¾è®¡ä¸Šå¦‚ä¸æ˜¯å¤ªè®¡è¾ƒæˆæœ¬éƒ½å¯ä»¥ç”¨çš„ï¼Œå¤šåœˆç”µä½å™¨ä¹Ÿæœ‰å°å‹çš„ï¼</p></li></ul></li></ul><p>éœ€è¦ç²¾ç¡®åº¦æ¯”è¾ƒé«˜çš„è°ƒè¯•,å¸¸é€‰ç”¨å¤šåœˆç”µä½å™¨</p><h2 id="ç”»æ¿è¿‡ç¨‹ä¸­é‡åˆ°çš„å›°éš¾"><a href="#ç”»æ¿è¿‡ç¨‹ä¸­é‡åˆ°çš„å›°éš¾" class="headerlink" title="ç”»æ¿è¿‡ç¨‹ä¸­é‡åˆ°çš„å›°éš¾"></a>ç”»æ¿è¿‡ç¨‹ä¸­é‡åˆ°çš„å›°éš¾</h2><p>é¦–å…ˆå°±æ˜¯ä¸çŸ¥é“åŸç†,èµ„æ–™å¾ˆå°‘,ç…§ç€ä¸€ä¸ªå¤§ä½¬çš„åšå®¢ç”»å‡ºäº†åŸç†å›¾,çœ‹åˆ°æ·˜å®æœ‰å–é‚£ç§æ•°å­—ä¿¡å·å’Œæ¨¡æ‹Ÿä¿¡å·åªéœ€æ”¹å˜ç”µé˜»ä½ç½®å°±å¯ä»¥æ”¹å˜ç»“æœçš„,æ‰¾åŸå› æ‰¾äº†å¥½ä¹…,æœ€åå‘ç°æ˜¯å› ä¸ºLM339DTåšç”µå‹æ¯”è¾ƒå™¨,æƒ³è¦è¾“å‡ºæ¨¡æ‹Ÿä¿¡å·,å»æ‰è¿™ä¸ªèŠ¯ç‰‡å°±å¯ä»¥,æ‰€ä»¥è¿™ä¸ªèŠ¯ç‰‡åº”è¯¥æ˜¯A&#x2F;Dè½¬æ¢èŠ¯ç‰‡<br>æ‰€ä»¥æ·˜å®åº—é“ºçš„é‚£ä¸ªäº§å“çš„ç”µé˜»éƒ¨åˆ†åº”è¯¥æ˜¯è¿™æ ·çš„</p><img src="/2022/08/30/35h-grayscale-sensor/05.jpg" class=""><img src="/2022/08/30/35h-grayscale-sensor/04.jpg" class=""><p>ä¸€ä¸ªç„Šç›˜åœ¨A_OUT1çš„å·¦é¢,æ¥åœ¨è¿™é‡Œè¾“å‡ºæ•°å­—ä¿¡å·</p><img src="/2022/08/30/35h-grayscale-sensor/06.jpg" class=""><p>å¦ä¸€ä¸ªç„Šç›˜çš„ä½ç½®åœ¨è¿™å¼ å›¾çš„R1è¿™,æ”¹å˜çš„ç”µé˜»å°±æ˜¯R1,æ¥åœ¨è¿™é‡Œ,è¾“å‡ºçš„å°±æ˜¯æ¨¡æ‹Ÿä¿¡å·,å› ä¸ºLM339DTå·²ç»æ–­å¼€</p><h2 id="LM339DTèŠ¯ç‰‡"><a href="#LM339DTèŠ¯ç‰‡" class="headerlink" title="LM339DTèŠ¯ç‰‡"></a>LM339DTèŠ¯ç‰‡</h2><p>å¼•è„šå›¾</p><img src="/2022/08/30/35h-grayscale-sensor/07.jpg" class=""><p>LM339 æ¯”è¾ƒå™¨ IC ç”± 4 ä¸ªå†…ç½®çš„ç‹¬ç«‹ç”µå‹æ¯”è¾ƒå™¨ç»„æˆ<br>æ¯”è¾ƒå™¨ 1ã€2ã€3 ã€ 4 ï¼šæ­£è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 3 ï¼Œ è´Ÿè¾“å…¥ è¿æ¥åˆ° IC å¼•è„š 12ã€‚<br>æ¯”è¾ƒå™¨ 1 ï¼šåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 4 ï¼Œéåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 5ï¼Œè¾“å‡ºè¿æ¥åˆ° IC å¼•è„š 2ã€‚<br>æ¯”è¾ƒå™¨ 2 ï¼šåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 6 ï¼Œéåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 7ï¼Œè¾“å‡ºè¿æ¥åˆ° IC å¼•è„š 1ã€‚<br>æ¯”è¾ƒå™¨ 3 ï¼šåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 8 ï¼Œéåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 9ï¼Œè¾“å‡ºè¿æ¥åˆ° IC å¼•è„š14ã€‚<br>æ¯”è¾ƒå™¨ 4 ï¼šåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 10 ï¼Œéåç›¸è¾“å…¥è¿æ¥åˆ° IC å¼•è„š 11ï¼Œè¾“å‡ºè¿æ¥åˆ° IC å¼•è„š13ã€‚<br>å…¸å‹ç”µè·¯å›¾</p><img src="/2022/08/30/35h-grayscale-sensor/08.jpg" class=""><h2 id="æš‚æ—¶è¿˜ä¸çŸ¥é“LM339DTèŠ¯ç‰‡ä¸LM399èŠ¯ç‰‡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#æš‚æ—¶è¿˜ä¸çŸ¥é“LM339DTèŠ¯ç‰‡ä¸LM399èŠ¯ç‰‡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="æš‚æ—¶è¿˜ä¸çŸ¥é“LM339DTèŠ¯ç‰‡ä¸LM399èŠ¯ç‰‡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"></a>æš‚æ—¶è¿˜ä¸çŸ¥é“LM339DTèŠ¯ç‰‡ä¸LM399èŠ¯ç‰‡çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ</h2><h2 id="LM399èŠ¯ç‰‡"><a href="#LM399èŠ¯ç‰‡" class="headerlink" title="LM399èŠ¯ç‰‡"></a>LM399èŠ¯ç‰‡</h2><p>LM399 æ˜¯ä¸€æ¬¾ç”µå‹æ¯”è¾ƒå™¨ï¼Œç”± 14 ä¸ªå¼•è„šå’Œ 4 ä¸ªç‹¬ç«‹çš„ç”µå‹æ¯”è¾ƒå™¨ç»„æˆï¼Œæ¯”è¾ƒåœ¨è¾“å…¥ç«¯åº”ç”¨çš„ä¸¤ä¸ªè¾“å…¥ï¼Œå¹¶ä»¥æ•°å­—å½¢å¼æ˜¾ç¤ºè¾“å‡º</p><h2 id="å¯ä»¥è¿›è¡Œæ¨¡æ•°è½¬æ¢çš„åŸç†"><a href="#å¯ä»¥è¿›è¡Œæ¨¡æ•°è½¬æ¢çš„åŸç†" class="headerlink" title="å¯ä»¥è¿›è¡Œæ¨¡æ•°è½¬æ¢çš„åŸç†"></a>å¯ä»¥è¿›è¡Œæ¨¡æ•°è½¬æ¢çš„åŸç†</h2><p>  çº¢å¤–å¯¹ç®¡,é€æ˜çš„é‚£ä¸ªæ˜¯çº¢å¤–å‘å°„ç®¡ï¼Œæš—é»‘è‰²é‚£ä¸ªå«çº¢å¤–æ¥æ”¶ç®¡ã€‚æ˜¯ä¸æ˜¯çº¢å¤–å‘å°„ç®¡å‘å‡ºçš„äº®åº¦è¶Šé«˜è¶Šå¥½å‘¢ï¼Ÿä¸æ˜¯çš„ï¼Œå‘å‡ºçš„äº®åº¦åº”è¯¥æ˜¯é€‚ä¸­ä¸”å›ºå®šçš„ã€‚é€‚ä¸­å®¹æ˜“<br>ç†è§£ï¼Œå›ºå®šæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿå°±æ˜¯äº®åº¦åº”è¯¥ç”±å§‹è‡³ç»ˆéƒ½ç›¸åŒï¼Œä¸ç„¶å°±ç®—æ˜¯æ£€æµ‹åŒä¸€ä¸ªéšœç¢ç‰©çš„ç°åº¦ï¼Œçº¢å¤–å‘å°„ç®¡å‘å°„çš„äº®åº¦å¿½æ˜å¿½æš—ï¼Œçº¢å¤–æ¥æ”¶ç®¡æ¥æ”¶åˆ°çš„åå°„å…‰ä¹Ÿå°±å¿½æ˜å¿½æš—ï¼Œä½†æ˜¯æ˜æ˜æ˜¯åŒä¸€ä¸ªéšœç¢ç‰©ï¼Œè¿™æ ·å°±ä¸å¯¹äº†ã€‚æˆ‘ä»¬ä¸€èˆ¬èƒ½å¤Ÿåœ¨å‚å•†æä¾›çš„æ•°æ®æ‰‹å†Œä¸­æ‰¾åˆ°çº¢å¤–å‘å°„ç®¡æ­£å¸¸å·¥ä½œæ—¶çš„ç”µæµï¼ˆä¸€èˆ¬æ˜¯åå‡ æ¯«å®‰åˆ°å‡ åæ¯«å®‰ï¼‰ï¼Œæ ¹æ®è¿™ä¸ªç”µæµå’Œç”µæºçš„ç”µå‹ï¼Œæ±‚å‡ºè¦åŠ çš„ç”µé˜»çš„å¤§å°ã€‚</p><p>çº¢å¤–æ¥æ”¶ç®¡æ€ä¹ˆçŸ¥é“æ¥æ”¶çº¢å¤–å…‰æœ‰å¤šäº®<br>ã€€ã€€é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€ä¸ªæ¦‚å¿µï¼šå…‰æ•å…ƒä»¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯å¯¹å…‰æ•æ„Ÿçš„å…ƒä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç¯å¢ƒäº®åº¦å¤§å°ä¼šå¯¼è‡´å…‰æ•å…ƒä»¶æŸä¸€ä¸ªç‰©ç†é‡å‘ç”Ÿå˜åŒ–ã€‚æˆ‘ä»¬ä½¿ç”¨çš„çº¢å¤–æ¥æ”¶ç®¡å°±æ˜¯ä¸€ç§å…‰æ•å…ƒä»¶ï¼Œå½“æ¥æ”¶çº¢å¤–å…‰äº®åº¦è¶Šå¤§æ—¶ï¼Œç”µé˜»å°±è¶Šå°ã€‚æ¥æ”¶çš„åŸç†å¼„æ‡‚äº†ï¼Œå®é™…å®ç°è¦æ€ä¹ˆåšå‘¢ï¼Ÿæµ‹ç”µé˜»ã€‚ä½†æ˜¯å•ç‰‡æœºæ²¡æœ‰åŠæ³•ç›´æ¥æµ‹ç”µé˜»,æŠŠæµ‹ç”µé˜»è½¬æ¢æˆæµ‹ç”µå‹ã€‚</p><p>ã€€ã€€æ€ä¹ˆæµ‹ç”µé˜»å¤§å°,å›¾ä¸­çš„RLå³çº¢å¤–æ¥æ”¶ç®¡çš„ç”µé˜»ï¼ŒR1æ˜¯æˆ‘ä»¬æŒ‘é€‰çš„å›ºå®šé˜»å€¼çš„ç”µé˜»ã€‚æ ¹æ®ç”µé˜»åˆ†å‹åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ULçš„å€¼ï¼Œå›ºå®šç”µæºä¸º5Vï¼Œæˆ‘ä»¬å‡è®¾çº¢å¤–æ¥æ”¶ç®¡åœ¨éšœç¢ç‰©ä¸ºé»‘è‰²çš„æ—¶å€™ï¼ˆå³åœ¨è·‘é“ä¸Šï¼‰ï¼ŒRLç”µé˜»ä¸º30Kï¼Œåœ¨éšœç¢ç‰©ä¸ºç™½è‰²çš„æ—¶å€™ï¼ŒRLç”µé˜»ä¸º300ï¼Œå‡è®¾R1æˆ‘ä»¬ç”¨10Kçš„ç”µé˜»ï¼Œæ±‚éšœç¢ç‰©ä¸ºé»‘è‰²çš„æ—¶å€™ç”µå‹ULç­‰äºå¤šå°‘ï¼Œéšœç¢ç‰©ä¸ºç™½è‰²çš„æ—¶å€™ç”µå‹ULç­‰äºå¤šå°‘ã€‚<br>ã€€ã€€å› æ­¤å°è½¦åœ¨è·‘é“ä¸Šè·‘çš„æ—¶å€™ï¼ŒULçš„å€¼å°±åœ¨0.15åˆ°3.75ä¹‹é—´å˜åŒ–ï¼Œæˆ‘ä»¬é€šè¿‡æ£€æµ‹ULçš„å¤§å°å°±å¯ä»¥çŸ¥é“è¿™ä¸ªçº¢å¤–ç°åº¦ä¼ æ„Ÿå™¨æ˜¯å¦åœ¨è·‘é“ä¸Šäº†ã€‚</p><p>ã€€è¿˜è®°å¾—æˆ‘ä»¬å‰é¢æåˆ°è¯´ï¼Œâ€œå‹‰å¼ºâ€å¯ä»¥æµ‹é‡ç”µå‹å—ï¼Ÿä¸ºä»€ä¹ˆè¦è¯´å‹‰å¼ºï¼Ÿå®é™…ä¸Šä¸€èˆ¬å‹å·çš„51å•ç‰‡æœºï¼ˆä¸åŒ…æ‹¬æŸäº›å¢å¼ºç‰ˆï¼‰æ˜¯ä¸å…·å¤‡æµ‹ç”µå‹åŠŸèƒ½çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•æµ‹å¾—å‡ºULçš„æ•°å€¼ã€‚ä½†æ˜¯51å•ç‰‡æœºèƒ½å¤Ÿè¾“å…¥é«˜ä½ç”µå¹³ï¼Œä¹Ÿå°±æ˜¯0å’Œ1ï¼Œè¾“å…¥ä½äº0.4Vå°±ç›¸å½“äºè¾“å…¥0ï¼Œè¾“å…¥é«˜äº2.4Vå°±ç›¸å½“äºè¾“å…¥1ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æŠ˜ä¸­çš„åŠæ³•ï¼Œä»¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚<br>ã€€ã€€æˆ‘ä»¬å›é¡¾ä¸€ä¸‹æˆ‘ä»¬çš„ç›®çš„ï¼Œä¸å°±æ˜¯åŒºåˆ†é»‘çº¿å’Œç™½è‰²èƒŒæ™¯å—ï¼Œè€Œä¸”é»‘çº¿å’Œç™½è‰²èƒŒæ™¯å¯¹åº”çš„ULç›¸å·®åˆæ¯”è¾ƒå¤§ï¼Œæˆ‘ä»¬å¤§æ¦‚å–ä¸€ä¸ªä¸­é—´å€¼ï¼Œçº¦ä¸º2Vã€‚ç°åœ¨æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªå…ƒä»¶ï¼Œè¿™ä¸ªå…ƒä»¶æœ‰ä¸€ä¸ªè¾“å…¥å’Œä¸€ä¸ªè¾“å‡ºã€‚å½“è¾“å…¥å°äº2Væ—¶ï¼Œè¾“å‡ºä¸º0Vï¼›å½“è¾“å‡ºå¤§äº2Væ—¶ï¼Œè¾“å‡ºä¸º5Vã€‚å¦‚ä¸‹å›¾ç†è§£ï¼š</p><p>ã€€ã€€è¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±å°†ULçš„0.15~3.75è¿™æ ·çš„ä¸€ä¸ªèŒƒå›´å€¼å˜æˆäº†0å’Œ5è¿™æ ·çš„ä¸¤ä¸ªæ•°ï¼Œå¯¹åº”äº†å•ç‰‡æœºè¾“å…¥çš„0å’Œ1ï¼Œåˆ†åˆ«ä»£è¡¨ç€ç™½è‰²èƒŒæ™¯å’Œé»‘è‰²çº¿è·¯ã€‚</p><p>ã€€ã€€<code>è¿™ä¸ªå°†æ•°å€¼è¿›è¡Œæ¯”è¾ƒåè¿›è¡Œè¾“å‡ºçš„å…ƒä»¶å«ç”µå‹æ¯”è¾ƒå™¨ï¼Œåˆ’é‡ç‚¹ï¼Œç”µå‹æ¯”è¾ƒå™¨</code>ï¼ï¼ï¼ ç”µå‹æ¯”è¾ƒå™¨çš„ç”µè·¯åº”è¯¥è¿™æ ·ç”»ï¼š</p><img src="/2022/08/30/35h-grayscale-sensor/07.jpg" class=""><p>ã€€ã€€ä¸­é—´é‚£ä¸ªå¸¦+ -å·çš„ä¸‰è§’å½¢å«åšè¿æ”¾ï¼Œå½“+ï¼ˆæ­£ï¼‰ç«¯è¾“å…¥çš„ç”µå‹å¤§äº-ï¼ˆè´Ÿï¼‰ç«¯ç”µå‹æ—¶ï¼Œè¾“å‡º5Vï¼Œå¦åˆ™è¾“å‡º0Vã€‚</p><p>ã€€ã€€å›é¡¾ä¸€ä¸‹ä¸Šé¢è¯´åˆ°çš„å‡ ä¸ªç”µè·¯ï¼Œç”µé˜»é™æµï¼Œç”µé˜»åˆ†å‹ï¼Œæ¯”è¾ƒå™¨ã€‚ç»¼åˆä»¥ä¸Šä¸‰ä¸ªç”µè·¯ï¼Œä¸€ä¸ªçº¢å¤–ç°åº¦ä¼ æ„Ÿå™¨çš„ç”µè·¯å°±å‡ºç°äº†ï¼Œå¦‚ä¸‹å›¾ï¼šVCCè¿æ¥ç”µæºæ­£æï¼ŒGNDè¿æ¥ç”µæºè´Ÿæï¼ŒTCRT5000æ˜¯ä¸€ç»„çº¢å¤–å¯¹ç®¡ï¼Œå·¦è¾¹å¸¦ä¸¤ä¸ªç®­å¤´çš„æ˜¯çº¢å¤–å‘å°„ç®¡ï¼Œå³è¾¹çš„æ˜¯çº¢å¤–æ¥æ”¶ç®¡ã€‚</p><img src="/2022/08/30/35h-grayscale-sensor/09.jpg" class=""><p>ã€€ã€€ä¸Šé¢æˆ‘ä»¬è¯´çš„ï¼Œæ¯”è¾ƒå™¨çš„åŸç†æ˜¯ä»€ä¹ˆæ¥ç€ï¼Œ<code>å½“è¿æ”¾+ï¼ˆæ­£ï¼‰è¾“å…¥ç”µå‹å¤§äº-ï¼ˆè´Ÿï¼‰è¾“å…¥ç”µå‹æ—¶(ä¹Ÿå°±æ˜¯IN+&gt;IN-å¼•è„šçš„æ—¶å€™)</code>ï¼Œè¿æ”¾è¾“å‡º(OUTå¼•è„š)å°±ä¸º5Vï¼Œåä¹‹è¾“å‡ºå°±ä¸º0Vã€‚è§‚å¯Ÿæ­¤æ—¶çš„+-æè¾“å…¥æ˜¯ä»€ä¹ˆã€‚+æè¾“å…¥æ˜¯å‰é¢ç”µé˜»åˆ†å‹ç”µè·¯å¾—åˆ°çš„ULï¼Œ-æè¾“å…¥æ˜¯VCCå’ŒGNDä¹‹é—´çš„ç”µå‹ç»è¿‡æ»‘åŠ¨å˜é˜»å™¨ï¼ˆä¹Ÿå«ç”µä½å™¨ï¼‰åˆ†å‹åå¾—åˆ°çš„æŸä¸€å›ºå®šç”µå‹ï¼Œåœ¨ä¸Šæ–‡çš„åˆ†æä¸­ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªå›ºå®šç”µå‹è®¾ç½®ä¸º2Vï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬è°ƒèŠ‚æ»‘åŠ¨å˜é˜»å™¨ï¼Œè·å¾—ä¸€ä¸ª2Vçš„ç”µå‹æä¾›ç»™è¿æ”¾-ï¼ˆè´Ÿï¼‰æå³å¯ã€‚<br><a href="https://www.eefocus.com/e/508731">ç°åº¦ä¼ æ„Ÿå™¨ä¸çº¢å¤–ä¼ æ„Ÿå™¨çš„ä»‹ç»</a><br><a href="https://item.taobao.com/item.htm?spm=a230r.1.14.151.78fe2ed1yarCIX&id=593277124077&ns=1&abbucket=14#detail">å…«è·¯ä¼ æ„Ÿå™¨çš„ä»‹ç»</a><br><a href="https://blog.csdn.net/ycznjust/article/details/124309824">ä¼ æ„Ÿå™¨åŸç†å›¾å‚è€ƒ</a><br><a href="https://blog.csdn.net/lmf666/article/details/126084700">LM393ç°åº¦ä¼ æ„Ÿå™¨</a><br><a href="http://www.360doc.com/content/22/0730/21/11955020_1042010929.shtml">LM339å‚è€ƒæ–‡ç« </a><br><a href="https://www.semiee.com/file/TI/TI-LM339.pdf">LM339-Datasheet</a><br><a href="https://blog.51cto.com/liucw/1155420">åµŒå…¥å¼ç¡¬ä»¶åŸºç¡€</a><br><a href="https://blog.csdn.net/weixin_30851409/article/details/96397517?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166159776316782388033825%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166159776316782388033825&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-96397517-null-null.142%5Ev42%5Epc_rank_34_ctr25,185%5Ev2%5Econtrol&utm_term=%E7%BA%A2%E5%A4%96%E4%BC%A0%E6%84%9F%E5%99%A8%E5%92%8C%E7%81%B0%E5%BA%A6%E4%BC%A0%E6%84%9F%E5%99%A8%E7%9A%84%E5%8C%BA%E5%88%AB&spm=1018.2226.3001.4187">å¯¹çº¢å¤–ç°åº¦ä¼ æ„Ÿå™¨çš„ç†è§£</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¼ æ„Ÿå™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>msp432p401r-pcb</title>
      <link href="/2022/08/12/34h-msp432p401r-pcb/"/>
      <url>/2022/08/12/34h-msp432p401r-pcb/</url>
      
        <content type="html"><![CDATA[<h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>1.mspä¾›ç”µvccæ˜¯æ¥DVccæ¥3.3vï¼Œ DVssæ¥åœ°<br>2.ä¸ºä»€ä¹ˆå¤§ä½¬ä»¬ç”»çš„æ¿å­ä¸ŠJTAGæ¥å£å¼•è„šä¸jlinkä¸Šçš„ä¸ä¸€æ ·</p><blockquote><p>å› ä¸ºä»–ä»¬ç”»çš„æ˜¯msp430ä»¿çœŸå™¨çš„JTAG<br>JLINKçš„JTAGå¼•è„šå›¾</p></blockquote><p>msp430çš„JTAGå¼•è„šå›¾</p><h3 id="JTAGè°ƒè¯•çš„å¼•è„šä»‹ç»"><a href="#JTAGè°ƒè¯•çš„å¼•è„šä»‹ç»" class="headerlink" title="JTAGè°ƒè¯•çš„å¼•è„šä»‹ç»"></a>JTAGè°ƒè¯•çš„å¼•è„šä»‹ç»</h3><p>JTAG è°ƒè¯•ç”¨åˆ°äº† TCKã€TMSã€TDIã€TDO å’Œ TRST è¿™å‡ ä¸ªè„šã€‚</p><ul><li>å…¶ä¸­ TRST æ˜¯ç”¨æ¥å¯¹ TAP controllerè¿›è¡Œå¤ä½çš„ï¼Œå®ƒä¸æ˜¯å¿…é¡»çš„ã€‚é€šè¿‡åœ¨ TMSè„šä¹Ÿå¯ä»¥ä½¿ TAP controllerå¤ä½ã€‚</li><li>Test Clock Input (TCK)</li><li>TCKä¸º TAPçš„æ“ä½œæä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„ã€åŸºæœ¬çš„æ—¶é’Ÿä¿¡å·ï¼ŒTAP çš„æ‰€æœ‰æ“ä½œéƒ½æ˜¯é€šè¿‡è¿™ä¸ªæ—¶é’Ÿä¿¡å·æ¥é©±åŠ¨çš„ã€‚TCKåœ¨ IEEE 1149.1 æ ‡å‡†é‡Œæ˜¯å¼ºåˆ¶è¦æ±‚çš„ã€‚</li><li>Test Mode Selection Input (TMS)</li><li>TMSä¿¡å·ç”¨æ¥æ§åˆ¶ TAPçŠ¶æ€æœºçš„è½¬æ¢ã€‚é€šè¿‡ TMSä¿¡å·ï¼Œå¯ä»¥æ§åˆ¶ TAPåœ¨ä¸åŒçš„çŠ¶æ€é—´ç›¸äº’è½¬æ¢ã€‚TMSä¿¡å·åœ¨ TCKçš„ä¸Šå‡æ²¿æœ‰æ•ˆã€‚TMSåœ¨ IEEE 1149.1 æ ‡å‡†é‡Œæ˜¯å¼ºåˆ¶è¦æ±‚çš„ã€‚</li><li>Test Data Input (TDI)</li><li>TDI æ˜¯æ•°æ®è¾“å…¥çš„æ¥å£ã€‚æ‰€æœ‰è¦è¾“å…¥åˆ°ç‰¹å®šå¯„å­˜å™¨çš„æ•°æ®éƒ½æ˜¯é€šè¿‡ TDI æ¥å£ä¸€ä½ä¸€ä½ä¸²è¡Œè¾“å…¥çš„ï¼ˆç”± TCKé©±åŠ¨ï¼‰ã€‚TDIåœ¨ IEEE 1149.1 æ ‡å‡†é‡Œæ˜¯å¼ºåˆ¶è¦æ±‚çš„ã€‚</li><li>Test Data Output (TDO)</li><li>TDO æ˜¯æ•°æ®è¾“å‡ºçš„æ¥å£ã€‚æ‰€æœ‰è¦ä»ç‰¹å®šçš„å¯„å­˜å™¨ä¸­è¾“å‡ºçš„æ•°æ®éƒ½æ˜¯é€šè¿‡ TDO æ¥å£ä¸€ä½ä¸€ä½ä¸²è¡Œè¾“å‡ºçš„ï¼ˆç”± TCKé©±åŠ¨ï¼‰ã€‚TDOåœ¨ IEEE 1149.1 æ ‡å‡†é‡Œæ˜¯å¼ºåˆ¶è¦æ±‚çš„ã€‚</li><li>Test Reset Input (TRST)</li><li>TRST å¯ä»¥ç”¨æ¥å¯¹ TAP Controller è¿›è¡Œå¤ä½ï¼ˆåˆå§‹åŒ–ï¼‰ã€‚ä¸è¿‡è¿™ä¸ªä¿¡å·æ¥å£åœ¨ IEEE 1149.1æ ‡å‡†é‡Œæ˜¯å¯é€‰çš„ï¼Œå¹¶ä¸æ˜¯å¼ºåˆ¶è¦æ±‚çš„ã€‚å› ä¸ºé€šè¿‡ TMSä¹Ÿå¯ä»¥å¯¹ TAP Controllerè¿›è¡Œå¤ä½ï¼ˆåˆå§‹åŒ–</li></ul><h2 id="æ™¶æŒ¯"><a href="#æ™¶æŒ¯" class="headerlink" title="æ™¶æŒ¯"></a>æ™¶æŒ¯</h2><h3 id="æ™¶æŒ¯çš„å°è£…"><a href="#æ™¶æŒ¯çš„å°è£…" class="headerlink" title="æ™¶æŒ¯çš„å°è£…"></a>æ™¶æŒ¯çš„å°è£…</h3><p>æ™¶æŒ¯çš„å°è£…åˆ†ä¸ºSMDè´´ç‰‡æ™¶æŒ¯å’ŒDIPæ’ä»¶æ™¶æŒ¯</p><p>MHzè´´ç‰‡æ™¶ä½“æœ‰å¦‚ä¸‹å°ºå¯¸ï¼š</p><img src="/2022/08/12/34h-msp432p401r-pcb/05.jpg" class=""><p>\1. SMD1612 - å°ºå¯¸1.6x1.2mm</p><p>- å°å‹åŒ–çš„è´´ç‰‡æ™¶ä½“KX16ï¼Œé¢‘ç‡èŒƒå›´æ˜¯24MHz<del>54MHzï¼Œè´Ÿè½½ç”µå®¹å¯é€‰8</del>32pFï¼›</p><p>- æ¸©è¡¥æ™¶æŒ¯KT16CSï¼Œå‰Šå³°æ­£å¼¦æ³¢è¾“å‡ºï¼Œé¢‘ç‡èŒƒå›´æ˜¯13MHz ~ 52MHzï¼Œå¯é€‰æ‹©1.8V~2.5Vå·¥ä½œç”µå‹ã€‚</p><p>\2. SMD2016 - å°ºå¯¸2.0x1.6mm</p><p>- è´´ç‰‡æ™¶ä½“KX20, é¢‘ç‡èŒƒå›´20MHz<del>54MHz, è´Ÿè½½ç”µå®¹å¯é€‰8</del>32pF;</p><p>- è´´ç‰‡æ™¶æŒ¯KS20ï¼Œé¢‘ç‡èŒƒå›´1MHz<del>54MHzï¼Œ å·¥ä½œç”µå‹å¯é€‰1.8V</del>3.3V;</p><p>- æ¸©è¡¥æ™¶æŒ¯KT20CSï¼Œå‰Šå³°æ­£å¼¦æ³¢è¾“å‡º, é¢‘ç‡èŒƒå›´10MHz<del>52MHz,å·¥ä½œç”µå‹å¯é€‰1.8V</del>3.3Vï¼Œå¯é€‰æ˜¯å¦æœ‰ç”µå‹è°ƒæ•´ã€‚</p><p>\3. SMD2520 - å°ºå¯¸2.5x2.0mm</p><p>- è´´ç‰‡è°æŒ¯å™¨KX25, é¢‘ç‡èŒƒå›´12MHz~60MHzï¼Œåº”ç”¨äºæ¶ˆè´¹ç±»å’Œå·¥ä¸šç±»äº§å“ï¼Œå°ä½“ç§¯ï¼Œä½æˆæœ¬ï¼›</p><p>- è´´ç‰‡æ—¶é’ŸæŒ¯è¡å™¨ï¼š æ™®é€šæ™¶æŒ¯KS25ï¼›ä½æŠ–åŠ¨æ™¶æŒ¯KJ25ï¼› å·®åˆ†æ™¶æŒ¯KD256D&#x2F;KD256Cä¸º6å¼•è„šLVDSå’ŒHCSLè¾“å‡ºï¼›</p><p>- å‹æ§æ™¶æŒ¯KV25ï¼Œé¢‘ç‡èŒƒå›´4MHz~50MHzï¼›</p><p>- æ¸©è¡¥æ™¶æŒ¯KT25CS, å‰Šå³°æ­£å¼¦æ³¢è¾“å‡º</p><p>\4. SMD3225 - å°ºå¯¸3.2x2.5mm</p><p>- ä¸»æµæ™¶æŒ¯çš„å°è£…, ä»è°æŒ¯å™¨åˆ°æ¸©è¡¥æ™¶æŒ¯éƒ½æœ‰3225è´´ç‰‡å°è£…ã€‚å¤šæ¬¾ç‰¹ç§æ™¶æŒ¯å¯ä¾›é€‰æ‹©ï¼šä½é¢‘khzï¼Œå·®åˆ†è¾“å‡ºï¼Œä½æŠ–åŠ¨ï¼Œå¯ç¼–ç¨‹æ™¶æŒ¯ï¼Œè¶…é«˜é¢‘æ™¶æŒ¯ç­‰ç­‰ã€‚</p><p>\5. SMD5032 - å°ºå¯¸5.0x3.2mm</p><p>- 5032æ˜¯ä¸»æµæ™¶æŒ¯å°è£…ï¼Œåœ¨SMD3225ç‰¹ç§æ™¶æŒ¯çš„é€‰æ‹©ä¸Šï¼Œè¿˜æœ‰é˜²ç”µç£å¹²æ‰°æ™¶æŒ¯KM50ï¼›</p><p>\6. SMD6035 - å°ºå¯¸6.0x3.5mm</p><p>- ç›®å‰å¸‚åœºä¸Šä¸å¸¸è§ï¼Œå„å¤§å‚å•†å·²ç»åœæ­¢6035çš„äº§çº¿.</p><p>\7. SMD7050 - å°ºå¯¸7.0x5.0mm</p><p>- 7050æ™¶æŒ¯æ˜¯åº”ç”¨æ¯”è¾ƒå¹¿æ³›çš„å°ºå¯¸ï¼Œæœ‰å¤šç§ç‰¹æ€§æ™¶æŒ¯å¯ä¾›é€‰æ‹©ã€‚</p><p>kHzè´´ç‰‡æ™¶ä½“æœ‰å¦‚ä¸‹å°ºå¯¸ï¼š</p><img src="/2022/08/12/34h-msp432p401r-pcb/06.jpg" class=""><p>- å‹å·åˆ†åˆ«ä¸ºKX2012, KX3215, KX3880, KX7015</p><p>02ç›´æ’æ™¶æŒ¯</p><p>\1. æ’ä»¶å°è£… DIP08&#x2F;DIP14</p><img src="/2022/08/12/34h-msp432p401r-pcb/07.jpg" class=""><p>- æ—¶é’ŸæŒ¯è¡å™¨KS08 (13.2x13.2mm) KS14 (20.3x13.2mm)</p><p>- å‹æ§æ™¶æŒ¯KV08&#x2F;KV14&#x2F;KV14S</p><p>- æ¸©è¡¥æ™¶æŒ¯KT14&#x2F;KT14S</p><p>\2. HC-49S&#x2F;M&#x2F;U</p><img src="/2022/08/12/34h-msp432p401r-pcb/08.jpg" class=""><p>- HC-49Sæ™¶æŒ¯å°è£…å°ºå¯¸10.5<em>3.5</em>3.8mm, é¢‘ç‡èŒƒå›´3.5MHz~80MHz</p><p>- HC-49SMDæ™¶æŒ¯å°è£…å°ºå¯¸13<em>4.8</em>4mmï¼Œåˆå«åšå‡è´´æ™¶æŒ¯ï¼Œæ˜¯49Sç›´æ’æ”¹å‹è€Œæ¥çš„ï¼›</p><p>- HC-49Uæ™¶æŒ¯å°è£…å°ºå¯¸ï¼š11.05*4.65.13.46mmï¼Œé¢‘ç‡èŒƒå›´1.8MHz~210MHzã€‚</p><p>\3. åœ†æŸ±æ™¶ä½“</p><img src="/2022/08/12/34h-msp432p401r-pcb/09.jpg" class=""><p>- 1.0Ï†x4.0ä»…æœ‰kHzé¢‘ç‡ï¼š KX1040çš„é¢‘ç‡ä¸º32.768kHzï¼›</p><p>- 2.0Ï†x6.0æœ‰kHzå’ŒMHzï¼šKX2060é¢‘ç‡èŒƒå›´25k<del>200kHzï¼›KX26é¢‘ç‡ä¸º12M</del>30MHzï¼›</p><p>- 3.0Ï†x8.0æœ‰kHzå’ŒMHzï¼šKX3080é¢‘ç‡èŒƒå›´25k<del>200kHzï¼›KX38é¢‘ç‡ä¸º4M</del>40MHz</p><p>æˆ‘ä»¬çŸ¥é“ï¼Œç”µå­çº¿è·¯ä¸­çš„æ™¶ä½“æŒ¯è¡å™¨åˆ†ä¸ºæ— æºæ™¶æŒ¯å’Œæœ‰æºæ™¶æŒ¯ä¸¤ç§ç±»å‹ã€‚æ— æºæ™¶æŒ¯ä¸æœ‰æºæ™¶æŒ¯çš„è‹±æ–‡åç§°ä¸åŒï¼Œæ— æºæ™¶æŒ¯ä¸ºcrystalï¼ˆæ™¶ä½“ï¼‰ï¼Œè€Œæœ‰æºæ™¶æŒ¯åˆ™å«åšoscillatorï¼ˆæŒ¯è¡å™¨ï¼‰ã€‚<br>1.ä¸€èˆ¬æ¥è¯´æ™¶æŒ¯æ˜¯æ²¡æœ‰æ–¹å‘çš„<br>2.ä½†æ™¶æŒ¯æœ‰åˆ†æœ‰æºæ™¶æŒ¯è·Ÿæ— æºæ™¶æŒ¯,æœ‰æºæ™¶æŒ¯æ˜¯æœ‰åˆ†æ–¹å‘çš„,ä½†æ˜¯å¤§éƒ¨ä»½äº§å“éƒ½æ˜¯ç”¨çš„æ— æºæ™¶æŒ¯ã€‚</p><h3 id="æ— æºæ™¶æŒ¯"><a href="#æ— æºæ™¶æŒ¯" class="headerlink" title="æ— æºæ™¶æŒ¯"></a>æ— æºæ™¶æŒ¯</h3><p>æ— æºæ™¶æŒ¯æ˜¯æœ‰2ä¸ªå¼•è„šçš„æ— ææ€§å…ƒä»¶ï¼Œéœ€è¦å€ŸåŠ©äºæ—¶é’Ÿç”µè·¯æ‰èƒ½äº§ç”ŸæŒ¯è¡ä¿¡å·ï¼Œè‡ªèº«æ— æ³•æŒ¯è¡èµ·æ¥ï¼Œæ‰€ä»¥â€œæ— æºæ™¶æŒ¯â€è¿™ä¸ªè¯´æ³•å¹¶ä¸å‡†ç¡®ã€‚</p><img src="/2022/08/12/34h-msp432p401r-pcb/03.png" class="" title="æ— æºæ™¶æŒ¯å‚è€ƒç”µè·¯"><p>æ— æºæ™¶æŒ¯ä¿¡å·è´¨é‡è¾ƒå·®ï¼Œé€šå¸¸éœ€è¦ç²¾ç¡®åŒ¹é…å¤–å›´ç”µè·¯ï¼ˆç”¨äºä¿¡å·åŒ¹é…çš„ç”µå®¹ã€ç”µæ„Ÿã€ç”µé˜»ç­‰ï¼‰ï¼Œæ›´æ¢ä¸åŒé¢‘ç‡çš„æ™¶ä½“æ—¶å‘¨è¾¹é…ç½®ç”µè·¯ä¹Ÿéœ€è¦åšç›¸åº”çš„è°ƒæ•´ã€‚<br>ä¸€èˆ¬å»ºè®®é‡‡ç”¨ç²¾åº¦è¾ƒé«˜çš„çŸ³è‹±æ™¶ä½“ï¼Œå°½å¯èƒ½ä¸è¦é‡‡ç”¨ç²¾åº¦ä½çš„é™¶ç“·æ™¶ä½“ã€‚</p><h3 id="æœ‰æºæ™¶æŒ¯"><a href="#æœ‰æºæ™¶æŒ¯" class="headerlink" title="æœ‰æºæ™¶æŒ¯"></a>æœ‰æºæ™¶æŒ¯</h3><p>æœ‰æºæ™¶æŒ¯æœ‰4åªå¼•è„šï¼Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„æŒ¯è¡å™¨ï¼Œå…¶ä¸­é™¤äº†çŸ³è‹±æ™¶ä½“å¤–ï¼Œè¿˜æœ‰æ™¶ä½“ç®¡å’Œé˜»å®¹å…ƒä»¶ï¼Œå› æ­¤ä½“ç§¯è¾ƒå¤§ã€‚<br>æœ‰æºæ™¶æŒ¯çš„å°è£…æœ‰4ä¸ªå¼•è„šï¼Œåˆ†åˆ«ä¸ºVCCï¼ˆç”µå‹ï¼‰ã€GNDï¼ˆåœ°ï¼‰ã€OUTï¼ˆæ—¶é’Ÿä¿¡å·è¾“å‡ºï¼‰ã€NCï¼ˆç©ºè„šï¼‰ã€‚</p><p>æœ‰æºæ™¶æŒ¯å‚è€ƒç”µè·¯</p><img src="/2022/08/12/34h-msp432p401r-pcb/04.png" class="" title="æ— æºæ™¶æŒ¯å‚è€ƒç”µè·¯"><p>æœ‰æºæ™¶æŒ¯ä¸éœ€è¦CPUçš„å†…éƒ¨æŒ¯è¡å™¨ï¼Œä¿¡å·ç¨³å®šï¼Œè´¨é‡è¾ƒå¥½ï¼Œè€Œä¸”è¿æ¥æ–¹å¼æ¯”è¾ƒç®€å•ï¼ˆä¸»è¦åšå¥½ç”µæºæ»¤æ³¢ï¼Œé€šå¸¸ä½¿ç”¨ä¸€ä¸ªç”µå®¹å’Œç”µæ„Ÿæ„æˆæ»¤æ³¢ç½‘ç»œï¼Œè¾“å‡ºç«¯ç”¨ä¸€ä¸ªå°é˜»å€¼çš„ç”µé˜»è¿‡æ»¤ä¿¡å·å³å¯ï¼‰ï¼Œä¸éœ€è¦å¤æ‚çš„é…ç½®ç”µè·¯ã€‚</p><h3 id="æœ‰æºæ™¶æŒ¯å’Œæ— æºæ™¶æŒ¯çš„åŒºåˆ«"><a href="#æœ‰æºæ™¶æŒ¯å’Œæ— æºæ™¶æŒ¯çš„åŒºåˆ«" class="headerlink" title="æœ‰æºæ™¶æŒ¯å’Œæ— æºæ™¶æŒ¯çš„åŒºåˆ«"></a>æœ‰æºæ™¶æŒ¯å’Œæ— æºæ™¶æŒ¯çš„åŒºåˆ«</h3><p>1ã€æœ‰æºæ™¶æŒ¯æ¯”è¾ƒè´µï¼Œä½†æ˜¯æœ‰æºæ™¶æŒ¯è‡ªèº«å°±èƒ½éœ‡åŠ¨<br>2ã€æ— æºæ™¶æŒ¯æœ€é«˜ç²¾åº¦ä¸º5ppmï¼Œè€Œæœ‰æºæ™¶æŒ¯çš„ç²¾åº¦åˆ™å¯ä»¥è¾¾åˆ°0.1ppmã€‚ç²¾åº¦è¶Šé«˜ï¼Œé¢‘ç‡ç¨³å®šæ€§ä¹Ÿæ›´å¥½ã€‚æœ‰æºæ™¶æŒ¯åœ¨ç¨³å®šæ€§ä¸Šè¦èƒœè¿‡æ— æºæ™¶æŒ¯ï¼Œä½†æœ‰æºæ™¶æŒ¯çš„ä¿¡å·ç”µå¹³æ˜¯å›ºå®šï¼Œæ‰€ä»¥éœ€è¦é€‰æ‹©å¥½åˆé€‚è¾“å‡ºç”µå¹³ï¼Œçµæ´»æ€§è¾ƒå·®ã€‚</p><p>3ã€æœ‰æºæ™¶æŒ¯ä¸€èˆ¬4ä¸ªè„šï¼Œä¸€ä¸ªç”µæºï¼Œä¸€ä¸ªæ¥åœ°ï¼Œä¸€ä¸ªä¿¡å·è¾“å‡ºç«¯ï¼Œä¸€ä¸ªNCï¼ˆç©ºè„šï¼‰ã€‚æœ‰ä¸ªç‚¹æ ‡è®°çš„ä¸º1è„šï¼ŒæŒ‰é€†æ—¶é’ˆï¼ˆç®¡è„šå‘ä¸‹ï¼‰åˆ†åˆ«ä¸º2ã€3ã€4ã€‚<br>4ã€æ— æºæ™¶æŒ¯æœ‰2ä¸ªå¼•è„šï¼Œéœ€è¦å€ŸåŠ©äºå¤–éƒ¨çš„æ—¶é’Ÿç”µè·¯ï¼ˆæ¥åˆ°ä¸»ICå†…éƒ¨çš„éœ‡è¡ç”µè·¯ï¼‰æ‰èƒ½äº§ç”ŸæŒ¯è¡ä¿¡å·ï¼Œè‡ªèº«æ— æ³•æŒ¯è¡ã€‚</p><p>æ™¶æŒ¯ç”µè·¯å±äºå•ç‰‡æœºå¿ƒè„ï¼Œç²¾åº¦éå¸¸é‡è¦ï¼Œæ‰€ä»¥éœ€è¦é€‰æ‹©é«˜Qå€¼çš„å…ƒå™¨ä»¶ï¼ˆQå€¼é«˜ç”µè·¯é€‰æ‹©æ€§å¥½ï¼‰ã€‚<br>1ã€ é€‰æ‹©NPO&#x2F;COGæè´¨çš„ç”µå®¹ï¼ˆå¤–è§‚çœ‹èµ·æ¥æ˜¯ç™½è‰²çš„ï¼‰<br>2ã€ å°½é‡é€‰æ‹©å°å°è£…çš„ç”µå®¹ï¼ˆå°è£…å°çš„å™¨ä»¶å¯„ç”Ÿå‚æ•°å°ï¼‰</p><h2 id="ç›¸åŒå€¼çš„ç”µæ„Ÿçš„å¯ä»¥æ¢å°è£…å—"><a href="#ç›¸åŒå€¼çš„ç”µæ„Ÿçš„å¯ä»¥æ¢å°è£…å—" class="headerlink" title="ç›¸åŒå€¼çš„ç”µæ„Ÿçš„å¯ä»¥æ¢å°è£…å—"></a>ç›¸åŒå€¼çš„ç”µæ„Ÿçš„å¯ä»¥æ¢å°è£…å—</h2><p>ä¸è¡Œ!æ„Ÿé‡ç›¸åŒä¸ä»£è¡¨ç”µé˜»,ç”µæµä¹Ÿç›¸åŒ,4.7UHç”µæµæœ‰0.05A-20Açš„è¦æ˜¯å‹å·ä¸ä¸€æ ·çš„è¯ä¼šçƒ§åç”µè·¯æ¿çš„â€<br>é€šå¸¸åœ¨é‡‡ç”¨æ­£ç”µå‹çš„ç”µè·¯ä¸Šï¼š<br>ã€€ã€€VCCæ­£ç”µæºç”µå‹<br>ã€€ã€€VSSç”µè·¯åœ°</p><p>ã€€ã€€AVCCæ­£æ¨¡æ‹Ÿç”µæºç”µå‹<br>ã€€ã€€AVSSæ¨¡æ‹Ÿç”µè·¯åœ°ï¼ˆæ¨¡æ‹Ÿåœ°ï¼‰</p><p>ã€€ã€€DVCCæ­£æ•°å­—ç”µæºç”µå‹<br>ã€€ã€€DVSSæ•°å­—ç”µè·¯åœ° ï¼ˆæ•°å­—åœ°ï¼‰</p><p>ã€€ã€€AVCC&#x2F;AVSSä¸€èˆ¬ä¸ºæ¨¡æ‹Ÿéƒ¨åˆ†æä¾›ç”µæº<br>ã€€ã€€DVCC&#x2F;DVSSä¸€èˆ¬ä¸ºæ•°å­—éƒ¨åˆ†å’Œå†…éƒ¨I&#x2F;Oæä¾›ç”µæº</p><p>ä¸ºäº†é¿å…å¼•å…¥ç”µæºå¹²æ‰°ï¼Œé€šå¸¸éœ€è¦æŠŠAVCC&#x2F;AVSSå’ŒDVCC&#x2F;DVSSéš”ç¦»å¼€ã€‚</p><h2 id="pcbç”»æ¿è§„åˆ™"><a href="#pcbç”»æ¿è§„åˆ™" class="headerlink" title="pcbç”»æ¿è§„åˆ™"></a>pcbç”»æ¿è§„åˆ™</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">ç”µæºçº¿è¦å®½äºä¿¡å·çº¿,tx,rxå°½é‡ä¸è¦è¿‡å­”,å°½é‡åœ¨åŒä¸€é¢ä¸Šç”µå®¹å°½é‡é è¿‘å¼•è„š,èµ°çº¿è¦å…ˆè¿‡ç”µå®¹æ¨¡æ‹Ÿ&amp;æ•°å­—éƒ¨åˆ†1ã€ä¸åŒé€Ÿåº¦ä¿¡å·çº¿è¦åˆ†å¼€å¸ƒçº¿ï¼Œæœ€å¥½ä¸è¦åœ¨PCBæ¿é¢å‚ç›´æ–¹å‘åŒæ—¶å‡ºç°ä¸¤ç§ä»¥ä¸Šä¿¡å·çº¿åœ¨æ°´å¹³ä½ç½®ä¸Šé‡åˆã€‚è‹¥éœ€è¦é‡åˆï¼Œå°½å¯èƒ½ä½¿å¾—ä¿¡å·çº¿ä¹‹é—´çš„é€Ÿåº¦å·®å°½å¯èƒ½å°‘ï¼Œå¹¶ä¸”å°½å¯èƒ½å‡å°‘é‡åˆé¢ç§¯ï¼ˆä¾‹å¦‚ï¼šä½é€Ÿå’Œä¸­é€Ÿä¿¡å·çº¿é‡åˆã€ä¸­é€Ÿå’Œé«˜é€Ÿä¿¡å·çº¿é‡åˆã€ä½é€Ÿå’Œé«˜é€Ÿä¿¡å·çº¿é‡åˆéœ€è°¨æ…è€ƒè™‘ï¼‰2ã€PCBä¸åŒéƒ¨åˆ†ä¸åŒç§ç±»ç”µè·¯åˆ†åŒºå¸ƒçº¿ï¼Œæ— ç‰¹æ®Šè¦æ±‚ä¸‹ç”¨åœ°éš”ç¦»ï¼ˆéƒ¨åˆ†å°„é¢‘ç”µè·¯å‘å°„ç«¯ä¸èƒ½é“ºé“œï¼Œå…·ä½“å‚ç…§ICæ–‡æ¡£è¯´æ˜ï¼‰ã€‚3ã€ä¸å»ºè®®åœ¨é«˜é€Ÿä¿¡å·çº¿ä¸Šèµ°ä¸€äº›å…ƒå™¨ä»¶ï¼ˆä¾‹å¦‚å¤§å°è£…å…ƒå™¨ä»¶ä¸‹è¾¹å¸ƒçº¿ï¼‰ï¼Œå¦‚æœæ˜¯åœ¨ä½é€Ÿä¿¡å·çº¿ä¸Šçš„å…ƒå™¨ä»¶ï¼Œåˆ™ä½é€Ÿä¿¡å·çº¿å¾ˆå¯èƒ½ä¼šè¢«é«˜é€Ÿä¿¡å·çº¿å¹²æ‰°ã€‚4ã€0æ¬§ç”µé˜»å¯ä»¥å½“å¯¼çº¿ç”¨ã€‚5ã€æ™¶æŒ¯æ¯”è¾ƒç‰¹æ®Šï¼Œæ˜¯å¹²æ‰°æºä¹Ÿæ˜¯æ•æ„Ÿæºï¼Œä¸€èˆ¬æ™¶æŒ¯ä¸‹æ–¹ä¸èµ°ä¿¡å·çº¿å¹¶ä¸”å‘¨å›´é“ºåœ°éš”ç¦»ã€‚6ã€å…‰è€¦ã€ç»§ç”µå™¨ã€å¤©çº¿ç­‰ç­‰å¤„ç†æ–¹æ³•å’Œç¬¬5æ¡ç›¸åŒï¼ŒåŸå› å·®ä¸å¤š7ã€çƒ­æ•å…ƒå™¨ä»¶å°½å¯èƒ½è¿œç¦»å¤§åŠŸç‡ï¼Œè¦æ•£çƒ­çš„å…ƒå™¨ä»¶ï¼ˆå¦‚ç”µæºç”µè·¯ä¸Šçš„ç”µæ„ŸMOSç®¡ç­‰ï¼‰ã€‚8ã€å¯ä»¥çš„è¯ï¼Œä¸å»ºè®®èŠ¯ç‰‡ä¸Šçš„å¤šä¸ªVCCå¼•è„šå…±ç”¨ä¸€ä¸ªæ»¤æ³¢ç”µå®¹ã€‚9ã€èŠ¯ç‰‡ä¸Šä¸åŒçš„æ¥åœ°å¼•è„šï¼Œå°½é‡ä¸è¦å…¨éƒ¨é€šè¿‡åŒä¸€ä¸ªè¿‡å­”æ¥åˆ°åœ°ä¸Šï¼Œå•ç‹¬åˆ†å¼€æ›´å¥½ã€‚10ã€AGNDå’ŒDGNDå•ç‚¹ç›¸è¿ã€‚11ã€èŠ¯ç‰‡å¼•è„šç„Šç›˜æ¯”çº¿å®½çš„æƒ…å†µä¸‹ï¼Œå°½é‡ä¸è¦è®©ç„Šç›˜å’Œçº¿è¿æ¥å¤„å®½åº¦çªå˜ï¼Œåšæˆæ–œæ¸å˜æˆ–è€…åœ†å¼§æ›´å¥½ã€‚12ã€åŒºåˆ†å¥½ICçš„DVCCå’ŒAVCCï¼Œä¸è¦ç›´æ¥åœ¨åŒä¸€è¾“å‡ºçš„ç”µæºç«¯ä¾›ç”µã€‚çœäº‹çš„åŠæ³•æ˜¯ï¼šå¯ä»¥ç”µæºè¾“å‡ºç«¯ç›´æ¥ç»™DVCCéƒ¨åˆ†ä¾›ç”µï¼Œç„¶åå†ç”µæºè¾“å‡ºç«¯è¿‡ä¸€ä¸ªå…±æ¨¡ç”µæ„Ÿç”µè·¯ï¼ˆæˆ–è€…å°±ä¸€ä¸ªç”µæ„Ÿä¹Ÿå¯ä»¥ï¼‰ç»™AVCCéƒ¨åˆ†ä¾›ç”µï¼ŒDGNDå’ŒAGNDåŒæ ·éš”ç¦»çš„æ–¹æ³•ã€‚è¦æ±‚ä½çš„è¯·å¿½ç•¥æ­¤æ¡ã€‚13ã€å¦‚æœåˆ†å¼€äº†AVCCå’ŒDVCCå±‚çš„æ—¶å€™ï¼Œä¸è¦æŠŠAVCCé”™ä½åˆ°DGNDä¸Šé¢æˆ–è€…DVCCé”™ä½åˆ°AGNDä¸Šé¢ï¼Œä¼šæœ‰è€¦åˆç”µå®¹ã€‚å°±æ˜¯AVCCä¸‹æ–¹å¿…é¡»æ—¶AGNDï¼ŒDVCCä¸‹æ–¹å¿…é¡»æ˜¯DGNDã€‚14ã€æ•æ„Ÿç”µè·¯è¯·è¿œç¦»ç”µæ„Ÿã€‚15ã€æ•æ„Ÿç”µè·¯è¯·è¿œç¦»I&#x2F;Oå£ã€‚16ã€è¿‡å­”ä¹‹é—´è·ç¦»å¤§äº5milï¼Œè¿‡å­”åˆ°é“œç®”ä¹‹é—´è·ç¦»å¤§äº5milã€‚ç”µæºéƒ¨åˆ†1ã€ä¸åŒåŠŸç‡çš„ç”µè·¯åŠ¡å¿…ç›¸äº’åˆ†å¼€éš”ç¦»ï¼ˆå¼ºç”µå’Œå¼±ç”µè¦éš”ç¦»å¼€æ¥ï¼‰ï¼Œæ¨¡æ‹Ÿã€æ•°å­—ã€ç”µæºç”µè·¯éƒ½è¦éš”ç¦»å¼€æ¥ï¼Œå¿…è¦æ—¶è¦ä½¿0æ¬§ç”µé˜»ç”šè‡³æ˜¯ç£ç ç­‰æŠŠä¸åŒç”µè·¯çš„åœ°éš”ç¦»å¼€æ¥ï¼ˆæ¨¡æ‹Ÿåœ°ã€æ•°å­—åœ°ã€åŠŸç‡åœ°ï¼‰ã€‚2ã€è¦æ±‚é«˜çš„PCBï¼Œä¸€èˆ¬æœ‰ç”µæºå±‚å’Œåœ°çº¿å±‚ã€‚ä½¿ç”¨åŒé¢æ¿å¯¹è¦æ±‚ä½å’Œæˆæœ¬ä½çš„è¯·å¿½ç•¥æ­¤æ¡ã€‚3ã€è€ƒè™‘æ•£çƒ­çš„PCBï¼Œè¦å‚è€ƒPCBå®‰è£…å›ºå®šåœ°æ–¹çš„ç©ºæ°”æµé€šè·¯çº¿ã€é£å£è®¾è®¡æ•£çƒ­ï¼ˆä¸è¦è¢«å¤§çš„å…ƒå™¨ä»¶ï¼šå¤§ç”µå®¹ç­‰æŒ¡ä½ç©ºæ°”æµé€šè·¯çº¿ï¼‰ã€‚é€šè¿‡å¤§é¢ç§¯é“ºé“œï¼Œæ‰“æ•£çƒ­å­”ï¼Œå¼€çª—ã€åŠ è£…æ•£çƒ­ç‰‡ã€é£æ‰‡ç­‰æ•£çƒ­ã€‚4ã€æ»¡è¶³å‰é¢è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å°†ä¾›ç”µçš„ç”µè·¯å’Œè¢«ä¾›ç”µçš„ç”µè·¯æ”¾åŒä¸€ä¾§ã€‚5ã€ä¸è¦æŠŠçƒ­é‡ä¼ é€’åˆ°æ•°å­—ã€æ¨¡æ‹Ÿç”µè·¯ä¸Šï¼Œå¿…è¦æ—¶å¼€æ§½é˜²æ­¢çƒ­é‡å’Œæ­¤ç±»ç”µè·¯æ¥è§¦ã€‚6ã€åœ¨ç”µæºéƒ¨åˆ†çš„ç”µè·¯ä¸­ï¼Œç”µæ„Ÿå°è£…é€‰å‹è¦è€ƒè™‘PCBè®¾è®¡æ—¶è¦è¿‡å¤šå°‘çš„ç”µæµI,ç„¶åç”µæ„Ÿçš„é¢å®šç”µæµIrmsä¸Içš„å…³ç³»æœ€å¥½æ˜¯ï¼šI&lt;Irms*0.87ã€ä¸€èˆ¬ï¼Œè¾“å…¥ç«¯çš„å°ç”µå®¹è¦é è¿‘èŠ¯ç‰‡ï¼Œè¾“å‡ºç«¯çš„å°ç”µå®¹è¿œç¦»èŠ¯ç‰‡ã€‚8ã€éå±è”½ç”µæ„Ÿä¼šæœ‰æ¼ç£ï¼Œæ³¨æ„å›é¿æ•æ„Ÿç”µè·¯ï¼Œå®åœ¨ä¸è¡Œå°±ç”¨å±è”½ç”µæ„Ÿã€‚9ã€ç”µæºICçš„VOå’ŒFBå¼•è„šèµ°çº¿é¿å¼€ä¸è¯¥è·¯æ— å…³çš„äºŒæç®¡å’Œç”µæ„Ÿï¼Œä¸è¦å’Œç”µæ„Ÿçº¿è·¯å¹³è¡Œã€‚10ã€åœ¨ç”µæ„Ÿå¼•è„šé“ºçš„é“œæˆ–è€…çº¿è·¯ä¸è¦é å¤ªè¿‘ï¼Œå¯„ç”Ÿç”µå®¹ä¼šæœ‰ç‚¹å¤§ã€‚11ã€è¾“å…¥æ»¤æ³¢CIç”µå®¹ï¼ˆè¾“å…¥ç«¯çš„ç”µå®¹ï¼‰å¯¹ç§°æ”¾ç½®ä¼šå‡å°‘ä¸€ç‚¹ç£åœºå½±å“ã€‚12ã€ç”µæºèŠ¯ç‰‡SWå¼•è„šçš„çº¿è·¯é¢ç§¯ä¸è¦åšå¤ªå¤§ï¼ˆå°ä¸€ç‚¹å¥½ï¼‰ã€‚13ã€çŸ©å½¢æ³¢å›è·¯çš„å›è·¯é¢ç§¯å°½å¯èƒ½å°ä¸€ç‚¹ã€‚14ã€ä¸€ä¸ªç”µæºï¼ˆLDOã€å¼€å…³ä¹Ÿæ˜¯ï¼‰èŠ¯ç‰‡çš„ç”µè·¯ï¼Œé…å¥—çš„ç”µå®¹è¦å°½å¯èƒ½é è¿‘èŠ¯ç‰‡ã€‚15ã€è¾“å…¥ç«¯çº¿è·¯è¦å®Œå…¨é€šè¿‡è¾“å…¥ç”µå®¹å†è¿›å…¥èŠ¯ç‰‡ã€‚ï¼ˆå³è¾“å…¥ç«¯å¸ƒçº¿è¦å®Œå®Œå…¨å…¨ä»ç”µå®¹ç„Šç›˜ä¸Šæ–¹èµ°è¿‡ï¼Œå¯ä»¥çº¿è·¯æ¯”ç”µå®¹ç„Šç›˜å°ä¸€ç‚¹ï¼‰åŒæ ·ï¼Œè¾“å‡ºç«¯çº¿è·¯è¦å®Œå…¨é€šè¿‡è¾“å‡ºç”µå®¹å†è¿›å…¥åé¢è´Ÿè½½ã€‚16ã€ç”µæºåé¦ˆç”µè·¯çš„åé¦ˆä¿¡å·è¦åœ¨è¾“å‡ºç”µå®¹é è¿‘åç»­è´Ÿè½½çš„ä¸€ç«¯è·å¾—ã€‚17ã€è¾“å‡ºç«¯è‹¥éœ€è¦è¿‡å­”ï¼Œå»ºè®®è¿‡å­”åœ¨ç”µå®¹åé¢ã€‚18ã€å°½å¯èƒ½æŠŠè¾“å…¥å’Œè¾“å‡ºï¼ˆç”µå®¹ã€ç”µé˜»......ï¼‰æ‰€æ¥çš„åœ°æ—¶æ¥åˆ°åŒä¸€å—åœ°ä¸Šã€‚19ã€ICçš„æ•£çƒ­åœ°é¢ç§¯å°½å¯èƒ½å¤§ä¸€ç‚¹ã€‚20ã€ICåé¦ˆç”µè·¯ä¸Šçš„ç”µé˜»å°½å¯èƒ½é è¿‘ICï¼ŒFBå¼•è„šçº¿è·¯è¦†ç›–é¢ç§¯å°ä¸€ç‚¹å¥½ï¼ˆèµ°çº¿ç»†è€Œä¸”çŸ­ï¼‰å°½é‡ä¸ä¸ç”µæ„Ÿå¹³è¡Œã€‚21ã€BUCKèŠ¯ç‰‡è¾“å…¥ç«¯å¯ä»¥åŠ ä¸€ä¸ª1Î¼Hç”µæ„Ÿï¼Œè¾“å‡ºç«¯åŠ ä¸€ä¸ªç£ç ï¼ˆå°åŠŸç‡ï¼‰å¯ä»¥æŠ‘åˆ¶ä¸€å®šEMIã€‚22ã€CIç”µå®¹å°½å¯èƒ½é è¿‘Vinå¼•è„šæ˜¯ä¸ºäº†å‡å°‘di&#x2F;dtå›è·¯é¢ç§¯ï¼Œå‡å°‘è¾å°„EMIï¼Œå¦‚æœCIé›†æˆåˆ°èŠ¯ç‰‡å†…éƒ¨å°±æ›´å¥½ã€‚23ã€å…³äºFBåˆ†å‹ç”µé˜»ã€COMPã€SSè¿æ¥åˆ°åŒä¸€å—åœ°ï¼Œç„¶åå•ç‚¹ä¸PGNDç›¸è¿æˆ–è€…é€šè¿‡è¿‡å­”åˆ°èƒŒé¢åœ°ã€‚24ã€å¦‚æœä¸ä½¿ç”¨éä¸€ä½“æˆå‹ç”µæ„Ÿï¼Œç¯ç»•ç”µæ„Ÿä¸€å‘¨é“ºåœ°çš„åŒæ—¶é¢„ç•™ä¸€å®šç©ºä½æŒ–ç©ºä¸€å‘¨ã€‚25ã€Voutã€FBèµ°çº¿è¯·è¿œç¦»ä¸€ä¸‹ç”µæ„Ÿã€‚26ã€CIå’ŒCOä¸¤ä¸ªç”µå®¹çš„åœ°ç«¯ï¼Œä¸è¦ç›´æ¥æ¥åœ¨åŒä¸€ä¸ªåœ°ä¸Šã€‚å•è¿‡å­”åˆ°å¦å¤–ä¸€å—åœ°ä¸Šã€‚ï¼ˆå’Œç”µæ„Ÿç›¸è¿çš„ç”µå®¹çº¹æ³¢æ¯”è¾ƒå°‘ï¼Œä¸ç›¸è¿çš„çº¹æ³¢æ¯”è¾ƒå¤§ï¼Œç›´é™ç›¸è¿çš„è¯è¾“å‡ºçº¹æ³¢ä¼šå˜å¤§ã€‚ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/weixin_48584490/article/details/123123214">å‚è€ƒæ–‡ç« </a></p><p>[æ™¶æŒ¯å°è£…å‚è€ƒ](<a href="https://www.sohu.com/a/486097858_120774276">å¸¸ç”¨çš„æ™¶æŒ¯å°ºå¯¸æœ‰å“ªäº›?_mm (sohu.com)</a>)</p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èŠ¯ç‰‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IICåè®®</title>
      <link href="/2022/08/11/33h-iic-xie-yi/"/>
      <url>/2022/08/11/33h-iic-xie-yi/</url>
      
        <content type="html"><![CDATA[<h2 id="IIC-ç®€ä»‹"><a href="#IIC-ç®€ä»‹" class="headerlink" title="IIC ç®€ä»‹"></a>IIC ç®€ä»‹</h2><p>IICæ€»çº¿æ—¶åºå›¾</p><img src="/2022/08/11/33h-iic-xie-yi/01.jpg" class="" width="01"><p>PSï¼š æ³¨æ„IICæ˜¯ä¸ºäº†ä¸ä½é€Ÿè®¾å¤‡é€šä¿¡è€Œå‘æ˜çš„ï¼Œæ‰€ä»¥IICçš„ä¼ è¾“é€Ÿç‡æ¯”ä¸ä¸ŠSPI</p><h3 id="IICçš„ç‰©ç†å±‚"><a href="#IICçš„ç‰©ç†å±‚" class="headerlink" title="IICçš„ç‰©ç†å±‚"></a>IICçš„ç‰©ç†å±‚</h3><p>IICä¸€å…±æœ‰åªæœ‰ä¸¤ä¸ªæ€»çº¿ï¼š ä¸€æ¡æ˜¯åŒå‘çš„ä¸²è¡Œæ•°æ®çº¿ï¼³ï¼¤ï¼¡ï¼Œä¸€æ¡æ˜¯ä¸²è¡Œæ—¶é’Ÿçº¿ï¼³ï¼£ï¼¬<br>SDA(Serial data)æ˜¯æ•°æ®çº¿ï¼ŒDä»£è¡¨Dataä¹Ÿå°±æ˜¯æ•°æ®ï¼ŒSend Data ä¹Ÿå°±æ˜¯ç”¨æ¥ä¼ è¾“æ•°æ®çš„<br>SCL(Serial clock line)æ˜¯æ—¶é’Ÿçº¿ï¼ŒCä»£è¡¨Clock ä¹Ÿå°±æ˜¯æ—¶é’Ÿ ä¹Ÿå°±æ˜¯æ§åˆ¶æ•°æ®å‘é€çš„æ—¶åºçš„</p><h3 id="ä¸ºä»€ä¹ˆå«i2cæ€»çº¿"><a href="#ä¸ºä»€ä¹ˆå«i2cæ€»çº¿" class="headerlink" title="ä¸ºä»€ä¹ˆå«i2cæ€»çº¿"></a>ä¸ºä»€ä¹ˆå«i2cæ€»çº¿</h3><blockquote><p>å› ä¸ºåªéœ€è¦å•ç‰‡æœºmcuçš„ä¸¤ä¸ªioä¸€ä¸ªä½œä¸ºscl,ä¸€ä¸ªä½œä¸ºsda,æ‰€æœ‰å…ƒå™¨ä»¶çš„scléƒ½æ¥åˆ°å•ç‰‡æœºçš„scl,åŒç†æ‰€æœ‰å…ƒå™¨ä»¶çš„sdaéƒ½æ¥åˆ°å•ç‰‡æœºçš„sdaä¸Š,é¢å¯ä»¥èŠ‚çœå¾ˆå¤šio</p><img src="/2022/08/11/33h-iic-xie-yi/02.jpg" class="" title="IICæ€»çº¿æ—¶åºå›¾"><img src="/2022/08/11/33h-iic-xie-yi/02.jpg" class="" width="02"><p>æ‰€æœ‰æ¥åˆ°I2Cæ€»çº¿è®¾å¤‡ä¸Šçš„ä¸²è¡Œæ•°æ®SDAéƒ½æ¥åˆ°æ€»çº¿çš„SDAä¸Šï¼Œå„è®¾å¤‡çš„æ—¶é’Ÿçº¿SCLæ¥<br>åˆ°æ€»çº¿çš„SCLä¸Šã€‚I2Cæ€»çº¿ä¸Šçš„æ¯ä¸ªè®¾å¤‡éƒ½è‡ªå·±ä¸€ä¸ªå”¯ä¸€çš„åœ°å€ï¼Œæ¥ç¡®ä¿ä¸åŒè®¾å¤‡ä¹‹é—´è®¿é—®çš„å‡†ç¡®æ€§ã€‚</p></blockquote><h3 id="å•ç‰‡æœºå¦‚ä½•åŒºåˆ†æ¯ä¸€ä¸ªå…ƒå™¨ä»¶"><a href="#å•ç‰‡æœºå¦‚ä½•åŒºåˆ†æ¯ä¸€ä¸ªå…ƒå™¨ä»¶" class="headerlink" title="å•ç‰‡æœºå¦‚ä½•åŒºåˆ†æ¯ä¸€ä¸ªå…ƒå™¨ä»¶"></a>å•ç‰‡æœºå¦‚ä½•åŒºåˆ†æ¯ä¸€ä¸ªå…ƒå™¨ä»¶</h3><p>å•ç‰‡æœºå‘sclæ€»çº¿å‘é€ä¸€ä¸ªåŒ…å«ä»æœºåœ°å€çš„å¯»å€å­—èŠ‚,ä¸è¯¥ä»æœºåœ°å€å¯¹åº”i2cå™¨ä»¶,å°±ä¼šå‘é€ä¸€ä¸ªåº”ç­”ä¿¡å·,å»ºç«‹è¿æ¥<br>æ ¹æ®ä»æœºåœ°å€,æ˜¯ç”Ÿäº§å‚å®¶æ‰€è®¾ç½®å’Œè§„å®šçš„</p><img src="/2022/08/11/33h-iic-xie-yi/03.jpg" class="" width="03"><img src="/2022/08/11/33h-iic-xie-yi/03.jpg" class="" title="text"><img src="/2022/08/11/33h-iic-xie-yi/04.jpg" class="" width="04"><img src="/2022/08/11/33h-iic-xie-yi/04.jpg" class="" title="text"><p>å‰å››ä½æ˜¯å›ºå®šçš„,åé¢ä¸‰ä½æ˜¯è‡ªå·±è®¾ç½®çš„,æ˜¯A2,A1,A0çš„ç”µå¹³<br>æ–¹å‘ä½ç½®0,è¡¨ç¤ºä¸»æœºå¯¹å™¨ä»¶è¿›è¡Œå†™æ“ä½œ,ç½®ä¸º1,è¡¨ç¤ºå¯¹å™¨ä»¶è¿›è¡Œè¯»æ“ä½œ</p><img src="/2022/08/11/33h-iic-xie-yi/05.jpg" class="" width="05"><img src="/2022/08/11/33h-iic-xie-yi/05.jpg" class="" title="text"><p>7ä½ä»æœºåœ°å€åŠ ä¸Šä¸€ä½æ–¹å‘ä½æ„æˆå¯»å€å­—èŠ‚</p><h3 id="å•ç‰‡æœºå¦‚ä½•å‘é€å¯»å€å­—èŠ‚"><a href="#å•ç‰‡æœºå¦‚ä½•å‘é€å¯»å€å­—èŠ‚" class="headerlink" title="å•ç‰‡æœºå¦‚ä½•å‘é€å¯»å€å­—èŠ‚"></a>å•ç‰‡æœºå¦‚ä½•å‘é€å¯»å€å­—èŠ‚</h3><p>ç”±äºåªæœ‰ä¸€ä¸ªSDAæ•°æ®æ¥å£,æ‰€ä»¥åªèƒ½ä¸€ä½ä¸€ä½çš„å‘é€,æ‰€ä»¥æ˜¯ä¸²è¡Œå‘é€<br>å•ç‰‡æœºå‘24c02å‘é€ 1 0  1  0    0 0 0    0,å¯»å€å­—èŠ‚å‘é€å®Œæ¯•,24c02æ¥æ”¶åˆ°ä¸è‡ªå·±ä»æœºåœ°å€ç›¸åŒçš„å¯»å€å­—èŠ‚,ä¼šç»™å•ç‰‡æœºå‘é€ä¸€ä¸ªåº”ç­”ä¿¡å·,ç„¶åå°±å¯ä»¥ä¼ è¾“æ•°æ®äº†</p><img src="/2022/08/11/33h-iic-xie-yi/06.jpg" class="" width="06"><img src="/2022/08/11/33h-iic-xie-yi/06.jpg" class="" title="text"><p>ä¸€ä¸ªå­˜å‚¨å•å…ƒä¸º1b,ä¹Ÿå°±æ˜¯1ä¸ª8ä½äºŒè¿›åˆ¶æ•°å­—</p><img src="/2022/08/11/33h-iic-xie-yi/07.jpg" class="" width="07"><img src="/2022/08/11/33h-iic-xie-yi/07.jpg" class="" title="text"><h3 id="I2Cæ—¶åºå›¾"><a href="#I2Cæ—¶åºå›¾" class="headerlink" title="I2Cæ—¶åºå›¾"></a>I2Cæ—¶åºå›¾</h3><p>MSBåæ•°æ®çš„æœ€é«˜æœ‰æ•ˆä½</p><img src="/2022/08/11/33h-iic-xie-yi/08.jpg" class="" width="08"><img src="/2022/08/11/33h-iic-xie-yi/08.jpg" class="" title="text"><p>sclæ¯ç»è¿‡ä¸€ä¸ªæ–¹æ³¢å‘¨æœŸ,sdaå°±å‘é€ä¸€ä½æ•°æ®</p><img src="/2022/08/11/33h-iic-xie-yi/09.jpg" class="" width="09"><img src="/2022/08/11/33h-iic-xie-yi/09.jpg" class="" title="text"><img src="/2022/08/11/33h-iic-xie-yi/10.jpg" class="" width="10"><img src="/2022/08/11/33h-iic-xie-yi/10.jpg" class="" title="text"><p>å•ç‰‡æœºè¦æƒ³å‘é€ä¿¡å·,å¿…é¡»é€šè¿‡é«˜è„‰å†²ä¿¡å·çš„æ–¹å¼,ä¹Ÿå°±æ˜¯sclä»ä½ç”µå¹³å˜ä¸ºé«˜ç”µå¹³,ç›¸å½“äºå‘24c02å‘é€ä¸€ä¸ªé‡‡é›†ä¿¡å·,24c02æ”¶åˆ°é‡‡é›†ä¿¡å·å,ä¼šé‡‡é›†sdaå¼•è„šçš„ç”µå¹³,å¦‚æœä¸ºé«˜ç”µå¹³,ç›¸å½“äºç»™24c02å‘é€ä¸€ä¸ª1,åä¹‹ç›¸å½“äºå‘é€0</p><img src="/2022/08/11/33h-iic-xie-yi/11.jpg" class="" width="11"><img src="/2022/08/11/33h-iic-xie-yi/11.jpg" class="" title="text"><img src="/2022/08/11/33h-iic-xie-yi/12.jpg" class="" width="12"><img src="/2022/08/11/33h-iic-xie-yi/12.jpg" class="" title="text"><p>sclä¸ºä½ç”µå¹³æ—¶,ä¹Ÿå°±æ˜¯æ²¡æœ‰é‡‡æ ·å‰,sdaå¯ä»¥æ”¹å˜,sclä¸ºé«˜ç”µå¹³æ—¶,sdaä¿æŒç¨³å®š,å¦åˆ™å®¹æ˜“å¯¼è‡´é‡‡æ ·ä¸å‡†ç¡®,ç›¸å½“äºæ‹ç…§ä¹‹å‰ç–¯ç‹‚æ¢å§¿åŠ¿,ç»“æœç…§ç‰‡ç³Šäº†<br>ä¸€ä¸ªsclé«˜ä½ç”µå¹³çš„æ—¶é—´åŠ åœ¨ä¸€èµ·,å°±æ˜¯ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸ<br>å‘é€å®Œå…«ä½æ•°æ®å,å½“ç¬¬ä¹ä¸ªå‘¨æœŸæ˜¯,äººä¸ºçš„å°†sdaç½®ä¸ºé«˜ç”µå¹³,ç”¨æ¥äººä¸ºæ¥æ”¶i2cå™¨ä»¶äº§ç”Ÿçš„åº”ç­”ä¿¡å·.å½“i2cå™¨ä»¶äº§ç”Ÿå› æ‰“ä¿¡å·å,å°±ä¼šæŠŠsdaçš„ç”µå¹³æ‹‰ç½®ä¸ºä½ç”µå¹³,ç„¶åç”¨å•ç‰‡æœºåˆ¤æ–­sdaçš„ç”µå¹³å°±å¯ä»¥äº†(while(sda&#x3D;&#x3D;1))</p><p><a href="https://www.bilibili.com/video/BV15d4y1D7jX/?spm_id_from=333.788&vd_source=e33ad22b3d91cb180bef532ce5877b2e">å‚è€ƒè§†é¢‘</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> èŠ¯ç‰‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32f407ä¸²å£ä¸tftè¾“å‡ºadc</title>
      <link href="/2022/08/10/32h-stm32f407-adc/"/>
      <url>/2022/08/10/32h-stm32f407-adc/</url>
      
        <content type="html"><![CDATA[<h2 id="stm32f407ADCç®€ä»‹"><a href="#stm32f407ADCç®€ä»‹" class="headerlink" title="stm32f407ADCç®€ä»‹"></a>stm32f407ADCç®€ä»‹</h2><p>STM32F4xx ç³»åˆ—ä¸€èˆ¬éƒ½æœ‰ 3 ä¸ª ADCï¼Œè¿™äº› ADC å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åŒé‡&#x2F;ä¸‰é‡æ¨¡å¼ï¼ˆæé«˜é‡‡æ ·ç‡ï¼‰ã€‚ç®€å•æ¥è¯´ADCå°±æ˜¯å°†æ¨¡æ‹Ÿé‡ç”µå‹è½¬æ¢ä¸ºæ•°å­—é‡çš„å·¥å…·ï¼ŒF4çš„12 ä½ ADC æ˜¯é€æ¬¡è¶‹è¿‘å‹æ¨¡æ•°è½¬æ¢å™¨ã€‚æœ‰19 ä¸ªå¤ç”¨é€šé“ï¼Œå¯æµ‹é‡æ¥è‡ª16 ä¸ªå¤–éƒ¨æºã€ä¸¤ä¸ªå†…éƒ¨æºå’Œ VBAT é€šé“çš„ä¿¡å·ã€‚è¿™äº›é€šé“çš„ A&#x2F;D è½¬æ¢å¯åœ¨å•æ¬¡ã€è¿ç»­ã€æ‰«ææˆ–ä¸è¿ç»­é‡‡æ ·æ¨¡å¼ä¸‹è¿›è¡Œã€‚ADCé‡‡æ ·çš„ç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªå·¦å¯¹é½æˆ–å³å¯¹é½çš„ 16 ä½æ•°æ®å¯„å­˜å™¨ä¸­ã€‚ADC å…·æœ‰æ¨¡æ‹Ÿçœ‹é—¨ç‹—ç‰¹æ€§â€”â€”å…è®¸åº”ç”¨æ£€æµ‹è¾“å…¥ç”µå‹æ˜¯å¦è¶…è¿‡äº†ç”¨æˆ·è‡ªå®šä¹‰çš„é˜ˆå€¼ä¸Šé™æˆ–ä¸‹é™ã€‚</p><blockquote><p>STM32F407ZGT6 åŒ…å«æœ‰ 3 ä¸ª ADCã€‚STM32F4 çš„ ADC æœ€å¤§çš„è½¬æ¢é€Ÿç‡ä¸º 2.4Mhzï¼Œä¹Ÿå°±æ˜¯è½¬æ¢æ—¶é—´ä¸º 1usï¼ˆåœ¨ ADCCLK&#x3D;36M,é‡‡æ ·å‘¨æœŸä¸º 3 ä¸ª ADC æ—¶é’Ÿä¸‹å¾—åˆ°ï¼‰ï¼Œä¸è¦è®© ADC çš„æ—¶é’Ÿè¶…è¿‡ 36Mï¼Œå¦åˆ™å°†å¯¼è‡´ç»“æœå‡†ç¡®åº¦ä¸‹é™ã€‚</p></blockquote><blockquote><p>STM32F4 å°† ADC çš„è½¬æ¢åˆ†ä¸º 2 ä¸ªé€šé“ç»„ï¼šè§„åˆ™é€šé“ç»„å’Œæ³¨å…¥é€šé“ç»„ã€‚è§„åˆ™é€šé“ç›¸å½“äºä½ <br>æ­£å¸¸è¿è¡Œçš„ç¨‹åºï¼Œè€Œæ³¨å…¥é€šé“å‘¢ï¼Œå°±ç›¸å½“äºä¸­æ–­ã€‚åœ¨ä½ ç¨‹åºæ­£å¸¸æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸­æ–­æ˜¯å¯ä»¥æ‰“æ–­<br>ä½ çš„æ‰§è¡Œçš„ã€‚åŒè¿™ä¸ªç±»ä¼¼ï¼Œæ³¨å…¥é€šé“çš„è½¬æ¢å¯ä»¥æ‰“æ–­è§„åˆ™é€šé“çš„è½¬æ¢ï¼Œ åœ¨æ³¨å…¥é€šé“è¢«è½¬æ¢å®Œæˆ<br>ä¹‹åï¼Œè§„åˆ™é€šé“æ‰å¾—ä»¥ç»§ç»­è½¬æ¢ã€‚</p></blockquote><blockquote><p>STM32F4 çš„ ADC åœ¨å•æ¬¡è½¬æ¢æ¨¡å¼ä¸‹ï¼Œåªæ‰§è¡Œä¸€æ¬¡è½¬æ¢ï¼Œè¯¥æ¨¡å¼å¯ä»¥é€šè¿‡ ADC_CR2 å¯„å­˜<br>å™¨çš„ ADON ä½ï¼ˆåªé€‚ç”¨äºè§„åˆ™é€šé“ï¼‰å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¤–éƒ¨è§¦å‘å¯åŠ¨ï¼ˆé€‚ç”¨äºè§„åˆ™é€šé“å’Œæ³¨å…¥<br>é€šé“ï¼‰ï¼Œè¿™æ—¶ CONT ä½ä¸º 0</p></blockquote><p>STM32F407å†…éƒ¨æœ‰ä¸¤ä¸ªADCæ¨¡å—ï¼Œå½¼æ­¤ç‹¬ç«‹å¯è¿›è¡ŒåŒæ­¥é‡‡æ ·ï¼›<br>å¤–éƒ¨16ä¸ªé€šé“ï¼ˆGPIO0~15ï¼‰é‡‡æ ·ç²¾åº¦é»˜è®¤ä¸º12ä½ï¼›<br>è½¬æ¢æ—¶é—´&#x3D;é‡‡æ ·æ—¶é—´+è½¬æ¢å‘¨æœŸ&#x3D;1.5+12.5&#x3D;14å‘¨æœŸï¼›</p><h3 id="å·¥ä½œè¿‡ç¨‹åˆ†æ"><a href="#å·¥ä½œè¿‡ç¨‹åˆ†æ" class="headerlink" title="å·¥ä½œè¿‡ç¨‹åˆ†æ"></a>å·¥ä½œè¿‡ç¨‹åˆ†æ</h3><p>ADCè½¬æ¢æ˜¯æŠŠå¤–é¢è¾“å…¥åˆ°å¼•è„šçš„ç”µå‹å€¼è½¬æ¢æˆæ•°å­—ä¿¡å·ï¼Œ(è€ŒDACåˆ™æ˜¯æŠŠè®¾å®šçš„æ•°å­—ä¿¡å·è½¬åŒ–æˆç”µå‹å€¼è¾“å‡ºåˆ°å¼•è„š)å•ç‰‡æœºé‡Œé¢æœ‰ä¸€ä¸ªæ¨¡æ‹Ÿè‡³æ•°å­—çš„è½¬æ¢æ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶å®ƒé‡‡é›†å¼•è„šçš„ç”µå‹ï¼Œstm32F407å¯ä»¥åˆ©ç”¨void ADC_SoftwareStartConvï¼ˆADC_TypeDef* ADCxï¼‰è¿™ä¸ªå‡½æ•°æ¥æ§åˆ¶è½¬æ¢ã€‚</p><h3 id="ä¸‰ç§å®ç°æ–¹æ³•ï¼š"><a href="#ä¸‰ç§å®ç°æ–¹æ³•ï¼š" class="headerlink" title="ä¸‰ç§å®ç°æ–¹æ³•ï¼š"></a>ä¸‰ç§å®ç°æ–¹æ³•ï¼š</h3><blockquote><p>1.ä½¿ç”¨å®šæ—¶å™¨ä¸­æ–­æ¯éš”ä¸€å®šæ—¶é—´è¿›è¡ŒADCè½¬æ¢ï¼Œè¿™æ ·æ¯æ¬¡éƒ½å¿…é¡»è¯»ADCçš„æ•°æ®å¯„å­˜å™¨ï¼Œéå¸¸æµªè´¹æ—¶é—´ï¼›<br>2.æŠŠADCè®¾ç½®æˆè¿ç»­è½¬æ¢æ¨¡å¼ï¼ŒåŒäº‹å¯¹åº”çš„DMAé€šé“å¼€å¯å¾ªç¯æ¨¡å¼ï¼Œè¿™æ ·ADCå°±ä¸€ç›´åœ¨è¿›è¡Œæ•°æ®é‡‡é›†ç„¶åé€šè¿‡DMAæŠŠæ•°æ®æ¬è¿è‡³å†…å­˜ã€‚å†åŠ ä¸€ä¸ªå®šæ—¶ä¸­æ–­ï¼Œç”¨æ¥å®šæ—¶è¯»å–å†…å­˜ä¸­çš„æ•°æ®ã€‚<br>3.ä½¿ç”¨ADCçš„å®šæ—¶å™¨è§¦å‘ADCè½¬æ¢çš„åŠŸèƒ½ï¼Œç„¶åä½¿ç”¨DMAè¿›è¡Œæ•°æ®çš„æ¬è¿ï¼Œè¿™æ ·åªè¦è®¾ç½®å¥½å®šæ—¶å™¨çš„è§¦å‘é—´éš”ï¼Œå°±èƒ½å®ç°ADCå®šæ—¶é‡‡æ ·è½¬æ¢çš„åŠŸèƒ½ï¼Œç„¶åå¯ä»¥åœ¨ç¨‹åºçš„æ­»å¾ªç¯ä¸­ä¸€ç›´æ£€æµ‹DMAè½¬æ¢å®Œæˆæ ‡å¿—ï¼Œç„¶åè¿›è¡Œæ•°æ®çš„è¯»å–ï¼Œæˆ–è€…ä½¿èƒ½DMAè½¬æ¢å®Œæˆä¸­æ–­ï¼Œè¿™æ ·æ¯æ¬¡è½¬æ¢å®Œæˆå°±ä¼šäº§ç”Ÿä¸­æ–­ã€‚</p></blockquote><p>ADCä¸Šç”µå¼€å¯åˆ°ç¨³å®šéœ€è¦ä¸€æ®µæ—¶é—´ã€‚ADCå¤–è®¾ä¸Šç”µï¼Œä½¿èƒ½ADCåŠŸèƒ½ï¼Œå¯åŠ¨ADCè½¬æ¢ï¼Œå®è´¨ADè½¬æ¢æ˜¯ä¸ä¸€æ ·çš„åŠ¨ä½œå’Œä¸åŒçš„æ—¶é—´ç‚¹ã€‚<br>å…ˆæ ¡å‡†å†å¼€å¯ADCçš„DMAåŠŸèƒ½ã€‚<br>åœ¨å¤šé€šé“ADC DMAä¼ è¾“æ—¶ï¼Œç»å¸¸å‡ºç°å› ä¸ºç¼“å†²åŒºæ•°æ®ç±»å‹ï¼Œæºæ•°æ®ç±»å‹ä¸ä¸€è‡´å¯¼è‡´çš„å¼‚å¸¸çŠ¶å†µã€‚</p><h3 id="ADCçš„ä¾›ç”µåŠé‡‡æ ·ç”µå‹"><a href="#ADCçš„ä¾›ç”µåŠé‡‡æ ·ç”µå‹" class="headerlink" title="ADCçš„ä¾›ç”µåŠé‡‡æ ·ç”µå‹"></a>ADCçš„ä¾›ç”µåŠé‡‡æ ·ç”µå‹</h3><p>ADC ç”µæºè¦æ±‚ï¼šå…¨é€Ÿè¿è¡Œæ—¶ä¸º 2.4 V åˆ° 3.6 Vï¼Œæ…¢é€Ÿè¿è¡Œæ—¶ä¸º 1.8 Vã€‚<br>ADC è¾“å…¥èŒƒå›´ï¼šVREF-   \leq  VIN  \leq  VREF+ , å¹¶ä¸”VREF- å¦‚æœå¯ç”¨ï¼ˆå–å†³äºå°è£…ï¼‰ï¼Œåˆ™å¿…é¡»å°†å…¶è¿æ¥åˆ° VSSAã€‚è€Œé€šå¸¸æˆ‘ä»¬å°†VREF+ä¸VDDAè¿æ¥ï¼ŒF407çš„èŠ¯ç‰‡å¼•è„šå½“ä¸­VSSã€VDDå¼•è„šå¹¶ä¸å®¹å¿5Vä¾›ç”µï¼Œè€ŒADCçš„é‡‡é›†å¼•è„šå¾ˆå¤šå¯ä»¥å®¹å¿5Vï¼Œæ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼ŒADCé‡‡é›†çš„èŒƒå›´åœ¨0-3.3Vã€‚</p><h2 id="å®éªŒæ­¥éª¤"><a href="#å®éªŒæ­¥éª¤" class="headerlink" title="å®éªŒæ­¥éª¤"></a>å®éªŒæ­¥éª¤</h2><blockquote><p>é€šè¿‡è®¾ç½®ADC1çš„ä¸‰ä¸ªé€šé“é‡‡æ ·é¡ºåºå¹¶ä¸”å¼€å¯DMAç›¸å¯¹åº”çš„é€šé“ï¼Œå¯¹æ•°æ®å¯„å­˜å™¨å½“ä¸­æ¯ä¸€æ¬¡çš„é‡‡æ ·å€¼ï¼ˆå¯¹åº”æ¯ä¸ªé€šé“çš„å¤–éƒ¨ç”µå‹è½¬æ¢å€¼ï¼‰è¿›è¡Œæ”¶é›†ï¼Œå¹¶ä¼ é€’åˆ°CPUçš„å†…éƒ¨å¯„å­˜å™¨å½“ä¸­ï¼Œå†å¯¹ç”µå‹å€¼è¿›è¡Œä¸²å£è¾“å‡º</p></blockquote><h2 id="F407åœ¨ADCå®éªŒä¸­ä½¿ç”¨çš„å‡½æ•°ç†è§£"><a href="#F407åœ¨ADCå®éªŒä¸­ä½¿ç”¨çš„å‡½æ•°ç†è§£" class="headerlink" title="F407åœ¨ADCå®éªŒä¸­ä½¿ç”¨çš„å‡½æ•°ç†è§£"></a>F407åœ¨ADCå®éªŒä¸­ä½¿ç”¨çš„å‡½æ•°ç†è§£</h2><h3 id="éDMAçš„ç›¸å…³å‡½æ•°"><a href="#éDMAçš„ç›¸å…³å‡½æ•°" class="headerlink" title="éDMAçš„ç›¸å…³å‡½æ•°"></a>éDMAçš„ç›¸å…³å‡½æ•°</h3><h3 id="æœ‰å…³DMAçš„ç›¸å…³å‡½æ•°"><a href="#æœ‰å…³DMAçš„ç›¸å…³å‡½æ•°" class="headerlink" title="æœ‰å…³DMAçš„ç›¸å…³å‡½æ•°"></a>æœ‰å…³DMAçš„ç›¸å…³å‡½æ•°</h3><p>å¾…æ›´æ–°â€¦.</p><h2 id="STM32F407çš„ADCçš„åŸºç¡€çŸ¥è¯†"><a href="#STM32F407çš„ADCçš„åŸºç¡€çŸ¥è¯†" class="headerlink" title="STM32F407çš„ADCçš„åŸºç¡€çŸ¥è¯†"></a>STM32F407çš„ADCçš„åŸºç¡€çŸ¥è¯†</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">ã€€ã€€1ï¼ŒADCæ˜¯12ä½é€æ¬¡é€¼è¿‘å‹æ¨¡æ‹Ÿæ•°å­—è½¬æ¢å™¨ã€‚ã€€ã€€2ï¼ŒADCçš„æ—¶é’Ÿä¸è¶…è¿‡36MHzã€‚ã€€ã€€3ï¼ŒSTM32F407çš„ADCçš„æœ€å°è½¬æ¢æ—¶é—´ä¸º0.41usã€‚ã€€ã€€4ï¼ŒSTM32F407å°†ADCçš„è½¬æ¢åˆ†ä¸º2ä¸ªé€šé“ç»„ï¼šè§„åˆ™é€šé“ç»„å’Œæ³¨å…¥é€šé“ç»„ã€€ã€€ã€€ã€€å› ä¸ºè§„åˆ™ç»„å’Œæ³¨å…¥ç»„ï¼Œæˆ‘ä»¬ä¸éœ€è¦åœ¨åˆ‡æ¢ADå¾ªç¯æ‰«æçš„é€šé“æ—¶ï¼Œé‡æ–°é…ç½®ADå¾ªç¯æ‰«æçš„é€šé“ã€‚ï¼ˆæŸMCUå°±åªæœ‰å•æ¬¡ADCæ‰«æï¼Œåˆ‡æ¢é€šé“æ—¶ï¼Œéœ€è¦é‡æ–°é…ç½®ADCå¯„å­˜å™¨ï¼‰ã€€ã€€5ï¼Œæœ‰è§„åˆ™é€šé“ç»„å’Œæ³¨å…¥é€šé“ç»„çš„ADCå¤–è®¾ï¼Œä½¿MCUèƒ½åœ¨æŸäº›éœ€è¦å¿«é€Ÿæ£€æµ‹å’Œç›‘è§†çš„é¢†åŸŸï¼ˆå¦‚å·¥æ§åº”ç”¨ï¼‰ï¼Œæœ‰äº†ä¼˜åŠ¿ã€‚ã€€ã€€6ï¼Œå½“ä½¿ç”¨ADCçš„è¿ç»­æ¨¡å¼æ—¶ï¼Œå»ºè®®é‡‡æ ·DMAæ¨¡å¼ã€‚ã€€ã€€7ï¼Œå½“ä½¿ç”¨ADCçš„å•æ¬¡æ¨¡å¼æ—¶ï¼Œåªè¿›è¡Œä¸€æ¬¡è½¬æ¢ã€‚ã€€ã€€8ï¼ŒADCç›¸é‚»ä¸¤ä¸ªé‡‡æ ·é˜¶æ®µä¹‹é—´çš„æ—¶é—´é—´éš”æ˜¯å»¶æ—¶5ä¸ªæ—¶é’Ÿ-20ä¸ªæ—¶é’Ÿï¼ˆä¾‹å¦‚ï¼Œåœ¨1mså•ä½æ—¶é—´å†…ï¼Œå»¶æ—¶æ—¶é—´è¶Šå°‘ï¼Œåœ¨é‡‡æ ·æ¬¡æ•°è¶Šå¤šã€‚ï¼‰ã€€ã€€9ï¼Œå¯¹äºæ¯ä¸ªè¦è½¬æ¢çš„é€šé“ï¼Œé‡‡æ ·æ—¶é—´å½±å“äº†è½¬æ¢ç»“æœçš„å‡†ç¡®åº¦å’ŒADCçš„è½¬æ¢é€Ÿç‡ã€‚é‡‡æ ·æ—¶é—´è¶Šé•¿ï¼Œè½¬æ¢ç»“æœå‡†ç¡®åº¦è¶Šé«˜ï¼ŒADCçš„è½¬æ¢é€Ÿç‡è¶Šä½ã€‚ã€€ã€€ã€€ã€€ADCè½¬æ¢æ—¶é—´ &#x3D; é‡‡æ ·æ—¶é—´ï¼ˆ3~480ä¸ªADCCLKå‘¨æœŸï¼‰ + 12ä¸ªADCCLKå‘¨æœŸã€€ã€€10ï¼ŒSTM32F407çš„ADCè§¦å‘ææ€§åˆ†ä¸ºå››ç§ï¼šï¼ˆ1ï¼‰ç¦æ­¢è§¦å‘æ£€æµ‹ã€ï¼ˆ2ï¼‰åœ¨ä¸Šå‡æ²¿æ—¶æ£€æµ‹ã€ï¼ˆ3ï¼‰åœ¨ä¸‹é™æ—¶æ£€æµ‹ã€ï¼ˆ4ï¼‰åœ¨ä¸Šå‡å’Œä¸‹é™æ—¶å‡æ£€æµ‹ã€‚ã€€ã€€ã€€ã€€å½“ä½¿ç”¨ç¬¬ï¼ˆ1ï¼‰æ—¶ï¼Œè¡¨ç¤ºä½¿ç”¨è½¯ä»¶è½¬æ¢ï¼Œæˆ‘åœ¨å¼€å‘ä¸­æœ€å¸¸ç”¨è¿™ä¸ªï¼›å½“ä½¿ç”¨ç¬¬ï¼ˆ2ï¼‰ï¼ˆ3ï¼‰ï¼ˆ4ï¼‰æ—¶ï¼Œè¡¨ç¤ºä½¿ç”¨äº‹ä»¶æ¥å¯åŠ¨è½¬æ¢ã€‚ã€€ã€€11ï¼ŒSTM32F407çš„ADCçš„åˆ†è¾¨ç‡æœ‰å››æ¡£ï¼š6ã€8ã€10ã€12ä½ã€‚ADCçš„åˆ†è¾¨ç‡å½±å“ADCçš„è½¬æ¢æ—¶é—´ã€‚ã€€ã€€12ï¼Œå¦‚æœå·²ç»ä½¿èƒ½äº†ä¸€ä¸ªPORTçš„æ—¶é’Ÿï¼Œé‚£ä¹ˆè¯¥PORTçš„æ—¶é’Ÿï¼Œä¸èƒ½å†è¢«ä½¿èƒ½ã€‚äºŒï¼ŒADCå®éªŒï¼šã€€ã€€1ï¼Œä½¿ç”¨ADC1çš„é€šé“PA5æ—¶ï¼Œéœ€è¦ä½¿èƒ½ï¼šGPIOAæ—¶é’Ÿã€ADC1æ—¶é’Ÿã€‚ã€€ã€€2ï¼Œè®¾ç½®PA5ä¸ºï¼šä¸å¸¦ä¸Šä¸‹æ‹‰ç”µé˜»ï¼›æ¨¡æ‹Ÿè¾“å…¥ï¼ˆå°†GPIOç”¨äºADCé‡‡æ ·çš„é€šé“ï¼Œéœ€è¦è®¾ç½®ä¸ºæ¨¡æ‹Ÿè¾“å…¥ï¼Œè¾“å…¥ç”µå‹ä¸è¶…è¿‡3.3Vï¼‰ã€‚ã€€ã€€3ï¼ŒSTM32F407å¼€å‘æ¿çš„ADCçš„æ­£æ¨¡æ‹Ÿå‚è€ƒç”µå‹æ¥çš„æ˜¯3.3Vï¼Œè´Ÿæ¨¡æ‹Ÿå‚è€ƒç”µå‹æ¥çš„æ˜¯GNDã€‚ã€€ã€€4ï¼Œå½“ç¡¬ä»¶ADCå¼€å§‹è¿›è¡Œè½¬æ¢ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®åˆ¤æ–­è½¬æ¢ç»“æŸæ ‡å¿—ä½æ˜¯å¦è¢«ç½®ä¸€æ¥åˆ¤æ–­æ˜¯å¦è·³å‡ºæ­»å¾ªç¯ã€‚ã€€ã€€ã€€ã€€ï¼ˆ1ï¼‰å½“åœ¨ç­‰å¾…ADCè½¬æ¢ç»“æŸæœŸé—´ï¼Œæ­»å¾ªç¯å¯è¢«ä¸­æ–­ç»™æ‰“æ–­ï¼Œä»¥ä¾¿ç³»ç»Ÿå¯è¿è¡Œå…¶ä»–æ›´é«˜éœ€è¦å®æ—¶å¤„ç†çš„äº‹ä»¶ã€‚ã€€ã€€ã€€ã€€ï¼ˆ2ï¼‰ç¡¬ä»¶ADCçš„è½¬æ¢è¿‡ç¨‹ï¼Œæ˜¯ä¸ä¼šè¢«åº”ç”¨è½¯ä»¶ç»™æ‰“æ–­çš„ã€‚,ã€€ã€€5ï¼Œæµ‹è¯•ADC1çš„PA5çš„è¿ç»­è½¬æ¢æ¨¡å¼ï¼Œä½¿ç”¨DMAï¼Ÿã€€ã€€ã€€ã€€åº”ç”¨ï¼šå¯¹ä¸€é˜µåˆ—çš„ä¼ æ„Ÿå™¨è¿›è¡Œä¿¡å·é‡‡é›†ã€€ã€€6ï¼Œåˆ©ç”¨ADC1æ¥æµ‹è¯•æ¸©åº¦ä¼ æ„Ÿå™¨ã€å†…éƒ¨å‚è€ƒç”µå‹ã€BATç”µå‹ï¼Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/weixin_30443075/article/details/99765337?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_utm_term~default-0-99765337-blog-119870392.t0_eslanding_v1&spm=1001.2101.3001.4242.1&utm_relevant_index=3">å‚è€ƒæ–‡ç« </a></p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="ADC-c"><a href="#ADC-c" class="headerlink" title="ADC.c"></a>ADC.c</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;åˆå§‹åŒ–ADC   void  Adc_Init(void)&#123;      GPIO_InitTypeDef  GPIO_InitStructure;ADC_CommonInitTypeDef ADC_CommonInitStructure;ADC_InitTypeDef       ADC_InitStructure;  RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);&#x2F;&#x2F;ä½¿èƒ½GPIOAæ—¶é’Ÿ  RCC_APB2PeriphClockCmd(RCC_APB2Periph_ADC1, ENABLE); &#x2F;&#x2F;ä½¿èƒ½ADC1æ—¶é’Ÿ  &#x2F;&#x2F;å…ˆåˆå§‹åŒ–ADC1é€šé“5 IOå£  GPIO_InitStructure.GPIO_Pin &#x3D; GPIO_Pin_5;&#x2F;&#x2F;PA5 é€šé“5  GPIO_InitStructure.GPIO_Mode &#x3D; GPIO_Mode_AN;&#x2F;&#x2F;æ¨¡æ‹Ÿè¾“å…¥  GPIO_InitStructure.GPIO_PuPd &#x3D; GPIO_PuPd_NOPULL ;&#x2F;&#x2F;ä¸å¸¦ä¸Šä¸‹æ‹‰  GPIO_Init(GPIOA, &amp;GPIO_InitStructure);&#x2F;&#x2F;åˆå§‹åŒ–   RCC_APB2PeriphResetCmd(RCC_APB2Periph_ADC1,ENABLE);  &#x2F;&#x2F;ADC1å¤ä½RCC_APB2PeriphResetCmd(RCC_APB2Periph_ADC1,DISABLE);&#x2F;&#x2F;å¤ä½ç»“æŸ    ADC_CommonInitStructure.ADC_Mode &#x3D; ADC_Mode_Independent;&#x2F;&#x2F;ç‹¬ç«‹æ¨¡å¼  ADC_CommonInitStructure.ADC_TwoSamplingDelay &#x3D; ADC_TwoSamplingDelay_5Cycles;&#x2F;&#x2F;ä¸¤ä¸ªé‡‡æ ·é˜¶æ®µä¹‹é—´çš„å»¶è¿Ÿ5ä¸ªæ—¶é’Ÿ  ADC_CommonInitStructure.ADC_DMAAccessMode &#x3D; ADC_DMAAccessMode_Disabled; &#x2F;&#x2F;DMAå¤±èƒ½  ADC_CommonInitStructure.ADC_Prescaler &#x3D; ADC_Prescaler_Div4;&#x2F;&#x2F;é¢„åˆ†é¢‘4åˆ†é¢‘ã€‚ADCCLK&#x3D;PCLK2&#x2F;4&#x3D;84&#x2F;4&#x3D;21Mhz,ADCæ—¶é’Ÿæœ€å¥½ä¸è¦è¶…è¿‡36Mhz   ADC_CommonInit(&amp;ADC_CommonInitStructure);&#x2F;&#x2F;åˆå§‹åŒ–  ADC_InitStructure.ADC_Resolution &#x3D; ADC_Resolution_12b;&#x2F;&#x2F;12ä½æ¨¡å¼  ADC_InitStructure.ADC_ScanConvMode &#x3D; DISABLE;&#x2F;&#x2F;éæ‰«ææ¨¡å¼  ADC_InitStructure.ADC_ContinuousConvMode &#x3D; DISABLE;&#x2F;&#x2F;å…³é—­è¿ç»­è½¬æ¢  ADC_InitStructure.ADC_ExternalTrigConvEdge &#x3D; ADC_ExternalTrigConvEdge_None;&#x2F;&#x2F;ç¦æ­¢è§¦å‘æ£€æµ‹ï¼Œä½¿ç”¨è½¯ä»¶è§¦å‘  ADC_InitStructure.ADC_DataAlign &#x3D; ADC_DataAlign_Right;&#x2F;&#x2F;å³å¯¹é½  ADC_InitStructure.ADC_NbrOfConversion &#x3D; 1;&#x2F;&#x2F;1ä¸ªè½¬æ¢åœ¨è§„åˆ™åºåˆ—ä¸­ ä¹Ÿå°±æ˜¯åªè½¬æ¢è§„åˆ™åºåˆ—1   ADC_Init(ADC1, &amp;ADC_InitStructure);&#x2F;&#x2F;ADCåˆå§‹åŒ– ADC_Cmd(ADC1, ENABLE);&#x2F;&#x2F;å¼€å¯ADè½¬æ¢å™¨&#125;  &#x2F;&#x2F;è·å¾—ADCå€¼&#x2F;&#x2F;ch: @ref ADC_channels &#x2F;&#x2F;é€šé“å€¼ 0~16å–å€¼èŒƒå›´ä¸ºï¼šADC_Channel_0~ADC_Channel_16&#x2F;&#x2F;è¿”å›å€¼:è½¬æ¢ç»“æœu16 Get_Adc(u8 ch)   &#123;  &#x2F;&#x2F;è®¾ç½®æŒ‡å®šADCçš„è§„åˆ™ç»„é€šé“ï¼Œä¸€ä¸ªåºåˆ—ï¼Œé‡‡æ ·æ—¶é—´ADC_RegularChannelConfig(ADC1, ch, 1, ADC_SampleTime_480Cycles );&#x2F;&#x2F;ADC1,ADCé€šé“,480ä¸ªå‘¨æœŸ,æé«˜é‡‡æ ·æ—¶é—´å¯ä»¥æé«˜ç²¾ç¡®åº¦      ADC_SoftwareStartConv(ADC1);&#x2F;&#x2F;ä½¿èƒ½æŒ‡å®šçš„ADC1çš„è½¯ä»¶è½¬æ¢å¯åŠ¨åŠŸèƒ½ while(!ADC_GetFlagStatus(ADC1, ADC_FLAG_EOC ));&#x2F;&#x2F;ç­‰å¾…è½¬æ¢ç»“æŸreturn ADC_GetConversionValue(ADC1);&#x2F;&#x2F;è¿”å›æœ€è¿‘ä¸€æ¬¡ADC1è§„åˆ™ç»„çš„è½¬æ¢ç»“æœ&#125;&#x2F;&#x2F;è·å–é€šé“chçš„è½¬æ¢å€¼ï¼Œå–timesæ¬¡,ç„¶åå¹³å‡ &#x2F;&#x2F;ch:é€šé“ç¼–å·&#x2F;&#x2F;times:è·å–æ¬¡æ•°&#x2F;&#x2F;è¿”å›å€¼:é€šé“chçš„timesæ¬¡è½¬æ¢ç»“æœå¹³å‡å€¼u16 Get_Adc_Average(u8 ch,u8 times)&#123;u32 temp_val&#x3D;0;u8 t;for(t&#x3D;0;t&lt;times;t++)&#123;temp_val+&#x3D;Get_Adc(ch);delay_ms(5);&#125;return temp_val&#x2F;times;&#125;  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>3 ä¸ªå‡½æ•°ï¼ŒAdc_Init å‡½æ•°ç”¨äºåˆå§‹åŒ– ADC1ã€‚è¿™é‡Œæˆ‘ä»¬ä»…å¼€é€šäº† 1 ä¸ªé€šé“ï¼Œå³é€šé“ 5ã€‚ç¬¬äºŒ<br>ä¸ªå‡½æ•° Get_Adcï¼Œç”¨äºè¯»å–æŸä¸ªé€šé“çš„ ADC å€¼ï¼Œä¾‹å¦‚æˆ‘ä»¬è¯»å–é€šé“ 5 ä¸Šçš„ ADC å€¼ï¼Œå°±å¯ä»¥é€š<br>è¿‡ Get_Adcï¼ˆADC_Channel_5ï¼‰å¾—åˆ°ã€‚æœ€åä¸€ä¸ªå‡½æ•° Get_Adc_Averageï¼Œç”¨äºå¤šæ¬¡è·å– ADC å€¼ï¼Œ<br>å–å¹³å‡ï¼Œç”¨æ¥æé«˜å‡†ç¡®åº¦ã€‚</p></blockquote><h3 id="main"><a href="#main" class="headerlink" title="main"></a>main</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">#include &quot;sys.h&quot;#include &quot;delay.h&quot;#include &quot;usart.h&quot;#include &quot;led.h&quot;#include &quot;adc.h&quot;#include &quot;lcd_init.h&quot;#include &quot;lcd.h&quot;#include &quot;pic.h&quot;#include &quot;timer.h&quot;&#x2F;&#x2F;              ----------------------------------------------------------------&#x2F;&#x2F;              GND    ç”µæºåœ°&#x2F;&#x2F;              VCC  æ¥5Væˆ–3.3vç”µæº&#x2F;&#x2F;              SCL   PG12ï¼ˆSCLKï¼‰&#x2F;&#x2F;              SDA   PD5ï¼ˆMOSIï¼‰&#x2F;&#x2F;              RES   PD4&#x2F;&#x2F;              DC    PD15&#x2F;&#x2F;              CS    PD1&#x2F;&#x2F;              BLK   PE8&#x2F;&#x2F;              ----------------------------------------------------------------&#x2F;&#x2F;æ›´æ–°æ—¥æœŸ 2022 08 17&#x2F;*é—®é¢˜1.æ— æ³•è¯»å‡ºå°æ•°éƒ¨åˆ†è§£å†³:lcdå‡½æ•°çš„é—®é¢˜,æ›´æ¢äº†lcdçš„åº“æ‰€ä»¥å‡½æ•°åŠŸèƒ½æ”¹å˜,åŸæ¥çš„æ˜¾ç¤ºå°æ•°åŠŸèƒ½çš„å‡½æ•°ä¸é€‚ç”¨äº†åŸå‡½æ•°æ— æ³•ç›´æ¥æ˜¾ç¤ºå°æ•°,æ‰€ä»¥é€šè¿‡å°†å°æ•°è½¬æ¢æˆæ•´æ•°æ˜¾ç¤º,æ”¹åçš„å‡½æ•°å¯ç›´æ¥æ˜¾ç¤ºå°æ•°2.printfä½¿ç”¨æŠ¥é”™,usart senddataå‘é€,ä¸²å£åŠ©æ‰‹ä¸æ˜¾ç¤ºmain.c(72): error:  #167: argument of type &quot;int&quot; is incompatible with parameter of type &quot;const char *restrict&quot;è§£å†³:å› ä¸ºprint(&#39;adc:&#39;)ç”¨äº†å•å¼•å·3.åªæ˜¾ç¤ºadcä¸æ˜¾ç¤ºæ•°æ®è§£å†³:æ²¡åŠ f%æ˜¯æ—¶å€™è¡¥ä¸€è¡¥cè¯­è¨€äº†*&#x2F;int main(void)&#123;  u16 adcx;float temp;NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);&#x2F;&#x2F;è®¾ç½®ç³»ç»Ÿä¸­æ–­ä¼˜å…ˆçº§åˆ†ç»„2delay_init(168);    &#x2F;&#x2F;åˆå§‹åŒ–å»¶æ—¶å‡½æ•°uart_init(115200);&#x2F;&#x2F;åˆå§‹åŒ–ä¸²å£æ³¢ç‰¹ç‡ä¸º115200LED_Init();&#x2F;&#x2F;åˆå§‹åŒ–LED  LCD_Init();         &#x2F;&#x2F;åˆå§‹åŒ–LCDæ¥å£Adc_Init();         &#x2F;&#x2F;åˆå§‹åŒ–ADC&#x2F;&#x2F;POINT_COLOR&#x3D;RED;   &#x2F;&#x2F;float t&#x3D;0;delay_init(168);LED_Init();&#x2F;&#x2F;LEDåˆå§‹åŒ–LCD_Init();&#x2F;&#x2F;LCDåˆå§‹åŒ–LCD_Fill(0,0,LCD_W,LCD_H,WHITE);LED0&#x3D;0;    LCD_ShowChinese(0,10,&quot;Increaseing Nun:&quot;,RED,WHITE,16,0);LCD_ShowString(0,20,&quot;Explorer STM32F4&quot;,RED,WHITE,16,0);LCD_ShowString(0,40,&quot;ADC TEST&quot;,RED,WHITE,16,0);LCD_ShowString(0,60,&quot;ATOM@ALIENTEK&quot;,RED,WHITE,16,0);    LCD_ShowString(0,100, &quot;ADC1_CH5_VAL:&quot;,RED,WHITE,16,0);    LCD_ShowString(0,120,&quot;ADC1_CH5_VOL:0.000V&quot;,RED,WHITE,16,0);LCD_ShowString(0,80,&quot;2014&#x2F;5&#x2F;6&quot;,RED,WHITE,16,0);while(1)&#123; adcx&#x3D;Get_Adc_Average(ADC_Channel_5,20);  &#x2F;&#x2F;è·å–é€šé“5çš„è½¬æ¢å€¼ï¼Œ20æ¬¡å–å¹³å‡                                             &#x2F;&#x2F;æ˜¾ç¤ºADCCé‡‡æ ·åçš„åŸå§‹å€¼    LCD_ShowIntNum(110,100,adcx,3,RED,WHITE,16);temp&#x3D;(float)adcx*(3.3&#x2F;4096);            &#x2F;&#x2F;è·å–è®¡ç®—åçš„å¸¦å°æ•°çš„å®é™…ç”µå‹å€¼ï¼Œæ¯”å¦‚3.1111&#x2F;&#x2F;adcx&#x3D;temp;                            &#x2F;&#x2F;èµ‹å€¼æ•´æ•°éƒ¨åˆ†ç»™adcxå˜é‡ï¼Œå› ä¸ºadcxä¸ºu16æ•´å½¢                                            &#x2F;&#x2F;æ˜¾ç¤ºç”µå‹å€¼çš„æ•´æ•°éƒ¨åˆ†ï¼Œ3.1111çš„è¯ï¼Œè¿™é‡Œå°±æ˜¯æ˜¾ç¤º3&#x2F;&#x2F;  LCD_ShowIntNum(104,120,adcx,1,RED,WHITE,16);&#x2F;&#x2F;temp-&#x3D;adcx;                           &#x2F;&#x2F;æŠŠå·²ç»æ˜¾ç¤ºçš„æ•´æ•°éƒ¨åˆ†å»æ‰ï¼Œç•™ä¸‹å°æ•°éƒ¨åˆ†ï¼Œæ¯”å¦‚3.1111-3&#x3D;0.1111&#x2F;&#x2F;temp*&#x3D;1000;                           &#x2F;&#x2F;å°æ•°éƒ¨åˆ†ä¹˜ä»¥1000ï¼Œä¾‹å¦‚ï¼š0.1111å°±è½¬æ¢ä¸º111.1ï¼Œç›¸å½“äºä¿ç•™ä¸‰ä½å°æ•°ã€‚&#x2F;&#x2F;  LCD_ShowxNum(150,150,temp,3,16,0X80);   &#x2F;&#x2F;æ˜¾ç¤ºå°æ•°éƒ¨åˆ†ï¼ˆå‰é¢è½¬æ¢ä¸ºäº†æ•´å½¢æ˜¾ç¤ºï¼‰ï¼Œè¿™é‡Œæ˜¾ç¤ºçš„å°±æ˜¯111.    LCD_ShowFloatNum1(104,120,temp,3,RED,WHITE,16);  &#x2F;&#x2F;120  120LED0&#x3D;!LED0;delay_ms(250);     printf(&quot;ADC:%f \r\n&quot;,temp);   &#x2F;&#x2F;  &#125;&#125;1.54tftå±å’Œä¸²å£éƒ½å¯ä»¥è¾“å‡ºadcçš„å€¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¿™ä¸ªç¨‹åºå°†æ¯éš” 250ms è¯»å–ä¸€æ¬¡ ADCé€šé“ 5 çš„å€¼ï¼Œå¹¶æ˜¾ç¤ºè¯»åˆ°çš„ ADC å€¼ï¼ˆæ•°å­—é‡ï¼‰ï¼Œä»¥åŠå…¶è½¬æ¢æˆæ¨¡æ‹Ÿé‡åçš„ç”µå‹å€¼ã€‚åŒæ—¶æ§åˆ¶ LED0é—ªçƒï¼Œä»¥æç¤ºç¨‹åºæ­£åœ¨è¿è¡Œã€‚</p></blockquote><p><a href="https://blog.csdn.net/qq_59194050/article/details/119870392?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166013535816782391895979%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=166013535816782391895979&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-119870392-null-null.142%5Ev40%5Epc_rank_v36,185%5Ev2%5Econtrol&utm_term=stm32f407%20adc&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F407 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¸ç”¨çš„ç¨³å‹èŠ¯ç‰‡</title>
      <link href="/2022/08/09/31h-ams1117/"/>
      <url>/2022/08/09/31h-ams1117/</url>
      
        <content type="html"><![CDATA[<h2 id="AMS1117"><a href="#AMS1117" class="headerlink" title="AMS1117"></a>AMS1117</h2><p>AMS1117æ˜¯ä¸€æ¬¾æ­£ç”µå‹è¾“å‡ºçš„ä½å‹é™ä¸‰ç«¯çº¿æ€§ç¨³å‹ç”µ<br>è·¯ï¼Œåœ¨1Aè¾“å‡ºç”µæµä¸‹çš„å‹é™ä¸º1.2Vã€‚<br>AMS1117åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼Œå›ºå®šç”µå‹è¾“å‡ºç‰ˆæœ¬å’Œå¯è°ƒç”µ<br>å‹è¾“å‡ºç‰ˆæœ¬ã€‚å›ºå®šè¾“å‡ºç”µå‹1.5Vã€1.8Vã€2.5Vã€3.3Vã€<br>5.0Vå’Œå¯è°ƒç‰ˆæœ¬çš„ç”µå‹ç²¾åº¦ä¸º1ï¼…ï¼›å›ºå®šç”µå‹ä¸º1.2Vçš„äº§<br>å“è¾“å‡ºç”µå‹ç²¾åº¦ä¸º2ï¼…ã€‚<br>AMS1117å†…éƒ¨é›†æˆè¿‡çƒ­ä¿æŠ¤å’Œé™æµç”µè·¯ï¼Œé€‚ç”¨äºå„ç±»<br>ç”µå­äº§å“ã€‚</p><h3 id="ç”µè·¯ç¤ºä¾‹"><a href="#ç”µè·¯ç¤ºä¾‹" class="headerlink" title="ç”µè·¯ç¤ºä¾‹"></a>ç”µè·¯ç¤ºä¾‹</h3><img src="/2022/08/09/31h-ams1117/01.png" class="" title="This is an test image"><img src="/2022/08/09/31h-ams1117/02.png" class="" title="This is an test image"><p>ä¸­é—´çš„ä¸Šä¸‹ä¸¤ä¸ªè¾“å‡ºå¼•è„šæ˜¯ä¸€æ ¹çº¿ </p><h3 id="æ»¤æ³¢ç”µå®¹"><a href="#æ»¤æ³¢ç”µå®¹" class="headerlink" title="æ»¤æ³¢ç”µå®¹"></a>æ»¤æ³¢ç”µå®¹</h3><blockquote><p>AMS1117å®˜æ–¹æ–‡æ¡£é‡Œæ¨èçš„æ˜¯è¾“å…¥æ¥10uFï¼Œè¾“å‡ºæ¥20uFã€‚<br>10å¾®æ³•æ»¤ä½é¢‘ï¼Œä¹Ÿå¯ä»¥å†åŠ ä¸ª0.1.å¾®æ³•æ»¤é«˜é¢‘ (0.1ufâ‰ˆ104nf)<br>å¸¸ç”¨çš„æ–¹æ¡ˆæ˜¯è¾“å…¥ç«¯æ¥0.1UFï¼Œè¾“å‡ºç«¯æ¥0.1UF+10UFä¸¤ä¸ªç”µå®¹ï¼Œç”¨äºæŠ‘åˆ¶è‡ªæ¿€æŒ¯è¡<br>è¾“å‡ºæ»¤æ³¢ç”µå®¹ï¼Œç”¨äºæŠ‘åˆ¶è‡ªæ¿€æŒ¯è¡ã€‚å¦‚æœè¿™ä¸¤ä¸ªç”µå®¹ä¸æ¥ï¼Œçº¿æ€§ç¨³å‹å™¨çš„è¾“å‡ºé€šå¸¸ä¼šæ˜¯ä¸€ä¸ªæŒ¯è¡æ³¢å½¢<br>è¾“å…¥ç«¯æ¥ç”µå®¹çš„ä½œç”¨æ˜¯é˜²æ­¢æ–­ç”µåç”µå‹å‘ç”Ÿå€’ç½®ï¼Œæ‰€ä»¥ç»å¸¸è¾“å…¥ç”µå®¹çš„å®¹é‡è¦å¤§äºè¾“å‡ºç”µå®¹ã€‚</p></blockquote><blockquote><p>å¤§ç”µå®¹æ»¤ä½é¢‘ï¼Œå°ç”µå®¹è™‘é«˜é¢‘ã€‚æ­£å¸¸åªéœ€è¦ä¸€ä¸ªå¤§ç”µå®¹å°±å¯ä»¥äº†ã€‚åœ¨é«˜é¢‘çš„æ—¶å€™å¤§ç”µå®¹å‘ˆç°æ„Ÿæ€§ï¼Œæ»¤æ³¢æ•ˆæœå¾ˆå·®ï¼Œè¿™æ—¶å€™å°±é å°ç”µå®¹èµ·ä½œç”¨äº†ï¼<br>é˜»æŠ—å…¬å¼Z&#x3D;1&#x2F;J2Ï€fCã€‚å½“ç”µå®¹å¤§çš„æ—¶å€™ï¼Œä½é¢‘çš„ä¿¡å·å¯¹åœ°é˜»æŠ—å¾ˆå°ï¼Œæœ‰æ³¢åŠ¨çš„è¯éƒ½é€šè¿‡ç”µå®¹è·‘åˆ°äº†åœ°ä¸Šï¼Œè¿™æ ·å°±èµ·åˆ°äº†å»è€¦çš„ä½œç”¨ã€‚ä¸€èˆ¬éƒ½æ˜¯10uå’Œ0.1uæ­é…ä½¿ç”¨</p></blockquote><h3 id="å‘çƒ­é—®é¢˜"><a href="#å‘çƒ­é—®é¢˜" class="headerlink" title="å‘çƒ­é—®é¢˜"></a>å‘çƒ­é—®é¢˜</h3><p>â€¦..</p><h3 id="type-cæ¥å£çš„cc1-cc2-åè®®æš‚æ—¶è¿˜ä¸æ‡‚"><a href="#type-cæ¥å£çš„cc1-cc2-åè®®æš‚æ—¶è¿˜ä¸æ‡‚" class="headerlink" title="type-cæ¥å£çš„cc1,cc2(åè®®æš‚æ—¶è¿˜ä¸æ‡‚)"></a>type-cæ¥å£çš„cc1,cc2(åè®®æš‚æ—¶è¿˜ä¸æ‡‚)</h3><p>CC1ä¸CC2<br>USB-PDå¯¹ç”µæºè®¾å¤‡çš„è¯†åˆ« æ˜¯ä¾é è¿™ä¸¤ä¸ªå¼•è„šçš„ï¼Œå‘ä¾›ç”µç«¯è¯·æ±‚ç”µæºä¾›ç»™ã€‚åœ¨ç®€å•çš„è®¾è®¡ä¸­ï¼Œé€šè¿‡CC1å’ŒCC2å„è‡ªç‹¬ç«‹ ä¸‹æ‹‰ä¸€ä¸ª5.1kç”µé˜»åˆ°åœ° å³å¯ã€‚è€Œå¯¹äºéœ€è¦ç”¨åˆ°å¤§åŠŸç‡ä¾›ç”µæˆ–è€…é«˜æ¸…è§†é¢‘ä¼ è¾“åŠŸèƒ½çš„åµŒå…¥å¼è®¾è®¡ï¼Œåˆ™å¿…é¡»è¦ä½¿ç”¨USB-PDæ§åˆ¶èŠ¯ç‰‡ã€‚<br>DFPå¯æ ¹æ®ä¸¤æ ¹CCçº¿ä¸Šçš„ç”µå‹ï¼Œåˆ¤æ–­æ˜¯å¦å·²ç»æ’å…¥è®¾å¤‡ã€‚é€šè¿‡åˆ¤æ–­å“ªæ ¹CCçº¿ä¸Šæœ‰ä¸‹æ‹‰ç”µé˜»æ¥åˆ¤æ–­æ–¹å‘</p><img src="/2022/08/09/31h-ams1117/03.png" class="" title="This is an test image"><p><a href="https://blog.csdn.net/AirCity123/article/details/103554177?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-103554177-blog-123307773.pc_relevant_aa&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-103554177-blog-123307773.pc_relevant_aa&utm_relevant_index=1"></a><br>16pinçš„é‚£æ¬¾æ˜¯å¸¦æ•°æ®ä¼ è¾“åŠŸèƒ½çš„ï¼Œ6pinçš„é‚£æ¬¾åªèƒ½ç”¨æ¥ä¾›ç”µï¼Œcc1å’Œcc2ç‹¬è‡ªæ¥ä¸€ä¸ª5.1kçš„ç”µé˜»åˆ°åœ°å³å¯ï¼Œä¸æ¥è¿™ä¸¤ä¸ª5.1kçš„ç”µé˜»ï¼Œä¼šæ²¡åŠæ³•è¯†åˆ«é‚£ç§ä¸¤å¤´éƒ½æ˜¯typecçš„çº¿<br>ç®€å•çš„ç”µå­äº§å“ä¸éœ€è¦ USB é€šä¿¡ã€‚æ‰€ä»¥åœ¨6Pinçš„ç‰ˆæœ¬ä¸­ï¼Œä»…ä¿ç•™äº† VBUSã€GNDã€CC1ã€CC2 è¿™å››ç±»å¼•è„š,åªèƒ½ç”¨æ¥ä¾›ç”µ<br>ä¸ªäººç†è§£:è¯†åˆ«è®¾å¤‡.è¿›è¡Œä¾›ç”µ</p><p>type-cç›¸å…³èµ„æ–™<br><a href="https://blog.csdn.net/G_C_H/article/details/120500365">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/weixin_43772512/article/details/123307773">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/AirCity123/article/details/103554177?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-103554177-blog-123307773.pc_relevant_aa&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-103554177-blog-123307773.pc_relevant_aa&utm_relevant_index=1">å‚è€ƒæ–‡ç« </a></p><p><a href="https://www.semiee.com/file/Idchip/Idchip-AMS1117.pdf">AMS1117å®˜æ–¹æ–‡æ¡£</a><br><a href="http://www.openedv.com/posts/list/34096.htm">å‚è€ƒæ–‡ç« 1</a><br><a href="http://www.openedv.com/forum.php?mod=viewthread&tid=61468&highlight=AMS1117">å‚è€ƒæ–‡ç« 2</a><br><a href="http://www.openedv.com/search.php?mod=forum&searchid=706&orderby=lastpost&ascdesc=desc&searchsubmit=yes&kw=AMS1117">å‚è€ƒæ–‡ç« 3</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¨³å‹èŠ¯ç‰‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨arduino ideå¼€å‘esp8266å‡ºç°çš„error</title>
      <link href="/2022/07/29/30h-esp8266-error/"/>
      <url>/2022/07/29/30h-esp8266-error/</url>
      
        <content type="html"><![CDATA[<h2 id="æŠ½é£ç„å­¦"><a href="#æŠ½é£ç„å­¦" class="headerlink" title="æŠ½é£ç„å­¦"></a>æŠ½é£ç„å­¦</h2><p>æ­£å¸¸çƒ§å½•çªç„¶è¹¦å‡ºä»¥ä¸‹error<br>esp8266wifisecureclient.cpp&#x2F;.h å·´æ‹‰å·´æ‹‰â€¦..     æ‰¾åˆ°æŠ¥é”™å¤„,æ³¨é‡Šæ‰<br>xxxå¤šä¸ªåº“,é—²ç½®åº“xxxxx                             æŠŠé‡å¤æœªç”¨çš„åº“åˆ äº†(åˆ é™¤å‰æœ€å¥½å¤‡ä¸‹ä»½)<br>esp8266wifi.h:No such file or directory          æœ€åæŠ¥è¿™ä¸€ä¸ªé”™è¯¯</p><img src="/2022/07/29/30h-esp8266-error/01.png" class="" title="This is an test image"><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³:"></a>è§£å†³:</h2><p>é‡æ–°æ­å»ºesp8266ç¯å¢ƒ<br>1.é¦–é€‰é¡¹ä¸­æ·»åŠ esp8266å®˜æ–¹å¼€å‘æ¿ç½‘å€</p><img src="/2022/07/29/30h-esp8266-error/02.png" class="" title="This is an test image"><p><a href="http://arduino.esp8266.com/stable/package_esp8266com_index.json">http://arduino.esp8266.com/stable/package_esp8266com_index.json</a><br>ç„¶åæ‰“å¼€å¼€å‘æ¿ç®¡ç†å™¨,æœç´¢esp8266,åˆ é™¤åé‡æ–°å®‰è£…å°±ä¸æŠ¥é”™äº†</p><img src="/2022/07/29/30h-esp8266-error/03.png" class="" title="This is an test image"><img src="/2022/07/29/30h-esp8266-error/04.png" class="" title="This is an test image"><p><a href="https://blog.csdn.net/Reasally/article/details/123313509">å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Esp8266 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockerçš„å®‰è£…ã€å¸è½½ã€è¿ç§»</title>
      <link href="/2022/07/26/29l-docker/"/>
      <url>/2022/07/26/29l-docker/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…Dockerã€Docker-compose"><a href="#å®‰è£…Dockerã€Docker-compose" class="headerlink" title="å®‰è£…Dockerã€Docker-compose"></a>å®‰è£…Dockerã€Docker-compose</h2><p>æ›´æ–°,å®‰è£…vim</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">apt-get update &amp;&amp; apt-get install -y wget vim<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éå¤§é™†Dockerå®‰è£…:</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">wget -qO- get.docker.com | bash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹Dockerç‰ˆæœ¬</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">docker -v<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¼€æœºè‡ªåŠ¨å¯åŠ¨</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">systemctl enable docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="error-å®‰è£…Dockeråå¯åŠ¨å¤±è´¥-Failed-to-start-docker-service-Unit-not-found"><a href="#error-å®‰è£…Dockeråå¯åŠ¨å¤±è´¥-Failed-to-start-docker-service-Unit-not-found" class="headerlink" title="error:å®‰è£…Dockeråå¯åŠ¨å¤±è´¥,Failed to start docker.service: Unit not found."></a>error:å®‰è£…Dockeråå¯åŠ¨å¤±è´¥,Failed to start docker.service: Unit not found.</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">è¿è¡Œdocker-compose up -dæŠ¥é”™,dockeræ— æ³•å¯åŠ¨è¿è¡Œsystemctl restart dockerå,æç¤ºï¼šFailed to start docker.service: Unit not found.åœ¨ &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system ä¸‹åˆ›å»º docker.socket æ–‡ä»¶cd &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system vim docker.socket <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¹¶å†™å…¥ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">[Unit]Description&#x3D;Docker Socket for the APIPartOf&#x3D;docker.service[Socket]ListenStream&#x3D;&#x2F;var&#x2F;run&#x2F;docker.sockSocketMode&#x3D;0660SocketUser&#x3D;rootSocketGroup&#x3D;docker[Install]WantedBy&#x3D;sockets.target<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½†åˆ›å»ºåä»ç„¶æ— æ³•å¯åŠ¨ï¼Œæç¤ºï¼š<code>Failed to start docker.service: Unit not found</code>ï¼Œæ¢å¦ä¸€ç§æ–¹å¼ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">å¸è½½ç°æœ‰ç‰ˆæœ¬Dockerï¼šyum remove dockeryumdocker-clientyum docker-client-latestyum docker-commonyum docker-latestyum docker-latest-logrotateyum docker-logrotateyum docker-engine<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹‹åé‡è£…Dockerï¼Œå¯åŠ¨å®Œæˆï¼Œæ³¨æ„åˆ°åŸæ¥çš„&#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;systemç›®å½•ä¸‹æ²¡æœ‰docker.socketä¸docker.serviceæ–‡ä»¶ï¼Œé‡è£…ådocker.serviceæ–‡ä»¶å‡ºç°(å¤§ä½¬æ³¨æ„åˆ°çš„,æˆ‘æ²¡æ³¨æ„è§‚å¯Ÿ)</p><p>æœ‰å¤§ä½¬è¯´æ˜¯å› ä¸ºç‰ˆæœ¬é—®é¢˜</p><p><a href="https://ask.csdn.net/questions/7695921?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165876565016780357234520%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=165876565016780357234520&biz_id=4&utm_medium=distribute.pc_search_result.none-task-ask_topic-2~all~first_rank_ecpm_v1~hot_rank-5-7695921-null-null.142%5Ev34%5Epc_rank_34,185%5Ev2%5Econtrol&utm_term=Failed%20to%20start%20docker.service:%20Unit%20not%20found.&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« </a></p><h2 id="éå¤§é™†Docker-composeå®‰è£…"><a href="#éå¤§é™†Docker-composeå®‰è£…" class="headerlink" title="éå¤§é™†Docker-composeå®‰è£…"></a>éå¤§é™†Docker-composeå®‰è£…</h2><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">sudo curl -L &quot;https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.29.2&#x2F;docker-compose-$(uname -s)-$(uname -m)&quot; -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-composesudo chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-composedocker-compose --version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸‹é…ç½®ä¼šå¢åŠ ä¸€æ®µè‡ªå®šä¹‰å†…ç½‘ IPv6 åœ°å€ï¼Œå¼€å¯å®¹å™¨çš„ IPv6 åŠŸèƒ½ï¼Œä»¥åŠé™åˆ¶æ—¥å¿—æ–‡ä»¶å¤§å°ï¼Œé˜²æ­¢ Docker æ—¥å¿—å¡æ»¡ç¡¬ç›˜ï¼ˆæ³ªçš„æ•™è®­ï¼‰ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cat &gt; &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;EOF&#123;    &quot;log-driver&quot;: &quot;json-file&quot;,    &quot;log-opts&quot;: &#123;        &quot;max-size&quot;: &quot;20m&quot;,        &quot;max-file&quot;: &quot;3&quot;    &#125;,    &quot;ipv6&quot;: true,    &quot;fixed-cidr-v6&quot;: &quot;fd00:dead:beef:c0::&#x2F;80&quot;,    &quot;experimental&quot;:true,    &quot;ip6tables&quot;:true&#125;EOF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åé‡å¯ Docker æœåŠ¡ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ–‡ä»¶ç®¡ç†"><a href="#æ–‡ä»¶ç®¡ç†" class="headerlink" title="æ–‡ä»¶ç®¡ç†"></a>æ–‡ä»¶ç®¡ç†</h2><p>ç»™Dockerçš„æ•°æ®ã€é…ç½®æ–‡ä»¶æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œ</p><blockquote><p>mkdir -p data&#x2F;docker_data</p></blockquote><h2 id="dockeré¡¹ç›®æ›´æ–°"><a href="#dockeré¡¹ç›®æ›´æ–°" class="headerlink" title="dockeré¡¹ç›®æ›´æ–°"></a>dockeré¡¹ç›®æ›´æ–°</h2><p>ä»¥haloåšå®¢é¡¹ç›®ä¸ºä¾‹</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">docker stop halo           # å…ˆåœæ­¢å®¹å™¨,æ³¨æ„å®¹å™¨çš„åå­—docker rm -f halo          # åˆ é™¤å®¹å™¨,å®¹å™¨çš„åå­—cp -r ~&#x2F;.halo ~&#x2F;.halo.archive   #&#96;!!!å¤‡ä»½æ•°æ®&#96;ï¼ˆéå¸¸éå¸¸éå¸¸é‡è¦ï¼‰ï¼Œæ³¨æ„ä½ æŒ‚è½½å‡ºæ¥çš„è·¯å¾„åœ°å€rm -rf ~&#x2F;.halo&#x2F;.leveldb    # è¿™ä¸€æ­¥æ˜¯haloç‰¹æœ‰çš„,å…¶ä»–é¡¹ç›®ä¸ç”¨docker pull halohub&#x2F;halo:1.5.3   # æ‹‰å–æœ€æ–°çš„é•œåƒï¼Œä¸€èˆ¬çš„è¯ä½ çŸ¥é“ç‰¹å®šçš„ç‰ˆæœ¬å·å°±ç›´æ¥å†™å³å¯ï¼Œæ¯”å¦‚è¿™è¾¹çš„1.5.3ï¼Œå¦‚æœä¸çŸ¥é“ç‰ˆæœ¬å·ï¼Œå¯ä»¥ç›´æ¥å†™latestï¼Œå³ docker pull halohub&#x2F;halo:latestdocker run -it -d --name halo -p 8090:8090 -v ~&#x2F;.halo:&#x2F;root&#x2F;.halo --restart&#x3D;unless-stopped halohub&#x2F;halo:1.5.3    # é‡æ–°è¿è¡Œå®¹å™¨ æ³¨æ„å’Œæ­å»ºæ—¶å€™å”¯ä¸€ä¸åŒçš„å°±æ˜¯æœ€åé¢çš„ç‰ˆæœ¬å·ä¸åŒï¼Œ                                              #å¦‚æœä½ æ˜¯latest é‚£å°±æŠŠ1.5.3æ”¹æˆlatestdocker image prune # åˆ é™¤æ‰æ—§çš„é•œåƒï¼ˆå¯é€‰ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="docker-composeæ­å»ºçš„æ›´æ–°æ–¹æ³•"><a href="#docker-composeæ­å»ºçš„æ›´æ–°æ–¹æ³•" class="headerlink" title="docker-composeæ­å»ºçš„æ›´æ–°æ–¹æ³•"></a>docker-composeæ­å»ºçš„æ›´æ–°æ–¹æ³•</h2><p>ä»¥qbittorrentä¸ºä¾‹ï¼š</p><p>æ­å»ºå‘½ä»¤ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cd ~mkdir -p &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;qBittorrent #åˆ›å»ºqbitorrentæ•°æ®æ–‡ä»¶å¤¹cd &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;qBittorrentmkdir config downloads #åˆ›å»ºé…ç½®æ–‡ä»¶ç›®å½•ä¸ä¸‹è½½ç›®å½•nano docker-compose.yml #åˆ›å»ºå¹¶ç¼–è¾‘æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>docker-compose.ymlé…ç½®æ–‡ä»¶</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">version: &quot;2&quot;services:  qbittorrent:    image: linuxserver&#x2F;qbittorrent:4.4.0    container_name: qbittorrent    environment:      - PUID&#x3D;1000      - PGID&#x3D;1000      - TZ&#x3D;Asia&#x2F;Shanghai # ä½ çš„æ—¶åŒº      - UMASK_SET&#x3D;022      - WEBUI_PORT&#x3D;8081 # å°†æ­¤å¤„ä¿®æ”¹æˆä½ æ¬²ä½¿ç”¨çš„ WEB ç®¡ç†å¹³å°ç«¯å£     volumes:      - &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;qBittorrent&#x2F;config:&#x2F;config # ç»å¯¹è·¯å¾„è¯·ä¿®æ”¹ä¸ºè‡ªå·±çš„configæ–‡ä»¶å¤¹      - &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;qBittorrent&#x2F;downloads:&#x2F;downloads # ç»å¯¹è·¯å¾„è¯·ä¿®æ”¹ä¸ºè‡ªå·±çš„downloadsæ–‡ä»¶å¤¹    ports:      # è¦ä½¿ç”¨çš„æ˜ å°„ä¸‹è½½ç«¯å£ä¸å†…éƒ¨ä¸‹è½½ç«¯å£ï¼Œå¯ä¿æŒé»˜è®¤ï¼Œå®‰è£…å®Œæˆååœ¨ç®¡ç†é¡µé¢ä»ç„¶å¯ä»¥æ”¹æˆå…¶ä»–ç«¯å£ã€‚      - 6881:6881       - 6881:6881&#x2F;udp      # æ­¤å¤„WEB UI ç›®æ ‡ç«¯å£ä¸å†…éƒ¨ç«¯å£åŠ¡å¿…ä¿è¯ç›¸åŒï¼Œè§é—®é¢˜1      - 8081:8081    restart: unless-stopped<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ›´æ–°æ–¹æ³•ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">docker-compose pull     # æ³¨æ„åˆ°ä¸Šæ–¹docker-compose.ymlé‡Œé¢linuxserver&#x2F;qbittorrentåé¢æœ‰ç‰ˆæœ¬å·4.4.0ï¼Œ                        #ï¼ˆå¦‚æœæ²¡æœ‰é»˜è®¤å°±æ˜¯latestï¼‰ï¼Œæ‰€ä»¥æ›´æ–°éœ€è¦ä¿®æ”¹ç‰ˆæœ¬å·ä¸ºæ–°çš„ç‰ˆæœ¬å·ï¼ˆæ›´æ–°åˆ°ç‰¹å®šç‰ˆæœ¬ï¼‰ï¼Œæˆ–è€…ç›´æ¥åˆ å»ç°åœ¨çš„ç‰ˆæœ¬å·ï¼ˆæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼‰cp -r qBittorrent qBittorrent.archive    # å¤‡ä»½ä¸€ä¸‹,ä¹Ÿå¯ä»¥ç›´æ¥å¤‡ä»½é…ç½®æ–‡æ¡£ï¼Œå› ä¸ºæœ‰äº›æ—¶å€™ï¼Œdownloadsé‡Œé¢æ–‡ä»¶å¾ˆæµªè´¹ç©ºé—´ docker-compose up -d   #å®Œæˆdocker image prune # åˆ é™¤æ‰æ—§çš„é•œåƒï¼ˆå¯é€‰ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="dockerè¿ç§»"><a href="#dockerè¿ç§»" class="headerlink" title="dockerè¿ç§»"></a>dockerè¿ç§»</h2><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">tar -czvf .halo.tar.gz .halo.archive   #æ–‡ä»¶çš„å¤‡ä»½å‹ç¼©scp -P 22 -r .halo.tar.gz root@192.248.190.156:&#x2F;root  # scp -P ç«¯å£ -r &#x2F;root&#x2F;backup&#x2F;backup.tar ç”¨æˆ·å@IP:ç›®æ ‡ç›®å½•tar -zxvf .halo.tar.gz                #è§£å‹mv .halo.archive .halo                #æŠŠ.halo.archiveé‡å‘½åæˆ.haloç¡®ä¿è¿ç§»åˆ°çš„æœåŠ¡å™¨æœ‰dockerå’Œdocker composeç¯å¢ƒæ‰§è¡Œå®¹å™¨&#96;docker-compose up -d &#96;å¦‚æœæ— æ³•å®Œå…¨å¯åŠ¨,å°†&#96;docker-compose.yml&#96;åˆ é™¤,é‡å»ºåå†è¿è¡Œ&#96;docker-compose up -d&#96;(docker-composeæ­å»ºçš„lsky-proè¿ç§»æˆåŠŸ)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Dockeré¡¹ç›®å¸è½½ï¼ˆåŒ…æ‹¬å¸è½½Dockerã€docker-composeï¼‰"><a href="#Dockeré¡¹ç›®å¸è½½ï¼ˆåŒ…æ‹¬å¸è½½Dockerã€docker-composeï¼‰" class="headerlink" title="Dockeré¡¹ç›®å¸è½½ï¼ˆåŒ…æ‹¬å¸è½½Dockerã€docker-composeï¼‰"></a>Dockeré¡¹ç›®å¸è½½ï¼ˆåŒ…æ‹¬å¸è½½Dockerã€docker-composeï¼‰</h2><h3 id="dockerå‘½ä»¤æ­å»ºçš„å¸¸ç”¨å¸è½½æ–¹æ³•"><a href="#dockerå‘½ä»¤æ­å»ºçš„å¸¸ç”¨å¸è½½æ–¹æ³•" class="headerlink" title="dockerå‘½ä»¤æ­å»ºçš„å¸¸ç”¨å¸è½½æ–¹æ³•"></a>dockerå‘½ä»¤æ­å»ºçš„å¸¸ç”¨å¸è½½æ–¹æ³•</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">docker ps docker stop å®¹å™¨åå­—cd ~docker rm -f å®¹å™¨åå­—rm -rf æ˜ å°„å‡ºæ¥çš„è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="docker-composeæ­å»ºçš„å¸è½½æ–¹æ³•"><a href="#docker-composeæ­å»ºçš„å¸è½½æ–¹æ³•" class="headerlink" title="docker-composeæ­å»ºçš„å¸è½½æ–¹æ³•"></a>docker-composeæ­å»ºçš„å¸è½½æ–¹æ³•</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cd &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;qBittorrentdocker-compose down cd ~rm -rf &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;qBittorrent # rm -rf æ˜ å°„å‡ºæ¥çš„è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¸è½½dockeræœ¬èº«"><a href="#å¸è½½dockeræœ¬èº«" class="headerlink" title="å¸è½½dockeræœ¬èº«"></a>å¸è½½dockeræœ¬èº«</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">sudo apt-get purge docker-ce docker-ce-cli containerd.io docker-compose-pluginsudo rm -rf &#x2F;var&#x2F;lib&#x2F;dockersudo rm -rf &#x2F;var&#x2F;lib&#x2F;containerd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‚è€ƒï¼š<a href="https://docs.docker.com/engine/install/debian/">https://docs.docker.com/engine/install/debian/</a></p><h3 id="å¸è½½docker-compose"><a href="#å¸è½½docker-compose" class="headerlink" title="å¸è½½docker-compose"></a>å¸è½½docker-compose</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cd &#x2F;usr&#x2F;local&#x2F;bin&#x2F;rm -rf docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p><a href="https://docs.docker.com/engine/install/debian/">https://docs.docker.com/engine/install/debian/</a></p><p><a href="https://www.runoob.com/linux/linux-comm-scp.html">https://www.runoob.com/linux/linux-comm-scp.html</a></p><p><a href="https://www.runoob.com/linux/linux-comm-tar.html">https://www.runoob.com/linux/linux-comm-tar.html</a></p><p><a href="https://docs.halo.run/getting-started/upgrade">https://docs.halo.run/getting-started/upgrade</a><br><a href="https://blog.laoda.de/archives/docker-issues#3.2-docker-compose%E6%90%AD%E5%BB%BA%E7%9A%84%E6%9B%B4%E6%96%B0%E6%96%B9%E6%B3%95">å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockeræ­å»ºlsky-pro</title>
      <link href="/2022/07/26/28l-docker-compose-lsky-pro/"/>
      <url>/2022/07/26/28l-docker-compose-lsky-pro/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­å»ºç¯å¢ƒ"><a href="#æ­å»ºç¯å¢ƒ" class="headerlink" title="æ­å»ºç¯å¢ƒ"></a>æ­å»ºç¯å¢ƒ</h2><p>æœåŠ¡å™¨:ä¸€å°<br>ç³»ç»Ÿï¼šDebian 10ï¼ˆDDè„šæœ¬,ç”¨åŸæ¥çš„ç³»ç»Ÿä¹Ÿå¯ä»¥ï¼‰<br>åŸŸå:ä¸€æšï¼Œè§£æåˆ°æœåŠ¡å™¨ä¸Š<br>å®‰è£…å¥½Dockerã€Docker-compose<br>å®‰è£…å¥½Nginx Proxy Manager(éå¿…éœ€æœ¬æ•™ç¨‹é‡‡ç”¨)</p><h2 id="æ­å»º"><a href="#æ­å»º" class="headerlink" title="æ­å»º"></a>æ­å»º</h2><blockquote><p>æ³¨æ„ï¼šVPSçš„å†…å­˜å¦‚æœè¿‡å°ï¼Œå»ºè®®è®¾ç½®ä¸€ä¸‹SWAPï¼Œä¸€èˆ¬ä¸ºå†…å­˜çš„1-1.5å€å³å¯ï¼Œå¯ä»¥è®©è¿è¡Œæ›´æµç•…ï¼<br>è®¾ç½®SWAPå¯ä»¥ç”¨è„šæœ¬:<br>wget -O box.sh <a href="https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh">https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh</a> &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; .&#x2F;box.sh<br>é€‰æ‹©18ï¼Œç„¶åè¾“å…¥ä½ æƒ³è¦æ‰©å®¹çš„æ•°å€¼å³å¯ã€‚</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">sudo -i # åˆ‡æ¢åˆ°rootç”¨æˆ·apt update -y  # å‡çº§packagesapt install wget curl sudo vim git  # Debianç³»ç»Ÿæ¯”è¾ƒå¹²å‡€ï¼Œå®‰è£…å¸¸ç”¨çš„è½¯ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºå®‰è£…ç›®å½•"><a href="#åˆ›å»ºå®‰è£…ç›®å½•" class="headerlink" title="åˆ›å»ºå®‰è£…ç›®å½•"></a>åˆ›å»ºå®‰è£…ç›®å½•</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">mkdir -p &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-procd &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pronano docker-compose.yml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>docker-compose.ymlå¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">version: &#39;3&#39;services:    lsky-pro:        container_name: lsky-pro        image: dko0&#x2F;lsky-pro        restart: always        volumes:            - &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro&#x2F;lsky-pro-data:&#x2F;var&#x2F;www&#x2F;html  #æ˜ å°„åˆ°æœ¬åœ°        ports:            - 7791:80        environment:            - MYSQL_HOST&#x3D;mysql            - MYSQL_DATABASE&#x3D;lsky-pro            - MYSQL_USER&#x3D;lsky-pro            - MYSQL_PASSWORD&#x3D;lsky-pro    mysql:        image: mysql:8.0        container_name: lsky-pro-db        restart: always        environment:          - MYSQL_DATABASE&#x3D;lsky-pro          - MYSQL_USER&#x3D;lsky-pro          - MYSQL_PASSWORD&#x3D;lsky-pro          - MYSQL_ROOT_PASSWORD&#x3D;lsky-pro        volumes:          - &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro&#x2F;db:&#x2F;var&#x2F;lib&#x2F;mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ctrl+xé€€å‡ºï¼ŒæŒ‰yä¿å­˜ï¼Œenterç¡®è®¤ã€‚(vimä¹Ÿå¯)</p><blockquote><p>apt install lsof  #å®‰è£…lsof</p></blockquote><blockquote><p>lsof -i:7791  #æŸ¥çœ‹7791ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œå¦‚æœè¢«å ç”¨ï¼Œé‡æ–°è‡ªå®šä¹‰ä¸€ä¸ªç«¯å£</p></blockquote><blockquote></blockquote><p>è®¿é—®ï¼š<code>http:æœåŠ¡ip:7791</code> å³å¯ã€‚</p><h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cp -r &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro&#x2F;lsky-pro-data &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro&#x2F;lsky-pro-data.archive  # ä¸‡äº‹å…ˆå¤‡ä»½ï¼Œä»¥é˜²ä¸‡ä¸€cp -r &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro&#x2F;db &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro&#x2F;db.archive #æ•°æ®åº“ä¹Ÿå¤‡ä»½ä¸€ä¸‹cd &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro  # è¿›å…¥docker-composeæ‰€åœ¨çš„æ–‡ä»¶å¤¹docker-compose pull    # æ‹‰å–æœ€æ–°çš„é•œåƒdocker-compose up -d   # é‡æ–°æ›´æ–°å½“å‰é•œåƒ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœ€åä¸€å¥å‘½ä»¤docker-compose-up-då®¹æ˜“å‡ºç°æŠ¥é”™"><a href="#æœ€åä¸€å¥å‘½ä»¤docker-compose-up-då®¹æ˜“å‡ºç°æŠ¥é”™" class="headerlink" title="æœ€åä¸€å¥å‘½ä»¤docker-compose up -då®¹æ˜“å‡ºç°æŠ¥é”™"></a>æœ€åä¸€å¥å‘½ä»¤<code>docker-compose up -d</code>å®¹æ˜“å‡ºç°æŠ¥é”™</h3><h4 id="bash-docker-compose-æœªæ‰¾åˆ°å‘½ä»¤"><a href="#bash-docker-compose-æœªæ‰¾åˆ°å‘½ä»¤" class="headerlink" title="-bash: docker-compose: æœªæ‰¾åˆ°å‘½ä»¤"></a><code>-bash: docker-compose: æœªæ‰¾åˆ°å‘½ä»¤</code></h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">dnf install docker-compose # fedorayum install docker-compose # CentOS 7&#x2F; RHEL7apt-get install docker-compose # debianåŠå…¶å˜ç§å¦‚Ubuntuapk add docker-compose # alpinepacman -S docker-compose # arch<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ çš„å‘è¡Œç‰ˆæ²¡æœ‰æä¾› docker-composeï¼ˆä¾‹å¦‚ CentOS 6ï¼‰ï¼Œ<br>ä¹Ÿå¯ä»¥é€šè¿‡ GitHub è¿›è¡Œä¸‹è½½ docker-compose äºŒè¿›åˆ¶æ–‡ä»¶<br>ä» GitHub ä¸‹è½½çš„é€Ÿåº¦å¯èƒ½ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸€äº›å›½å†…çš„é•œåƒï¼Œä¾‹å¦‚ get.daocloud.io</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">curl -L https:&#x2F;&#x2F;get.daocloud.io&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.29.2&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-composechmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-composeå¯ä»¥ä» GitHub è·å–åˆ°æœ€æ–°çš„ç‰ˆæœ¬å·ã€‚æœ€åï¼Œæµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸdocker-compose version<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ERROR-In-file-â€˜-docker-compose-ymlâ€™-the-service-name-True-must-be-a-quoted-string-i-e-â€˜Trueâ€™"><a href="#ERROR-In-file-â€˜-docker-compose-ymlâ€™-the-service-name-True-must-be-a-quoted-string-i-e-â€˜Trueâ€™" class="headerlink" title="ERROR: In file â€˜.&#x2F;docker-compose.ymlâ€™, the service name True must be a quoted string, i.e. â€˜Trueâ€™"></a>ERROR: In file â€˜.&#x2F;docker-compose.ymlâ€™, the service name True must be a quoted string, i.e. â€˜Trueâ€™</h4><p>ä¸€èˆ¬æ˜¯.ymlæ–‡ä»¶é‡Œé¢æ ¼å¼ä¸å¯¹,é‡æ–°å¤åˆ¶ä¸€ä¸‹</p><h4 id="RROR-for-635e40a642c2-mine-app-1-Cannot-start-service-app-driver-failed-programming-external-connectivity-on-endpoint"><a href="#RROR-for-635e40a642c2-mine-app-1-Cannot-start-service-app-driver-failed-programming-external-connectivity-on-endpoint" class="headerlink" title="RROR: for 635e40a642c2_mine-app-1  Cannot start service app: driver failed programming external connectivity on endpoint"></a>RROR: for 635e40a642c2_mine-app-1  Cannot start service app: driver failed programming external connectivity on endpoint</h4><p>å¯èƒ½æ˜¯æœåŠ¡å™¨é‡å¯è¿‡ç¨‹ä¸­ï¼Œdocker ç¨‹åºè¿è¡Œå¼‚å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é‡å¯ docker æœåŠ¡è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><blockquote><p>service docker restart<br>é‡å¯åï¼Œå†æ¬¡è¿è¡Œ <code>docker-compose</code> å‘½ä»¤ï¼Œå®¹å™¨æœåŠ¡æ­£å¸¸å¯åŠ¨</p></blockquote><h3 id="å¸è½½"><a href="#å¸è½½" class="headerlink" title="å¸è½½"></a>å¸è½½</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cd &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro  # è¿›å…¥docker-composeæ‰€åœ¨çš„æ–‡ä»¶å¤¹docker-compose down    # åœæ­¢å®¹å™¨ï¼Œæ­¤æ—¶ä¸ä¼šåˆ é™¤æ˜ å°„åˆ°æœ¬åœ°çš„æ•°æ®rm -rf &#x2F;root&#x2F;data&#x2F;docker_data&#x2F;&#x2F;root&#x2F;data&#x2F;docker_data&#x2F;lsky-pro  # å®Œå…¨åˆ é™¤æ˜ å°„åˆ°æœ¬åœ°çš„æ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åå‘ä»£ç†æŠŠIP-ç«¯å£å˜æˆåŸŸåæ¥è®¿é—®"><a href="#åå‘ä»£ç†æŠŠIP-ç«¯å£å˜æˆåŸŸåæ¥è®¿é—®" class="headerlink" title="åå‘ä»£ç†æŠŠIP+ç«¯å£å˜æˆåŸŸåæ¥è®¿é—®"></a>åå‘ä»£ç†æŠŠIP+ç«¯å£å˜æˆåŸŸåæ¥è®¿é—®</h2><p>é€šè¿‡åå‘ä»£ç†,æŠŠip:ç«¯å£è®¿é—®å˜æˆåŸŸåè®¿é—®<br>å®‰è£…Nginx Proxy Manager<br>åœ¨æ·»åŠ åå‘ä»£ç†ä¹‹å‰ï¼Œç¡®ä¿ä½ å·²ç»å®Œæˆäº†åŸŸåè§£æï¼Œ</p><p>Nginx Proxy Managerä¼šç”¨åˆ°80ã€443ç«¯å£ï¼Œæœ¬æœºä¸èƒ½å ç”¨ï¼ˆæ¯”å¦‚åŸæ¥å°±æœ‰Nginxï¼‰<br>å»ºä¸€ä¸ªdocker-compose.ymlé…ç½®æ–‡ä»¶<br>vim docker-compose.yml</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">version: &quot;3&quot;services:  app:    image: &#39;jc21&#x2F;nginx-proxy-manager:latest&#39;    restart: unless-stopped    ports:      # These ports are in format &lt;host-port&gt;:&lt;container-port&gt;      - &#39;80:80&#39; # Public HTTP Port      - &#39;443:443&#39; # Public HTTPS Port      - &#39;81:81&#39; # Admin Web Port      # Add any other Stream port you want to expose      # - &#39;21:21&#39; # FTP    environment:      DB_MYSQL_HOST: &quot;db&quot;      DB_MYSQL_PORT: 3306      DB_MYSQL_USER: &quot;npm&quot;      DB_MYSQL_PASSWORD: &quot;npm&quot;      DB_MYSQL_NAME: &quot;npm&quot;      # Uncomment this if IPv6 is not enabled on your host      # DISABLE_IPV6: &#39;true&#39;    volumes:      - .&#x2F;data:&#x2F;data      - .&#x2F;letsencrypt:&#x2F;etc&#x2F;letsencrypt    depends_on:      - db  db:    image: &#39;jc21&#x2F;mariadb-aria:latest&#39;    restart: unless-stopped    environment:      MYSQL_ROOT_PASSWORD: &#39;npm&#39;      MYSQL_DATABASE: &#39;npm&#39;      MYSQL_USER: &#39;npm&#39;      MYSQL_PASSWORD: &#39;npm&#39;    volumes:      - .&#x2F;data&#x2F;mysql:&#x2F;var&#x2F;lib&#x2F;mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>docker-compose up -d å³å¯éƒ¨ç½²ã€‚</p></blockquote><p>docker container ls æŸ¥çœ‹å®¹å™¨çš„è¿è¡Œæƒ…å†µã€‚<br>ç™»é™†Nginx Proxy Manager<br>æµè§ˆå™¨è¾“å…¥<code>ä¸»æœºip:81</code></p><p>é»˜è®¤ç™»é™†åå’Œå¯†ç ï¼š<br>Email:    <a href="mailto:&#97;&#100;&#x6d;&#105;&#110;&#64;&#x65;&#x78;&#97;&#109;&#x70;&#108;&#101;&#x2e;&#99;&#x6f;&#109;">admin@example.com</a><br>Password: changeme</p><p>å¦‚æœä»¥å‰ç™»é™†è¿‡,å¯èƒ½è´¦å·ä¸ºé‚®ç®±</p><p>æŸ¥çœ‹Dockerå®¹å™¨å†…éƒ¨IPï¼š<br>ip addr show docker0</p><img src="/2022/07/26/28l-docker-compose-lsky-pro/01.png" class="" title="This is an test image"><img src="/2022/07/26/28l-docker-compose-lsky-pro/02.png" class="" title="This is an test image"><img src="/2022/07/26/28l-docker-compose-lsky-pro/03.png" class="" title="This is an test image"><img src="/2022/07/26/28l-docker-compose-lsky-pro/04.png" class="" title="This is an test image"><img src="/2022/07/26/28l-docker-compose-lsky-pro/05.png" class="" title="This is an test image"><h2 id="é…ç½®lsky-pro"><a href="#é…ç½®lsky-pro" class="headerlink" title="é…ç½®lsky-pro"></a>é…ç½®lsky-pro</h2><p>æ•°æ®åº“è¿æ¥åœ°å€ï¼Œå¡«docker-composeæ–‡ä»¶é‡Œçš„å®¹å™¨åç§°lsky-pro-dbï¼Œè¿æ¥ç«¯å£ä¸ç”¨å¡«ã€‚</p><img src="/2022/07/26/28l-docker-compose-lsky-pro/06.png" class="" title="This is an test image"><p>å®‰è£…å®Œæˆ</p><p><a href="https://blog.laoda.de/archives/docker-compose-install-lskypro#6.-%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86">å‚è€ƒæ–‡ç« </a><br><a href="https://hub.docker.com/r/dko0/lsky-pro">ä½¿ç”¨çš„dockeré•œåƒåœ°å€</a><br><a href="https://docs.lsky.pro/">å›¾åºŠæ–‡æ¡£</a><br><a href="https://github.com/lsky-org/lsky-pro">å…°ç©ºå›¾åºŠgithub</a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³sshæš´åŠ›ç ´è§£</title>
      <link href="/2022/07/24/27l-ssh-attack/"/>
      <url>/2022/07/24/27l-ssh-attack/</url>
      
        <content type="html"><![CDATA[<h2 id="sshç™»å½•è­¦å‘Š"><a href="#sshç™»å½•è­¦å‘Š" class="headerlink" title="sshç™»å½•è­¦å‘Š"></a>sshç™»å½•è­¦å‘Š</h2><p>é€šè¿‡sshç™»å½•æ—¶å—åˆ°ä»¥ä¸‹è­¦å‘Š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">There were 151 failed login attempts since the last successful login<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ‰äººæ­£åœ¨æš´åŠ›ç ´è§£æˆ‘çš„sshå¯†ç </p><h2 id="æ—¥å¿—åˆ†æ"><a href="#æ—¥å¿—åˆ†æ" class="headerlink" title="æ—¥å¿—åˆ†æ"></a>æ—¥å¿—åˆ†æ</h2><h3 id="é™¤rootä¹‹å¤–ï¼Œæ˜¯å¦è¿˜æœ‰å…¶å®ƒç‰¹æƒç”¨æˆ·-uid-ä¸º0"><a href="#é™¤rootä¹‹å¤–ï¼Œæ˜¯å¦è¿˜æœ‰å…¶å®ƒç‰¹æƒç”¨æˆ·-uid-ä¸º0" class="headerlink" title="é™¤rootä¹‹å¤–ï¼Œæ˜¯å¦è¿˜æœ‰å…¶å®ƒç‰¹æƒç”¨æˆ·(uid ä¸º0)"></a>é™¤rootä¹‹å¤–ï¼Œæ˜¯å¦è¿˜æœ‰å…¶å®ƒç‰¹æƒç”¨æˆ·(uid ä¸º0)</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">awk -F: &#39;$3&#x3D;&#x3D;0&#123;print $1&#125;&#39; &#x2F;etc&#x2F;passwdroot<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å¯ä»¥è¿œç¨‹ç™»å½•çš„å¸å·ä¿¡æ¯"><a href="#å¯ä»¥è¿œç¨‹ç™»å½•çš„å¸å·ä¿¡æ¯" class="headerlink" title="å¯ä»¥è¿œç¨‹ç™»å½•çš„å¸å·ä¿¡æ¯"></a>å¯ä»¥è¿œç¨‹ç™»å½•çš„å¸å·ä¿¡æ¯</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">awk &#39;&#x2F;\$1|\$6&#x2F;&#123;print $1&#125;&#39; &#x2F;etc&#x2F;shadowroot:$6$38cKfZDjsTiUe58V$FP.UHWMObqeUQS1Z2KRj&#x2F;4EEcOPi.6d1XmKHgK3j3GY9EGvwwBei7nUbbqJC.&#x2F;qK12HN8jFuXOfEYIKLID6hq0::0:99999:7:::<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æƒ³åˆ°çš„æ˜¯&#x2F;var&#x2F;log&#x2F;secureï¼Œè¿™ä¸ªæ—¥å¿—æ–‡ä»¶è®°å½•äº†éªŒè¯å’Œæˆæƒæ–¹é¢çš„ä¿¡æ¯ï¼Œåªè¦æ¶‰åŠè´¦å·å’Œå¯†ç çš„ç¨‹åºéƒ½ä¼šè®°å½•ä¸‹æ¥ã€‚</p><h3 id="ç¡®è®¤æ”»å‡»æƒ…å†µï¼š"><a href="#ç¡®è®¤æ”»å‡»æƒ…å†µï¼š" class="headerlink" title="ç¡®è®¤æ”»å‡»æƒ…å†µï¼š"></a>ç¡®è®¤æ”»å‡»æƒ…å†µï¼š</h3><p>1ã€ç»Ÿè®¡æ—¥å¿—ï¼Œå¤§çº¦æœ‰126254æ¬¡ç™»å½•å¤±è´¥çš„è®°å½•ï¼Œç¡®è®¤æœåŠ¡å™¨é­å—æš´åŠ›ç ´è§£</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">grep -o &quot;Failed password&quot; &#x2F;var&#x2F;log&#x2F;secure|uniq -c     126254 Failed password<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>2ã€è¾“å‡ºç™»å½•çˆ†ç ´çš„ç¬¬ä¸€è¡Œå’Œæœ€åä¸€è¡Œï¼Œç¡®è®¤çˆ†ç ´æ—¶é—´èŒƒå›´ï¼š</p><blockquote><p>grep â€œFailed passwordâ€ &#x2F;var&#x2F;log&#x2F;secure|head -1</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">Jul  8 20:14:59 localhost sshd[14323]: Failed password for invalid user qwe from 111.13.xxx.xxx port 1503 ssh2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>grep â€œFailed passwordâ€ &#x2F;var&#x2F;log&#x2F;secure|tail -1</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">Jul 10 12:37:21 localhost sshd[2654]: Failed password for root from 111.13.xxx.xxx port 13068 ssh2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3ã€å®šä½çˆ†ç ´IP</p><blockquote><p>grep â€œFailed passwordâ€ &#x2F;var&#x2F;log&#x2F;secure|grep -E -o â€œ(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)â€|uniq -c | sort -nr </p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">12622 23.91.xxx.xxx 8942 114.104.xxx.xxx 8122 111.13.xxx.xxx 7525 123.59.xxx.xxx ...................<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>4ã€çˆ†ç ´ç”¨æˆ·åå­—å…¸<br>grep â€œFailed passwordâ€ &#x2F;var&#x2F;log&#x2F;secure|perl -e â€˜while($_&#x3D;&lt;&gt;){ &#x2F;for(.*?) from&#x2F;; print â€œ$1\nâ€;}â€™|uniq -c|sort -nr</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">9402  root3265  invalid user oracle1245  invalid user admin1025  invalid user user.....................<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç®¡ç†å‘˜æœ€è¿‘ç™»å½•æƒ…å†µï¼š"><a href="#ç®¡ç†å‘˜æœ€è¿‘ç™»å½•æƒ…å†µï¼š" class="headerlink" title="ç®¡ç†å‘˜æœ€è¿‘ç™»å½•æƒ…å†µï¼š"></a>ç®¡ç†å‘˜æœ€è¿‘ç™»å½•æƒ…å†µï¼š</h3><p>1ã€ç™»å½•æˆåŠŸçš„æ—¥æœŸã€ç”¨æˆ·åã€IPï¼š</p><blockquote><p>grep â€œAccepted â€œ &#x2F;var&#x2F;log&#x2F;secure | awk â€˜{print $1,$2,$3,$9,$11}â€™ </p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">Jul 9 09:38:09 root 192.168.143.100Jul 9 14:55:51 root 192.168.143.100Jul 10 08:54:26 root 192.168.143.100............................<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡ç™»å½•æ—¥å¿—åˆ†æï¼Œå¹¶æœªå‘ç°å¼‚å¸¸ç™»å½•æ—¶é—´å’Œç™»å½•IPã€‚<br>2ã€é¡ºä¾¿ç»Ÿè®¡ä¸€ä¸‹ç™»å½•æˆåŠŸçš„IPæœ‰å“ªäº›ï¼š</p><blockquote><p>grep â€œAccepted â€œ &#x2F;var&#x2F;log&#x2F;secure | awk â€˜{print $11}â€™ | sort | uniq -c | sort -nr | more</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">27 192.168.204.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><h3 id="ç¦æ­¢å¯†ç ç™»å½•-ä½¿ç”¨å¯†é’¥ç™»å½•"><a href="#ç¦æ­¢å¯†ç ç™»å½•-ä½¿ç”¨å¯†é’¥ç™»å½•" class="headerlink" title="ç¦æ­¢å¯†ç ç™»å½•,ä½¿ç”¨å¯†é’¥ç™»å½•"></a>ç¦æ­¢å¯†ç ç™»å½•,ä½¿ç”¨å¯†é’¥ç™»å½•</h3><p>å¯†é’¥å½¢å¼ç™»å½•çš„åŸç†æ˜¯ï¼šåˆ©ç”¨å¯†é’¥ç”Ÿæˆå™¨åˆ¶ä½œä¸€å¯¹å¯†é’¥â€”â€”ä¸€åªå…¬é’¥å’Œä¸€åªç§é’¥ã€‚å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨çš„æŸä¸ªè´¦æˆ·ä¸Šï¼Œç„¶ååœ¨å®¢æˆ·ç«¯åˆ©ç”¨ç§é’¥å³å¯å®Œæˆè®¤è¯å¹¶ç™»å½•ã€‚è¿™æ ·ä¸€æ¥ï¼Œæ²¡æœ‰ç§é’¥ï¼Œä»»ä½•äººéƒ½æ— æ³•é€šè¿‡ SSH æš´åŠ›ç ´è§£ä½ çš„å¯†ç æ¥è¿œç¨‹ç™»å½•åˆ°ç³»ç»Ÿã€‚æ­¤å¤–ï¼Œå¦‚æœå°†å…¬é’¥å¤åˆ¶åˆ°å…¶ä»–è´¦æˆ·ç”šè‡³ä¸»æœºï¼Œåˆ©ç”¨ç§é’¥ä¹Ÿå¯ä»¥ç™»å½•ã€‚</p><ol><li>åœ¨æœåŠ¡å™¨ä¸Šåˆ¶ä½œå¯†é’¥å¯¹<blockquote><p>ssh-keygen  &lt;&#x3D;&#x3D; å»ºç«‹å¯†é’¥å¯¹</p></blockquote></li></ol><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">Generating public&#x2F;private rsa key pair.Enter file in which to save the key (&#x2F;root&#x2F;.ssh&#x2F;id_rsa): &lt;&#x3D;&#x3D; æŒ‰ &#96;Enter&#96;Created directory &#39;&#x2F;root&#x2F;.ssh&#39;.Enter passphrase (empty for no passphrase): &lt;&#x3D;&#x3D; è¾“å…¥å¯†é’¥é”ç ï¼Œæˆ–ç›´æ¥æŒ‰ &#96;Enter&#96; ç•™ç©ºEnter same passphrase again: &lt;&#x3D;&#x3D; å†è¾“å…¥ä¸€éå¯†é’¥é”ç ,ç›´æ¥æŒ‰ &#96;Enter&#96; ç•™ç©ºYour identification has been saved in &#x2F;root&#x2F;.ssh&#x2F;id_rsa. &lt;&#x3D;&#x3D; ç§é’¥Your public key has been saved in &#x2F;root&#x2F;.ssh&#x2F;id_rsa.pub. &lt;&#x3D;&#x3D; å…¬é’¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯†é’¥é”ç åœ¨ä½¿ç”¨ç§é’¥å¯ä»¥ä¿æŠ¤ç§é’¥ä¸è¢«ç›—ç”¨ã€‚ä¹Ÿå¯ä»¥ç•™ç©ºï¼Œå®ç°æ— å¯†ç ç™»å½•ã€‚</p><p>ç°åœ¨ï¼Œåœ¨ root ç”¨æˆ·çš„å®¶ç›®å½•ä¸­ç”Ÿæˆäº†ä¸€ä¸ª .ssh çš„éšè—ç›®å½•ï¼Œå†…å«ä¸¤ä¸ªå¯†é’¥æ–‡ä»¶ã€‚id_rsa ä¸ºç§é’¥ï¼Œid_rsa.pub ä¸ºå…¬é’¥ã€‚<br>2. åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥<br>é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…å…¬é’¥ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">cd .sshcat id_rsa.pub &gt;&gt; authorized_keys         #å¦‚æœå·²ç»æœ‰å…¬é’¥æ–‡ä»¶äº†,æ–°çš„ä¼šåŠ åˆ°æ–‡ä»¶ä¸­chmod 600 authorized_keyschmod 700 ~&#x2F;.ssh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>è®¾ç½® SSHï¼Œæ‰“å¼€å¯†é’¥ç™»å½•åŠŸèƒ½<br><code>vim /etc/ssh/sshd_config</code></li></ol><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">RSAAuthentication yesPubkeyAuthentication yesæµ‹è¯•root ç”¨æˆ·èƒ½å¦é€šè¿‡ SSH ç™»å½•ï¼šPermitRootLogin yesä»¥å¯†é’¥æ–¹å¼ç™»å½•æˆåŠŸåï¼Œå†ç¦ç”¨å¯†ç ç™»å½•ï¼šPasswordAuthentication noservice sshd restart    #é‡å¯ SSH æœåŠ¡æˆ–è€… systemctl restart sshd <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>å°†ç§é’¥ä¸‹è½½åˆ°å®¢æˆ·ç«¯ï¼Œç™»å½•æ—¶é€‰æ‹©å¯†é’¥ç™»é™†,å¹¶å¯¼å…¥ç§é’¥</li></ol><h3 id="æ”¹é»˜è®¤ç«¯å£"><a href="#æ”¹é»˜è®¤ç«¯å£" class="headerlink" title="æ”¹é»˜è®¤ç«¯å£"></a>æ”¹é»˜è®¤ç«¯å£</h3><p>é«˜çº§çš„æ”»å‡»æ–¹å¼ä¼šæ‰«æç³»ç»Ÿæ‰€æœ‰å¼€æ”¾ç«¯å£ï¼Œå¹¶å¾ˆæ–¹ä¾¿åœ°æ‰¾åˆ°ä¿®æ”¹åçš„ SSHD ç«¯å£<br>æ‰€ä»¥,æœ‰ç”¨,ä½†æ˜¯ç”¨å¤„ä¸å¤§</p><h3 id="æ‰‹åŠ¨ç¦ç”¨ç™»é™†å¤±è´¥çš„IPåœ°å€"><a href="#æ‰‹åŠ¨ç¦ç”¨ç™»é™†å¤±è´¥çš„IPåœ°å€" class="headerlink" title="æ‰‹åŠ¨ç¦ç”¨ç™»é™†å¤±è´¥çš„IPåœ°å€"></a>æ‰‹åŠ¨ç¦ç”¨ç™»é™†å¤±è´¥çš„IPåœ°å€</h3><p>æŸ¥çœ‹ç™»å½•å¤±è´¥çš„ip</p><blockquote><p>grep â€œFailed password for invalid userâ€ &#x2F;var&#x2F;log&#x2F;secure | awk â€˜{print $13}â€™ | sort | uniq -c | sort -nr<br>æˆ–è€…<br>cat &#x2F;var&#x2F;log&#x2F;secure|awk â€˜&#x2F;Failed&#x2F;{print $(NF-3)}â€™|sort|uniq -c|awk â€˜{print $2â€&#x3D;â€$1;}â€™<br>å°†ç™»é™†å¤±è´¥çš„ IP åŠ å…¥æœåŠ¡å™¨è®¿é—®é™åˆ¶åå•<br>cat &#x2F;var&#x2F;log&#x2F;secure |  grep â€œFailed password for invalid userâ€ | awk â€˜{print $13}â€™ | sort | uniq -c | sort -n | tail -10 |awk â€˜{print â€œsshd:â€$2â€:denyâ€}â€™ &gt;&gt; &#x2F;etc&#x2F;hosts.allow<br>æˆ–è€…<br>cat &#x2F;var&#x2F;log&#x2F;secure|awk â€˜&#x2F;Failed&#x2F;{print $(NF-3)}â€™|sort|uniq -c | awk â€˜$1&gt;50 {print â€œsshd:â€,$2}â€™&gt;&gt;&#x2F;etc&#x2F;hosts.deny<br>tail -20 &#x2F;etc&#x2F;hosts.allow</p></blockquote><h3 id="ä½¿ç”¨iptableså·¥å…·-è¿˜æœªéªŒè¯"><a href="#ä½¿ç”¨iptableså·¥å…·-è¿˜æœªéªŒè¯" class="headerlink" title="ä½¿ç”¨iptableså·¥å…·(è¿˜æœªéªŒè¯)"></a>ä½¿ç”¨iptableså·¥å…·(è¿˜æœªéªŒè¯)</h3><p>å¯èƒ½ä¼šç”¨åˆ°çš„å‘½ä»¤ï¼š</p><blockquote><p>iptables -I INPUT -s 221.0.0.0&#x2F;8 -j DROP å°ç¦æ•´ä¸ª221å¼€å¤´çš„ç½‘æ®µ<br>iptables -I INPUT -s 221.181.185.159 -j DROP å°ç¦æŒ‡å®šIP<br>iptables -L â€“line-numbers å±•ç¤ºiptablesç­–ç•¥åˆ—è¡¨å¹¶æ˜¾ç¤ºåºå·<br>iptables -D INPUT 1 æ ¹æ®ä¸Šä¸€æ¡æ˜¾ç¤ºçš„åºå·ï¼Œåˆ é™¤INPUTé“¾çš„ç¬¬ä¸€æ¡</p></blockquote><p>åœ¨ç³»ç»Ÿé‡å¯åï¼Œiptablesçš„ç­–ç•¥å¹¶ä¸ä¼šä¿å­˜<br>æŒä¹…åŒ–æ­¥éª¤:</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">iptables-save &gt; &#x2F;etc&#x2F;sysconfig&#x2F;iptablesä½¿ç”¨è¯¥å‘½ä»¤å°† iptables çš„é…ç½®ä¿å­˜åœ¨&#x2F;etc&#x2F;sysconfig&#x2F;iptablesä¸­åœ¨&#x2F;etc&#x2F;rc.d&#x2F;rc.localä¸­æ·»åŠ iptables-restore &lt; &#x2F;etc&#x2F;sysconfig&#x2F;iptables å³åœ¨å¼€æœºåè‡ªåŠ¨å¯¼å…¥ä¹‹å‰ä¿å­˜çš„ iptables ç­–ç•¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤§ä½¬çš„ä¸¤æ¡ç­–ç•¥</p><blockquote><p>iptables -I INPUT -p tcp â€“dport 22 -i eth0 -m state â€“state NEW -m recent â€“set<br>iptables -I INPUT -p tcp â€“dport 22 -i eth0 -m state â€“state NEW -m recent â€“update â€“seconds 60 â€“hitcount 3 -j DROP</p></blockquote><p>ç¬¬ä¸€å¥æ˜¯è¯´ï¼Œå¯¹äºå¤–æ¥æ•°æ®ï¼Œå¦‚æœæ˜¯ TCP åè®®ï¼Œç›®æ ‡ç«¯å£å·æ˜¯ 22ï¼Œç½‘ç»œæ¥å£æ˜¯eth0ï¼ŒçŠ¶æ€æ˜¯æ–°è¿æ¥,é‚£ä¹ˆæŠŠå®ƒåŠ åˆ°æœ€è¿‘åˆ—è¡¨ä¸­<br>ç¬¬äºŒå¥æ˜¯è¯´ï¼Œå¯¹äºè¿™æ ·çš„è¿æ¥ï¼Œå¦‚æœåœ¨æœ€è¿‘åˆ—è¡¨ä¸­ï¼Œå¹¶ä¸”åœ¨ 60ç§’å†…è¾¾åˆ°æˆ–è€…è¶…è¿‡å››æ¬¡ï¼Œé‚£ä¹ˆä¸¢å¼ƒè¯¥æ•°æ®ã€‚<br>å…¶ä¸­çš„-mæ˜¯æ¨¡å—çš„æ„æ€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰äººä»ä¸€ä¸ª IP ä¸€åˆ†é’Ÿå†…è¿æ¥å°è¯•å››æ¬¡sshç™»å½•çš„è¯,å°±ä¼šè¢«åŠ å…¥é»‘åå•,åç»­è¿æ¥å°†ä¼šè¢«ä¸¢å¼ƒ.</p><h2 id="finalshellè¿æ¥åä¼šè‡ªåŠ¨å‘½ä»¤"><a href="#finalshellè¿æ¥åä¼šè‡ªåŠ¨å‘½ä»¤" class="headerlink" title="finalshellè¿æ¥åä¼šè‡ªåŠ¨å‘½ä»¤"></a>finalshellè¿æ¥åä¼šè‡ªåŠ¨å‘½ä»¤</h2><p>set +o history   #éšè—å‘½ä»¤è®°å½•<br>export LANG&#x3D;â€en_USâ€;export LANGUAGE&#x3D;â€</p><p>å¼€å§‹ä»¥ä¸ºæœ‰äººçˆ†ç ´æˆåŠŸè¿æ¥ä¸Šäº†,ç»“æœæ˜¯finalshellçš„é—®é¢˜<br>å¹¶ä¸”finalshellçš„æ™ºèƒ½åŠ é€Ÿç›¸å½“äºcdn,èŠ‚ç‚¹ä¸ä¸€æ ·,ç™»é™†çš„ipå°±ä¸ä¸€æ ·,å…³æ‰å°±å¯ä»¥äº†</p><p><a href="https://www.runoob.com/w3cnote/set-ssh-login-key.html">å‚è€ƒæ–‡ç« </a><br><a href="https://bypass007.github.io/Emergency-Response-Notes/Linux/%E7%AC%AC1%E7%AF%87%EF%BC%9ASSH%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3.html">2.å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºip5306çš„ç®€æ˜“å……ç”µå®</title>
      <link href="/2022/07/23/26h-ip5306/"/>
      <url>/2022/07/23/26h-ip5306/</url>
      
        <content type="html"><![CDATA[<h2 id="ip5306èŠ¯ç‰‡ä»‹ç»"><a href="#ip5306èŠ¯ç‰‡ä»‹ç»" class="headerlink" title="ip5306èŠ¯ç‰‡ä»‹ç»"></a>ip5306èŠ¯ç‰‡ä»‹ç»</h2><p><a href="https://item.szlcsc.com/datasheet/IP5306/193089.html">IP5306 -PDFæ•°æ®æ‰‹å†Œ-å‚è€ƒèµ„æ–™-ç«‹åˆ›å•†åŸ</a><br>å…¸å‹åº”ç”¨åŸç†å›¾</p><img src="/2022/07/23/26h-ip5306/01.png" class=""><img src="/2022/07/23/26h-ip5306/01.png" class="" width="01"><p>å¼•è„šå›¾</p><img src="/2022/07/23/26h-ip5306/02.png" class=""><img src="/2022/07/23/26h-ip5306/02.png" class="" width="02"><p>æ³¨æ„:IP5306ä½¿ç”¨èŠ¯ç‰‡åº•éƒ¨ç„Šç›˜ä½œä¸ºGNDæï¼Œè¿™ä¸€ç‚¹åœ¨PCBå¸ƒçº¿æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„,å¦‚æœæ›´æ¢å‰ï¼Œæ²¡æœ‰ç»™èŠ¯ç‰‡åº•éƒ¨ç„Šç›˜åŠ é”¡çš„ï¼ŒèŠ¯ç‰‡çš„GNDæœªä¸PCBè¿æ¥ä¸Šï¼Œå¯¼è‡´èŠ¯ç‰‡ä¸Šçš„GNDæ²¡æœ‰è¿æ¥åˆ°PCBæ¿ä¸Šï¼Œ<code>å¯èƒ½</code>ä¼šå‡ºç°æµ‹åˆ°çš„è¾“å‡ºç”µå‹å¾ˆä½ï¼Œåªæœ‰2-3Vï¼Œæ²¡æœ‰äº†å‡å‹ã€‚</p><h2 id="ç”»æ¿"><a href="#ç”»æ¿" class="headerlink" title="ç”»æ¿"></a>ç”»æ¿</h2><p>æ³¨æ„:<br>1,<code>VIN</code>èµ°çº¿åŠ ç²—<code>50MIL</code>ä»¥ä¸Š,<code>ç”µå®¹é èŠ¯æ‘†æ”¾</code><br>2,8è„š<code>VOUT</code>èµ°çº¿åŠ ç²—<code>50MIL</code>ä»¥ä¸Š,<code>ç”µå®¹é èŠ¯æ‘†æ”¾,ä¸ç„¶çƒ§èŠ¯ç‰‡</code>,åˆ‡è®°!<br>3,7è„šåˆ°<code>ç”µæ„Ÿ</code>èµ°çº¿åŠ ç²—<code>80MIL</code>ä»¥ä¸Š,<code>ç”µæ„Ÿåˆ°ç”µæ± ç«¯åŠ ç²—80MIL</code><br>4,6è„šç»ç”µå®¹å†åˆ°èŠ¯ç‰‡,ä»<code>ç”µæ± ç„Šç‚¹ç«¯èµ°çº¿ä¸è¦è·Ÿç”µæ„Ÿå¹¶çº¿</code>,10MILå·¦å³å³å¯<br>5,<code>èŠ¯ç‰‡åº•éƒ¨</code>å¦‚æœæ˜¯æ‰‹ç„Š<code>å¤šæ‰“äº›è¿‡å­”</code>,èƒ½æ‰“å¤šå¤§æ‰“å¤šå¤§,å¦‚æœæ˜¯ç”Ÿäº§è¦æ³¨æ„æ¼é”¡é€ æˆå‡ç„Š<br>6,ç”µæ„Ÿè¦å¤§åŠŸç‡ç”µæ„Ÿ,1uH&#x2F;6Aä»¥ä¸Šé¥±å’Œç”µæµ</p><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><p>1.å……æ”¾ç”µèŠ¯ç‰‡è¿‡çƒ­,æµ‹é‡è¿‡è¾“å…¥è¾“å‡ºç”µå‹,å‡ä¸º5.1v<br>2.ç¯æ­£å¸¸äº®,æ— æ³•å……æ”¾ç”µ-&gt;èŠ¯ç‰‡å¼•è„šè¿é”¡<br>3.å‘å…‰äºŒæç®¡å¦‚ä½•åˆ¤æ–­æ­£è´Ÿ<br>æ­£é¢:ç»¿è‰²é‚£è§’ä¸ºè´Ÿ<br>åé¢:ä¸‰è§’å½¢å°–å¯¹ç€é‚£è¾¹ä¸ºè´Ÿ</p><img src="/2022/07/23/26h-ip5306/06.png" class="" title="This is an test image"><img src="/2022/07/23/26h-ip5306/07.jpg" class="" title="This is an test image"><img src="/2022/07/23/26h-ip5306/06.png" class="" width="06"><img src="/2022/07/23/26h-ip5306/07.jpg" class="" width="07"><p><img src="https://pic4.zhimg.com/80/v2-26cb0b049367006c0ea1ca767f8e634f_1440w.webp" alt="img"></p><p><img src="https://pic4.zhimg.com/80/v2-2f46b3db84ad092171dc72a8783ecb83_1440w.webp" alt="img"></p><p>4.æ­£æ–¹å½¢æˆ–è€…é•¿æ–¹å½¢çš„è´´ç‰‡å‘å…‰äºŒæç®¡ä¸­æœ‰ä¸€ä¸ªç¼ºè§’ï¼Œç¼ºè§’çš„é‚£ç«¯æ˜¯æ­£æ<br>5.ç”¨ä¸‡ç”¨è¡¨çš„äºŒæç®¡æ¡£è¿›è¡Œæµ‹é‡ï¼Œæ˜¾ç¤ºå‹é™å°±ä»£è¡¨å‘å…‰äºŒæç®¡å¯¼é€šï¼Œçº¢è¡¨ç¬”å¯¹åº”äºŒæç®¡çš„æ­£æ<code>æˆ–è€…</code>ç”¨ä¸‡ç”¨è¡¨çš„200kç”µé˜»æ¡£ï¼Œå¦‚æœæœ‰è¯»æ•°ï¼Œé‚£ä¹ˆçº¢è¡¨ç¬”å°±æ˜¯äºŒæç®¡çš„æ­£æ</p><p>å…¶ä»–äººé‡åˆ°çš„é—®é¢˜,æˆ‘æš‚æ—¶è¿˜æœªå‡ºç°</p><h3 id="å¼€æœºåŠåˆ†é’Ÿè‡ªåŠ¨ä¼‘çœ "><a href="#å¼€æœºåŠåˆ†é’Ÿè‡ªåŠ¨ä¼‘çœ " class="headerlink" title="å¼€æœºåŠåˆ†é’Ÿè‡ªåŠ¨ä¼‘çœ "></a>å¼€æœºåŠåˆ†é’Ÿè‡ªåŠ¨ä¼‘çœ </h3><blockquote><p>å®˜æ–¹æ‰‹å†Œä¸­æåˆ°ï¼Œè´Ÿè½½è‡ªåŠ¨æ£€æµ‹æ—¶é—´ TloadD è´Ÿè½½ç”µæµæŒç»­å°äº 45mA 32 sæ—¶ï¼ŒèŠ¯ç‰‡ä¼šè‡ªåŠ¨è¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚ä½†å®é™…åº”ç”¨ä¸­ï¼Œæ­¤èŠ¯ç‰‡ä¸ªä½“å·®å¼‚å¾ˆå¤§ï¼Œæœ‰éƒ¨åˆ†èŠ¯ç‰‡è´Ÿè½½ç”µæµéœ€è¦è¾¾åˆ°70mAä»¥ä¸Šæ‰ä¸ä¼šè‡ªåŠ¨ä¼‘çœ ï¼Œå¯¹è¯•äº§é˜¶æ®µçš„äº§å“å¾ˆä¸å‹å¥½ã€‚<br>è§£å†³æ–¹æ³•ï¼š<br>1.åœ¨å¼€æœºæ—¶ï¼Œå¯¹5è„šKEYè¾“å…¥50msçš„è„‰å†²ï¼Œå‘¨æœŸå°äº30Sï¼›<br>2.åœ¨èŠ¯ç‰‡è¾“å‡ºç«¯æ¥å…¥é˜»å€¼è¾ƒå°çš„ç”µé˜»ï¼ˆå¤§å°æ ¹æ®å®é™…éœ€è¦çš„ç”µæµç¡®å®šï¼‰ï¼Œä½¿ç³»ç»Ÿæ­£å¸¸å·¥ä½œæ—¶ç”µæµè¶³å¤Ÿå¤§ã€‚</p></blockquote><h3 id="ä¸æ–­å…³æœºé‡å¯"><a href="#ä¸æ–­å…³æœºé‡å¯" class="headerlink" title="ä¸æ–­å…³æœºé‡å¯"></a>ä¸æ–­å…³æœºé‡å¯</h3><blockquote><p>èŠ¯ç‰‡ä¸æ–­å…³æœºé‡å¯å¾ˆå¯èƒ½æ˜¯èŠ¯ç‰‡æ£€æµ‹åˆ°è¿‡æµæˆ–è€…çŸ­è·¯å¼•èµ·çš„ï¼›æˆ‘æ›¾åœ¨IP5306è¾“å‡ºç«¯æ¥è¿‡PMOSä»¥å®ç°åç«¯çš„ç”µæºå¼€å…³ï¼Œæ¯æ¬¡å¼€å¯PMOSæ—¶ï¼Œç³»ç»Ÿå°±ä¼šä¸æ–­åœ°å…³æœºé‡å¯ï¼›ç”¨ç¤ºæ³¢å™¨æŠ“èŠ¯ç‰‡è¾“å‡ºç”µå‹å¹¶æ²¡æœ‰æŒç»­çš„ä½ç”µå‹å‡ºç°ï¼Œåæ¥ä»¥ä¸ºæ˜¯PMOSåç«¯çš„å¤§ç”µå®¹å……ç”µè§¦å‘äº†çŸ­è·¯æ£€æµ‹ï¼Œä½†æ˜¯æ‹†æ‰ç”µå®¹åæƒ…å†µä¾æ—§ã€‚<br>å®˜æ–¹æ‰‹å†Œè¿‡æµåŠçŸ­è·¯æ£€æµ‹è¯´æ˜ï¼š<br>è´Ÿè½½è¿‡æµæ£€æµ‹æ—¶é—´ TUVD è¾“å‡ºç”µå‹æŒç»­ä½äº 4.4V 50 msï¼›<br>è´Ÿè½½çŸ­è·¯æ£€æµ‹æ—¶é—´ TOCD è¾“å‡ºç”µæµæŒç»­å¤§äº 4A 150 200 usã€‚<br>è§£å†³æ–¹æ³•ï¼š<br>åœ¨PMOSæ …æåŠ äº†ä¸€ä¸ª100Kå’Œ100nFçš„ç”µå®¹ï¼Œä½¿PMOSå¼€å¯éœ€è¦çš„æ—¶é—´å˜é•¿ï¼Œæ³¨æ„è¾“å‡ºåç«¯å¤§ç”µå®¹ï¼›</p></blockquote><h3 id="èŠ¯ç‰‡çƒ§æ¯"><a href="#èŠ¯ç‰‡çƒ§æ¯" class="headerlink" title="èŠ¯ç‰‡çƒ§æ¯"></a>èŠ¯ç‰‡çƒ§æ¯</h3><blockquote><p>èŠ¯ç‰‡æåˆ°å¯ä»¥æä¾›å¤šç§å……æ”¾ç”µé˜²æŠ¤ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥æŒ‰ç…§æ‰‹å†ŒæŠŠæ²¡æœ‰ä¿æŠ¤æ¿çš„ç”µæ± æ¥åˆ°äº†IP5306çš„ç”µæ± è„šï¼Œåæ¥ç»å¸¸å‡ºç°æœºå™¨ç”¨äº†å‡ å‘¨åèŠ¯ç‰‡çƒ§æ¯çš„æƒ…å†µï¼ŒèŠ¯ç‰‡æ‰€æœ‰ç®¡è„šå¯¹åœ°éƒ½å‡ºç°ä½é˜»çŠ¶æ€ï¼Œç”µæ± æŒç»­æ”¾ç”µã€å‘çƒ­å¯¼è‡´èŠ¯ç‰‡çƒ§æ¯ï¼Œç”µæ± æŸåã€‚<br>å®˜æ–¹æ‰‹å†Œå¤šé‡ä¿æŠ¤è¯´æ˜ï¼š<br>è¾“å‡ºè¿‡æµã€è¿‡å‹ã€çŸ­è·¯ä¿æŠ¤ï¼›<br>è¾“å…¥è¿‡å‹ã€è¿‡å……ã€è¿‡æ”¾ã€è¿‡æµæ”¾ç”µä¿æŠ¤ï¼›<br>æ•´æœºè¿‡æ¸©ä¿æŠ¤ï¼›<br>ESD 4KVï¼Œç¬é—´è€å‹ 12Vã€‚<br>è§£å†³æ–¹æ³•ï¼šç”µæ± å¢åŠ ä¿æŠ¤æ¿ï¼Œé˜²æ­¢è¿‡å†²è¿‡æ”¾ï¼Œå¯ä»¥æœ‰æ•ˆé˜²æ­¢èŠ¯ç‰‡çƒ§æ¯ã€‚</p></blockquote><h2 id="è®°å½•"><a href="#è®°å½•" class="headerlink" title="è®°å½•"></a>è®°å½•</h2><p>è™½ç„¶ä¸å¤ªå¥½çœ‹,ä¹Ÿæœ‰å¾ˆå¤šçš„é—®é¢˜,ä½†è¿˜æ˜¯è¦è®°å½•ä¸€ä¸‹</p><img src="/2022/07/23/26h-ip5306/03.png" class="" title="This is an test image"><img src="/2022/07/23/26h-ip5306/03.png" class="" width="03"><img src="/2022/07/23/26h-ip5306/04.png" class="" title="å‚è€ƒå¤§ä½¬å¼€æºçš„å¸¦ç¯çš„"><img src="/2022/07/23/26h-ip5306/04.png" class="" width="04"><img src="/2022/07/23/26h-ip5306/05.jpg" class="" width="05"><img src="/2022/07/23/26h-ip5306/05.jpg" class="" title="è«å¾—æ´—æ¿æ°´,ä¸ç„¶åº”è¯¥ä¼šå¹²å‡€ä¸€äº›"><h2 id="å¾…è§£å†³-å‘çƒ­é—®é¢˜"><a href="#å¾…è§£å†³-å‘çƒ­é—®é¢˜" class="headerlink" title="å¾…è§£å†³:å‘çƒ­é—®é¢˜"></a>å¾…è§£å†³:å‘çƒ­é—®é¢˜</h2><p><a href="https://oshwhub.com/wzw666/IP5306">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/weixin_43164032/article/details/116158088?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165857800016781790778976%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=165857800016781790778976&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~pc_rank_34-1-116158088-null-null.142%5Ev33%5Epc_rank_34,185%5Ev2%5Econtrol&utm_term=ip5306%E5%85%85%E7%94%B5%E6%97%B6%E5%8F%91%E7%83%AD%E6%AD%A3%E5%B8%B8%E5%90%97&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« </a><br><a href="https://www.elecfans.com/d/1776755.html">3å‚è€ƒæ–‡ç« </a></p><h2 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h2><p>2025&#x2F;1&#x2F;17</p><p>ã€[å¼€æº]DIYä¸€ä¸ªè¶…è¿·ä½ ã€ç®€æ˜“ã€äº®ççœ¼çš„å……ç”µå®ï¼Œ18650ç”µæ± å……ç”µå™¨ã€‚ã€‘<a href="https://www.bilibili.com/video/BV1Zg411V7rZ?vd_source=f525a47bd6d8cb5b154158289da1d4d4">https://www.bilibili.com/video/BV1Zg411V7rZ?vd_source=f525a47bd6d8cb5b154158289da1d4d4</a></p><h3 id="AP3032KTR-G1"><a href="#AP3032KTR-G1" class="headerlink" title="AP3032KTR-G1"></a>AP3032KTR-G1</h3><p><strong>ç”µæ„Ÿåœ¨èŠ¯ç‰‡</strong>ç”µè·¯ä¸­çš„ä¸»è¦<strong>ä½œç”¨</strong>æ˜¯é™åˆ¶ç”µæµå˜åŒ–é€Ÿåº¦ï¼Œä½¿å¾—ç”µè·¯ä¸­ç”µèƒ½èƒ½å¤Ÿç¨³å®šåœ°ä¼ è¾“ã€‚</p><p>BOOSTç”µè·¯ï¼Œå‚¨èƒ½å‡å‹</p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç”µæºèŠ¯ç‰‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Nginxä¸ºæœåŠ¡å™¨ç»‘å®šå¤šä¸ªåŸŸå</title>
      <link href="/2022/07/21/25l-nginx-domain-name/"/>
      <url>/2022/07/21/25l-nginx-domain-name/</url>
      
        <content type="html"><![CDATA[<p>Nginxç»‘å®šå¤šä¸ªåŸŸåï¼Œå¯é€šè¿‡æŠŠå¤šä¸ªåŸŸåè§„åˆ™å†™ä¸€ä¸ªé…ç½®æ–‡ä»¶é‡Œå®ç°ï¼Œä¹Ÿå¯é€šè¿‡åˆ†åˆ«å»ºç«‹å¤šä¸ªåŸŸåé…ç½®æ–‡ä»¶å®ç°ï¼Œä¸ºäº†ç®¡ç†æ–¹ä¾¿ï¼Œå»ºè®®æ¯ä¸ªåŸŸåå»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæœ‰äº›åŒç±»åŸŸååˆ™å¯å†™åœ¨ä¸€ä¸ªæ€»çš„é…ç½®æ–‡ä»¶é‡Œ</p><h2 id="ä¸€ä¸ªåŸŸåå»ºç«‹ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶"><a href="#ä¸€ä¸ªåŸŸåå»ºç«‹ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸€ä¸ªåŸŸåå»ºç«‹ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶"></a>ä¸€ä¸ªåŸŸåå»ºç«‹ä¸€ä¸ªå•ç‹¬çš„é…ç½®æ–‡ä»¶</h2><p>è¿›å…¥NginxæœåŠ¡çš„é…ç½®æ–‡ä»¶ç›®å½•</p><blockquote><p>mkdir &#x2F;etc&#x2F;nginx&#x2F;vhost<br>cd &#x2F;etc&#x2F;nginx&#x2F;vhost</p></blockquote><h3 id="åˆ›å»ºåŸŸåè§„åˆ™é…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºåŸŸåè§„åˆ™é…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºåŸŸåè§„åˆ™é…ç½®æ–‡ä»¶"></a>åˆ›å»ºåŸŸåè§„åˆ™é…ç½®æ–‡ä»¶</h3><blockquote><p>vi åŸŸå.conf     ä¾‹:vi <a href="http://www.npnpnp.com.conf/">www.npnpnp.com.conf</a></p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">server &#123;  listen 80;                           #ç›‘å¬ç«¯å£è®¾ä¸º80ã€‚  server_name www.testa.com; #ç»‘å®šæ‚¨çš„åŸŸåã€‚  root &#x2F;home&#x2F;website&#x2F;testa;            #æŒ‡å®šç½‘ç«™æ ¹ç›®å½•ã€‚  location &#x2F; &#123;    index index.html index.htm index.php;#æŒ‡å®šé»˜è®¤æ–‡ä»¶ã€‚  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">vi åŸŸå.confserver &#123;  listen 80;  server_name www.testb.com;  root &#x2F;home&#x2F;website&#x2F;testb;  location &#x2F; &#123;    index index.html index.htm index.php;  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®å®Œæˆåå°±å¯ä»¥pingé€šäº†</p><h3 id="é™æ€é¡µé¢htmlé…ç½®è·¯å¾„"><a href="#é™æ€é¡µé¢htmlé…ç½®è·¯å¾„" class="headerlink" title="é™æ€é¡µé¢htmlé…ç½®è·¯å¾„"></a>é™æ€é¡µé¢htmlé…ç½®è·¯å¾„</h3><p>testa â€“&gt; &#x2F;home&#x2F;website&#x2F;testa<br>testb â€“&gt; &#x2F;home&#x2F;website&#x2F;testb</p><blockquote><p>mkdir -p &#x2F;home&#x2F;website&#x2F;testa       #-pæ˜¯å¦‚æœä¸€çº§æˆ–äºŒçº§æ–‡ä»¶å¤¹ä¸å­˜åœ¨çš„è¯å°±ç”Ÿæˆä¸€ä¸ª<br>mkdir -p &#x2F;home&#x2F;website&#x2F;testb</p></blockquote><p>å°†ç½‘ç«™çš„æºç æ”¾è¿›å»å°±å¯ä»¥äº†(æ”¾å…¥è§£å‹ç¼©åæ–‡ä»¶å¤¹é‡Œé¢çš„å…·ä½“æ–‡ä»¶)</p><h3 id="ä¿®æ”¹nginxé…ç½®"><a href="#ä¿®æ”¹nginxé…ç½®" class="headerlink" title="ä¿®æ”¹nginxé…ç½®"></a>ä¿®æ”¹nginxé…ç½®</h3><p>åœ¨nginxçš„ä¸»é…ç½®æ–‡ä»¶é‡Œï¼Œè®¾ç½®åŒ…å«è¿™ä¸¤ä¸ªç«™ç‚¹çš„é…ç½®æ–‡ä»¶(é»˜è®¤åŠ è½½3ä¸ªconfæ–‡ä»¶)<br>vi &#x2F;etc&#x2F;nginx&#x2F;nginx.conf</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">...http &#123;  ...  # Load modular configuration files from the &#x2F;etc&#x2F;nginx&#x2F;conf.d directory.  # See http:&#x2F;&#x2F;nginx.org&#x2F;en&#x2F;docs&#x2F;ngx_core_module.html#include  # for more information.  # include &#x2F;etc&#x2F;nginx&#x2F;conf.d&#x2F;*.conf;  # åŠ ä¸Šè·¯å¾„  include &#x2F;etc&#x2F;nginx&#x2F;vhost&#x2F;*.conf;     #è¿™ä¸ªvhostæ–‡ä»¶å¤¹æ˜¯æŒ‡ä½ åœ¨nginxä¸‹åˆ›å»ºçš„æ”¾ç½®åŸŸå&#96;.conf&#96;çš„æ–‡ä»¶å¤¹(æˆ‘ä¹‹å‰ç›´æ¥æ”¾åœ¨conf.dæ–‡ä»¶å¤¹ä¸‹äº†)  ...&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡æ–°åŠ è½½nginxé…ç½®</p><blockquote><p>nginx -s reload<br>service nginx restart</p></blockquote><h2 id="å¤šä¸ªåŸŸåä¸€ä¸ªé…ç½®æ–‡ä»¶"><a href="#å¤šä¸ªåŸŸåä¸€ä¸ªé…ç½®æ–‡ä»¶" class="headerlink" title="å¤šä¸ªåŸŸåä¸€ä¸ªé…ç½®æ–‡ä»¶"></a>å¤šä¸ªåŸŸåä¸€ä¸ªé…ç½®æ–‡ä»¶</h2><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">server &#123;  listen 80;                           #ç›‘å¬ç«¯å£è®¾ä¸º80ã€‚  server_name www.testa.com; #ç»‘å®šæ‚¨çš„åŸŸåã€‚  root &#x2F;home&#x2F;website&#x2F;testa;            #æŒ‡å®šç½‘ç«™æ ¹ç›®å½•ã€‚  location &#x2F; &#123;    index index.html index.htm index.php;#æŒ‡å®šé»˜è®¤æ–‡ä»¶ã€‚  &#125;&#125;server &#123;  listen 80;  server_name www.testb.com;  root &#x2F;home&#x2F;website&#x2F;testb;  location &#x2F; &#123;    index index.html index.htm index.php;  &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/caojengineer/article/details/104528455?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165838746916782248560542%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=165838746916782248560542&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~hot_rank-15-104528455-null-null.142%5Ev33%5Epc_rank_34,185%5Ev2%5Econtrol&utm_term=nginx%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AA%E5%9F%9F%E5%90%8D&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/weixin_36331058/article/details/119558435?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165838746916782248560542%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=165838746916782248560542&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~hot_rank-17-119558435-null-null.142%5Ev33%5Epc_rank_34,185%5Ev2%5Econtrol&utm_term=nginx%E5%A6%82%E4%BD%95%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AA%E5%9F%9F%E5%90%8D&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢æ— æ³•æ˜¾ç¤ºå›¾ç‰‡</title>
      <link href="/2022/07/21/24l-hexo-image/"/>
      <url>/2022/07/21/24l-hexo-image/</url>
      
        <content type="html"><![CDATA[<h2 id="è§£å†³é—®é¢˜"><a href="#è§£å†³é—®é¢˜" class="headerlink" title="è§£å†³é—®é¢˜"></a>è§£å†³é—®é¢˜</h2><p>ç‰ˆæœ¬ï¼šHexo 3ä»¥ä¸Š<br>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://hexo.io/zh-cn/docs(%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E6%9C%89%E8%AE%B2%E5%A6%82%E4%BD%95%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87)">https://hexo.io/zh-cn/docs(å®˜æ–¹æ–‡æ¡£æœ‰è®²å¦‚ä½•æ’å…¥å›¾ç‰‡)</a></p><blockquote><p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ï¼š<br>ã€€ã€€&gt;1. å°†æ ¹ç›®å½•ä¸‹é…ç½®æ–‡ä»¶<code>_config.yml</code> ä¸­æœ‰<code>post_asset_folder:false</code>æ”¹ä¸ºtrueã€‚<br>å»ºç«‹æ–°æ–‡ç« æ—¶,Hexoä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªä¸æ–‡ç« åŒåçš„æ–‡ä»¶å¤¹ï¼Œå°†å›¾ç‰‡æ”¾åˆ°è¯¥æ–‡ä»¶å¤¹å°±å¯ä»¥äº†<br>ã€€ã€€&gt;2. git bashå®‰è£…æ’ä»¶ï¼š<code>npm install https://github.com/7ym0n/hexo-asset-image --save</code>ï¼ˆè¿™æ˜¯ä¸ªä¿®æ”¹è¿‡çš„æ’ä»¶ï¼Œç»æµ‹è¯•æ— é—®é¢˜ï¼‰ï¼Œä½¿ç”¨è¿™ä¸ªæ’ä»¶æ¥å¼•å…¥å›¾ç‰‡ï¼Œè€Œä¸æ˜¯ç½‘ä¸Šé‚£äº›æ–¹æ³•é‡Œè¯´çš„ç”¨ä¼ ç»Ÿmdè¯­æ³•ç›¸å¯¹è·¯å¾„çš„æ–¹æ³•ã€‚<br>ã€€ã€€&gt;3. æ’å…¥å›¾ç‰‡æ—¶ç”¨è¿™ç§æ–¹å¼ï¼š<br><code>&#123;% asset_img test.jpg This is an test image %&#125;</code><br>ã€€ã€€ã€€&gt;å…¶ä¸­test.jpgå°±æ˜¯ä½ è¦å¼•ç”¨çš„å›¾ç‰‡ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯test.jpgï¼Œåé¢çš„This is an test imageæ˜¯å›¾ç‰‡æè¿°ï¼Œå¯ä»¥è‡ªå·±ä¿®æ”¹ã€‚<br>ã€€ã€€&gt;4. è¿™æ ·å°±èƒ½æˆåŠŸæ˜¾ç¤ºäº†ï¼Œæµ‹è¯•ä¸‹ï¼šhexo cl &amp;&amp; hexo g &amp;&amp; hexo d</p></blockquote><h2 id="å›¾ç‰‡å‹ç¼©"><a href="#å›¾ç‰‡å‹ç¼©" class="headerlink" title="å›¾ç‰‡å‹ç¼©"></a>å›¾ç‰‡å‹ç¼©</h2><p>å›¾ç‰‡è¿‡å¤§å¯èƒ½ä¼šæ‹–æ…¢ç½‘ç«™çš„åŠ è½½é€Ÿåº¦,å¯ä»¥ä½¿ç”¨å·¥å…·å‹ç¼©å›¾ç‰‡<br><a href="https://tinypng.com/">tinypng</a><br>ä¸€ä¸ªåœ¨çº¿å‹ç¼©çš„ç½‘ç«™ã€‚ å‹ç¼©åçš„å›¾ç‰‡ä¹Ÿä¿ç•™äº†å¾ˆé«˜çš„è´¨é‡ï¼Œåœ¨çŸ¥ä¹ä¸Šå¾ˆå¤šäººæ¨èï¼Œä¸è¿‡å…è´¹ç‰ˆæœ‰é™åˆ¶ã€‚(ä¸ªäººæ¯”è¾ƒå¸¸ç”¨è¿™ä¸ª)</p><img src="/2022/07/21/24l-hexo-image/01.png" class="" title="This is an test image"><p><a href="https://saerasoft.com/caesium/">caesium</a><br>å¼€æºè½¯ä»¶ï¼Œæ”¯æŒWindowså’ŒmacOSã€‚ å¯ä»¥æ‰¹é‡å‹ç¼©è½¯ä»¶ï¼Œæ— é™åˆ¶ã€‚</p><img src="/2022/07/21/24l-hexo-image/02.png" class="" title="This is an test image"><p><a href="https://github.com/marketplace/imgbot">imgbot</a></p><img src="/2022/07/21/24l-hexo-image/03.png" class="" title="This is an test image"><p>imgbot æ˜¯ä¸€æ¬¾ Github æ’ä»¶ã€‚<br>å®‰è£…åï¼Œä½ ä¸Šä¼ å›¾ç‰‡åˆ° Github å»ï¼Œimgbot ä¼šè‡ªåŠ¨å‹ç¼©å›¾ç‰‡å¹¶æ¨é€ PRï¼Œæˆ‘ä»¬åªéœ€è¦åˆå¹¶ PR å°±è¡Œ<br>ä½ å¯ä»¥é…ç½® imgbot çš„ä¾¦æµ‹æ–¹æ³•ã€å‹ç¼©æ–¹æ³•ï¼ˆæœ‰æŸ&#x2F;æ— æŸï¼‰ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹æ’ä»¶çš„æ–‡æ¡£</p><p><a href="http://t.zoukankan.com/Jesee-p-11234387.html">1å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ©ç”¨å®å¡”é¢æ¿æ­å»ºhexo</title>
      <link href="/2022/07/20/23l-bt-entablish-hexo/"/>
      <url>/2022/07/20/23l-bt-entablish-hexo/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šæ¬¡æ­å»ºå®Œhexoåšå®¢ä¹‹å,æƒ³ç”¨å®å¡”é¢æ¿åœ¨æœåŠ¡å™¨ä¸Šæ­å»ºåˆ«çš„ç½‘ç«™,ç»“æœæ‰€æœ‰çš„åŸŸåæ˜¾ç¤ºçš„éƒ½æ˜¯åŒä¸€ä¸ªå†…å®¹,æŸ¥äº†ä¸€ä¸‹å‘ç°æ˜¯æ²¡æœ‰æ›´æ”¹nginxçš„åŸå› ,é‡æ–°ç”¨å®å¡”é¢æ¿æ­å»º,æ–¹é¢ç®¡ç†</p><h2 id="å®‰è£…gitåŠgité…ç½®"><a href="#å®‰è£…gitåŠgité…ç½®" class="headerlink" title="å®‰è£…gitåŠgité…ç½®"></a>å®‰è£…gitåŠgité…ç½®</h2><blockquote><p>yum install git</p></blockquote><h3 id="å®‰è£…gitæ—¶å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜"><a href="#å®‰è£…gitæ—¶å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜" class="headerlink" title="å®‰è£…gitæ—¶å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜"></a>å®‰è£…gitæ—¶å¯èƒ½ä¼šå‡ºç°çš„é—®é¢˜</h3><p>1.openssl&#x2F;ssl.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</p><blockquote><p>åŸå› :ç¼ºå°‘opensslä¾èµ–åº“ï¼Œä½†æˆ‘æ— æ³•è·å¾—è¿™äº›åº“</p></blockquote><blockquote><p>è§£å†³:<br>centosä½¿ç”¨yumå®‰è£…ï¼š<br>yum install curl-devel expat-devel gettext-devel <br>  openssl-devel zlib-devel<br>Debian,Ubuntuä½¿ç”¨aptå®‰è£…ï¼š<br>apt-get install libcurl4-gnutls-dev libexpat1-dev gettext <br>  libz-dev libssl-dev</p></blockquote><p>2.&#x2F;bin&#x2F;sh: cc: æœªæ‰¾åˆ°å‘½ä»¤</p><blockquote><p>yum -y install gcc automake autoconf libtool make </p></blockquote><h3 id="é…ç½®gitä»“åº“"><a href="#é…ç½®gitä»“åº“" class="headerlink" title="é…ç½®gitä»“åº“"></a>é…ç½®gitä»“åº“</h3><p>åœ¨rootç”¨æˆ·ä¸‹è¾“å…¥</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">useradd git    # åˆ›å»ºç”¨æˆ·gitpasswd git     # ä¸ºç”¨æˆ·gitè®¾ç½®å¯†ç chmod 740 &#x2F;etc&#x2F;sudoers     # ä¿®æ”¹æ–‡ä»¶æƒé™vim &#x2F;etc&#x2F;sudoers # æ‰¾åˆ°           root ALL&#x3D;(ALL)  ALL # åœ¨ä¸‹é¢æ·»åŠ ä¸€è¡Œ  git  ALL&#x3D;(ALL)  ALL # è¾“å…¥:wqå³å¯ä¿å­˜å¹¶é€€å‡ºç¼–è¾‘chmod 400 &#x2F;etc&#x2F;sudoers<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ‡æ¢gitç”¨æˆ·</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">su git   # åˆ‡æ¢åˆ°gitç”¨æˆ·,è¿™æ­¥æœ€å…³é”®sudo mkdir  -p  &#x2F;www&#x2F;wwwroot&#x2F;blog  # æŠŠåšå®¢ç›®å½•æ”¾åœ¨å®å¡”ç½‘ç«™çš„æ ¹ç›®å½•ä¸‹cd &#x2F;home&#x2F;gitmkdir reposcd reposgit init --bare blog.git  # åˆ›å»ºä¸€ä¸ªè£¸åº“blog.gitcd blog.git&#x2F;hooks<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>vim post-receive</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">#!&#x2F;bin&#x2F;shgit --work-tree&#x3D;&#x2F;www&#x2F;wwwroot&#x2F;blog --git-dir&#x3D;&#x2F;home&#x2F;git&#x2F;repos&#x2F;blog.git checkout -f<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¿®æ”¹æƒé™</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">chmod +x post-receiveexit                           #å›åˆ°rootç”¨æˆ·         chown -R git:git &#x2F;home&#x2F;git&#x2F;repos&#x2F;blog.git #èµ‹äºˆgitç”¨æˆ·å¯æ“ä½œä»“åº“blog.gitçš„æƒé™chown -R git:git &#x2F;www&#x2F;wwwroot&#x2F;blog        #èµ‹äºˆgitç”¨æˆ·å¯æ“ä½œä»“åº“blog.gitçš„æƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å…å¯†ç™»å½•é…ç½®"><a href="#å…å¯†ç™»å½•é…ç½®" class="headerlink" title="å…å¯†ç™»å½•é…ç½®"></a>å…å¯†ç™»å½•é…ç½®</h2><p>ä¹‹å‰é…ç½®è¿‡ï¼Œåªè¦å¤åˆ¶å…¬é’¥åˆ°æœåŠ¡å™¨äº†å°±å¯ä»¥äº†ã€‚<br>æœ¬åœ°ç»ˆç«¯åˆ›å»º ssh key</p><blockquote><p>ssh-keygen -t rsa -C â€œ<a href="mailto:&#x79;&#x6f;&#117;&#114;&#x5f;&#x65;&#x6d;&#97;&#105;&#x6c;&#x40;&#x79;&#x6f;&#117;&#x72;&#x65;&#109;&#97;&#105;&#x6c;&#46;&#99;&#111;&#109;">your_email@youremail.com</a>â€œ</p></blockquote><p>å°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨authorized_keysæ–‡ä»¶ä¸­<br>gitç”¨æˆ·ä¸‹è¾“å…¥</p><blockquote><p>mkdir ~&#x2F;.ssh<br>vim ~&#x2F;.ssh&#x2F;authorized_keys        #å¤åˆ¶è¿‡æ¥å°±å¯ä»¥äº†</p></blockquote><hr><p>ä»¥ä¸Šè¿™éƒ¨åˆ†è·Ÿä¹‹å‰åœ¨æœåŠ¡å™¨ä¸Šç›´æ¥é…ç½®æ˜¯ä¸€æ ·çš„</p><h2 id="å®‰è£…å®å¡”é¢æ¿"><a href="#å®‰è£…å®å¡”é¢æ¿" class="headerlink" title="å®‰è£…å®å¡”é¢æ¿"></a>å®‰è£…å®å¡”é¢æ¿</h2><blockquote><p>yum install -y wget &amp;&amp; wget -O install.sh <a href="http://download.bt.cn/install/install_6.0.sh">http://download.bt.cn/install/install_6.0.sh</a> &amp;&amp; sh install.sh</p></blockquote><p>æ­£å¸¸å®‰è£…nginx,phpç­‰,æ·»åŠ ç«™ç‚¹æ—¶å°†æ ¹ç›®å½•æ”¹æˆ&#x2F;www&#x2F;wwwroot&#x2F;blog(è¿™é‡Œæ³¨æ„ç›®å½•ä¸èƒ½å»ºåœ¨æ ¹ç›®å½•ä¸‹å’Œæ ¹ç›®å½•å“å¾—å…¶ä»–ç›®å½•é‡Œ,æš‚æ—¶è¿˜ä¸çŸ¥é“ä¸ºä»€ä¹ˆ,å°±æ˜¯å¦‚æœè¿™æ ·æ”¹çš„è¯,é¢æ¿ä¼šæŠ¥é”™,ä¼šå‘Šè¯‰ä½ ä¸èƒ½æ”¾åœ¨å“ªäº›ç›®å½•,é€šå¸¸ç½‘ç«™éƒ½æ”¾åœ¨&#x2F;www&#x2F;wwwrootç›®å½•ä¸‹)<br><img src="http://212.90.123.174:7788/i/2022/07/20/62d80586764ef.jpg" alt="01.jpg"></p><h2 id="æœ¬åœ°hexoé…ç½®"><a href="#æœ¬åœ°hexoé…ç½®" class="headerlink" title="æœ¬åœ°hexoé…ç½®"></a>æœ¬åœ°hexoé…ç½®</h2><img src="/2022/07/20/23l-bt-entablish-hexo/02.jpg" class="" title="This is an test image"><p>ä¸‹é¢è¿™ä¸¤å¼ å›¾ç‰‡ä»…ä¾›å‚è€ƒ,æ˜¯ä»å…¶ä»–æ–‡ç« å¤åˆ¶è¿‡æ¥çš„</p><img src="/2022/07/20/23l-bt-entablish-hexo/03.jpg" class="" title="This is an test image"><img src="/2022/07/20/23l-bt-entablish-hexo/04.jpg" class="" title="This is an test image"><img src="/2022/07/20/23l-bt-entablish-hexo/8.jpg" class="" title="This is an test image"><p>å»ºç«™å®Œæˆï¼</p><p><a href="https://blog.csdn.net/weixin_45588247/article/details/1198873560">1.1å‚è€ƒæ–‡ç« </a><br><a href="https://www.qyxie.top/2021/07/31/21073101/">3å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/diaoao8515/article/details/102293551">1.2å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Esp8266çš„ä¸€äº›åŸºç¡€çŸ¥è¯†</title>
      <link href="/2022/07/08/22h-esp8266/"/>
      <url>/2022/07/08/22h-esp8266/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºNodeMCUå¼€å‘æ¿"><a href="#å…³äºNodeMCUå¼€å‘æ¿" class="headerlink" title="å…³äºNodeMCUå¼€å‘æ¿"></a>å…³äºNodeMCUå¼€å‘æ¿</h2><blockquote><p>NodeMCUæ˜¯ä¸€ä¸ªå¼€æºçš„IoTç‰©è”ç½‘ç¡¬ä»¶å¼€å‘æ¿,NodeMCUå°ºå¯¸ä¸Arduino Nanoç±»ä¼¼ã€‚å®ƒå¹¶ä¸æ˜¯Arduinoå›¢é˜Ÿå¼€å‘çš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨Arduino IDE å¯¹å®ƒè¿›è¡Œå¼€å‘ã€‚è€Œä¸”å®ƒè¿˜æœ‰ä¸€é¢—åœ°é“çš„â€œä¸­å›½èŠ¯â€â€”ESP8266æ¨¡å—ã€‚</p></blockquote><p>ESP8266æ˜¯ä¸€å—èŠ¯ç‰‡<br><img src="http://212.90.123.174:7788/i/2022/07/12/62cd3c68648cf.jpg" alt="01.jpg"><br>NodeMCUåˆ™æ˜¯ä»¥ESP8266èŠ¯ç‰‡ä¸ºæ ¸å¿ƒçš„å¼€å‘æ¿<br><img src="http://212.90.123.174:7788/i/2022/07/12/62cd3c63428b1.jpg" alt="02.jpg"></p><p>å½“å¼•è„šä»¥æ•°å­—è¾“å‡ºæ¨¡å¼å·¥ä½œæ—¶ï¼Œä½ç”µå¹³æ˜¯0V (çŒç”µæµ)ï¼Œé«˜ç”µå¹³æ˜¯3.3V (æ‹‰ç”µæµ)ã€‚</p><p>è¯·æ³¨æ„:ESP8266èŠ¯ç‰‡ä¸Arduino Uno&#x2F;Mega&#x2F;Nanoç­‰å¼€å‘æ¿çš„å¼•è„šç”µå¹³ç”µå‹æœ‰æ‰€åŒºåˆ«ã€‚Arduinoå¼€å‘æ¿çš„é«˜ç”µå¹³æ˜¯+5Vï¼Œä½ç”µå¹³æ˜¯0Vã€‚</p><p><img src="http://212.90.123.174:7788/i/2022/07/12/62cd3c6768e82.jpg" alt="03.jpg"></p><h3 id="å¯ç”¨å¼•è„š"><a href="#å¯ç”¨å¼•è„š" class="headerlink" title="å¯ç”¨å¼•è„š"></a>å¯ç”¨å¼•è„š</h3><p>ESP8266èŠ¯ç‰‡æœ‰17ä¸ªGPIOå¼•è„šï¼ˆGPIO0ï½GPIO16ï¼‰ã€‚è¿™äº›å¼•è„šä¸­çš„GPIO6ï½GPIO 11è¢«ç”¨äºè¿æ¥å¼€å‘æ¿çš„é—ªå­˜ï¼ˆFlash Memoryï¼‰ã€‚å¦‚æœåœ¨å®éªŒç”µè·¯ä¸­ä½¿ç”¨GPIO6ï½GPIO11ï¼ŒNodeMCUå¼€å‘æ¿å°†æ— æ³•æ­£å¸¸å·¥ä½œã€‚å› æ­¤å»ºè®®æ‚¨ä¸è¦ä½¿ç”¨GPIO6ï½GPIO 11ã€‚</p><img src="/2022/07/08/22h-esp8266/04.png" class="" title="This is an test image">ç”µå‹ç”µæµé™åˆ¶<p>NodeMCUå¼€å‘æ¿å¼•è„šçš„è¾“å…¥è¾“å‡ºç”µå‹é™åˆ¶æ˜¯3.3 Vã€‚å¦‚æœå‘å¼•è„šæ–½åŠ 3.6Vä»¥ä¸Šçš„ç”µå‹å°±æœ‰å¯èƒ½å¯¹èŠ¯ç‰‡ç”µè·¯é€ æˆæŸåã€‚åŒæ—¶è¯·æ³¨æ„ï¼Œè¿™äº›å¼•è„šçš„æœ€å¤§è¾“å‡ºç”µæµæ˜¯12mAã€‚</p><blockquote><p>ç”±äºNodeMCUå¼€å‘æ¿çš„å¼•è„šå…è®¸ç”µå‹å’Œç”µæµéƒ½æ˜¯ä½äºArduinoå¼€å‘æ¿çš„å¼•è„šï¼Œæ‰€ä»¥æƒ³è¦å°†äºŒè€…å¼•è„šç›¸äº’è¿æ¥,æ³¨æ„ä¸¤ä¸ªå¼€å‘æ¿çš„å¼•è„šç”µå‹å’Œç”µæµçš„åŒºåˆ«,æ“ä½œä¸å½“å¯èƒ½ä¼šæŸåNodeMCUå¼€å‘æ¿</p></blockquote><h3 id="ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜"><a href="#ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜" class="headerlink" title="ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜"></a>ç‰¹æ®Šå¼•è„šæƒ…å†µè¯´æ˜</h3><ul><li><p>GPIO2å¼•è„š åœ¨NodeMCUå¼€å‘æ¿å¯åŠ¨æ—¶æ˜¯ä¸èƒ½è¿æ¥ä½ç”µå¹³çš„ã€‚</p></li><li><p>GPIO15å¼•è„šåœ¨å¼€å‘æ¿è¿è¡Œä¸­ä¸€ç›´ä¿æŒä½ç”µå¹³çŠ¶æ€ã€‚å› æ­¤è¯·ä¸è¦ä½¿ç”¨GPIO15å¼•è„šæ¥è¯»å–å¼€å…³çŠ¶æ€æˆ–è¿›è¡ŒIÂ²Cé€šè®¯ã€‚</p></li><li><p>GPIO0å¼•è„šåœ¨å¼€å‘æ¿è¿è¡Œä¸­éœ€è¦ä¸€ç›´ä¿æŒé«˜ç”µå¹³çŠ¶æ€ã€‚å¦åˆ™ESP8266å°†è¿›å…¥ç¨‹åºä¸Šä¼ å·¥ä½œæ¨¡å¼ä¹Ÿå°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚æ‚¨æ— éœ€å¯¹GPIO0å¼•è„šè¿›è¡Œé¢å¤–æ“ä½œï¼Œå› ä¸ºNodeMCUçš„å†…ç½®ç”µè·¯å¯ä»¥ç¡®ä¿GPIO0å¼•è„šåœ¨å·¥ä½œæ—¶è¿æ¥é«˜ç”µå¹³è€Œåœ¨ä¸Šä¼ ç¨‹åºæ—¶è¿æ¥ä½ç”µå¹³ã€‚</p></li><li><p>GPIO 0-15å¼•è„šéƒ½é…æœ‰å†…ç½®ä¸Šæ‹‰ç”µé˜»ã€‚è¿™ä¸€ç‚¹ä¸Arduinoååˆ†ç±»ä¼¼ã€‚GPIO16 å¼•è„šé…æœ‰å†…ç½®ä¸‹æ‹‰ç”µé˜»ã€‚</p></li></ul><h3 id="æ¨¡æ‹Ÿè¾“å…¥å¼•è„š"><a href="#æ¨¡æ‹Ÿè¾“å…¥å¼•è„š" class="headerlink" title="æ¨¡æ‹Ÿè¾“å…¥å¼•è„š"></a>æ¨¡æ‹Ÿè¾“å…¥å¼•è„š</h3><ul><li><p>ESP8266 åªæœ‰ä¸€ä¸ªæ¨¡æ‹Ÿè¾“å…¥å¼•è„šï¼ˆè¯¥å¼•è„šé€šè¿‡æ¨¡æ‹Ÿ-æ•°å­—è½¬æ¢å°†å¼•è„šä¸Šçš„æ¨¡æ‹Ÿç”µå‹æ•°å€¼è½¬åŒ–ä¸ºæ•°å­—é‡ï¼‰ã€‚æ­¤å¼•è„šå¯ä»¥è¯»å–çš„æ¨¡æ‹Ÿç”µå‹å€¼ä¸º 0 â€“ 1.0Vã€‚è¯·æ³¨æ„ï¼šESP8266 èŠ¯ç‰‡æ¨¡æ‹Ÿè¾“å…¥å¼•è„šè¿æ¥åœ¨1.0Vä»¥ä¸Šç”µå‹å¯èƒ½æŸåESP8266èŠ¯ç‰‡ã€‚</p></li><li><p>NodeMCUå¼€å‘æ¿é…æœ‰é™å‹ç”µè·¯ã€‚æ‚¨å¯ä»¥ç”¨NodeMCUå¼€å‘æ¿çš„æ¨¡æ‹Ÿè¾“å…¥å¼•è„šè¯»å–0-3.3Vçš„æ¨¡æ‹Ÿç”µå‹ä¿¡å·ã€‚</p></li></ul><h3 id="é€šè®¯-ä¸²è¡Œç«¯å£"><a href="#é€šè®¯-ä¸²è¡Œç«¯å£" class="headerlink" title="é€šè®¯&#x2F;ä¸²è¡Œç«¯å£"></a>é€šè®¯&#x2F;ä¸²è¡Œç«¯å£</h3><p>ESP8266æœ‰2ä¸ªç¡¬ä»¶ä¸²è¡Œç«¯å£ï¼ˆUART)</p><ul><li>ä¸²è¡Œç«¯å£0ï¼ˆUART0ï¼‰ä½¿ç”¨GPIO1(TX0)å’ŒGPIO3(RX0)å¼•è„šã€‚</li><li>ä¸²è¡Œç«¯å£1ï¼ˆUART1ï¼‰ä½¿ç”¨GPIO2(TX1)å’ŒGPIO8(RX1)å¼•è„šã€‚æ³¨æ„ï¼Œç”±äºGPIO8è¢«ç”¨äºè¿æ¥é—ªå­˜èŠ¯ç‰‡ï¼Œä¸²è¡Œç«¯å£1åªèƒ½ä½¿ç”¨GPIO2æ¥å‘å¤–å‘é€ä¸²è¡Œæ•°æ®ã€‚</li></ul><p>IÂ²C</p><blockquote><p>ESP8266åªæœ‰è½¯ä»¶æ¨¡æ‹Ÿçš„IÂ²Cç«¯å£ï¼Œæ²¡æœ‰ç¡¬ä»¶IÂ²Cç«¯å£ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»»æ„çš„ä¸¤ä¸ªGPIOå¼•è„šé€šè¿‡è½¯ä»¶æ¨¡æ‹Ÿæ¥å®ç°IÂ²Cé€šè®¯ã€‚ESP8266çš„æ•°æ®è¡¨ï¼ˆdatasheetï¼‰ä¸­ï¼ŒGPIO2æ ‡æ³¨ä¸ºSDAï¼ŒGPIO14æ ‡æ³¨ä¸ºSCLã€‚</p></blockquote><p>SPI</p><blockquote><p>ESP8266çš„SPIç«¯å£æƒ…å†µå¦‚ä¸‹ï¼š<br>GPIO14 â€” CLK<br>GPIO12 â€” MISO<br>GPIO13 â€” MOSI<br>GPIO 15 â€” CS(SS)</p></blockquote><h2 id="ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ"><a href="#ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ" class="headerlink" title="ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ"></a>ESP8266å¼•è„šåŠŸèƒ½ä¸€è§ˆ</h2><p><img src="http://212.90.123.174:7788/i/2022/07/12/62cd3c67a14ef.jpg" alt="05.jpg"></p><p><a href="http://www.taichi-maker.com/homepage/esp8266-nodemcu-iot/esp8266-nodemcu-tutorial-index/nodemcu-board/">å‚è€ƒæ–‡ç« :å¤ªæåˆ›å®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Esp8266 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šè¿‡æ­£åˆ™è¡¨è¾¾å¼çˆ¬è™«</title>
      <link href="/2022/06/27/21p-re-spider/"/>
      <url>/2022/06/27/21p-re-spider/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼"></a>å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼</h3><h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id="æŠ¥é”™UnicodeEncodeError-â€˜gbkâ€™-codec-canâ€™t-encode-character-â€˜-xe7â€™-in-position-10"><a href="#æŠ¥é”™UnicodeEncodeError-â€˜gbkâ€™-codec-canâ€™t-encode-character-â€˜-xe7â€™-in-position-10" class="headerlink" title="æŠ¥é”™UnicodeEncodeError: â€˜gbkâ€™ codec canâ€™t encode character â€˜\xe7â€™ in position 10"></a>æŠ¥é”™UnicodeEncodeError: â€˜gbkâ€™ codec canâ€™t encode character â€˜\xe7â€™ in position 10</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">å¤§å¤šæ•°çš„åšæ³•æ˜¯f &#x3D; open(&quot;blog.csv&quot;,mode&#x3D;&quot;w&quot;)åœ¨è¿™ä¸ªåé¢åŠ ä¸Šä¸€ä¸ªencoding&#x3D;utf-8,åŠ ä¸Šä¹‹åå¯ä»¥è¿è¡Œ,ä½†å†™å…¥è¡¨æ ¼çš„æ•°æ®å‡ºç°ä¹±ç ,æœ‰çš„è®©å°†utf-8æ”¹æˆutf-8-sig,è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•æ˜¯æ”¹æˆGBå•¥å•¥çš„æˆ‘å¿˜äº†,åŸºæœ¬éƒ½æ²¡ç”¨è§£å†³:resp &#x3D; requests.get(url,headers&#x3D;headers)resp.encoding &#x3D; &#39;utf-8&#39;      #æš‚æ—¶ä¸çŸ¥é“ä¸ºä»€ä¹ˆåŠ åœ¨è¿™é‡Œå°±å¯ä»¥page_content&#x3D;resp.text<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å¸¸è§çš„çˆ¬è™«ä¸­æ–‡ä¹±ç é—®é¢˜"><a href="#å¸¸è§çš„çˆ¬è™«ä¸­æ–‡ä¹±ç é—®é¢˜" class="headerlink" title="å¸¸è§çš„çˆ¬è™«ä¸­æ–‡ä¹±ç é—®é¢˜"></a>å¸¸è§çš„çˆ¬è™«ä¸­æ–‡ä¹±ç é—®é¢˜</h2><h3 id="ç½‘å€ç¼–ç ä¸ºgbk"><a href="#ç½‘å€ç¼–ç ä¸ºgbk" class="headerlink" title="ç½‘å€ç¼–ç ä¸ºgbk"></a>ç½‘å€ç¼–ç ä¸ºgbk</h3><blockquote><p>1.æŸ¥çœ‹ç½‘é¡µæºä»£ç çš„headéƒ¨åˆ†çš„ç¼–ç ï¼š</p></blockquote><meta http-equiv="Content-Type" content="text/html; charset=gb2312">ï¼Œå‘ç°ç½‘é¡µç¼–ç ä¸ºgbkç±»å‹2.åˆ©ç”¨requestsåº“çš„æ–¹æ³•æŸ¥çœ‹é»˜è®¤è¾“å‡ºçš„ç¼–ç ç±»å‹<pre class="line-numbers language-python" data-language="python"><code class="language-python">import requestsurl &#x3D; &#39;https:&#x2F;&#x2F;chengdu.chashebao.com&#x2F;yanglao&#x2F;19077.html&#39;response &#x3D; requests.get(url)print(response.encoding)  è¾“å‡ºç»“æœä¸ºç¼–ç ISO-8859-1ï¼Œå¹¶ä¸æ˜¯åŸç½‘é¡µçš„ç¼–ç ç±»å‹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3.åˆ©ç”¨requestsåº“æ”¹å˜è¾“å‡ºç»“æœçš„ç¼–ç </p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import requestsurl &#x3D; &#39;https:&#x2F;&#x2F;chengdu.chashebao.com&#x2F;yanglao&#x2F;19077.html&#39;response &#x3D; requests.get(url)response.encoding &#x3D; &#39;gbk&#39;print(response.encoding)  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºç»“æœä¸ºç¼–ç gbkï¼Œä¸åŸç½‘é¡µä¿æŒä¸€è‡´ã€‚</p><p>åŸºäºä»¥ä¸Šä¸‰ä¸ªæ­¥éª¤ï¼Œå³å¯è§£å†³çˆ¬è™«ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import requestsdef get_html(url):    try:        response &#x3D; requests.get(url)        response.encoding &#x3D; &#39;gbk&#39;  # æ”¹å˜ç¼–ç         print(response.encoding)        html &#x3D; response.text        return html    except:        print(&#39;è¯·æ±‚ç½‘å€å‡ºé”™&#39;)url &#x3D; &#39;https:&#x2F;&#x2F;chengdu.chashebao.com&#x2F;yanglao&#x2F;19077.html&#39;html &#x3D; get_html(url)print(html)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç½‘å€ç¼–ç ä¸ºutf-8"><a href="#ç½‘å€ç¼–ç ä¸ºutf-8" class="headerlink" title="ç½‘å€ç¼–ç ä¸ºutf-8"></a>ç½‘å€ç¼–ç ä¸ºutf-8</h3><p>å¯¹äºæœ‰äº›ç½‘é¡µç¼–ç ä¸ºutf-8çš„ç½‘å€ï¼Œè¾“å‡ºäº‹å‘ç°ä¸­æ–‡ä¸ºä¹±ç ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦è¿›è¡Œä¸¤æ¬¡é‡ç¼–ç ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">response &#x3D; requests.get(url, headers&#x3D;headers)response.encoding &#x3D; &#39;GBK&#39;      (#æˆ‘æ²¡åŠ è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥çš„)response.encoding &#x3D; &#39;utf-8&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç½‘å€ç¼–ç ä¸ºgb2312"><a href="#ç½‘å€ç¼–ç ä¸ºgb2312" class="headerlink" title="ç½‘å€ç¼–ç ä¸ºgb2312"></a>ç½‘å€ç¼–ç ä¸ºgb2312</h3><p>response.encoding &#x3D; â€˜GBKâ€™</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä¸ºä»€ä¹ˆè¿™ä¹ˆæ”¹,å’Œä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™æ ·çš„æŠ¥é”™æˆ‘æš‚æ—¶è¿˜ä¸æ‡‚,å­¦æ‡‚äº†ä¹‹åä¼šå†™ä¸Š<br><a href="https://blog.csdn.net/weixin_44321116/article/details/104280012?ops_request_misc=&request_id=&biz_id=102&utm_term=gbk%27%20codec%20can%27t%20encode%20charac&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-5-104280012.142%5Ev24%5Epc_rank_34,157%5Ev15%5Enew_3&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« 1</a><br><a href="https://blog.csdn.net/qq_17249717/article/details/98472363?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165634565316782395370345%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=165634565316782395370345&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-2-98472363-null-null.142%5Ev24%5Epc_rank_34,157%5Ev15%5Enew_3&utm_term=python%E7%88%AC%E8%99%AB%E5%87%BA%E7%8E%B0%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« 2</a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32f103å¹³è¡¡å°è½¦</title>
      <link href="/2022/06/24/20h-stm32f103-balance-car/"/>
      <url>/2022/06/24/20h-stm32f103-balance-car/</url>
      
        <content type="html"><![CDATA[<h2 id="ææ–™æ¸…å•"><a href="#ææ–™æ¸…å•" class="headerlink" title="ææ–™æ¸…å•"></a>ææ–™æ¸…å•</h2><blockquote><p>1.stm32f103c8t6æœ€å°ç³»ç»Ÿæ¿<br>2.TB6612ç”µæœºé©±åŠ¨(å¯ç”¨L298Næˆ–è€…DRV8848æ›¿ä»£)<br>3.MPU6050<br>4.ä¸¤è½®å°è½¦åº•ç›˜(ç”µæœºéœ€è¦å¸¦ç¼–ç å™¨)<br>5.0.96oledå±å¹•<br>6.é™å‹æ¨¡å—</p></blockquote><ul><li>èµ„æºåˆ†é…å›¾</li></ul><img src="/2022/06/24/20h-stm32f103-balance-car/image-20240406142348401.png" class="" title="image-20240406142348401"><h2 id="ç¼–å†™ç¨‹åº"><a href="#ç¼–å†™ç¨‹åº" class="headerlink" title="ç¼–å†™ç¨‹åº"></a>ç¼–å†™ç¨‹åº</h2><p>ç¼–å†™ç¨‹åºä¹‹å‰,å…ˆç”»ä¸€ä¸ªæ€ç»´å¯¼å›¾,ç†æ¸…å„ä¸ªç¨‹åºä¹‹é—´çš„å…³ç³»,ä»¥åŠå°è½¦æ­£å¸¸å·¥ä½œçš„æµç¨‹å›¾<br>åŸºç¡€çš„ç¨‹åºåŒ…å«ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†</p><blockquote><p>1.motor<br>2.pwm<br>3.encoder<br>4.mpu6050<br>5.exti<br>6.oled<br>7.control<br>åç»­è¿˜å¯ä»¥è¿›è¡ŒäºŒæ¬¡å¼€å‘,åŠ ä¸Šled,key,bluetooth(usart),é¿éšœç­‰åŠŸèƒ½</p></blockquote><h3 id="motor"><a href="#motor" class="headerlink" title="motor"></a>motor</h3><p>1.è®©ç”µæœºè½¬èµ·æ¥<br>motor,å¼•è„šè®¾ç½®æˆè¾“å‡º,ä¸¤ä¸ªç”µæœºéœ€è¦å››ä¸ªå¼•è„šå¯¹åº”AIN1,AIN2,BIN1,BIN2<br>ENA  IN1  IN2<br>0       ä»»æ„  ä»»æ„   åœæ­¢<br>1       0         0       åœæ­¢<br>1       0         1        æ­£è½¬</p><blockquote><p>å…·ä½“æ¥çº¿æè¿°ï¼šL298Nçš„out1å’Œout2æ¥ç”µæœºçš„æ­£è´Ÿæï¼ŒIN1å’ŒIN2åˆ†åˆ«å¯¹åº”å¼€å‘æ¿çš„PA4å’ŒPA5ï¼Œ12Vç”µæºæ¥å…¥L298Nçš„12Vä¾›ç”µå’ŒGNDï¼Œç„¶åå°†å¼€å‘æ¿çš„gndå’Œl298nçš„gndè¿æ¥ï¼ˆä¸€å®šè¦å…±åœ°ï¼‰æ¥çº¿å®Œå·¥<br>PWMè®¾ç½®å€¼,å°±æ˜¯ç”µæœºçš„é€Ÿåº¦</p></blockquote><h3 id="PWM"><a href="#PWM" class="headerlink" title="PWM"></a>PWM</h3><p><img src="https://img-blog.csdnimg.cn/b94068adf5894da797e5b296b3985d38.png" alt="img"></p><p>å¥½åƒæ”¹å˜ARR(è‡ªåŠ¨é‡è£…è½½å€¼)ä¼šæ”¹å˜å ç©ºæ¯”(CCR&#x2F;ARR), å‘¨æœŸä¹Ÿä¼šå˜, æ”¹å˜pscåº”è¯¥æ”¹å˜çš„æ˜¯æ–œç‡, è¶Šå¤§æ–œç‡è¶Šå°, æ‰€ä»¥æ”¹å˜å ç©ºæ¯”, ä¹Ÿå°±æ˜¯é«˜ç”µå¹³æ‰€å çš„æ—¶é—´,ä¼šæ”¹å˜ç”µæœºé€Ÿåº¦,æ”¹å˜é¢‘ç‡,ä¼šæ”¹å˜ç”µæœºå“åº”é€Ÿåº¦,é¢‘ç‡è¿‡ä½ä¼šæœ‰å™ªéŸ³å’Œéœ‡åŠ¨</p><p>ARR : å†³å®šPWMå‘¨æœŸ(åœ¨æ—¶é’Ÿé¢‘ç‡ä¸€å®šçš„æƒ…å†µä¸‹,å½“å‰ä¸ºé»˜è®¤å†…éƒ¨æ—¶é’ŸCK_INT)</p><p>CCRx : å†³å®šPWMå ç©ºæ¯”(é«˜ä½ç”µå¹³æ‰€å æ•´ä¸ªå‘¨æœŸæ¯”ä¾‹)</p><ol><li><p><code>TIM1_PWM_Init(899, 0)</code>: è¿™ç§è®¾ç½®ä¸‹ï¼ŒARRè¢«è®¾ç½®ä¸º899ï¼ŒPSCè¢«è®¾ç½®ä¸º0ã€‚è¿™æ„å‘³ç€PWMçš„å‘¨æœŸä¸ºARR+1ä¸ªè®¡æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯900ä¸ªè®¡æ•°å€¼ï¼Œè€Œé¢„åˆ†é¢‘å› å­ä¸º1ã€‚è¿™ç§è®¾ç½®é€‚ç”¨äºéœ€è¦è¾ƒå¿«çš„PWMè¾“å‡ºé¢‘ç‡çš„æƒ…å†µã€‚</p></li><li><p><code>PWM_Init_TIM1(0, 7199)</code>: è¿™ç§è®¾ç½®ä¸‹ï¼ŒARRè¢«è®¾ç½®ä¸º0ï¼ˆå®é™…ä¸Šæ˜¯æœ€å¤§å€¼65535ï¼‰ï¼ŒPSCè¢«è®¾ç½®ä¸º7199ã€‚è¿™æ„å‘³ç€PWMçš„å‘¨æœŸä¸º1ä¸ªè®¡æ•°å€¼ï¼Œé¢„åˆ†é¢‘å› å­ä¸º7200ã€‚è¿™ç§è®¾ç½®é€‚ç”¨äºéœ€è¦è¾ƒæ…¢çš„PWMè¾“å‡ºé¢‘ç‡çš„æƒ…å†µã€‚</p><h3 id="ä»£ç æ„å»º"><a href="#ä»£ç æ„å»º" class="headerlink" title="ä»£ç æ„å»º"></a>ä»£ç æ„å»º</h3><blockquote><ul><li><p>åˆå§‹åŒ–GPIOç»“æ„ä½“</p></li><li><p>åˆå§‹åŒ–æ—¶åŸºç»“æ„ä½“</p></li><li><p>é…ç½®è¾“å‡ºæ¯”è¾ƒå‚æ•°</p></li><li><p>ä½¿èƒ½å®šæ—¶å™¨</p></li></ul></blockquote></li></ol><blockquote><p>ä¹Ÿå°±æ˜¯ï¼Œåœ¨ä¸€å®šçš„é¢‘ç‡ä¸‹ï¼Œé€šè¿‡ä¸åŒçš„å ç©ºæ¯” å³å¯å¾—åˆ°ä¸åŒçš„è¾“å‡ºæ¨¡æ‹Ÿç”µå‹<br>pwmå°±æ˜¯é€šè¿‡è¿™ç§åŸç†å®ç°D&#x2F;Aè½¬æ¢çš„ã€‚</p></blockquote><p><img src="https://img-blog.csdnimg.cn/3380f0796eab461eb64bf86559486cb8.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAfuWxseacieacqOWFrg==,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h3><p><strong>ä¸ºä»€ä¹ˆç¼–ç å™¨è¯»æ•°è¦å¼ºåˆ¶è½¬æ¢æˆshort</strong></p><p>TIM_GetCounter å‡½æ•°æœ¬èº«è¯»å›çš„æ˜¯ uint16_t æ•°æ®ç±»å‹,shortå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚æœ¬æ¥æˆ‘ä»¬ä»å®šæ—¶å™¨è¯»å–åˆ°çš„è®¡æ•°å€¼èŒƒå›´æ˜¯0åˆ°65535ï¼Œä½†è½¬æ¢æˆshortåèŒƒå›´å°±å˜æˆäº†-32768åˆ°32767ï¼Œè¿™æ˜¯ä¸ºäº†ä½¿å¾—è½®å­çš„æ­£è½¬å’Œåè½¬(ç¼–ç å™¨å‘ä¸Šå’Œå‘ä¸‹è®¡æ•°)èƒ½å¤Ÿå¯¹åº”æ­£çš„è®¡æ•°å€¼å’Œè´Ÿçš„è®¡æ•°å€¼</p><p><strong>é‚£ä¹ˆshortä¸intçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ, intä¸ä¹Ÿå¯ä»¥å—</strong></p><p>å¯ä»¥, åŒºåˆ«åœ¨keilä¸­æ‰€å å­—èŠ‚ä¸åŒ</p><blockquote><p>int å ç”¨ 4 å­—èŠ‚</p><p>short int å ç”¨ 2 å­—èŠ‚</p></blockquote><p>[-BanlanceCar&#x2F;å¹³è¡¡å°è½¦V2&#x2F;keil STM32æ•°æ®ç±»å‹é—®é¢˜.png at master Â· Frank-zheng-C&#x2F;-BanlanceCar Â· GitHub](<a href="https://github.com/Frank-zheng-C/-BanlanceCar/blob/master/%E5%B9%B3%E8%A1%A1%E5%B0%8F%E8%BD%A6V2/keil">https://github.com/Frank-zheng-C/-BanlanceCar/blob/master/å¹³è¡¡å°è½¦V2/keil</a> STM32æ•°æ®ç±»å‹é—®é¢˜.png)</p><p><strong>Encoder.cæ˜¯å¦éœ€è¦ä¸­æ–­å‡½æ•°</strong></p><p>ä¸ªäººè§‰å¾—å¯åŠ å¯ä¸åŠ , å› ä¸ºè¿™é‡Œä¸­æ–­å‡½æ•°åªæ˜¯åœ¨æº¢å‡ºçš„æ—¶å€™æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½, é˜²æ­¢è®¡æ•°åœæ­¢</p><p>ç”±äºå‡½æ•°é‡Œç¼–ç å™¨è¯»å–è®¡æ•°å€¼åä¼šå¯¹æ¸…é›¶è®¡æ•°å€¼, æ‰€ä»¥ä¸€èˆ¬ä¸ä¼šæº¢å‡º</p><table><thead><tr><th>åç§°</th><th>å…¨ç§°ç±»å‹è¯´æ˜ç¬¦</th><th>ç¼©å†™ç±»å‹è¯´æ˜ç¬¦</th><th>ä½æ•°</th><th>èŒƒå›´</th></tr></thead><tbody><tr><td>æ•´å‹</td><td>int</td><td>int</td><td>16ä½</td><td>-32768è‡³+32767</td></tr><tr><td>æ— ç¬¦å·æ•´å‹</td><td>unsigned int</td><td>unsigned</td><td>16ä½</td><td>0 è‡³ 65,535</td></tr><tr><td>çŸ­æ•´å‹</td><td>short int</td><td>short</td><td>16ä½</td><td>-32768è‡³+32767</td></tr><tr><td>æ— ç¬¦å·çŸ­æ•´å‹</td><td>unsigned short int</td><td>unsigned short</td><td>16ä½</td><td>0 è‡³ 65,535</td></tr><tr><td>é•¿æ•´å‹</td><td>long int</td><td>long</td><td>32ä½</td><td>-2,147,483,648 è‡³ 2,147,483,647</td></tr><tr><td>æ— ç¬¦å·é•¿æ•´å‹</td><td>unsigned long int</td><td>unsigned long</td><td>32ä½</td><td>0è‡³4,294,967,295</td></tr></tbody></table><p>ç¼–ç å™¨çº¿æ•°ï¼šçº¿æ•°å°±æ˜¯ç¼–ç å™¨çš„åˆ†è¾¨ç‡ï¼Œå³è½¬ä¸€åœˆå‘å‡ºçš„è„‰å†²æ•°</p><p>è„‰å†²å€¼æ­£æ¯”äºå®é™…é€Ÿåº¦,ä½†ä¸æ˜¯å®é™…é€Ÿåº¦,éœ€è¦è¿›ä¸€æ­¥è®¡ç®—</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">&#x2F;&#x2F;é€Ÿåº¦æµ‹é‡å€¼   velocity &#x3D; ( read_encoder2() + read_encoder3() )&#x2F;2;&#x2F;&#x2F;è·å–æœ€æ–°é€Ÿåº¦åå·®&#x3D;&#x3D;æµ‹é‡é€Ÿåº¦ï¼ˆå·¦å³ç¼–ç å™¨ä¹‹å’Œï¼‰-ç›®æ ‡é€Ÿåº¦ï¼ˆæ­¤å¤„ä¸ºé›¶ï¼‰ Encoder_Least &#x3D;0-(encoder_left+encoder_right); <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ªäººç†è§£:è¿™ä¸ªåå·®æœ€åè¦*kp,ç›¸å½“äºç›´æ¥ç®—åˆ°kpé‡Œé¢äº†,<code>PWM_out=Velocity_Kp*EnC_Err_Lowout+Velocity_Ki*Encoder_S;</code></p><p><a href="https://blog.csdn.net/zhao_ke_xue/article/details/108305821?ops_request_misc=%7B%22request_id%22:%22169148867816800213097839%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=169148867816800213097839&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~hot_rank-3-108305821-null-null.142%5Ev92%5Einsert_down28v1&utm_term=%E5%B9%B3%E8%A1%A1%E5%B0%8F%E8%BD%A6%E7%9A%84%E5%AE%9E%E9%99%85%E9%80%9F%E5%BA%A6&spm=1018.2226.3001.4187">å¹³è¡¡å°è½¦ä»åŸç†åˆ°å®è·µ_å¹³è¡¡å°è½¦æ§åˆ¶åŸç†_ç™½èŒ¶-æ¸…æ¬¢çš„åšå®¢-CSDNåšå®¢</a></p><p><a href="https://blog.csdn.net/weixin_56760882/article/details/123935485?ops_request_misc=&request_id=&biz_id=102&utm_term=%E9%9C%8D%E5%B0%94%E7%BC%96%E7%A0%81%E7%94%B5%E6%9C%BA%E7%9A%84%E7%BA%BF%E6%95%B0%E6%98%AF%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-123935485.142%5Ev89%5Einsert_down28v1,239%5Ev2%5Einsert_chatgpt&spm=1018.2226.3001.4187">ã€ä¸€æ–‡è¯»æ‡‚ã€‘å¦‚ä½•ç”¨ç¼–ç å™¨æµ‹é€Ÿ_è’é‡ç«ç‹çš„åšå®¢-CSDNåšå®¢</a></p><h3 id="MPU6050"><a href="#MPU6050" class="headerlink" title="MPU6050"></a>MPU6050</h3><p>å‚è€ƒ<a href="">     </a></p><p>æœ‰ä¸€ä¸ªé—®é¢˜:<br>mpu6050ä¾›ç”µæ—¶å€™çš„ä½å§¿ä¸åŒç¡®å®šçš„æœºæ¢°ä¸­å€¼ä¹Ÿä¸åŒ</p><img src="/2022/06/24/20h-stm32f103-balance-car/01.jpg" class="" title="å¤§ä½¬çš„æ–¹æ³•"><h1 id="é‡å­¦å¹³è¡¡å°è½¦"><a href="#é‡å­¦å¹³è¡¡å°è½¦" class="headerlink" title="é‡å­¦å¹³è¡¡å°è½¦"></a>é‡å­¦å¹³è¡¡å°è½¦</h1><h2 id="PIDæ§åˆ¶"><a href="#PIDæ§åˆ¶" class="headerlink" title="PIDæ§åˆ¶"></a>PIDæ§åˆ¶</h2><p>æ¯”ä¾‹é¡¹ï¼šæé«˜å“åº”é€Ÿåº¦ï¼Œå‡å°é™å·®ã€‚</p><p>ç§¯åˆ†é¡¹ï¼šæ¶ˆé™¤ç¨³æ€è¯¯å·®ã€‚åªè¦æœ‰åå·®ï¼Œæˆ‘å°±ç§¯åˆ†ï¼Œæœ‰ä¸€ä¸ç‚¹åå·®ï¼Œæˆ‘ä¹Ÿä¼šç§¯åˆ†ã€‚ç§¯ç§¯ï¼Œå°±ä¼šéå¸¸å¤§ã€‚ç›´åˆ°ä½ åå·®å˜ä¸º0.</p><p>å¾®åˆ†é¡¹ï¼šå‡å°éœ‡è¡ä»¥åŠè¶…è°ƒã€‚</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Pwm&#x3D;Kp*e(k)+Ki*âˆ‘e(k)+Kd*[e(k)-e(k-1)]Kp*e(k)Ki*âˆ‘e(k)Kd*[e(k)-e(k-1)]Ki&#x3D;Kp*(1&#x2F;Ti) *TiKd&#x3D;Kp*(1&#x2F;T)*Tdå¯è§Kiã€Kdéƒ½æœ‰Kpã€æ‰€ä»¥Kpçš„å€¼ä¹Ÿä¼šå½±å“Kiã€Kd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä½ç½®PID"><a href="#ä½ç½®PID" class="headerlink" title="ä½ç½®PID"></a>ä½ç½®PID</h3><p><strong>1.ç†è®ºåˆ†æ</strong></p><p>ä½ç½®é—­ç¯æ§åˆ¶å°±æ˜¯æ ¹æ®ç¼–ç å™¨çš„è„‰å†²ç´¯åŠ æµ‹é‡ç”µæœºçš„ä½ç½®ä¿¡æ¯ï¼Œå¹¶ä¸ç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¾—åˆ°æ§åˆ¶åå·®ï¼Œ</p><p>ç„¶åé€šè¿‡å¯¹åå·®çš„æ¯”ä¾‹ã€ç§¯åˆ†ã€å¾®åˆ†è¿›è¡Œæ§åˆ¶ï¼Œä½¿åå·®è¶‹å‘äºé›¶çš„è¿‡ç¨‹ã€‚</p><p><strong>2.å…¬å¼</strong></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">Pwm&#x3D;Kp\*e(k)+Ki\*âˆ‘e(k)+Kd\*[e(k)-e(k-1)]e(k)ï¼šæœ¬æ¬¡åå·®e(k-1)ï¼šä¸Šä¸€æ¬¡çš„åå·®  âˆ‘e(k)ï¼še(k)ä»¥åŠä¹‹å‰çš„åå·®çš„ç´¯ç§¯å’Œ;å…¶ä¸­kä¸º1,2,,k;Pwmä»£è¡¨è¾“å‡º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3.ç»“æ„æ¡†å›¾</p><style>.xtreljowcnrz{zoom:150%;}</style><img src="/2022/06/24/20h-stm32f103-balance-car/wps1.jpg" class="xtreljowcnrz" alt="img"><ol start="4"><li>Cè¯­è¨€å®ç°</li></ol><pre class="line-numbers language-c" data-language="c"><code class="language-c">int Position_PID (int Encoder , int Target) &#123;   static float Bias, Pwm, Integral_bias, Last_Bias;  Bias&#x3D;Encoder-Target; &#x2F;&#x2F;è®¡ç®—åå·®  Integral_bias+&#x3D;Bias; &#x2F;&#x2F;æ±‚å‡ºåå·®çš„ç§¯åˆ†     Pwm&#x3D;Position_KP*Bias+Position_KI*Integral_bias+Position_KD*(Bias-Last_Bias);  &#x2F;&#x2F;ä½ç½®å¼PIDæ§åˆ¶å™¨     Last_Bias&#x3D;Bias;    &#x2F;&#x2F;ä¿å­˜ä¸Šä¸€æ¬¡åå·®   return Pwm;      &#x2F;&#x2F;è¾“å‡º &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h1 id="2-å…¬å¼ä¸ºä»€ä¹ˆkpä¸-è¯¯å·®"><a href="#2-å…¬å¼ä¸ºä»€ä¹ˆkpä¸-è¯¯å·®" class="headerlink" title="2.å…¬å¼ä¸ºä»€ä¹ˆkpä¸*è¯¯å·®"></a>2.å…¬å¼ä¸ºä»€ä¹ˆkpä¸*è¯¯å·®</h1><h3 id="ä¸²çº§PID"><a href="#ä¸²çº§PID" class="headerlink" title="ä¸²çº§PID"></a>ä¸²çº§PID</h3><p><strong>ç›´ç«‹ç¯</strong></p><ol><li><p>å¹³è¡¡ç†è®º</p><p>å°è½¦å¾€é‚£è¾¹å€’ï¼Œè½¦è½®å°±å¾€å“ªè¾¹å¼€ï¼Œæ—¢å¯ä»¥ä¿æŒè½¦å­çš„å¹³è¡¡ã€‚</p><img src="/2022/06/24/20h-stm32f103-balance-car/wps2.jpg" class="" title="img"></li><li><p>å…¬å¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">a&#x3D;b1*Î¸+b2*Î¸;â€”â€”&gt;æ¯”ä¾‹å¾®åˆ†æ§åˆ¶ã€PDout&#x3D;Kp*Angle+Kd*( Angle-Angle_last)ã€‘<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>ç»“æ„æ¡†å›¾</p></li></ol><style>.vlfrzmiwkthg{zoom:150%;}</style><img src="/2022/06/24/20h-stm32f103-balance-car/wps3.jpg" class="vlfrzmiwkthg" alt="img"> <p><strong>ç›´ç«‹ç¯ï¼šè®©å°è½¦è§’åº¦è¶‹è¿‘0ï¼›</strong></p><p><strong>é€Ÿåº¦ç¯ï¼šè®©ç”µæœºé€Ÿåº¦è¶‹è¿‘0ï¼›</strong></p><h3 id="é€Ÿåº¦ç¯ã€ä¸²çº§PID"><a href="#é€Ÿåº¦ç¯ã€ä¸²çº§PID" class="headerlink" title="é€Ÿåº¦ç¯ã€ä¸²çº§PID"></a>é€Ÿåº¦ç¯ã€ä¸²çº§PID</h3><style>.uojcatwomrbi{zoom: 150%;}</style><img src="/2022/06/24/20h-stm32f103-balance-car/wps4.jpg" class="uojcatwomrbi" alt="img"> <p>é€Ÿåº¦ç¯è¾“å…¥ï¼š1.ç»™å®šé€Ÿåº¦ã€‚2.é€Ÿåº¦åé¦ˆã€‚</p><p>è¾“å‡ºï¼š<strong>è§’åº¦å€¼</strong>ï¼ˆç›´ç«‹ç¯çš„æœŸæœ›é€Ÿåº¦è¾“å…¥ï¼‰</p><p>ç›´ç«‹ç¯è¾“å…¥ï¼š1.ç»™å®šè§’åº¦ï¼ˆé€Ÿåº¦ç¯è¾“å‡ºï¼‰ã€‚2.è§’åº¦åé¦ˆ</p><p>è¾“å‡ºï¼šPWMï¼ˆç›´æ¥æ§åˆ¶å°è½¦ï¼‰</p> <pre class="line-numbers language-C" data-language="C"><code class="language-C">Vertical_out&#x3D;Kp1*( real_Angle- expect_Angle)+Kd*D( real_Angle- expect_Angle) &#x2F;&#x2F;ç›´ç«‹PDæ§åˆ¶å™¨Velocity_out &#x3D;Kp2*(Encoder_ real- Encoder_ expect)+Ki*S(Encoder_ real- Encoder_ expect) &#x2F;&#x2F;é€Ÿåº¦PIæ§åˆ¶å™¨ï¼ˆNOTEï¼šï¼ˆ1ï¼‰Velocity_out &#x3D; expect_Angle.ï¼ˆ2ï¼‰Kp1ï¼šVertical_Kp.ï¼ˆ3ï¼‰Kp2ï¼šVelocity_Kp.ï¼‰&#x2F;&#x2F;è§£é‡Šç›´ç«‹ç¯è¾“å‡º&#x3D;Kp1*ï¼ˆçœŸå®è§’åº¦-æœŸæœ›è§’åº¦+æœºæ¢°ä¸­å€¼ï¼‰+Kd*è§’åº¦åå·®çš„å¾®åˆ†  &#x2F;&#x2F;è§’åº¦åå·®&#x3D;çœŸå®è§’åº¦-æœŸæœ›è§’åº¦é€Ÿåº¦ç¯è¾“å‡º&#x3D;Kp2*ï¼ˆåé¦ˆç¼–ç å™¨å€¼-æœŸæœ›ç¼–ç å™¨å€¼ï¼‰+Ki*ç¼–ç å™¨åå·®çš„ç§¯åˆ†&#x2F;&#x2F;ç¼–ç å™¨åå·®&#x3D;åé¦ˆç¼–ç å™¨å€¼-æœŸæœ›ç¼–ç å™¨å€¼ï¼ˆNOTEï¼šï¼ˆ1ï¼‰é€Ÿåº¦ç¯è¾“å‡º&#x3D;ç›´ç«‹ç¯çš„æœŸæœ›è§’åº¦ã€‚ï¼ˆ2ï¼‰Kp1ï¼šç›´ç«‹ç¯Kpã€‚ï¼ˆ3ï¼‰Kp2ï¼šé€Ÿåº¦ç¯Kpã€‚ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li><strong>ä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯è§’åº¦å€¼å‘¢</strong></li></ol><p>â€‹æ˜¯å› ä¸ºå°±æ˜¯è¿™æ ·å®šä¹‰çš„å—,è¿™æ ·çš„Kpå°±ç›¸å½“äº<strong>è®¡æ•°å€¼ä¸è§’åº¦å€¼çš„çº¿æ€§å…³ç³»</strong></p><blockquote><p>åœ¨è¿™ä¸ªæ§åˆ¶ç³»ç»Ÿä¸­ï¼Œé€Ÿåº¦ç¯çš„è¾“å‡ºå®é™…ä¸Šæ˜¯ä¸€ä¸ª<strong>ä¸­é—´å˜é‡</strong>ï¼Œå®ƒå°†é€Ÿåº¦æ§åˆ¶è½¬æ¢ä¸ºè§’åº¦æ§åˆ¶çš„è®¾å®šå€¼ã€‚è¿™æ ·åšçš„åŸå› åœ¨äºå¹³è¡¡å°è½¦çš„ç‰©ç†å’ŒåŠ¨åŠ›å­¦ç‰¹æ€§ã€‚å°è½¦ä¸ºäº†å‘å‰æˆ–å‘åç§»åŠ¨ï¼Œå¿…é¡»å€¾æ–œåˆ°ä¸€å®šè§’åº¦ï¼Œåˆ©ç”¨é‡åŠ›åˆ†åŠ›æ¥äº§ç”Ÿå‰è¿›æˆ–åé€€çš„é©±åŠ¨åŠ›ã€‚å› æ­¤ï¼Œé€šè¿‡è°ƒæ•´å°è½¦çš„å€¾æ–œè§’åº¦ï¼Œæˆ‘ä»¬å¯ä»¥é—´æ¥æ§åˆ¶å®ƒçš„é€Ÿåº¦ã€‚</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´, è¿™æ ·çš„Kpå°±ç›¸å½“äº<strong>è®¡æ•°å€¼ä¸è§’åº¦å€¼çš„çº¿æ€§å…³ç³»</strong>, æ˜¯äººä¸ºå®šä¹‰é€šè¿‡è°ƒèŠ‚kpè¾¾åˆ°çš„è¾“å‡ºçš„è§’åº¦å€¼, ä¹Ÿå¯ä»¥è¾“å‡ºåˆ«çš„, æ”¹å˜kpå°±å˜æˆäº†å…¶ä»–çš„è¾“å‡ºé‡</p><blockquote><p>å¯¹ï¼Œä½ çš„ç†è§£æ˜¯æ­£ç¡®çš„ã€‚åœ¨å¹³è¡¡å°è½¦çš„PIDæ§åˆ¶ä¸­ï¼ŒKpï¼ˆæ¯”ä¾‹ç³»æ•°ï¼‰çš„è®¾å®šåŸºæœ¬ä¸Šå®šä¹‰äº†è¾“å…¥ï¼ˆå¦‚é€Ÿåº¦è¯¯å·®æˆ–è§’åº¦è¯¯å·®ï¼‰ä¸è¾“å‡ºï¼ˆå¦‚å€¾æ–œè§’åº¦æˆ–PWMä¿¡å·ï¼‰ä¹‹é—´çš„çº¿æ€§å…³ç³»ã€‚é€šè¿‡è°ƒèŠ‚Kpçš„å¤§å°ï¼Œå¯ä»¥æ”¹å˜è¿™ç§çº¿æ€§å…³ç³»çš„æ•æ„Ÿåº¦å’Œå“åº”é€Ÿåº¦ï¼Œä»è€Œå½±å“å°è½¦çš„æ§åˆ¶æ•ˆæœã€‚</p><p>æ€»ç»“æ¥è¯´ï¼ŒKpçš„è®¾å®šæ˜¯äººä¸ºå®šä¹‰çš„ï¼Œé€šè¿‡è°ƒèŠ‚å®ƒå¯ä»¥æ”¹å˜æ§åˆ¶ç³»ç»Ÿçš„è¡Œä¸ºã€‚ä¸ä»…é™äºè¾“å‡ºè§’åº¦æˆ–PWMï¼Œç†è®ºä¸Šå¯ä»¥è°ƒæ•´PIDæ§åˆ¶å™¨æ¥è¾“å‡ºä»»ä½•é€šè¿‡æ•°å­¦å…³ç³»èƒ½å¤Ÿä»è¾“å…¥è¯¯å·®è®¡ç®—å¾—åˆ°çš„é‡ã€‚è¿™ç§çµæ´»æ€§ä½¿å¾—PIDæ§åˆ¶å™¨éå¸¸é€‚ç”¨äºå„ç§éœ€è¦ç²¾ç¡®æ§åˆ¶çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿã€‚</p></blockquote><p>æˆ‘çš„ç†è§£æ˜¯è¿™ä¸ªè§’åº¦è¾“å‡º<strong>æˆ‘å®šä¹‰çš„</strong>,æˆ‘ä¹Ÿå¯ä»¥æ‰“é‚£å°†å…¶å®šä¹‰ä¸ºè§’é€Ÿåº¦,åŠ é€Ÿåº¦,åŠ›çŸ©,éƒ½å¯ä»¥å¯¹å—,å› ä¸ºæˆ‘å¯ä»¥é€šè¿‡è°ƒèŠ‚kpè°ƒèŠ‚ä»–ä»¬ä¹‹é—´çš„çº¿æ€§å…³ç³»,æ¯”å¦‚æˆ‘éœ€è¦è¾“å…¥5æ—¶,è¾“å‡º10çš„,åŠ›çŸ©,é‚£ä¹ˆkp,å°±ä¸º2,è¾“å‡ºå°±ä¸ºåŠ›çŸ©</p><blockquote><p>å¯¹, è¾“å‡ºçš„ç‰©ç†é‡ï¼ˆå¦‚è§’åº¦ã€è§’é€Ÿåº¦ã€åŠ é€Ÿåº¦ã€åŠ›çŸ©ç­‰ï¼‰æ˜¯ç”±è®¾è®¡è€…æ ¹æ®å…·ä½“åº”ç”¨éœ€æ±‚æ¥å®šä¹‰çš„ã€‚é€šè¿‡è°ƒèŠ‚PIDæ§åˆ¶å™¨çš„å‚æ•°ï¼ˆKpã€Kiã€Kdï¼‰ï¼Œä½ å¯ä»¥è®¾å®šè¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„å…·ä½“æ•°å­¦å…³ç³»ï¼Œä»è€Œæ§åˆ¶ç³»ç»Ÿçš„è¡Œä¸ºã€‚</p></blockquote><p>ç›´ç«‹ç¯è¾“å…¥ï¼š1.ç»™å®šè§’åº¦ï¼ˆé€Ÿåº¦ç¯è¾“å‡ºï¼‰ã€‚2.è§’åº¦åé¦ˆ</p><p>è¾“å‡ºï¼šPWMï¼ˆç›´æ¥æ§åˆ¶å°è½¦ï¼‰</p> <pre class="line-numbers language-C" data-language="C"><code class="language-C">Vertical_out&#x3D;Kp1*( real_Angle- expect_Angle)+Kd*D( real_Angle- expect_Angle) &#x2F;&#x2F;ç›´ç«‹PDæ§åˆ¶å™¨Velocity_out &#x3D;Kp2*(Encoder_ real- Encoder_ expect)+Ki*S(Encoder_ real- Encoder_ expect) &#x2F;&#x2F;é€Ÿåº¦PIæ§åˆ¶å™¨ï¼ˆNOTEï¼šï¼ˆ1ï¼‰Velocity_out &#x3D; expect_Angle.ï¼ˆ2ï¼‰Kp1ï¼šVertical_Kp.ï¼ˆ3ï¼‰Kp2ï¼šVelocity_Kp.ï¼‰ã€ä¸­æ–‡ã€‘ç›´ç«‹ç¯è¾“å‡º&#x3D;Kp1*ï¼ˆçœŸå®è§’åº¦-æœŸæœ›è§’åº¦+æœºæ¢°ä¸­å€¼ï¼‰+Kd*è§’åº¦åå·®çš„å¾®åˆ†  &#x2F;&#x2F;è§’åº¦åå·®&#x3D;çœŸå®è§’åº¦-æœŸæœ›è§’åº¦é€Ÿåº¦ç¯è¾“å‡º&#x3D;Kp2*ï¼ˆåé¦ˆç¼–ç å™¨å€¼-æœŸæœ›ç¼–ç å™¨å€¼ï¼‰+Ki*ç¼–ç å™¨åå·®çš„ç§¯åˆ†&#x2F;&#x2F;ç¼–ç å™¨åå·®&#x3D;åé¦ˆç¼–ç å™¨å€¼-æœŸæœ›ç¼–ç å™¨å€¼ï¼ˆNOTEï¼šï¼ˆ1ï¼‰é€Ÿåº¦ç¯è¾“å‡º&#x3D;ç›´ç«‹ç¯çš„æœŸæœ›è§’åº¦ã€‚ï¼ˆ2ï¼‰Kp1ï¼šç›´ç«‹ç¯Kpã€‚ï¼ˆ3ï¼‰Kp2ï¼šé€Ÿåº¦ç¯Kpã€‚ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>é€Ÿåº¦ç¯æ˜¯æ­£åé¦ˆè¿˜æ˜¯è´Ÿåé¦ˆ</strong></li></ol><blockquote><p>æ­£åé¦ˆ</p><p>å› ä¸ºå½“è½¦èº«å‘å³å€¾æ–œæ—¶,ä¼šäº§ç”Ÿè¯¯å·®,å¦‚æœæ­¤æ—¶æ˜¯è´Ÿåé¦ˆ,å¯¼è‡´è½¦è½®åè½¬å’Œåœæ­¢éƒ½ä¼šåŠ é€Ÿå°è½¦å€’ä¸‹</p><p>æ‰€ä»¥è½¦èº«å³å€¾è½¦è½®éœ€è¦å¾€å³è½¬,å€¾æ–œè§’åº¦è¶Šå¤§,è½¬é€Ÿè¶Šå¿«</p></blockquote><ol start="3"><li><p>é€Ÿåº¦ç¯èµ·ä»€ä¹ˆä½œç”¨</p></li><li><p>åªç”¨ç›´ç«‹ç¯æ˜¯å¦å¯è¡Œ</p></li></ol><blockquote><p><strong>åªæœ‰ç›´ç«‹ç¯çš„æƒ…å†µ</strong></p><ul><li><strong>ç›´ç«‹ç¯</strong>ï¼šä¿æŒå‚ç›´ã€‚ç›´ç«‹ç¯é€šè¿‡æ¯”è¾ƒå½“å‰è§’åº¦ä¸ç›®æ ‡è§’åº¦ï¼ˆé€šå¸¸æ˜¯0åº¦ï¼Œå³å®Œå…¨å‚ç›´ï¼‰çš„å·®å¼‚æ¥è®¡ç®—æ§åˆ¶ä¿¡å·ï¼Œè°ƒæ•´ç”µæœºä»¥ç»´æŒå¹³è¡¡ã€‚å¦‚æœå°è½¦è¢«æ¨åŠ¨ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒæ•´è§’åº¦å›åˆ°å¹³è¡¡ç‚¹ï¼Œä½†ä¸ä¼šä¸»åŠ¨è¿”å›åˆ°åŸå§‹ä½ç½®ã€‚</li><li>ä¹Ÿå°±æ˜¯è¯´,å‘å³æ¨,å°è½¦ä¼šå‘å³èµ°,ç›´åˆ°è§’åº¦å˜ä¸ºæœŸæœ›è§’åº¦(0),ä½†æ˜¯<code>å¦‚æœå¹…åº¦è¾ƒå¤§,åŠ é€Ÿæ¥ä¸åŠ,å°è½¦ä¼šç›´æ¥è¯¶å€’ä¸‹</code></li></ul><p><strong>åŠ å…¥é€Ÿåº¦ç¯</strong></p><ul><li><strong>é€Ÿåº¦ç¯</strong>ï¼šå½“åŠ å…¥é€Ÿåº¦ç¯åï¼Œç³»ç»Ÿä¸ä»…èƒ½ç»´æŒå¹³è¡¡ï¼Œè¿˜èƒ½æ§åˆ¶å°è½¦çš„ä½ç½®æˆ–é€Ÿåº¦ã€‚é€Ÿåº¦ç¯é€šè¿‡ç›‘æµ‹å°è½¦çš„å®é™…ä½ç½®æˆ–é€Ÿåº¦ä¸æœŸæœ›ä½ç½®æˆ–é€Ÿåº¦çš„åå·®æ¥ç”Ÿæˆæ§åˆ¶ä¿¡å·ã€‚</li></ul></blockquote><blockquote><p>å…³äºç›´ç«‹ç¯ååº”æ…¢çš„åŸå› ï¼Œä»¥åŠé€Ÿåº¦ç¯å¦‚ä½•æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦çš„å…·ä½“æœºåˆ¶ï¼Œè¿™äº›é—®é¢˜éƒ½æ¶‰åŠåˆ°PIDæ§åˆ¶ç†è®ºå’Œå¹³è¡¡å°è½¦çš„åŠ¨æ€æ€§è´¨ã€‚æˆ‘ä»¬ä¸€æ­¥æ­¥æ¥æ¢è®¨è¿™äº›é—®é¢˜ï¼ŒåŒ…æ‹¬ä¸²çº§PIDå’Œå¹¶çº§PIDåœ¨æ§åˆ¶ç­–ç•¥ä¸Šçš„ä¸åŒåŠå…¶å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ã€‚</p><h3 id="ä¸ºä»€ä¹ˆç›´ç«‹ç¯ååº”è¾ƒæ…¢ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆç›´ç«‹ç¯ååº”è¾ƒæ…¢ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆç›´ç«‹ç¯ååº”è¾ƒæ…¢ï¼Ÿ"></a>ä¸ºä»€ä¹ˆç›´ç«‹ç¯ååº”è¾ƒæ…¢ï¼Ÿ</h3><ol><li><strong>ç‰©ç†å’Œç³»ç»ŸåŠ¨åŠ›å­¦é™åˆ¶</strong>ï¼š</li></ol><ul><li>ç›´ç«‹ç¯çš„ç›®çš„æ˜¯ç»´æŒå°è½¦å‚ç›´å¹³è¡¡ï¼Œè¿™é€šå¸¸ä¾èµ–äºå€¾è§’ä¼ æ„Ÿå™¨ï¼ˆå¦‚é™€èºä»ªï¼‰çš„åé¦ˆã€‚å€¾è§’çš„æµ‹é‡å’Œå“åº”è™½ç„¶åœ¨æ—¶é—´ä¸Šå¾ˆçŸ­ï¼Œä½†å­˜åœ¨ç‰©ç†å»¶è¿Ÿï¼Œç‰¹åˆ«æ˜¯åœ¨å€¾è§’å˜åŒ–é€Ÿåº¦å¾ˆå¿«æ—¶ï¼Œç³»ç»Ÿéœ€è¦æ—¶é—´æ¥äº§ç”Ÿè¶³å¤Ÿçš„åé¦ˆåŠ›ã€‚</li><li>ç›´ç«‹ç¯çš„PIDå‚æ•°è®¾ç½®å¿…é¡»è°¨æ…ï¼Œç‰¹åˆ«æ˜¯å¾®åˆ†é¡¹ï¼ˆKdï¼‰ï¼Œå®ƒå¯¹å°è½¦çš„åŠ¨æ€å“åº”éå¸¸æ•æ„Ÿï¼Œè¿‡é«˜å¯èƒ½ä¼šå¯¼è‡´æŒ¯è¡ï¼Œè¿‡ä½åˆ™å¯èƒ½å“åº”ä¸è¶³ã€‚</li></ul><ol start="2"><li><strong>è®¡ç®—å»¶è¿Ÿ</strong>ï¼š</li></ol><ul><li>PIDæ§åˆ¶ç®—æ³•è™½ç„¶æ‰§è¡Œé€Ÿåº¦å¿«ï¼Œä½†ä»å—é™äºå¤„ç†å‘¨æœŸå’Œæ§åˆ¶ç®—æ³•çš„å¤æ‚æ€§ã€‚å°¤å…¶æ˜¯åœ¨éœ€è¦é«˜ç²¾åº¦æˆ–é«˜ååº”é€Ÿåº¦çš„åœºåˆï¼Œæ§åˆ¶å™¨çš„è®¡ç®—èƒ½åŠ›å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚</li></ul><h3 id="é€Ÿåº¦ç¯å¦‚ä½•åŠ å¿«å“åº”ï¼Ÿ"><a href="#é€Ÿåº¦ç¯å¦‚ä½•åŠ å¿«å“åº”ï¼Ÿ" class="headerlink" title="é€Ÿåº¦ç¯å¦‚ä½•åŠ å¿«å“åº”ï¼Ÿ"></a>é€Ÿåº¦ç¯å¦‚ä½•åŠ å¿«å“åº”ï¼Ÿ</h3><ol><li>é¢„æµ‹å’Œå‰é¦ˆæ§åˆ¶</li></ol><ul><li>é€Ÿåº¦ç¯å¯ä»¥è§†ä½œä¸€ç§å‰é¦ˆæ§åˆ¶æœºåˆ¶ï¼Œå½“ç›´ç«‹ç¯è®¡ç®—å‡ºéœ€è¦æ”¹å˜å€¾æ–œè§’åº¦ä»¥ä¿æŒå¹³è¡¡æ—¶ï¼Œé€Ÿåº¦ç¯é€šè¿‡è°ƒæ•´å°è½¦çš„ç§»åŠ¨é€Ÿåº¦æ¥è¾…åŠ©è¿™ä¸€å˜åŒ–ã€‚è¿™æ ·å¯ä»¥æå‰è°ƒæ•´ï¼Œè€Œä¸æ˜¯å®Œå…¨ä¾èµ–äºå€¾è§’çš„è¢«åŠ¨å“åº”ã€‚</li><li>é€Ÿåº¦ç¯é€šè¿‡å¢åŠ æˆ–å‡å°‘å°è½¦çš„æ•´ä½“é€Ÿåº¦ï¼ŒåŠ é€Ÿè¾¾åˆ°ç›´ç«‹ç¯è®¡ç®—çš„ç›®æ ‡å€¾æ–œè§’åº¦ï¼Œä»è€ŒåŠ å¿«ç³»ç»Ÿå¯¹å¤±è¡¡çŠ¶æ€çš„å“åº”ã€‚</li></ul><h3 id="ä¸²çº§PIDä¸å¹¶çº§PIDçš„åŒºåˆ«"><a href="#ä¸²çº§PIDä¸å¹¶çº§PIDçš„åŒºåˆ«" class="headerlink" title="ä¸²çº§PIDä¸å¹¶çº§PIDçš„åŒºåˆ«"></a>ä¸²çº§PIDä¸å¹¶çº§PIDçš„åŒºåˆ«</h3><p>å°½ç®¡åœ¨æœ€ç»ˆè¾“å‡ºä¸Šï¼Œä¸²çº§å’Œå¹¶çº§PIDå¯èƒ½çœ‹èµ·æ¥ç±»ä¼¼ï¼ˆéƒ½æ˜¯è°ƒæ•´PWMä¿¡å·ï¼‰ï¼Œä½†æ§åˆ¶é€»è¾‘å’Œç³»ç»Ÿçš„å†…éƒ¨åŠ¨æ€æœ‰æœ¬è´¨çš„ä¸åŒï¼š</p><ol><li><strong>ä¸²çº§PID</strong>ï¼š</li></ol><ul><li>åœ¨ä¸²çº§PIDä¸­ï¼Œå¤–ç¯ï¼ˆé€Ÿåº¦ç¯æˆ–ä½ç½®ç¯ï¼‰çš„è¾“å‡ºæ˜¯å†…ç¯ï¼ˆç›´ç«‹ç¯ï¼‰çš„è¾“å…¥ã€‚è¿™æ„å‘³ç€å¤–ç¯è®¾å®šäº†ä¸€ä¸ªç›®æ ‡å€¾æ–œè§’åº¦ï¼Œç›´ç«‹ç¯æ ¹æ®è¿™ä¸ªç›®æ ‡å€¾æ–œè§’åº¦è°ƒæ•´PWMè¾“å‡ºä»¥å°è¯•è¾¾åˆ°è¿™ä¸ªå€¾è§’ã€‚</li><li>è¿™ç§å±‚çº§ç»“æ„ä½¿å¾—æ¯ä¸ªç¯å¯ä»¥ä¸“æ³¨äºä¸€ä¸ªå…·ä½“çš„æ§åˆ¶ç›®æ ‡ï¼Œå¦‚é€Ÿåº¦ç¯æ§åˆ¶è¡Œé©¶é€Ÿåº¦ï¼Œç›´ç«‹ç¯ç¡®ä¿å€¾è§’è°ƒæ•´ï¼Œæå‡äº†æ§åˆ¶ç²¾åº¦å’Œç³»ç»Ÿç¨³å®šæ€§ã€‚</li></ul><ol start="2"><li><strong>å¹¶çº§PID</strong>ï¼š</li></ol><ul><li>åœ¨å¹¶çº§PIDä¸­ï¼Œç›´ç«‹ç¯å’Œé€Ÿåº¦ç¯å„è‡ªç‹¬ç«‹è®¡ç®—å„è‡ªçš„æ§åˆ¶ä¿¡å·ï¼ˆPWMï¼‰ï¼Œç„¶åå°†è¿™äº›ä¿¡å·åˆå¹¶åº”ç”¨åˆ°é©±åŠ¨ç³»ç»Ÿã€‚æ¯ä¸ªç¯å¯¹æœ€ç»ˆçš„é©±åŠ¨ä¿¡å·ç›´æ¥è´¡çŒ®ï¼Œæ— é¡»é€šè¿‡å¦ä¸€ä¸ªç¯çš„ä¸­ä»‹ã€‚</li><li>è¿™ç§ç»“æ„ç®€åŒ–äº†æ§åˆ¶ç³»ç»Ÿçš„è®¾è®¡ï¼Œä½†å¯èƒ½é™ä½äº†æ§åˆ¶çš„å‡†ç¡®æ€§å’Œååº”çš„åè°ƒæ€§ï¼Œå› ä¸ºå„ç¯çš„è¾“å‡ºå¯èƒ½åœ¨æ²¡æœ‰è¶³å¤Ÿåè°ƒçš„æƒ…å†µä¸‹ç›´æ¥å åŠ ã€‚</li></ul></blockquote><h1 id="æ²¡å…³ç³»-å²æœˆè¿˜é•¿-æœ‰äº›é—®é¢˜å¯ä»¥æ…¢æ…¢æƒ³"><a href="#æ²¡å…³ç³»-å²æœˆè¿˜é•¿-æœ‰äº›é—®é¢˜å¯ä»¥æ…¢æ…¢æƒ³" class="headerlink" title="æ²¡å…³ç³»,å²æœˆè¿˜é•¿,æœ‰äº›é—®é¢˜å¯ä»¥æ…¢æ…¢æƒ³"></a>æ²¡å…³ç³»,å²æœˆè¿˜é•¿,æœ‰äº›é—®é¢˜å¯ä»¥æ…¢æ…¢æƒ³</h1><p><a href="https://www.bilibili.com/video/BV1H7411k76N?vd_source=f525a47bd6d8cb5b154158289da1d4d4">å¹³è¡¡å°è½¦çš„ä»£ç æ¡†æ¶â€”â€”ä»£ç å¼€æº-ç¬¬3.1èŠ‚</a></p><h3 id="å¹¶çº§PID"><a href="#å¹¶çº§PID" class="headerlink" title="å¹¶çº§PID"></a>å¹¶çº§PID</h3><p>å…¶å®è¿™ä¸ªå¹¶çº§PID ,ç›¸å½“äºäºŒå…ƒå‡½æ•°,ä¸¤ä¸ªKPå¯¹åº”çº¿æ€§å…³ç³»,è¾“å‡ºPWM,è¯·é—®å¯¹å—</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">æ˜¯çš„ï¼Œä½ çš„ç†è§£æ˜¯æ­£ç¡®çš„ã€‚åœ¨è¿™ä¸ªå¹¶çº§PIDæ§åˆ¶ç³»ç»Ÿä¸­ï¼Œå¯ä»¥å°†å…¶è§†ä¸ºä¸€ä¸ªå¤„ç†ä¸¤ä¸ªè¾“å…¥å˜é‡çš„äºŒå…ƒå‡½æ•°ï¼Œå…¶ä¸­æ¯ä¸ªå˜é‡åˆ†åˆ«é€šè¿‡è‡ªå·±çš„PIDæ§åˆ¶å™¨å¤„ç†ã€‚è¿™é‡Œçš„ä¸¤ä¸ªå˜é‡æ˜¯å°è½¦çš„è§’åº¦ï¼ˆç›´ç«‹ç¯ï¼‰å’Œé€Ÿåº¦ï¼ˆé€Ÿåº¦ç¯ï¼‰ï¼Œæ¯ä¸ªç¯éƒ½æœ‰è‡ªå·±çš„æ¯”ä¾‹ç³»æ•°ï¼ˆKpï¼‰ï¼Œç§¯åˆ†ç³»æ•°ï¼ˆKiï¼‰ä»¥åŠå¾®åˆ†ç³»æ•°ï¼ˆKdï¼‰ï¼ˆè™½ç„¶åœ¨é€Ÿåº¦ç¯çš„ä»£ç ç¤ºä¾‹ä¸­æ²¡æœ‰å±•ç¤ºå¾®åˆ†æ§åˆ¶ï¼‰ã€‚&#x2F;&#x2F;è§£æå¹¶çº§PIDåœ¨å¹¶çº§PIDä¸­ï¼Œæ¯ä¸ªæ§åˆ¶ç¯ç‹¬ç«‹åœ°è®¡ç®—å…¶PIDè¾“å‡ºï¼Œç„¶åå°†è¿™äº›è¾“å‡ºåˆå¹¶ä»¥å½¢æˆæœ€ç»ˆçš„æ§åˆ¶ä¿¡å·ï¼ˆå¦‚PWMï¼‰ã€‚åœ¨ä½ æåˆ°çš„ä¾‹å­ä¸­ï¼Œè¿™ç§åˆå¹¶æ˜¯ç®€å•çš„ç®—æœ¯åŠ æ³•ï¼Œå³ï¼šæ¯ä¸ªæ§åˆ¶ç¯é€šè¿‡å…¶æ¯”ä¾‹ï¼ˆKpï¼‰ã€ç§¯åˆ†ï¼ˆKiï¼‰ã€å’Œå¾®åˆ†ï¼ˆKdï¼‰å‚æ•°ç‹¬ç«‹å“åº”å…¶æ§åˆ¶å˜é‡çš„åå·®ï¼Œè¿™æ ·çš„è®¾è®¡ä½¿å¾—ç³»ç»Ÿå¯ä»¥çµæ´»è°ƒæ•´å¯¹ä¸åŒç±»å‹è¯¯å·®çš„å“åº”ã€‚è¿™é‡Œçš„å…³é”®æ˜¯ï¼Œ**è™½ç„¶æ¯ä¸ªç¯çš„è¾“å‡ºæ˜¯ç‹¬ç«‹è®¡ç®—çš„ï¼Œä½†åœ¨æœ€ç»ˆçš„æ‰§è¡ŒåŠ¨ä½œä¸Šï¼ˆå¦‚é©±åŠ¨ç”µæœºçš„PWMä¿¡å·ï¼‰æ˜¯ç›¸äº’å½±å“çš„**&#x2F;&#x2F;ç‰¹ç‚¹ä¸åº”ç”¨çµæ´»æ€§é«˜ï¼šå¯ä»¥ç‹¬ç«‹è°ƒæ•´å¯¹è§’åº¦å’Œé€Ÿåº¦æ§åˆ¶çš„æ•æ„Ÿåº¦å’Œå“åº”ç‰¹æ€§ï¼Œä½¿å…¶é€‚åº”ä¸åŒçš„è¿è¡Œæ¡ä»¶å’Œæ€§èƒ½è¦æ±‚ã€‚ç®€åŒ–è°ƒè¯•ï¼šè°ƒè¯•æ—¶å¯ä»¥åˆ†åˆ«ä¼˜åŒ–æ¯ä¸ªæ§åˆ¶ç¯ï¼Œè€Œä¸å¿…æ‹…å¿ƒå…¶ç›¸äº’ä½œç”¨ï¼Œç®€åŒ–äº†è°ƒè¯•è¿‡ç¨‹ã€‚ç„¶è€Œï¼Œè¿™ä¹Ÿå¯èƒ½å¯¼è‡´ä¸€äº›æŒ‘æˆ˜ï¼šç›¸äº’å½±å“ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œä¸¤ä¸ªæ§åˆ¶ç¯çš„è¾“å‡ºå¯èƒ½ä¼šç›¸äº’å½±å“ï¼Œç‰¹åˆ«æ˜¯åœ¨ç³»ç»ŸåŠ¨æ€å˜åŒ–è¾ƒå¤§æ—¶ï¼Œéœ€è¦ä»”ç»†è°ƒæ•´å‚æ•°ä»¥é¿å…å†²çªã€‚æ€»çš„æ¥è¯´ï¼Œä½ çš„ç†è§£æ˜¯å‡†ç¡®çš„ï¼Œè¿™ç§å¹¶çº§PIDæ§åˆ¶æ–¹å¼é€šè¿‡ç‹¬ç«‹çš„çº¿æ€§å…³ç³»ï¼ˆå„è‡ªçš„PIDç¯ï¼‰åˆå¹¶è¾“å‡ºï¼Œå…±åŒå†³å®šäº†æœ€ç»ˆçš„æ§åˆ¶è¡Œä¸ºã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¹¶çº§è¿™é‡Œé€Ÿåº¦ç¯æ˜¯ç”¨æ¥æé«˜ç›´ç«‹ç¯çš„è¾“å‡º,ä»è€Œæé«˜è¿™ä¸ªç³»ç»Ÿçš„å“åº”é€Ÿåº¦, é‚£æˆ‘ç›´æ¥å¢åˆ°ç›´ç«‹ç¯çš„kpä¸è¡Œå—</p><h2 id="è°ƒå‚"><a href="#è°ƒå‚" class="headerlink" title="è°ƒå‚"></a>è°ƒå‚</h2><h2 id="pidè°ƒèŠ‚è¿‡ç¨‹åŠæ–¹æ³•"><a href="#pidè°ƒèŠ‚è¿‡ç¨‹åŠæ–¹æ³•" class="headerlink" title="pidè°ƒèŠ‚è¿‡ç¨‹åŠæ–¹æ³•"></a>pidè°ƒèŠ‚è¿‡ç¨‹åŠæ–¹æ³•</h2><h3 id="è°ƒå‚æ­¥éª¤ï¼š"><a href="#è°ƒå‚æ­¥éª¤ï¼š" class="headerlink" title="è°ƒå‚æ­¥éª¤ï¼š"></a>è°ƒå‚æ­¥éª¤ï¼š</h3><blockquote><p>1.ç¡®ç«‹æœºæ¢°ä¸­å€¼ã€‚<br>2.ç›´ç«‹ç¯ï¼ˆå†…ç¯ï¼‰â€”Kpææ€§ã€Kpå¤§å°ã€‚Kdææ€§ã€Kdå¤§å°ã€‚<br>3.é€Ÿåº¦ç¯ï¼ˆå¤–ç¯ï¼‰â€”â€”Kp&amp;Kiææ€§ã€Kp&amp;Kiå¤§å°ã€‚<br>4.è½¬å‘ç¯â€”â€”ç³»æ•°ææ€§ã€ç³»æ•°å¤§å°ã€‚</p></blockquote><h4 id="æœºæ¢°ä¸­å€¼ï¼š"><a href="#æœºæ¢°ä¸­å€¼ï¼š" class="headerlink" title="æœºæ¢°ä¸­å€¼ï¼š"></a>æœºæ¢°ä¸­å€¼ï¼š</h4><p>æŠŠå¹³è¡¡å°è½¦æ”¾åœ¨åœ°é¢ä¸Šï¼Œä»å‰å‘åä»¥åŠä»åå‘å‰ç»•ç”µæœºè½´æ—‹è½¬å¹³è¡¡å°è½¦ï¼Œä¸¤æ¬¡çš„å‘å¦ä¸€è¾¹å€’ä¸‹çš„è§’åº¦çš„ä¸­å€¼ï¼Œå°±æ˜¯æœºæ¢°ä¸­å€¼ã€‚</p><h4 id="ç›´ç«‹ç¯"><a href="#ç›´ç«‹ç¯" class="headerlink" title="ç›´ç«‹ç¯"></a>ç›´ç«‹ç¯</h4><p>Kpææ€§ï¼š</p><blockquote><p>ææ€§é”™è¯¯ï¼šå°è½¦å¾€å“ªè¾¹å€’ï¼Œè½¦è½®å°±å¾€åæ–¹å‘å¼€ï¼Œä¼šä½¿å¾—å°è½¦åŠ é€Ÿå€’ä¸‹ã€‚<br>ææ€§æ­£ç¡®ï¼šå°è½¦å¾€å“ªè¾¹å€’ï¼Œè½¦è½®å°±å¾€å“ªè¾¹å¼€ï¼Œä»¥ä¿è¯å°è½¦æœ‰ç›´ç«‹çš„è¶‹åŠ¿ã€‚<br>Kpå¤§å°ï¼š<br>Kpä¸€ç›´å¢åŠ ï¼Œç›´åˆ°å‡ºç°å¤§å¹…ä½é¢‘éœ‡è¡ã€‚<br>Kdææ€§ï¼š()è°ƒè¯•kdæ—¶,kpæš‚æ—¶è®¾ä¸º0()<br>ææ€§é”™è¯¯ï¼šæ‹¿èµ·å°è½¦ç»•ç”µæœºè½´æ—‹è½¬ï¼Œè½¦è½®åå‘è½¬åŠ¨ï¼Œæ— è·Ÿéšã€‚<br>ææ€§æ­£ç¡®ï¼šæ‹¿èµ·å°è½¦ç»•ç”µæœºè½´æ—‹è½¬ï¼Œè½¦è½®åŒå‘è½¬åŠ¨ï¼Œæœ‰è·Ÿéšã€‚</p><p><strong>ï¼ˆé‚£ä¹ˆè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿï¼‰</strong></p><p>Kdå¤§å°ï¼š<br>Kdä¸€ç›´å¢åŠ ï¼Œç›´åˆ°å‡ºç°é«˜é¢‘éœ‡è¡ã€‚</p></blockquote><p>ç›´ç«‹ç¯è°ƒè¯•å®Œæ¯•åï¼Œå¯¹æ‰€æœ‰ç¡®ç«‹çš„å‚æ•°ä¹˜ä»¥0.6ä½œä¸ºæœ€ç»ˆå‚æ•°ã€‚<br>åŸå› ï¼šä¹‹å‰å¾—åˆ°çš„å‚æ•°éƒ½æ˜¯Kpã€Kdæœ€å¤§å€¼ï¼Œæ ¹æ®å·¥ç¨‹ç»éªŒå¹³è¡¡å°è½¦çš„ç†æƒ³å‚æ•°ä¸ºæœ€å¤§å‚æ•°ä¹˜ä»¥0.6æ±‚å¾—ã€‚<br>ç»“æœï¼šä¹˜ä»¥0.6åï¼Œå°è½¦çš„æŠ–åŠ¨æ¶ˆå¤±ï¼Œä½†åŒæ—¶ç›´ç«‹æ•ˆæœä¹Ÿå˜å·®ã€‚å¾…ä¸‹é¢åŠ å…¥é€Ÿåº¦ç¯å°±èƒ½å¾—åˆ°æ›´å¥½çš„æ€§èƒ½ã€‚</p><h4 id="é€Ÿåº¦ç¯"><a href="#é€Ÿåº¦ç¯" class="headerlink" title="é€Ÿåº¦ç¯"></a>é€Ÿåº¦ç¯</h4><p>é€Ÿåº¦ç¯å‚æ•°è°ƒèŠ‚å‰æ³¨æ„ï¼š</p><ul><li>åœ¨è°ƒè¯•<code>é€Ÿåº¦ç¯å‚æ•°ææ€§æ—¶</code>ï¼šéœ€è¦å»æ‰ï¼ˆæ³¨é‡Šæ‰ï¼‰<code>ç›´ç«‹ç¯è¿ç®—</code></li><li>åœ¨è°ƒè¯•<code>é€Ÿåº¦ç¯å‚æ•°å¤§å°</code>æ—¶ï¼šå†æ¬¡å¼•å…¥ï¼ˆå–æ¶ˆæ³¨é‡Šï¼‰<code>ç›´ç«‹ç¯è¿ç®—</code></li></ul><blockquote><p> <code>è½¬å‘ç¯è¿ç®—</code>å§‹ç»ˆæ˜¯å»æ‰ï¼ˆæ³¨é‡Šï¼‰çš„ä¸€ä¸ªçŠ¶æ€ã€‚è‹¥è½¬å‘ç¯å·²æå‰å°†å‚æ•°è°ƒè¯•å¥½ï¼Œåˆ™æœªæ³¨é‡Šä¹Ÿå½±å“ä¸å¤§ã€‚<br>Kp&amp;Kiï¼š</p><p>çº¿æ€§å…³ç³»ã€Ki&#x3D;(1&#x2F;200)*Kpã€ä»…è°ƒKpå³å¯ã€‚</p></blockquote><ul><li><p>Kp&amp;Kiææ€§ï¼š<br>ææ€§é”™è¯¯ï¼šæ‰‹åŠ¨è½¬åŠ¨å…¶ä¸­ä¸€ä¸ªè½¦è½®ï¼Œå¦ä¸€è½¦è½®ä¼šä»¥åŒæ ·é€Ÿåº¦åå‘æ—‹è½¬â€”â€”å…¸å‹è´Ÿåé¦ˆã€‚<br>ææ€§æ­£ç¡®ï¼šæ‰‹åŠ¨è½¬åŠ¨å…¶ä¸­ä¸€ä¸ªè½¦è½®ï¼Œä¸¤ä¸ªè½¦ä¼¦ä¼šåŒå‘åŠ é€Ÿï¼Œç›´è‡³ç”µæœºæœ€å¤§é€Ÿåº¦â€”â€”å…¸å‹æ­£åé¦ˆã€‚</p></li><li><p>Kp&amp;Kiå¤§å°ï¼š<br>å¢åŠ Kp&amp;Kiï¼Œç›´è‡³ï¼šå°è½¦ä¿æŒå¹³è¡¡çš„åŒæ—¶ï¼Œé€Ÿåº¦æ¥è¿‘äºé›¶ã€‚ä¸”å›ä½æ•ˆæœè¾ƒå¥½ã€‚</p></li></ul><h4 id="è½¬å‘ç¯"><a href="#è½¬å‘ç¯" class="headerlink" title="è½¬å‘ç¯"></a>è½¬å‘ç¯</h4><ul><li>Kpææ€§ï¼š<br>ææ€§é”™è¯¯ï¼šæ‹¿èµ·å°è½¦ï¼Œå¹¶å°†å°è½¦ç»•Zè½´æ—‹è½¬ï¼Œä¸¤è½¦è½®æ—‹è½¬çš„è¶‹åŠ¿ä¸å°è½¦æ—‹è½¬è¶‹åŠ¿ä¸€è‡´â€”â€”å…¸å‹æ­£åé¦ˆã€‚<br>ææ€§æ­£ç¡®ï¼šæ‹¿èµ·å°è½¦ï¼Œå¹¶å°†å°è½¦ç»•Zè½´æ—‹è½¬ï¼Œä¸¤è½¦è½®æ—‹è½¬çš„è¶‹åŠ¿ä¸å°è½¦æ—‹è½¬è¶‹åŠ¿ç›¸åâ€”â€”å…¸å‹è´Ÿåé¦ˆã€‚</li><li>Kpå¤§å°ï¼š<br>åŠ å¤§Kpï¼Œç›´è‡³èµ°ç›´çº¿æ•ˆæœè¾ƒå¥½ï¼Œä¸”æ— å‰§çƒˆæŠ–åŠ¨ã€‚</li></ul><h2 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><ol><li>åœ¨ç”µæºæ‰“å¼€çš„æƒ…å†µä¸‹,è¯•å›¾æ‹”ç”µæœºçº¿,ç»“æœæ¿å­çƒ§äº†,ä¸çŸ¥é“åŸå› ,åˆä¹°äº†ä¸€å—,æˆ‘ä»¥ä¸ºåªæ˜¯åº•æ¿å’Œæ ¸å¿ƒæ¿çƒ§äº†,å…¶ä»–çš„å…ƒå™¨ä»¶éƒ½æ˜¯å¥½çš„,ç»“æœåˆçƒ§äº†(å…¶ä»–å…ƒå™¨ä»¶ä¹Ÿæ˜¯åçš„),æŸå¤±äº¿ç‚¹ç‚¹,<code>ä¹‹åæ‰€æœ‰çš„æ‹”çº¿æ’çº¿æ“ä½œæˆ‘éƒ½å…³é—­ç”µæºè¿›è¡Œ</code></li><li><code>è“ç‰™ä¸²å£å‘é€çš„æ•°æ®ä¸æ”¶åˆ°çš„æ•°æ®ä¸ç¬¦</code>,æ”¶åˆ°çš„æ•°æ®ä¸ºascç +å›è½¦çš„ascç ,ä¹Ÿå°±æ˜¯å‘é€1æ”¶åˆ°48,13,<br>è§£å†³:</li></ol><blockquote><p>ä»£ç æ˜¯if(data&#x3D;&#x3D;0x01),æˆ‘å‘é€çš„æ•°æ®ä¹Ÿæ˜¯0x01,å®é™…ä¸Š,å‰é¢çš„0xè¡¨ç¤ºçš„æ˜¯16è¿›åˆ¶,æˆ‘åªéœ€è¦å‘é€1å°±å¯ä»¥äº†,(å¦åˆ™å°±æ˜¯åå…­è¿›åˆ¶å‘é€å››ä¸ªå­—ç¬¦)å¦å¤–ä»£ç æ˜¯if(data&#x3D;&#x3D;1),ä¹Ÿæ²¡ååº”,å› ä¸ºå­—ç¬¦éœ€è¦åŠ å¼•å·,å³â€™1â€™<br>æ¯”å¦‚è¯´75 &#x2F;16&#x3D;4â€¦..11<br>11æ˜¯b,æ‰€ä»¥<code>75åŒ–æˆåå…­è¿›åˆ¶æ˜¯4b</code>,<code>å†™ä½œ0x4b</code>æˆ–4BH<br>4.ç›®å‰é‡åˆ°çš„é—®é¢˜:<br>oledé—ªå±<br>åŸå› :I2Cåˆ·æ–°é¢‘ç‡å¤ªä½,å¯¼è‡´å±å¹•ä¸€é—ªä¸€é—ªçš„,spié€šä¿¡æ²¡æœ‰é‡åˆ°è¿™ä¸ªé—®é¢˜<br>1ï¼Œåˆ·å±æ–¹å¼æœ‰æ²¡æœ‰é—®é¢˜ï¼Œåˆ·å®Œç¬¬ä¸€å±ï¼Œä¸ç”¨æ¸…å±ï¼Œæ¥ç€åˆ·ç¬¬äºŒå±ï¼Œå¯ä»¥å‡å°‘é—ªçƒæ„Ÿ</p></blockquote><ol start="2"><li><p>iicé€šä¿¡é€Ÿåº¦è°ƒå¿«ç‚¹ï¼Œiic é€šä¿¡è·³åˆ°1mbpsè¯•è¯•</p></li><li><p>æ‰“ç‚¹æ–¹å¼æ˜¯ä¸æ˜¯æœ€å¿«çš„ï¼Œå±å¹•å¯ä»¥iicè¿ç»­å†™å…¥æ–¹å¼ï¼Œä¸€ä¸ªå¯å§‹ä¿¡å·åé¢è·Ÿå°½å¯èƒ½å¤šçš„å†™å…¥æ•°æ®ã€‚ä¸€ä¸ªå¯ç¤ºä¸€ä¸ªæ•°æ®ï¼Œè¿™æ ·æ‰“ç‚¹ä¹Ÿä¼šæ…¢å¾ˆå¤š</p></li><li><p>åˆ·æ–°é¢‘ç‡ä¸å¤Ÿï¼Œä½ å¯ä»¥å°è¯•æé«˜åˆ·æ–°å±å¹•çš„ä»»åŠ¡çš„ä¼˜å…ˆçº§</p></li><li><p>æ¸…å±å¤ªå¿«ï¼Ÿåˆšå†™å®Œæ˜¾ç¤ºç„¶åä¸åŠ å»¶æ—¶å°±æ¸…å±ä¼šé—ªçƒçš„ï¼ŒOLED å±å¹•æ˜¯é™æ€æ˜¾ç¤ºçš„ï¼Œä¸é‡æ–°å†™å…¥æ•°æ®æ˜¯ä¸ä¼šæ›´æ–°æ˜¾ç¤ºçš„ï¼Œé—ªçƒä¹Ÿæœ‰å¯èƒ½æ˜¯åœ¨åŒä¸€ä½ç½®æ•°æ®åˆ·æ–°è¿‡å¿«ï¼Œæ£€æŸ¥ä¸€éç¨‹åº</p></li><li><p>æœ‰å¯èƒ½ä½ å¯¹å±å¹•è¿›è¡Œäº†å†™å…¥æ“ä½œ ä½†æ˜¯è¿™ä¸ªæ“ä½œä¸æ˜¯è¿ç»­å®Œæˆçš„  è¢«å…¶ä»–ä»»åŠ¡ä¸­æ–­äº†</p></li><li><p>åˆ·æ–°çš„æ—¶é—´å¤ªé•¿äº†ï¼Œå¯èƒ½ä½ çš„åˆ·æ–°æ“ä½œè¢«ä¸­æ–­æ‰“æ–­è€Œä¸­æ–­åˆå ç”¨æ—¶é—´æ¯”è¾ƒé•¿</p></li><li><p>åˆ·æ–°ç‡ä¸å¤Ÿ,ä¼°è®¡æ˜¯å»¶æ—¶ç”¨å¤šäº†</p></li><li><p>iicæ•°æ®ä¼ è¾“çš„é€Ÿåº¦å¤ªæ…¢äº†å¯èƒ½ï¼Œå¦‚æœä¼ è¾“é€Ÿåº¦æ²¡é—®é¢˜å¯ä»¥çœ‹çœ‹æœ‰æ²¡æœ‰åˆ«çš„ä»»åŠ¡å ç”¨å¤§é‡çš„èµ„æºã€‚</p><blockquote><p><a href="https://www.icxbk.com/ask/detail/11888.html?page=2">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/weixin_44457994/article/details/122116964?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5-122116964-blog-123651067.pc_relevant_aa_2&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-5-122116964-blog-123651067.pc_relevant_aa_2&utm_relevant_index=10">å‚è€ƒèµ„æ–™</a><br>æ¥ä¸‹æ¥:æ‰¾åˆ°æé«˜åˆ·æ–°ç‡çš„æ–¹æ³•<br>1.mpu6050ç”¨ç¡¬ä»¶iic oledç”¨è½¯ä»¶iic<br>2.å…ˆå°è¯•åªè®©mpu6050æ˜¾ç¤ºåœ¨oledä¸Š</p></blockquote><h3 id="MPU6050-1"><a href="#MPU6050-1" class="headerlink" title="MPU6050"></a>MPU6050</h3></li></ol><pre class="line-numbers language-c" data-language="c"><code class="language-c">void MPU6050_EXIT_Init(void)&#123;  EXTI_InitTypeDef EXTI_InitStructure;  GPIO_InitTypeDef GPIO_InitStructure;  NVIC_InitTypeDef NVIC_InitStructure;                                              &#x2F;&#x2F;1.ä¸åŠ ä¼˜å…ˆçº§,æ— æ³•æ˜¾ç¤ºæ•°æ® &#x2F;&#x2F;2.ä¸ºä»€ä¹ˆè®¾ç½®äº†kpå€¼,å°è½¦æ²¡ååº”-&gt;å› ä¸ºç„å­¦,é‡å»ºæ–‡ä»¶å¤¹å¤åˆ¶è¿›å»å°±å¥½äº†,ä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸»æ§å‡ºé—®é¢˜äº† RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA,ENABLE);  &#x2F;&#x2F;ä½¿èƒ½å®šæ—¶å™¨PBçš„æ—¶é’Ÿ RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO,ENABLE);   &#x2F;&#x2F;å¤–éƒ¨ä¸­æ–­ï¼Œéœ€è¦ä½¿èƒ½AFIOæ—¶é’Ÿ                                        &#x2F;&#x2F;3.æ”¹oledè¦æ”¹.cåˆå§‹åŒ–è®¾ç½®,.hå¼•è„šå®šä¹‰ &#x2F;&#x2F;4.æ”¹mpuè¦æ”¹.cåˆå§‹åŒ–,.hå¼•è„šè®¾ç½®,ä½†æ˜¯å› ä¸ºç”¨åˆ°äº†intä¸­æ–­å¼•è„š,æ‰€ä»¥è¿˜è¦å»æ”¹intä¸­æ–­å¼•è„šçš„åˆå§‹åŒ–.c,.hæœºçš„éƒ½è¦æ”¹&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>3.bluetooth(usart)å‡ºç°ç”µè„‘å‘é€çš„çš„æ•°æ®å’Œå•ç‰‡æœºæ”¶åˆ°çš„æ•°æ®ä¸ç¬¦çš„é—®é¢˜</p><blockquote><p>1.å¯èƒ½çš„åŸå› ,æ•°æ®ä½ä¸æ˜¯8ä½<br>2.æ™¶æŒ¯é—®é¢˜,æ³¢ç‰¹ç‡é—®é¢˜</p></blockquote><p>4.ç„å­¦é—®é¢˜<br>åŒæ ·çš„ä»£ç ,å…¶ä¸­ä¸€ä¸ªå°±æ˜¯ä¸å¥½ä½¿,ä»å¦ä¸€ä¸ªå·¥ç¨‹å¤åˆ¶è¿‡æ¥çš„å°±å¥½ä½¿,ç„¶åæˆ‘æŠŠæ–‡ä»¶å¤¹åˆ äº†é‡æ–°å¤åˆ¶äº†.c,.hæ–‡ä»¶,ä½ çŒœæ€ä¹ˆç€,èª’,å¥½ä½¿äº†,è„‘ä»éƒ½è¦æ°”æ²¡äº†</p><p>5.å‡ºç°é—®é¢˜çš„æ£€æŸ¥æ­¥éª¤</p><ul><li>1.çœ‹ä¸‹ä»£ç æœ‰æ²¡æœ‰å¼•è„šç”¨é”™çš„é—®é¢˜</li><li>2.çœ‹çœ‹ç¡¬ä»¶æœ‰æ²¡æœ‰æ¥çº¿é”™è¯¯ä»€ä¹ˆçš„,æ¢ä¸ªç¡¬ä»¶è¯•ä¸€ä¸‹å¥½ä½¿ä¸(å› ä¸ºæœ‰çš„ç¡¬ä»¶ä»–åäº†ä½†æ˜¯æ²¡å®Œå…¨å,ä»–åªæ˜¯è¿™ä¸ªåŠŸèƒ½ä¸èƒ½ç”¨äº†,ä¹Ÿç›¸å½“äºåäº†)</li><li>3.ä»”ç»†æ£€æŸ¥ç¨‹åº,æ©,å°±æ˜¯ä¸åœçš„è¯•é”™å§(ç…ç†¬çš„è¿‡ç¨‹)</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p>ã€å¹³è¡¡å°è½¦åœ¨çº¿ç¼–ç¨‹è¯¾ç¨‹è§†é¢‘ï¼ˆ1~3èŠ‚åˆé›†ç‰ˆæœ¬ï¼‰ï¼ˆ2æœˆ12æ—¥æ›´æ–°ï¼‰ã€‘<a href="https://www.bilibili.com/video/BV1j7411z7uX?p=3&vd_source=f525a47bd6d8cb5b154158289da1d4d4">https://www.bilibili.com/video/BV1j7411z7uX?p=3&amp;vd_source=f525a47bd6d8cb5b154158289da1d4d4</a></p><p><a href="">æ•™ç¨‹</a><br>æ„Ÿè°¢å¤§ä½¬â€™å¤©ä¸‹è¡Œèµ°â€™<br><a href="https://blog.csdn.net/Fanxy__/article/details/123113682?spm=1001.2101.3001.6650.9&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-9-123113682-blog-113866015.pc_relevant_multi_platform_whitelistv2_ad_hc&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-9-123113682-blog-113866015.pc_relevant_multi_platform_whitelistv2_ad_hc&utm_relevant_index=12">å‚è€ƒæ–‡ç« </a>    </p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F103 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nonebot2çš„æ’ä»¶ç¼–å†™</title>
      <link href="/2022/06/15/19p-nonebot2-plugin/"/>
      <url>/2022/06/15/19p-nonebot2-plugin/</url>
      
        <content type="html"><![CDATA[<h2 id="æˆ‘çš„ç¬¬ä¸€ä¸ªæ’ä»¶-ping"><a href="#æˆ‘çš„ç¬¬ä¸€ä¸ªæ’ä»¶-ping" class="headerlink" title="æˆ‘çš„ç¬¬ä¸€ä¸ªæ’ä»¶-ping"></a>æˆ‘çš„ç¬¬ä¸€ä¸ªæ’ä»¶-ping</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">import requestsimport nonebotimport httpximport jsonfrom nonebot import on_commandfrom nonebot.matcher import Matcherfrom nonebot.params import ArgPlainText, CommandArgfrom fastapi import FastAPIfrom nonebot.rule import to_mefrom nonebot.typing import T_Statefrom nonebot.adapters import Bot, Eventfrom nonebot.permission import SUPERUSERfrom nonebot.adapters import Messageping &#x3D; on_command(&quot;ping &quot;, aliases&#x3D;&#123;&quot;p&quot;, &quot;pingg&quot;&#125;, priority&#x3D;10)     @ping.handle()async def ip_address(event: Event,matcher: Matcher, args: Message &#x3D; CommandArg()):    ip &#x3D; str(event.get_message()).strip(&quot;&#x2F;ping &quot;) #strip å‰¥ç¦»       #if args:        #return    #async with httpx.AsyncClient() as client:        #response &#x3D; await client.get(f&quot;https:&#x2F;&#x2F;api.iyk0.cn&#x2F;api&#x2F;ip?ip&#x3D;&#123;ip&#125;&quot;)    #if response.is_error:        #logger.error(&quot;è·å–ä¿¡æ¯å¤±è´¥&quot;)        #return    #data &#x3D; response.json()    headers&#x3D;&#123;     &quot;user-agent&quot;: &quot;Mozilla&#x2F;5.0 (Linux; Android 6.0; Nexus 5 Build&#x2F;MRA58N) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;106.0.0.0 Mobile Safari&#x2F;537.36 Edg&#x2F;106.0.1370.52&quot;    &#125;    url &#x3D; f&quot;https:&#x2F;&#x2F;api.iyk0.cn&#x2F;api&#x2F;ip?ip&#x3D;&#123;ip&#125;&quot;       resp &#x3D; requests.get(url, headers&#x3D; headers)    resp.encoding &#x3D; &#39;utf-8&#39;    #resp &#x3D; resp.text      #retdata &#x3D; json.loads(resp.text)    #msp &#x3D; str(resp.json())    retdata &#x3D; resp.json()        data &#x3D;&#123;    &quot;code&quot;: retdata[&#39;code&#39;],    &quot;country&quot;: retdata[&#39;data&#39;][&#39;country&#39;],      &quot;city&quot;: retdata[&#39;data&#39;][&#39;city&#39;],    &quot;lon&quot;: retdata[&#39;data&#39;][&#39;lon&#39;],    &quot;lat&quot;: retdata[&#39;data&#39;][&#39;lat&#39;],   &#125;   #data2 &#x3D; json.dumps(data, indent&#x3D;4)    data2 &#x3D;str(&quot;code:&quot;+data[&quot;code&quot;]+&quot;\n&quot;+&quot;å›½å®¶:&quot;+data[&#39;country&#39;]+&quot;\n&quot; +&quot;åŸå¸‚:&quot;+ data[&#39;city&#39;]+&quot;\n&quot;+&quot;ç»åº¦:&quot;+str(data[&quot;lon&quot;])+&quot;\n&quot; +&quot;çº¬åº¦:&quot;+str(data[&#39;lat&#39;]))    #msg &#x3D; data[&#39;data&#39;][&#39;country&#39;]    await ping.finish( data2)               # æå–json å…³é”®æ•°æ®æ–¹æ³•        # ç”¨reså˜é‡æ¥æ”¶ get_urlè¿”å›çš„æ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ç¬¬2è¡Œå¯¼å…¥çš„on_command æ³¨å†Œä¸€ä¸ªæ¶ˆæ¯ç±»å‹çš„å‘½ä»¤å¤„ç†å™¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè®©æœºå™¨äººè¯†åˆ«ä½ çš„å‘½ä»¤éœ€è¦ç”¨åˆ°ä»–ã€‚loggeræ˜¯nb æ—¥å¿—è®°å½•å™¨å¯¹è±¡ã€‚è¯¦è§ï¼š NoneBot.log æ¨¡å—</p></blockquote><h2 id="ä»£ç è¯¦è§£"><a href="#ä»£ç è¯¦è§£" class="headerlink" title="ä»£ç è¯¦è§£"></a>ä»£ç è¯¦è§£</h2><blockquote><p>pingè¡¨ç¤ºå‘½ä»¤å<br>aliases è¡¨ç¤ºå‘½ä»¤åˆ«åï¼Œå³ pã€pinggã€ éƒ½ä¼šå“åº”è¿™ä¸ªäº‹ä»¶<br>priorityè¡¨ç¤ºä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°è¶Šä¼˜å…ˆ<br>ç¬¬30è¡Œï¼Œç´§æ¥ç€@ping.handle() pingè¢«äº‹ä»¶å“åº”å™¨çš„è£…é¥°å™¨è£…é¥°ä»è€Œæˆä¸ºäº‹ä»¶å“åº”å™¨çš„äº‹ä»¶å¤„ç†å‡½æ•°,<br>handle()æ˜¯ç®€å•çš„ä¸ºäº‹ä»¶å“åº”å™¨æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°†ä¼šåœ¨ä¸Šä¸€ä¸ªå¤„ç†å‡½æ•°æ­£å¸¸è¿”å›æ‰§è¡Œå®Œæ¯•åç«‹å³æ‰§è¡Œã€‚</p></blockquote><blockquote><p>æˆ‘ä»¬åœ¨æ³¨å†Œäº‹ä»¶æ—¶ä¼ å…¥äº†Eventæ•…è¿™é‡Œå¯ä»¥ç›´æ¥ping.send(message&#x3D;xxx),æˆ‘ä»¬ä¹Ÿå¯ä»¥ï¼šbot.send(event&#x3D;event,message&#x3D;xxx)</p></blockquote><blockquote><p>å…¶ä¸­messageå‚æ•°æ˜¯æˆ‘ä»¬è¦å‘é€çš„æ¶ˆæ¯ï¼Œå¯ä»¥æ˜¯çº¯æ–‡æœ¬ message&#x3D;â€ä½ å¥½â€ ï¼Œè¿™é‡Œä½¿ç”¨çš„ MessageSegment æ˜¯nbå¯¹cqåè®®çš„é€‚é…ï¼Œå¯ç”¨äºå‘é€CQç ç­‰ï¼ˆä¸ªäººç†è§£ï¼‰ï¼Œå³</p></blockquote><h3 id="å¦‚æœä½ è¦å‘é€å›¾ç‰‡"><a href="#å¦‚æœä½ è¦å‘é€å›¾ç‰‡" class="headerlink" title="å¦‚æœä½ è¦å‘é€å›¾ç‰‡"></a>å¦‚æœä½ è¦å‘é€å›¾ç‰‡</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">await sixty.send(message&#x3D;MessageSegment.image(img_url))ç­‰ä»·äºï¼ˆä¸æ¨èï¼‰rely&#x3D;[&#123;      &quot;type&quot;: &quot;image&quot;,      &quot;data&quot;: &#123;      &quot;file&quot;: img_url              &#125;&#125;]await sixty.send(message&#x3D;rely)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¦‚æœä½ è¦å‘é€æ–‡æœ¬-å›¾ç‰‡ï¼Œå¦‚ä¸‹å†™æ³•çš†å¯ï¼š"><a href="#å¦‚æœä½ è¦å‘é€æ–‡æœ¬-å›¾ç‰‡ï¼Œå¦‚ä¸‹å†™æ³•çš†å¯ï¼š" class="headerlink" title="å¦‚æœä½ è¦å‘é€æ–‡æœ¬+å›¾ç‰‡ï¼Œå¦‚ä¸‹å†™æ³•çš†å¯ï¼š"></a>å¦‚æœä½ è¦å‘é€æ–‡æœ¬+å›¾ç‰‡ï¼Œå¦‚ä¸‹å†™æ³•çš†å¯ï¼š</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">await sixty.send(message&#x3D;&quot;ä»Šæ—¥æ—©æŠ¥&quot;+MessageSegment.image(img_url))rely&#x3D;[&#123;      &quot;type&quot;: &quot;text&quot;,      &quot;data&quot;: &#123;      &quot;text&quot;: &quot;ä»Šæ—¥æ—©æŠ¥&quot;              &#125;&#125;,&#123;      &quot;type&quot;: &quot;image&quot;,      &quot;data&quot;: &#123;      &quot;file&quot;: img_url              &#125;&#125;]await sixty.send(message&#x3D;rely)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å‘é€æœ¬åœ°å›¾ç‰‡-æš‚æ—¶è¿˜æ²¡ç”¨è¿‡å‘æœ¬åœ°å›¾ç‰‡-ï¼š"><a href="#å‘é€æœ¬åœ°å›¾ç‰‡-æš‚æ—¶è¿˜æ²¡ç”¨è¿‡å‘æœ¬åœ°å›¾ç‰‡-ï¼š" class="headerlink" title="å‘é€æœ¬åœ°å›¾ç‰‡(æš‚æ—¶è¿˜æ²¡ç”¨è¿‡å‘æœ¬åœ°å›¾ç‰‡)ï¼š"></a>å‘é€æœ¬åœ°å›¾ç‰‡(æš‚æ—¶è¿˜æ²¡ç”¨è¿‡å‘æœ¬åœ°å›¾ç‰‡)ï¼š</h3><p>åˆ©ç”¨gocq+nbä½œä¸ºæœºå™¨äººå‘é€æœ¬åœ°å›¾ç‰‡æ—¶ï¼Œè‹¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œè¦è®°å¾— è·¯å¾„æ˜¯ç›¸å¯¹gocqçš„ è€Œä¸æ˜¯ç›¸å¯¹nbé¡¹ç›®çš„</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">await sixty.send(message&#x3D;MessageSegment.image(&quot;file:&#x2F;&#x2F;&#x2F;è·¯å¾„&quot;))rely&#x3D;[&#123;      &quot;type&quot;: &quot;image&quot;,      &quot;data&quot;: &#123;      &quot;file&quot;: &quot;file:&#x2F;&#x2F;&#x2F;è·¯å¾„&quot;              &#125;&#125;]await sixty.send(message&#x3D;rely)è·¯å¾„é—®é¢˜æœ¬äººä¸€èˆ¬ä½¿ç”¨Path:from pathlib import Pathimg_path &#x3D; Path() &#x2F; &quot;xxx.png&quot;# .resolve() è½¬ä¸ºç»å¯¹è·¯å¾„img_path2 &#x3D; img_path.resolve()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>å®é™…ä¸Šå°±æ˜¯çˆ¬å–æ•°æ®,æå–éœ€è¦éƒ¨åˆ†,è°ƒç”¨nonebotå‘é€<br>è¦å­¦ä¼šçˆ¬å–åŠ¨æ€é¡µé¢çš„æ•°æ®</p></blockquote><p>(æ’ä»¶ç¼–å†™å‚è€ƒå¤§ä½¬)[<a href="https://yzyyz.top/archives/nb2b1.html#%E7%BC%96%E5%86%99%E6%8F%92%E4%BB%B6]">https://yzyyz.top/archives/nb2b1.html#%E7%BC%96%E5%86%99%E6%8F%92%E4%BB%B6]</a></p><h2 id="å®šæ—¶å™¨ä»»åŠ¡"><a href="#å®šæ—¶å™¨ä»»åŠ¡" class="headerlink" title="å®šæ—¶å™¨ä»»åŠ¡"></a>å®šæ—¶å™¨ä»»åŠ¡</h2><p>åŸºæœ¬ç¤ºä¾‹</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">import nonebotfrom nonebot import require,get_bots#[nonebotæœ¬æ¨¡å—ä¸»è¦å®šä¹‰äº† NoneBot å¯åŠ¨æ‰€éœ€å‡½æ•°ï¼Œä¾› bot å…¥å£æ–‡ä»¶è°ƒç”¨ã€‚](https:&#x2F;&#x2F;v2.nonebot.dev&#x2F;docs&#x2F;api&#x2F;index#get_bot)#ä½¿ç”¨nonebot.requireæ¨¡å—å¯¼å…¥nonebot_plugin_apschedulerçš„schedulertiming &#x3D; require(&quot;nonebot_plugin_apscheduler&quot;).scheduler#è®¾ç½®åœ¨å‡ ç‚¹å¯åŠ¨è„šæœ¬@timing.scheduled_job(&quot;cron&quot;, hour&#x3D;&#39;22&#39;, minute&#x3D;&#39;56&#39;, id&#x3D;&quot;drink_tea&quot;)#å¯åŠ¨çš„è„šæœ¬async def drink_tea():    bot, &#x3D; get_bots().values()    # å‘é€ä¸€æ¡ç¾¤èŠä¿¡æ¯    await bot.send_msg(        message_type&#x3D;&quot;group&quot;,        group_id&#x3D;123456789,        message&#x3D;&#39;è¿™æ˜¯ä¸€æ¡ç¾¤èŠä¿¡æ¯&#39;  )<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/starvapour/article/details/124780376">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/a1255652/article/details/118740313">å‚è€ƒæ–‡ç« 2</a><br><a href="https://github.com/botuniverse/onebot-11/blob/master/event/message.md">onebot-11æ–‡æ¡£</a><br><a href="https://docs.go-cqhttp.org/">go-cqhttpæ–‡æ¡£</a><br><a href="https://v2.nonebot.dev/">nonebot2æ–‡æ¡£</a><br><a href="https://github.com/MRSlouzk/Nonebot-plugintutorials">ä¸€ä¸ªå¤§ä½¬çš„æ•™ç¨‹æ–‡æ¡£</a><br><a href="https://www.bilibili.com/read/cv19736511?spm_id_from=333.999.0.0">å¤§ä½¬çš„å…¥é—¨å»ºè®®</a></p>]]></content>
      
      
      <categories>
          
          <category> QQbot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nonebot2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç«‹åˆ›EDAçš„ä½¿ç”¨</title>
      <link href="/2022/06/12/18h-eda-error/"/>
      <url>/2022/06/12/18h-eda-error/</url>
      
        <content type="html"><![CDATA[<h1 id="ä½¿ç”¨ç«‹åˆ›EDAç”»PCB"><a href="#ä½¿ç”¨ç«‹åˆ›EDAç”»PCB" class="headerlink" title="ä½¿ç”¨ç«‹åˆ›EDAç”»PCB"></a>ä½¿ç”¨ç«‹åˆ›EDAç”»PCB</h1><p>EDAçš„ä¼˜åŠ¿æ˜¯åŸç†å›¾åº“å’Œå°è£…åº“æ¯”è¾ƒå¤š,æ¯”è¾ƒæ–¹ä¾¿,æ‰€ä»¥ä¸€èˆ¬åªéœ€è¦ç»˜åˆ¶åŸç†å›¾å’ŒPCBå³å¯</p><h2 id="ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"></a>ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</h2><h3 id="è¯¥ç½‘ç»œæ ‡ç­¾æœªä¸ä»»ä½•å¼•è„šè¿æ¥"><a href="#è¯¥ç½‘ç»œæ ‡ç­¾æœªä¸ä»»ä½•å¼•è„šè¿æ¥" class="headerlink" title="è¯¥ç½‘ç»œæ ‡ç­¾æœªä¸ä»»ä½•å¼•è„šè¿æ¥"></a>è¯¥ç½‘ç»œæ ‡ç­¾æœªä¸ä»»ä½•å¼•è„šè¿æ¥</h3><p>è§£å†³</p><blockquote><p>1.å¯èƒ½æ²¡æœ‰è¿æ¥å¥½åˆ é™¤é‡æ–°è¿æ¥<br>2.ç½‘ç»œæ ‡ç­¾çš„ç™½è‰²åå­—è¦æ”¾åœ¨å¯¼çº¿æˆ–è€…ç®¡è„šä¸Š<br>3.ä¸æ˜¯åœ¨åº“æ–‡ä»¶ç”»å¥½å†æ”¾ç½®åˆ°åŸç†å›¾çš„ï¼Œç›´æ¥åœ¨åŸç†å›¾ç”»ç¬¦å·ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¬¦å·,éœ€è¦&gt;æ–‡ä»¶&gt;æ–°å»º&gt;ç¬¦å·,æŠŠå¯¹åº”çš„åŸç†å›¾éƒ¨åˆ†æ”¾è¿›å»,ä¿å­˜å¥½</p></blockquote><h3 id="æŠ¥é”™ç½‘ç»œæœªè¿æ¥å®Œæ•´"><a href="#æŠ¥é”™ç½‘ç»œæœªè¿æ¥å®Œæ•´" class="headerlink" title="æŠ¥é”™ç½‘ç»œæœªè¿æ¥å®Œæ•´"></a>æŠ¥é”™ç½‘ç»œæœªè¿æ¥å®Œæ•´</h3><blockquote><p>æ£€æŸ¥,å¯èƒ½æ˜¯æœ‰çš„åŸç†å›¾çš„ç½‘ç»œæ ‡ç­¾æ‰“é”™äº†,(è¿˜åŸåŠ›åçš„æ—¶å€™ç‚¹è¦æœå¤–)<br>pcbçš„è¯æŒ‰ç€æç¤ºä¸€ä¸ªä¸€ä¸ªæ‰¾,å¯èƒ½æ˜¯æœ‰çš„å¯¼çº¿æ²¡æœ‰è¿æ¥åˆ°ä¸­å¿ƒç‚¹,gndçº¿ä¹Ÿè¦è¿æ¥,ä¹‹å‰çœ‹çš„é“ºé“œgndå°±ä¸ç”¨è¿æ¥äº†,åæ¥è¯´éœ€è¦ä»€ä¹ˆè¿‡å­”,æˆ‘æš‚æ—¶è¿˜æœªäº†è§£,æˆ‘æŠŠgndéƒ½è¿ä¸Šäº†</p></blockquote><h2 id="åŸç†å›¾éƒ¨åˆ†å»ºè®®"><a href="#åŸç†å›¾éƒ¨åˆ†å»ºè®®" class="headerlink" title="åŸç†å›¾éƒ¨åˆ†å»ºè®®"></a>åŸç†å›¾éƒ¨åˆ†å»ºè®®</h2><blockquote><p>åŸç†å›¾ä¸€å®šè¦æ£€æŸ¥å¥½,ç½‘ç»œæ ‡ç­¾æ˜¯å¦æ‰“é”™,å¡«æ²¡å¡«åŠ åˆ°ç¬¦å·,æœ‰æ²¡æœ‰å°è£…,å¼•è„šæ˜¯å¦éƒ½å¯¹åº”æ­£ç¡®,æŒ‰é¡ºåºèµ°ä¸€ä¸‹èƒ½å¤Ÿå‡å°‘å¾ˆå¤šé”™è¯¯</p></blockquote><h2 id="PCBéƒ¨åˆ†å»ºè®®"><a href="#PCBéƒ¨åˆ†å»ºè®®" class="headerlink" title="PCBéƒ¨åˆ†å»ºè®®"></a>PCBéƒ¨åˆ†å»ºè®®</h2><blockquote><p>åŒæ ·,å…ƒå™¨ä»¶æ‘†æ”¾å¥½ä¹‹å(å…ƒå™¨ä»¶æ‘†æ”¾éœ€è¦æå‰é‡å¥½é—´è·),æŒ‰é¡ºåºèµ°ä¸€ä¸‹,çœ‹çœ‹æ¯æ ¹çº¿è¿æ¥çš„å¼•è„šæ˜¯å¦æ­£ç¡®(æ”¾å¤§å¯ä»¥çœ‹åˆ°å¼•è„šçš„ç½‘ç»œæ ‡ç­¾),æ·»åŠ ä¸å°(ä¸ªäººå–œæ¬¢æ·»åŠ æ—¥æœŸ),ç„¶åå¸ƒçº¿è¦è€ƒè™‘é—´è·,æœ€åé“ºé“œ,æ£€æŸ¥ç”µæ°”è§„åˆ™</p></blockquote><h2 id="å¤‡ä»½"><a href="#å¤‡ä»½" class="headerlink" title="å¤‡ä»½"></a>å¤‡ä»½</h2><p>ä¸€å®šè¦å¼€å¯è‡ªåŠ¨å¤‡ä»½,å¹¶ä¸”æ—¶ä¸æ—¶ctrl+sä¸€ä¸‹,å®Œæˆåå†å…‹éš†ä¸€ä»½,æ¯•ç«Ÿæ•°æ®å¾ˆé‡è¦</p><p><a href="https://blog.csdn.net/qq_41560850/article/details/124307758">å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> ç«‹åˆ›EDA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PCB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centosæŒ‚è½½ç¡¬ç›˜</title>
      <link href="/2022/06/09/17l-centos-download-disk/"/>
      <url>/2022/06/09/17l-centos-download-disk/</url>
      
        <content type="html"><![CDATA[<h1 id="centosæŒ‚è½½ç¡¬ç›˜"><a href="#centosæŒ‚è½½ç¡¬ç›˜" class="headerlink" title="centosæŒ‚è½½ç¡¬ç›˜"></a>centosæŒ‚è½½ç¡¬ç›˜</h1><h2 id="æŒ‚è½½ç£ç›˜å‰éœ€è¦æŸ¥çœ‹çš„ä¿¡æ¯"><a href="#æŒ‚è½½ç£ç›˜å‰éœ€è¦æŸ¥çœ‹çš„ä¿¡æ¯" class="headerlink" title="æŒ‚è½½ç£ç›˜å‰éœ€è¦æŸ¥çœ‹çš„ä¿¡æ¯"></a>æŒ‚è½½ç£ç›˜å‰éœ€è¦æŸ¥çœ‹çš„ä¿¡æ¯</h2><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">df -h     ã€€ã€€ã€€ã€€#æŸ¥çœ‹linuxä¸‹çš„ç¡¬ç›˜æŒ‚è½½çš„ç©ºé—´ã€ä½¿ç”¨ç©ºé—´fdisk -l         #æŸ¥çœ‹ç£ç›˜ä¿¡æ¯lsblk    ã€€ã€€ã€€ã€€ #åˆ—å‡ºå—è®¾å¤‡ä¿¡æ¯ï¼ˆdf -hä¸èƒ½çœ‹åˆ°çš„å·ï¼‰mount      ã€€ã€€   #æŒ‚è½½å‘½ä»¤#Mounted on æ˜¾ç¤ºçš„æ˜¯æŒ‚è½½çš„ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>df -h<br>æ²¡æœ‰çœ‹è§æœªæŒ‚è½½çš„ç›˜ï¼Œç°åœ¨æˆ‘ä»¬è¦æŒ‚è½½<br>lsblk<br>æŸ¥çœ‹æ²¡æœ‰æŒ‚è½½çš„ç¡¬ç›˜æ˜¯å¦æ£€æµ‹åœ¨ç³»ç»Ÿä¸­<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd3bc716c9e.jpg" alt="01.jpg"><br>æˆ‘è¿™ä¸ªæ˜¯å·²ç»æŒ‚è½½å®Œçš„,æœªæŒ‚è½½çš„ç£ç›˜ mountpointåº”è¯¥æ²¡æœ‰æŒ‚è½½ç›®å½•,æˆ‘è¿™é‡Œçš„æŒ‚è½½ç›®å½•æ˜¯&#x2F;data,è€Œvda1æŒ‚è½½ç›®å½•æ˜¯&#x2F;ä¹Ÿå°±æ˜¯ç³»ç»Ÿç›˜</p></blockquote><h2 id="å¼€å§‹æŒ‚è½½"><a href="#å¼€å§‹æŒ‚è½½" class="headerlink" title="å¼€å§‹æŒ‚è½½"></a>å¼€å§‹æŒ‚è½½</h2><ul><li><h3 id="æŸ¥çœ‹æ‰€æœ‰è¯†åˆ«åˆ°çš„ç£ç›˜æƒ…å†µ"><a href="#æŸ¥çœ‹æ‰€æœ‰è¯†åˆ«åˆ°çš„ç£ç›˜æƒ…å†µ" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰è¯†åˆ«åˆ°çš„ç£ç›˜æƒ…å†µ"></a>æŸ¥çœ‹æ‰€æœ‰è¯†åˆ«åˆ°çš„ç£ç›˜æƒ…å†µ</h3><blockquote><p>fdisk -l<br> lsblk           </p></blockquote></li><li><h3 id="ç£ç›˜åˆ†åŒº"><a href="#ç£ç›˜åˆ†åŒº" class="headerlink" title="ç£ç›˜åˆ†åŒº"></a>ç£ç›˜åˆ†åŒº</h3><blockquote><p>fdisk &#x2F;dev&#x2F;vdb1<br>ä¾æ¬¡è¾“å…¥<br>n      #æ·»åŠ ä¸€ä¸ªåˆ†åŒº<br>p      #ä¸»åˆ†åŒº<br>1<br>å›è½¦   #ä¸¤ä¸ªå›è½¦æŒ‡æ˜¯å¼€å§‹å’Œç»“æŸçš„ç£ç›˜æ‰‡åŒºå¤§å°ï¼›<br>å›è½¦<br>w      #å†™å…¥ç£ç›˜</p></blockquote></li><li><h3 id="é€šçŸ¥ç³»ç»Ÿåˆ†åŒºè¡¨çš„å˜åŒ–"><a href="#é€šçŸ¥ç³»ç»Ÿåˆ†åŒºè¡¨çš„å˜åŒ–" class="headerlink" title="é€šçŸ¥ç³»ç»Ÿåˆ†åŒºè¡¨çš„å˜åŒ–"></a>é€šçŸ¥ç³»ç»Ÿåˆ†åŒºè¡¨çš„å˜åŒ–</h3><blockquote><p>partprobe</p></blockquote></li><li><h3 id="æŸ¥çœ‹ç£ç›˜åˆ†åŒºæƒ…å†µ"><a href="#æŸ¥çœ‹ç£ç›˜åˆ†åŒºæƒ…å†µ" class="headerlink" title="æŸ¥çœ‹ç£ç›˜åˆ†åŒºæƒ…å†µ"></a>æŸ¥çœ‹ç£ç›˜åˆ†åŒºæƒ…å†µ</h3><blockquote><p>df -TH<br>ï¼ˆcentos7ä»¥ä¸‹ç‰ˆæœ¬ç³»ç»Ÿï¼Œæ­¤æ—¶å¯èƒ½çœ‹ä¸åˆ°æœ€æ–°åˆ†åŒºï¼‰</p></blockquote></li><li><h3 id="æ ¼å¼åŒ–ç£ç›˜"><a href="#æ ¼å¼åŒ–ç£ç›˜" class="headerlink" title="æ ¼å¼åŒ–ç£ç›˜"></a>æ ¼å¼åŒ–ç£ç›˜</h3><blockquote><p>mkfs -t ext4 &#x2F;dev&#x2F;vdb1</p></blockquote></li><li><h3 id="åˆ›å»ºç›®å½•ï¼ŒæŒ‚è½½ç£ç›˜"><a href="#åˆ›å»ºç›®å½•ï¼ŒæŒ‚è½½ç£ç›˜" class="headerlink" title="åˆ›å»ºç›®å½•ï¼ŒæŒ‚è½½ç£ç›˜"></a>åˆ›å»ºç›®å½•ï¼ŒæŒ‚è½½ç£ç›˜</h3><blockquote><p>mkdir &#x2F;data<br>mount &#x2F;dev&#x2F;vdb1&#x2F;data<br>å†æ¬¡æŸ¥çœ‹ç£ç›˜åˆ†åŒºæƒ…å†µ<br>df -TH<br>ï¼ˆå¯ä»¥çœ‹åˆ°æ–°åˆ†åŒºäº†ï¼Œè¡¨ç¤ºæŒ‚è½½æˆåŠŸï¼‰</p></blockquote></li><li><h3 id="è·å–ç£ç›˜UUID"><a href="#è·å–ç£ç›˜UUID" class="headerlink" title="è·å–ç£ç›˜UUID"></a>è·å–ç£ç›˜UUID</h3><blockquote><p>blkid &#x2F;dev&#x2F;vdb1<br>ï¼ˆè·å–æŒ‚è½½ç‚¹uuidå€¼ï¼Œç”¨äºç¬¬ä¹æ­¥æ·»åŠ fstabä½¿ç”¨ï¼‰</p></blockquote></li><li><h3 id="ä¿®æ”¹fstabæ–‡ä»¶"><a href="#ä¿®æ”¹fstabæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹fstabæ–‡ä»¶"></a>ä¿®æ”¹fstabæ–‡ä»¶</h3><p>ç³»ç»Ÿå¼€æœºæ—¶ä¼šä¸»åŠ¨è¯»å–&#x2F;etc&#x2F;fstabè¿™ä¸ªæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œæ ¹æ®æ–‡ä»¶é‡Œé¢çš„é…ç½®æŒ‚è½½ç£ç›˜ã€‚</p><blockquote><p>æ¯ä¸€åˆ—ä»£è¡¨çš„å«ä¹‰ï¼š<br>ç¬¬ä¸€åˆ—ï¼šç£ç›˜çš„ç¼–å·æˆ–è€…UUID &#x2F;&#x2F;æŒ‚è½½ç‚¹éœ€è¦ä½¿ç”¨UUIDæ¥è¿›è¡ŒæŒ‚è½½<br>ç¬¬äºŒåˆ—ï¼šéœ€è¦æŒ‚è½½åˆ°çš„ç›®å½•<br>ç¬¬ä¸‰åˆ—ï¼šæ–‡ä»¶ç³»ç»Ÿæ ¼å¼<br>ç¬¬å››åˆ—ï¼šç³»ç»Ÿçš„é»˜è®¤å‚æ•°ï¼Œä¸€èˆ¬å¡«defaults<br>ç¬¬äº”åˆ—ï¼šæ˜¯å¦åšdumpå¤‡ä»½ï¼Œ0è¡¨ç¤ºä¸å¤‡ä»½ï¼Œ1è¡¨ç¤ºæ¯å¤©å¤‡ä»½ï¼Œ2è¡¨ç¤ºä¸å®šæœŸå¤‡ä»½<br>ç¬¬å…­åˆ—ï¼šæ˜¯å¦å¼€æœºæ£€æŸ¥æ‰‡åŒºï¼š0è¡¨ç¤ºä¸æ£€æŸ¥ï¼Œ1è¡¨ç¤ºæœ€æ—©æ£€éªŒï¼Œ2è¡¨ç¤ºåœ¨1ä¹‹åå¼€å§‹æ£€éªŒ</p></blockquote><blockquote><p>vi &#x2F;etc&#x2F;fstab</p></blockquote><blockquote><p>UUID&#x3D;fc331ce5-695c-4ff9-ae9a-d68f4541e10f &#x2F;app ext4 defaults 0 2</p></blockquote><p>#é˜²æ­¢æœåŠ¡å™¨é‡å¯ç£ç›˜æŒ‚è½½å¤±æ•ˆ</p><blockquote><p>æŒ‚è½½çš„é™åˆ¶ï¼š<br>æ ¹ç›®å½•å¿…é¡»æŒ‚è½½<br>æŒ‚è½½ç‚¹å¿…é¡»æ˜¯å·²ç»å­˜åœ¨çš„ç›®å½•<br>æ‰€æœ‰æŒ‚è½½ç‚¹åœ¨åŒä¸€æ—¶é—´åªèƒ½è¢«æŒ‚è½½ä¸€æ¬¡<br>æ‰€æœ‰åˆ†åŒºåœ¨åŒä¸€æ—¶é—´åªèƒ½æŒ‚åœ¨ä¸€æ¬¡<br>è‹¥è¿›è¡Œå¸è½½ï¼Œéœ€è¦å…ˆumountå¹¶åˆ é™¤fstab</p></blockquote></li></ul><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://blog.csdn.net/zysh888/article/details/103287590">å‚è€ƒæ–‡ç« 1</a><br><a href="https://blog.csdn.net/guibear/article/details/94899450?spm=1001.2101.3001.6650.2&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-2-94899450-blog-124615494.pc_relevant_downloadblacklistv1&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-2-94899450-blog-124615494.pc_relevant_downloadblacklistv1&utm_relevant_index=4">å‚è€ƒæ–‡ç« 2</a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> centos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå¸¸è§æŠ¥é”™ä»¥åŠè§£å†³</title>
      <link href="/2022/06/03/16p-python-command-erro/"/>
      <url>/2022/06/03/16p-python-command-erro/</url>
      
        <content type="html"><![CDATA[<h2 id="command"><a href="#command" class="headerlink" title="command"></a>command</h2><h3 id="æ·»åŠ -åˆ é™¤ç„¶è½¯è¿æ¥"><a href="#æ·»åŠ -åˆ é™¤ç„¶è½¯è¿æ¥" class="headerlink" title="æ·»åŠ &#x2F;åˆ é™¤ç„¶è½¯è¿æ¥"></a>æ·»åŠ &#x2F;åˆ é™¤ç„¶è½¯è¿æ¥</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">#æ·»åŠ python3è½¯é“¾æ¥ï¼šln -s &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;python3.10.1 &#x2F;usr&#x2F;bin&#x2F;python3#æ·»åŠ pip3è½¯é“¾æ¥ï¼šln -s &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;pip3.10.1 &#x2F;usr&#x2F;bin&#x2F;pip3#åˆ é™¤è½¯è¿æ¥çš„æ–¹æ³•(&#96;æ…ç”¨,ä¸ç„¶ä¼šè¿ç€æ–‡ä»¶ä¸€èµ·åˆ é™¤&#96;)unlink &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;python3.10.1&#x2F;usr&#x2F;bin&#x2F;python3rm -rf &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;python3.10.1&#x2F;usr&#x2F;bin&#x2F;python3    #æœ«å°¾æœ‰&#96;&#x2F;&#96;çš„æ˜¯è¿æ–‡ä»¶ä¸€èµ·åˆ é™¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="centoså®‰è£…pythonæ—¶æ˜“å‡ºç°çš„error"><a href="#centoså®‰è£…pythonæ—¶æ˜“å‡ºç°çš„error" class="headerlink" title="centoså®‰è£…pythonæ—¶æ˜“å‡ºç°çš„error"></a>centoså®‰è£…pythonæ—¶æ˜“å‡ºç°çš„error</h2><h3 id="WARNING-Retrying-Retry-total-1"><a href="#WARNING-Retrying-Retry-total-1" class="headerlink" title="WARNING: Retrying (Retry(total&#x3D;1,"></a>WARNING: Retrying (Retry(total&#x3D;1,</h3><p>connect&#x3D;None, read&#x3D;None, redirect&#x3D;None, status&#x3D;None)) after connec<br>åŸå› :å…¶å®å°±æ˜¯æ‰¾ç¬¬ä¸‰æ–¹åº“çš„æ—¶å€™é“¾æ¥è¶…æ—¶ï¼Œæ€»æ˜¯è·å–ä¸åˆ°ã€‚è‡ªå¸¦çš„pipå‘½ä»¤å»å›½å¤–çš„æœåŠ¡å™¨è¯·æ±‚ç¬¬ä¸‰æ–¹åŒ…äº†ï¼Œæ‰€ä»¥è¶…æ—¶ï¼Œå› è€Œæ¢æˆå›½å†…é•œåƒä¸‹è½½å³å¯ï¼Œå¹¶ä¸”è¦ä¿¡ä»»é•œåƒçš„URLã€‚</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">è§£å†³ï¼šä»¥é˜¿é‡Œçš„é•œåƒä¸ºä¾‹ç¬¬ä¸€æ­¥ï¼šå¼€å§‹æŠ¥é”™pip3 install xlrdç¬¬äºŒæ­¥ï¼šåŠ ä¸Šé•œåƒåœ°å€ï¼Œç»§ç»­æŠ¥é”™ï¼ˆå› ä¸ºæœªä¿¡ä»»è¯·æ±‚ç«™ç‚¹ï¼‰pip3 install xlrd -i http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F;ç¬¬ä¸‰æ­¥ï¼šåŠ ä¸Šé•œåƒï¼ŒåŠ ä¸Šä¿¡ä»»ç«™ç‚¹pip3 install xlrd -i http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F; --trusted-host mirrors.aliyun.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ModuleNotFoundError-No-module-named-â€˜-sslâ€˜é—®é¢˜"><a href="#ModuleNotFoundError-No-module-named-â€˜-sslâ€˜é—®é¢˜" class="headerlink" title="ModuleNotFoundError: No module named â€˜_sslâ€˜é—®é¢˜"></a>ModuleNotFoundError: No module named â€˜_sslâ€˜é—®é¢˜</h3><p>centoså®‰è£…python3æ—¶,æŸ¥é˜…çŸ¥éœ€è¦çš„opensslç‰ˆæœ¬æœ€ä½ä¸º1.0.2ï¼Œä½†æ˜¯centos é»˜è®¤çš„ä¸º1.0.1ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°æ›´æ–°openssl<br>å®‰è£…ä¾èµ–åº“</p><blockquote><p>yum install -y zlib zlib-dev openssl-devel sqlite-devel bzip2-devel libffi libffi-devel gcc gcc-c++</p></blockquote><h4 id="å®‰è£…æ–°ç‰ˆæœ¬çš„openssl"><a href="#å®‰è£…æ–°ç‰ˆæœ¬çš„openssl" class="headerlink" title="å®‰è£…æ–°ç‰ˆæœ¬çš„openssl"></a>å®‰è£…æ–°ç‰ˆæœ¬çš„openssl</h4><p>æ³¨æ„ï¼opensslé…ç½®æ˜¯ç”¨configï¼Œè€Œä¸æ˜¯configureï¼Œå¦å¤–opensslç¼–è¯‘å®‰è£…ä¾èµ–zlibåŠ¨æ€åº“ï¼Œæ‰€ä»¥ä¸€å®šè¦shared zlib è‡ªè¡Œåˆ°å®˜ç½‘æŸ¥é˜…æœ€æ–°ç‰ˆæœ¬~</p><p><a href="http://www.openssl.org/source/">opensslå®‰è£…åŒ…å®˜ç½‘ä¸‹è½½åœ°å€</a></p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">wget http:&#x2F;&#x2F;www.openssl.org&#x2F;source&#x2F;openssl-1.1.1.tar.gz            #ï¼ˆæœ‰ç½‘å°±å¯ä»¥ç›´æ¥ä¸‹è½½ï¼Œæ²¡ç½‘ä¸‹è½½å®‰è£…åŒ…é€šä¸Šä¼ åˆ°centosä¸­ï¼‰tar -zxvf openssl-1.1.1k.tar.gz                                      ï¼ˆ è§£å‹å¯¹åº”ç‰ˆæœ¬å®‰è£…åŒ…ï¼‰cd openssl-1.1.1k                                                     ï¼ˆè¿›å…¥å¯¹åº”çš„è§£å‹ç›®å½•ï¼‰.&#x2F;config --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;openssl shared zlib  (prefixä¸ºé…ç½®å®‰è£…ç›®å½•ï¼Œshared zlib å®‰è£…ä¾èµ–åº“ï¼‰è¿™ä¸€æ­¥æœ€é‡è¦ï¼Œä¸€å®šè¦sharedmake &amp;&amp; make install                                                         ï¼ˆç¼–è¯‘ã€å®‰è£…ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è®¾ç½®ç¯å¢ƒå˜é‡LD-LIBRARY-PATHï¼ˆäºŒé€‰ä¸€ï¼‰"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡LD-LIBRARY-PATHï¼ˆäºŒé€‰ä¸€ï¼‰" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡LD_LIBRARY_PATHï¼ˆäºŒé€‰ä¸€ï¼‰"></a>è®¾ç½®ç¯å¢ƒå˜é‡LD_LIBRARY_PATHï¼ˆäºŒé€‰ä¸€ï¼‰</h4><p>è¿™ä¸€æ­¥ä¸€å®šè¦æœ‰ï¼ï¼LD_LIBRARY_PATHç¯å¢ƒå˜é‡ä¸»è¦ç”¨äºæŒ‡å®šæŸ¥æ‰¾å…±äº«åº“ï¼ˆåŠ¨æ€é“¾æ¥åº“ï¼‰æ—¶é™¤äº†é»˜è®¤è·¯å¾„ä¹‹å¤–çš„å…¶ä»–è·¯å¾„ã€‚å½“æ‰§è¡Œå‡½æ•°åŠ¨æ€é“¾æ¥.soæ—¶ï¼Œå¦‚æœæ­¤æ–‡ä»¶ä¸åœ¨ç¼ºçœç›®å½•ä¸‹â€˜&#x2F;libâ€™ and â€˜&#x2F;usr&#x2F;libâ€™ï¼Œé‚£ä¹ˆå°±éœ€è¦æŒ‡å®šç¯å¢ƒå˜é‡LD_LIBRARY_PATH</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">ï¼ˆ1ï¼‰ç”¨æˆ·ç¯å¢ƒå˜é‡ï¼šecho &quot;export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&#x2F;usr&#x2F;local&#x2F;openssl&#x2F;lib&quot; &gt;&gt; &#x2F;usr&#x2F;local&#x2F;.bash_profile     (åœ¨ç”¨æˆ·ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ·»åŠ opensslçš„ç¯å¢ƒå˜é‡)source &#x2F;usr&#x2F;local&#x2F;.bash_profile                        ï¼ˆé‡æ–°åŠ è½½è¯¥è·¯å¾„ä¸‹çš„ç”¨æˆ·ç¯å¢ƒå˜é‡æ–‡ä»¶ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ³¨ï¼šåœ¨å®é™…æœåŠ¡å™¨ä¸Šåº”ç”¨è¿‡ç¨‹ä¸­å‘ç°ï¼Œè¯¥ç¯å¢ƒå˜é‡åªä¼šå½“å‰shellè„šæœ¬ç”Ÿæ•ˆï¼Œå¦‚æœä¸‹æ¬¡é‡æ–°è¿›å…¥shellè„šæœ¬ä¼šå¤±æ•ˆï¼Œæ•…å¦‚æœå«Œéº»çƒ¦æ¯æ¬¡å¯åŠ¨æœåŠ¡éƒ½è¦ç”¨çš„è¯ï¼Œå¯ç›´æ¥è®¾ç½®åˆ°pathç¯å¢ƒå˜é‡ä¸­ã€‚ï¼ˆè¯¥æ­¥æ¶‰åŠåˆ°Centosç³»ç»Ÿä½¿ç”¨ä¹ æƒ¯ï¼Œä¸€èˆ¬ç¨‹åºç¯å¢ƒå˜é‡è®¾ç½®å…¥ç”¨æˆ·å˜é‡å³å¯ï¼Œpathä¸“é—¨ä¿å­˜ç³»ç»Ÿå˜é‡ï¼Œä½†ä¸€èˆ¬ç”¨æˆ·ç¯å¢ƒå˜é‡ä¼šå¤±æ•ˆï¼Œæ”¾å…¥pathä¼šå…¨å±€ç”Ÿæ•ˆï¼‰ã€‚</p><p>ï¼ˆ2ï¼‰ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼š</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">å¦‚æœé€‰æ‹©å°†å…¶è®¾ç½®ä¸ºå…¨å±€çš„åœ¨pathç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­è®¾ç½®å‘½ä»¤å¦‚ä¸‹ï¼š#åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ·»åŠ opensslçš„ç¯å¢ƒå˜é‡echo &quot;export LD_LIBRARY_PATH&#x3D;$LD_LIBRARY_PATH:&#x2F;usr&#x2F;local&#x2F;openssl&#x2F;lib&quot; &gt;&gt;  &#x2F;etc&#x2F;profile    #é‡æ–°åŠ è½½è¯¥è·¯å¾„ä¸‹çš„ç³»ç»Ÿç¯å¢ƒå˜é‡æ–‡ä»¶ source &#x2F;etc&#x2F;profile                              <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è§£å‹python3-10-1å¹¶å®‰è£…ï¼ŒæŒ‡å®šåˆšæ‰å®‰è£…çš„1-1-1ç‰ˆæœ¬çš„opensslï¼"><a href="#è§£å‹python3-10-1å¹¶å®‰è£…ï¼ŒæŒ‡å®šåˆšæ‰å®‰è£…çš„1-1-1ç‰ˆæœ¬çš„opensslï¼" class="headerlink" title="è§£å‹python3.10.1å¹¶å®‰è£…ï¼ŒæŒ‡å®šåˆšæ‰å®‰è£…çš„1.1.1ç‰ˆæœ¬çš„opensslï¼"></a>è§£å‹python3.10.1å¹¶å®‰è£…ï¼ŒæŒ‡å®šåˆšæ‰å®‰è£…çš„1.1.1ç‰ˆæœ¬çš„opensslï¼</h4><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">tar -zxvf Python-3.10.1.tgz                                                               .&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;&#x2F;python3 --with-openssl&#x3D;&#x2F;usr&#x2F;local&#x2F;&#x2F;openssl       (é…ç½®å®‰è£…ç›®å½•ï¼ŒæŒ‡å®šopensslç¯å¢ƒçš„å®‰è£…ç›®å½•)make &amp;&amp; make install                                                               ï¼ˆç¼–è¯‘ã€å®‰è£…ï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ£€éªŒsslæ¨¡å—èƒ½å¦è¢«å¯¼å…¥<br>åˆ›å»ºpythonè½¯è¿æ¥</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">ln -s &#x2F;usr&#x2F;local&#x2F;python3&#x2F;bin&#x2F;pip3  &#x2F;usr&#x2F;bin&#x2F;pip        #pipå‘½ä»¤è¡Œè°ƒç”¨æŒ‡å‘pip3pip -Vln -s &#x2F;usr&#x2F;local&#x2F;python3&#x2F;bin&#x2F;python3  &#x2F;usr&#x2F;bin&#x2F;python             #pythonå‘½ä»¤è¡Œè°ƒç”¨æŒ‡å‘python3,å¦‚æœåŒæ—¶å®‰è£…æœ‰å…¶ä»–ç‰ˆæœ¬pythonå¯é€šè¿‡è¯¥å‘½ä»¤æŒ‡å®šç”¨åˆ°çš„pythonç‰ˆæœ¬ln -s &#x2F;usr&#x2F;local&#x2F;python3&#x2F;bin&#x2F;python3  &#x2F;usr&#x2F;bin&#x2F;python3        #python3å‘½ä»¤è¡Œè°ƒç”¨æŒ‡å‘python3,ç”±äºæŸäº›ç¨‹åºæ‰§è¡Œæ—¶è¦æ±‚æ˜¯python3å‘½ä»¤è°ƒç”¨ï¼Œè¯¥æ­¥å¯æ ¹æ®éœ€è¦è¿›è¡Œè®¾ç½®python --version           #æŸ¥çœ‹å½“å‰pythonå®‰è£…ç‰ˆ                                         å¯¼å…¥sslæ¨¡å—python3                      ï¼ˆè¿›å…¥python3å‘½ä»¤è¡Œï¼‰import ssl                   ï¼ˆå¯¼å…¥sslæ¨¡å—ï¼‰import _ssl                  ï¼ˆå¯¼å…¥_sslæ¨¡å—ï¼‰exit()                       ï¼ˆé€€å‡ºpython3å‘½ä»¤è¡Œï¼‰æŸ¥çœ‹pythonè½¯è¿æ¥æŒ‡å‘whereis python<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>ä»¥ä¸ŠCentoså®‰è£…python3å¯¼å…¥sslæ—¶è§£å†³ ModuleNotFoundError: No module named &#39;_ssl&#39;é—®é¢˜çš„å…¨éƒ¨è§£å†³è¿‡ç¨‹ï¼</code></p><h3 id="æ‰§è¡Œpython3å‘½ä»¤çš„æ—¶å€™å‡ºç°-canâ€˜t-open-file-â€˜XXXâ€˜-Errno-2-No-such-file-or-directory"><a href="#æ‰§è¡Œpython3å‘½ä»¤çš„æ—¶å€™å‡ºç°-canâ€˜t-open-file-â€˜XXXâ€˜-Errno-2-No-such-file-or-directory" class="headerlink" title="æ‰§è¡Œpython3å‘½ä»¤çš„æ—¶å€™å‡ºç° canâ€˜t open file â€˜XXXâ€˜: [Errno 2] No such file or directory"></a>æ‰§è¡Œpython3å‘½ä»¤çš„æ—¶å€™å‡ºç° canâ€˜t open file â€˜XXXâ€˜: [Errno 2] No such file or directory</h3><p>æ£€æŸ¥ä¸€ä¸‹å‘½ä»¤æ˜¯ä¸æ˜¯æ‰“é”™äº†</p><p><a href="%5B(72%E6%9D%A1%E6%B6%88%E6%81%AF">å‚è€ƒæ–‡ç« </a> é—®é¢˜æ€»ç»“python: canâ€˜t open file â€˜XXXâ€˜: <a href="https://blog.csdn.net/weixin_51736742/article/details/119863044">Errno 2] No such file or directory_++åŠ æ²¹å‘€çš„åšå®¢-CSDNåšå®¢</a>)</p><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="ubuntuå®‰è£…pythonæ˜¯æ˜“å‡ºç°çš„error"><a href="#ubuntuå®‰è£…pythonæ˜¯æ˜“å‡ºç°çš„error" class="headerlink" title="ubuntuå®‰è£…pythonæ˜¯æ˜“å‡ºç°çš„error"></a>ubuntuå®‰è£…pythonæ˜¯æ˜“å‡ºç°çš„error</h2><p>å¾…å®Œæˆâ€¦</p><h3 id="error98-address-already-in-use"><a href="#error98-address-already-in-use" class="headerlink" title="[error98]address already in use"></a>[error98]address already in use</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">lsof -t -i tcp:8080 | xargs kill -9<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="åº“ç›¸å…³error"><a href="#åº“ç›¸å…³error" class="headerlink" title="åº“ç›¸å…³error"></a>åº“ç›¸å…³error</h2><h3 id="Do-you-need-to-install-a-parser-library"><a href="#Do-you-need-to-install-a-parser-library" class="headerlink" title="Do you need to install a parser library"></a>Do you need to install a parser library</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">#æ–¹æ³•ä¸€pip3 install lxml#æ–¹æ³•äºŒï¼šæ¢ä¸€ç§è§£ææ–¹å¼å°†soup &#x3D; BeautifulSoup(r.text, â€˜lxmlâ€™)ä¿®æ”¹æˆå¦‚ä¸‹å½¢å¼å³å¯ï¼šsoup &#x3D; BeautifulSoup(r.text, â€˜html.parserâ€™)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>(lxmlæ˜¯pythonçš„ä¸€ä¸ªè§£æåº“ï¼Œæ”¯æŒHTMLå’ŒXMLçš„è§£æï¼Œæ”¯æŒXPathè§£ææ–¹å¼ï¼Œè€Œä¸”è§£ææ•ˆç‡éå¸¸é«˜ã€‚<br>XML æŒ‡å¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼ˆeXtensible Markup Languageï¼‰ã€‚<br>XML è¢«è®¾è®¡ç”¨æ¥ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ã€‚)</p><h3 id="no-moudle-xxxx"><a href="#no-moudle-xxxx" class="headerlink" title="no moudle xxxx"></a>no moudle xxxx</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python">#ç¼ºä»€ä¹ˆå®‰è£…ä»€ä¹ˆå°±è¡Œ#PILpip install Pillow#å¸¸ç”¨åº“pip install requestspip install beautifulsoup4pip install openpyxl<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="go-cqhttpæç¤ºé£æ§åä¸é‡å¯æœåŠ¡å™¨æ€ä¹ˆå¤„ç†"><a href="#go-cqhttpæç¤ºé£æ§åä¸é‡å¯æœåŠ¡å™¨æ€ä¹ˆå¤„ç†" class="headerlink" title="go-cqhttpæç¤ºé£æ§åä¸é‡å¯æœåŠ¡å™¨æ€ä¹ˆå¤„ç†"></a>go-cqhttpæç¤ºé£æ§åä¸é‡å¯æœåŠ¡å™¨æ€ä¹ˆå¤„ç†</h2><p>ctrl cä»¥åå†æ‰§è¡Œå°±æç¤ºæ‰“å¼€æ•°æ®åº“å¤±è´¥: open backend error: open level ldb error: resource temporarily unavailable</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">åˆ é™¤gocqçš„â€œsessionâ€æ–‡ä»¶ps -ef|grep mongod#æŸ¥æ‰¾è¿›ç¨‹ï¼Œkill -9 2928#å…³é—­è¿›ç¨‹é‡æ–°æ‰“å¼€gocqå³å¯ã€‚ ä½œè€…ï¼šå››å—sikuai https:&#x2F;&#x2F;www.bilibili.com&#x2F;read&#x2F;cv14682893&#x2F; å‡ºå¤„ï¼šbilibili<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å®‰è£…åœ°ä¸‰æ–¹åº“çš„æ—¶å€™å‡ºç°ä¸‹è½½æ…¢-å¹¶ä¸”å‡ºç°ä¸€å¤§æ®µçº¢å­—æŠ¥é”™"><a href="#å®‰è£…åœ°ä¸‰æ–¹åº“çš„æ—¶å€™å‡ºç°ä¸‹è½½æ…¢-å¹¶ä¸”å‡ºç°ä¸€å¤§æ®µçº¢å­—æŠ¥é”™" class="headerlink" title="å®‰è£…åœ°ä¸‰æ–¹åº“çš„æ—¶å€™å‡ºç°ä¸‹è½½æ…¢,å¹¶ä¸”å‡ºç°ä¸€å¤§æ®µçº¢å­—æŠ¥é”™"></a>å®‰è£…åœ°ä¸‰æ–¹åº“çš„æ—¶å€™å‡ºç°ä¸‹è½½æ…¢,å¹¶ä¸”å‡ºç°ä¸€å¤§æ®µçº¢å­—æŠ¥é”™</h2><p>åŸå› :errorç¿»è¯‘è¿‡æ¥æ˜¯ hashå€¼å’ŒåŒ…ä¸åŒ¹é…<br>å¤§æ¦‚æ˜¯pipæºåœ°å€æ˜¯å›½å¤–çš„ï¼Œåœ¨å›½å†…ä¸‹è½½é€Ÿåº¦ç‰¹æ…¢ï¼Œç½‘é€Ÿé—®é¢˜å¯¼è‡´çš„ä¸‹è½½é”™è¯¯ï¼Œä»è€Œå¯¼è‡´å¯¹ç”¨çš„å“ˆå¸Œå€¼ä¸åŒ¹é…<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd3ba5d6910.jpg" alt="01.jpg"></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">pip install (è¦å®‰è£…çš„åº“) -i http:&#x2F;&#x2F;pypi.douban.com&#x2F;simple --trusted-host&#x3D;pypi.douban.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="pipâ€˜s-dependency-resolver-does-not-currently-take-into-account-all-the-packages"><a href="#pipâ€˜s-dependency-resolver-does-not-currently-take-into-account-all-the-packages" class="headerlink" title="pipâ€˜s dependency resolver does not currently take into account all the packages"></a>pipâ€˜s dependency resolver does not currently take into account all the packages</h2><p>pip çš„ä¾èµ–é¡¹è§£æå™¨å½“å‰æœªè€ƒè™‘å®‰è£…çš„æ‰€æœ‰åŒ…<br>æ ¹æ®é”™è¯¯æç¤ºï¼Œåˆ†åˆ«é‡æ–°å®‰è£…äº†æŠ¥é”™è¦æ±‚çš„åŒ…</p><h2 id="TypeError-object-of-type-â€˜Responseâ€™-has-no-len"><a href="#TypeError-object-of-type-â€˜Responseâ€™-has-no-len" class="headerlink" title="TypeError: object of type â€˜Responseâ€™ has no len()"></a>TypeError: object of type â€˜Responseâ€™ has no len()</h2><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">#TypeErrorï¼šâ€œå“åº”â€ç±»å‹çš„å¯¹è±¡æ²¡æœ‰ len()soup&#x3D;BeautifulSoup(web,&#39;lxml&#39;)è¿™ä¸ªåœ°æ–¹æœ‰é”™ï¼Œwebåœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªresponseå¯¹è±¡ï¼Œæ— æ³•ç”¨BeautifulSoupè§£æï¼Œå¦‚æœè¦è§£æï¼Œè§£æå¯¹è±¡åº”è¯¥æ˜¯web.contentï¼Œæ‰€ä»¥æ­£ç¡®çš„å†™æ³•æ˜¯soup&#x3D;BeautifulSoup(web.content,&#39;lxml&#39;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="TypeError-Value-must-be-a-list-tuple-range-or-generator"><a href="#TypeError-Value-must-be-a-list-tuple-range-or-generator" class="headerlink" title="TypeError: Value must be a list, tuple, range or generator,"></a>TypeError: Value must be a list, tuple, range or generator,</h2><p> or a dict. Supplied value is &lt;class â€˜strâ€™&gt;</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">#value å¿…é¡»æ˜¯åˆ—è¡¨ã€å…ƒç»„ã€èŒƒå›´æˆ–ç”Ÿæˆå™¨ï¼Œæˆ– dictã€‚ æä¾›çš„å€¼ä¸º &lt;class &#39;str&#39;&gt;for data in article_data:   ws.append(data)è§£å†³æ–¹æ³•ï¼šws.append([data])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="pythonç‰ˆæœ¬é—®é¢˜-è¦å¤šçœ‹å®˜æ–¹ç»™çš„æ–‡æ¡£"><a href="#pythonç‰ˆæœ¬é—®é¢˜-è¦å¤šçœ‹å®˜æ–¹ç»™çš„æ–‡æ¡£" class="headerlink" title="pythonç‰ˆæœ¬é—®é¢˜,è¦å¤šçœ‹å®˜æ–¹ç»™çš„æ–‡æ¡£"></a>pythonç‰ˆæœ¬é—®é¢˜,è¦å¤šçœ‹å®˜æ–¹ç»™çš„æ–‡æ¡£</h2><p>â€¦å¾…å®Œæˆ</p><h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><p><a href="https://blog.csdn.net/qq_44985985/article/details/124241962">å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/csdn_avatar_2019/article/details/122303978">2.1å‚è€ƒæ–‡ç« </a><br><a href="https://blog.csdn.net/qq_39715000/article/details/125009276">2.2å‚è€ƒæ–‡ç« </a></p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­¦ä¹ pythonçˆ¬è™«</title>
      <link href="/2022/06/01/15p-pythonspider/"/>
      <url>/2022/06/01/15p-pythonspider/</url>
      
        <content type="html"><![CDATA[<h2 id="å…³äºçˆ¬è™«"><a href="#å…³äºçˆ¬è™«" class="headerlink" title="å…³äºçˆ¬è™«"></a>å…³äºçˆ¬è™«</h2><ul><li>1.ç½‘ç»œçˆ¬è™«ï¼ˆåˆè¢«ç§°ä¸ºç½‘é¡µèœ˜è››ï¼Œç½‘ç»œæœºå™¨äººï¼‰å°±æ˜¯é€šè¿‡ç¼–å†™ç¨‹åºè®©å…¶æ¨¡æ‹Ÿæµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€ç½‘ç»œè¯·æ±‚ï¼Œæ¥æ”¶è¯·æ±‚å“åº”,æ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™,è‡ªåŠ¨åœ°æŠ“å–äº’è”ç½‘ä¿¡æ¯çš„ç¨‹åº.</li><li>2.è€Œæµè§ˆå™¨ä½œä¸ºå®¢æˆ·ç«¯ä»æœåŠ¡å™¨ç«¯è·å–ä¿¡æ¯ï¼Œç„¶åå°†ä¿¡æ¯è§£æï¼Œå¹¶å±•ç¤ºç»™æˆ‘ä»¬</li><li>3.æ¨¡æ‹Ÿï¼šæµè§ˆå™¨æ˜¯ä¸€ä¸ªçº¯å¤©ç„¶çš„çˆ¬è™«å·¥å…·<br>æµè§ˆå™¨åŸç†ï¼šåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ªç½‘å€ï¼Œç„¶åæµè§ˆå™¨å°±ä¼šå»è¿™ä¸ªç½‘å€æ‰€åœ¨çš„æœåŠ¡å™¨è¦æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå«è¯·æ±‚ã€‚</li><li>4.çˆ¬å–ï¼š<ul><li>çˆ¬å–ä¸€æ•´å¼ é¡µé¢æ•°æ®(é€šç”¨çˆ¬è™«)</li><li>çˆ¬å–é¡µé¢å±€éƒ¨æ•°æ®ï¼ˆèšç„¦çˆ¬è™«ï¼‰</li></ul></li><li>5.çˆ¬è™«å¹¶ä¸æ˜¯Pythonç‹¬æœ‰çš„ï¼Œå¯ä»¥åšçˆ¬è™«çš„è¯­è¨€æœ‰å¾ˆå¤šä¾‹å¦‚ï¼šPHP,JAVA,C#,C++,Pythonï¼Œé€‰æ‹©Pythonåšçˆ¬è™«æ˜¯å› ä¸ºPythonç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”åŠŸèƒ½æ¯”è¾ƒé½å…¨ã€‚<br>åŸåˆ™ä¸Š,åªè¦æ˜¯æµè§ˆå™¨(å®¢æˆ·ç«¯)èƒ½åšçš„äº‹æƒ…ï¼Œçˆ¬è™«éƒ½èƒ½å¤Ÿåšã€‚</li></ul><h2 id="çˆ¬è™«çš„åŸºç¡€æ­¥éª¤"><a href="#çˆ¬è™«çš„åŸºç¡€æ­¥éª¤" class="headerlink" title="çˆ¬è™«çš„åŸºç¡€æ­¥éª¤"></a>çˆ¬è™«çš„åŸºç¡€æ­¥éª¤</h2><h3 id="å®¡æŸ¥å…ƒç´ "><a href="#å®¡æŸ¥å…ƒç´ " class="headerlink" title="å®¡æŸ¥å…ƒç´ "></a>å®¡æŸ¥å…ƒç´ </h3><ul><li><p>åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥URLåœ°å€(å°±æ˜¯ç½‘å€)ï¼Œåœ¨ç½‘é¡µå¤„å³é”®å•å‡»ï¼Œæ‰¾åˆ°æ£€æŸ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š(ä¸åŒæµè§ˆå™¨çš„å«æ³•ä¸åŒï¼ŒChromeæµè§ˆå™¨å«åšæ£€æŸ¥ï¼ŒFirefoxæµè§ˆå™¨å«åšæŸ¥çœ‹å…ƒç´ ï¼Œä½†æ˜¯åŠŸèƒ½éƒ½æ˜¯ç›¸åŒçš„)(<code>å¿«æ·é”®F12</code>)<br><img src="http://tu.uuudiy.com/i/2022/06/01/zg76zq.jpg" alt="01"><br><img src="http://tu.uuudiy.com/i/2022/06/01/zg8r7j.jpg" alt="02"></p></li><li><p>HTML è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€  ç”±ä¸€ä¸ªä¸ªæ ‡ç­¾ç»„æˆ,æˆ‘ä»¬æƒ³è¦çš„æ•°æ®å°±åœ¨æ ‡ç­¾é‡Œ</p></li><li><p>ç½‘é¡µçš„htmlä»£ç å¦‚å›¾,ç‚¹å‡»ç®­å¤´æ‰€æŒ‡çš„å›¾æ ‡,ç„¶åå°†é¼ æ ‡ç§»åŠ¨åˆ°ç½‘é¡µçš„ä»»æ„ä¸€éƒ¨åˆ†,å³ä¾§ä¼šå‡ºç°ä¸ä¹‹å¯¹åº”çš„ä»£ç ,å°†é¼ æ ‡ç§»åŠ¨åˆ°ä»£ç ä¸ŠåŒç†.<br><img src="http://tu.uuudiy.com/i/2022/06/01/zj6mgf.jpg" alt="03"></p></li></ul><p>ç®­å¤´æ‰€æŒ‡çš„å°±æ˜¯æ ‡ç­¾,classæ˜¯æ ‡ç­¾çš„å±æ€§ç”¨æ¥åŒºåˆ†æ ‡ç­¾çš„ä¸åŒ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">print(soup.p.text)                    #æ‰“å°ç½‘é¡µä¸­çš„pæ ‡ç­¾çš„å†…å®¹,ä¼šæ‰“å°å‡ºæ¥ç¬¬ä¸€ä¸ªpæ ‡ç­¾çš„æ•°æ®print(soup.find(&#39;p&#39;).text)            #å’Œä¸Šä¸€ä¸ªä¸€æ ·è·å–ç¬¬ä¸€ä¸ªç¬¦åˆæ ‡ç­¾åçš„å†…å®¹print(soup.find(&#39;div&#39;,class_&#x3D;&quot;content__list--item&quot;).text) #ç²¾ç¡®æŸ¥æ‰¾,classåé¢ä¸€å®šè¦æœ‰_,ä¸èƒ½åœå’Œpythonçš„å…³é”®å­—é‡å,å¦åˆ™ä¼šè¢«å½“åšå…³é”®å­—,æŠ¥é”™print(soup.find_all(&quot;div&quot;))#ç²¾ç¡®æŸ¥æ‰¾   #æ‰€æœ‰divæ ‡ç­¾print(soup.fin_all(&#39;dib&#39;,class_&#x3D;&quot;content__list--item&quot;)[1].text)   #findallä¹Ÿå¯ä»¥ç²¾ç¡®æŸ¥æ‰¾,ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€æ¡æ•°æ®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å†™ä»£ç å‰éœ€è¦æŒæ¡çš„å†…å®¹"><a href="#å†™ä»£ç å‰éœ€è¦æŒæ¡çš„å†…å®¹" class="headerlink" title="å†™ä»£ç å‰éœ€è¦æŒæ¡çš„å†…å®¹"></a>å†™ä»£ç å‰éœ€è¦æŒæ¡çš„å†…å®¹</h2><p>urllibåº“æ˜¯pythonå†…ç½®çš„ï¼Œæ— éœ€æˆ‘ä»¬é¢å¤–å®‰è£…ï¼Œåªè¦å®‰è£…äº†Pythonå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªåº“ã€‚<br>requestsåº“æ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å®‰è£…ã€‚<br>å®‰è£…å‘½ä»¤,åœ¨cmdä¸­è¾“å…¥</p><blockquote><p>pip install requests<br>pip install beautifulsoup4</p></blockquote><p>å¦‚æœè¿è¡Œæ—¶æœ‰æŠ¥é”™No module named â€˜openpyxlâ€™åˆ™è¯´æ˜è¯¥æ¨¡å—æ²¡æœ‰å®‰è£…,å®‰è£…ä¸€ä¸‹å°±å¯ä»¥äº†<br>å¦‚æœå®‰è£…å‡ºç°error,æœ€åº•ä¸‹å‡ºç°é»„è‰²warningè¯´ä½ çš„pipç‰ˆæœ¬æ˜¯å¤šå°‘,ç„¶è€Œç°åœ¨çš„ç‰ˆæœ¬æ˜¯å¤šå°‘,æ›´æ–°ä¸€ä¸‹pipå°±å¯ä»¥äº†</p><blockquote><p>pip install openpyxl<br>python -m pip install -U pip       #æ›´æ–°pipå‘½ä»¤<br>(å®‰è£…å¤±è´¥ä¹Ÿå¯ä»¥å°è¯•ç®¡ç†å‘˜è¿è¡Œ)</p></blockquote><h3 id="ä»£ç æ­¥éª¤"><a href="#ä»£ç æ­¥éª¤" class="headerlink" title="ä»£ç æ­¥éª¤"></a>ä»£ç æ­¥éª¤</h3><ul><li>å¯¼å…¥æ¨¡å—</li><li>æŒ‡å®šç½‘å€</li><li>å‘èµ·è¯·æ±‚    <ul><li>requestsæ¨¡å—</li></ul></li><li>è·å–å“åº”æ•°æ®<ul><li>requests.get(url)</li></ul></li></ul><h3 id="æ•°æ®è§£æ"><a href="#æ•°æ®è§£æ" class="headerlink" title="æ•°æ®è§£æ"></a>æ•°æ®è§£æ</h3><ul><li>å°±æ˜¯è·å–é¡µé¢å±€éƒ¨æ•°æ®çš„è¿‡ç¨‹</li><li>ç½‘é¡µä¸­æ˜¾ç¤ºçš„æ•°æ®åœ¨å“ªï¼Ÿåœ¨ç½‘é¡µæ ‡ç­¾ä¸­ï¼ˆåŒ…è£¹åœ¨é‡Œé¢ï¼‰</li><li>è§£æåŸç†ï¼š<ul><li>å®šä½æ ‡ç­¾</li><li>æå–æ•°æ®</li></ul></li><li>ç”¨pythonå¦‚ä½•å®ç°ï¼Ÿ<ul><li>bs4æ¨¡å—</li></ul></li></ul><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python">import requests          #å¯¼å…¥requestsæ¨¡å—(è¯·æ±‚)#url &#x3D; &#39;&#39;                #ç½‘å€#res&#x3D;requests.get(url)   #è¯·æ±‚#print(res)              #æ‰“å°ç»“æœä¸º200#print(res.text)         #æŸ¥çœ‹æ•°æ® .text#HTML è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€  ç”±ä¸€ä¸ªä¸ªæ ‡ç­¾ç»„æˆimport bs4               #å¯¼å…¥bs4æ¨¡å—(è§£æ)#soup&#x3D;bs4.BeautifulSoup(res.text,&#39;html.parser&#39;)  #åŠ å·¥æˆå¯ä»¥æ ‡ç­¾å®šä½çš„æ•°æ®import openpyxl          #å¯¼å…¥å†™å…¥excelçš„æ¨¡å—wb &#x3D; openpyxl.Workbook() #åˆ›å»ºå·¥ä½œè–„ws &#x3D; wb.active           #åˆ›å»ºå·¥ä½œè¡¨ws.append([&quot;è¯¦ç»†ä¿¡æ¯&quot;,&quot;ä¼˜åŠ¿&quot;,&quot;ä»·æ ¼&quot;])    #å†™å…¥è¡¨å¤´ for i in range(1,6): #ç”Ÿæˆä¸€ä¸ª1-5çš„åºåˆ—  [1,2,3,4,5]    url &#x3D; &quot;https:&#x2F;&#x2F;bj.lianjia.com&#x2F;zufang&#x2F;pg&#123;&#125;&#x2F;#contentList&quot;.format(i)  #åœ¨æ‰©å·é‡Œæ”¾å…¥içš„å€¼,é€šè¿‡è§‚å¯Ÿå‘ç°1-5é¡µçš„ç½‘å€çš„è§„å¾‹    res&#x3D; requests.get(url)    soup &#x3D; bs4.BeautifulSoup(res.text)    for i in soup.find_all(&quot;div&quot;,class_&#x3D;&quot;content__list--item&quot;):        lst &#x3D;[]        lst.append(i.find(&quot;p&quot;,class_&#x3D;&quot;content__list--item--des&quot;).text)        lst.append(i.find(&quot;p&quot;,class_&#x3D;&quot;content__list--item--bottom oneline&quot;).text)        lst.append(i.find(&quot;span&quot;,class_&#x3D;&quot;content__list--item-price&quot;).text)        ws.append(lst)wb.save(&quot;é“¾å®¶ç§Ÿæˆ¿ä¿¡æ¯.xlsx&quot;)                                            #ä¿å­˜ä¸ºexcelæ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxæ­å»ºåŸºäºnonebot2å’Œgo-cqhttpçš„qqæœºå™¨äºº</title>
      <link href="/2022/05/28/14l-nonebot2-qqbot/"/>
      <url>/2022/05/28/14l-nonebot2-qqbot/</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><p>1.ä¸€å°linuxç³»ç»ŸæœåŠ¡å™¨(æˆ–è€…è™šæ‹Ÿæœº)<br>1.python 3.7.3ä»¥ä¸Š<br>2.Pythonèƒ½åŠ›<br>3.è¯»æ–‡æ¡£èƒ½åŠ›<br>4.Linuxèƒ½åŠ›ï¼ˆéƒ¨ç½²äºlinuxï¼‰</p><h3 id="å…³äºnbå’Œgo-cqhttp"><a href="#å…³äºnbå’Œgo-cqhttp" class="headerlink" title="å…³äºnbå’Œgo-cqhttp"></a>å…³äºnbå’Œgo-cqhttp</h3><p><a href="https://v2.nonebot.dev/">nbå®˜æ–¹æ–‡æ¡£</a><br><a href="https://docs.go-cqhttp.org/">gocqå®˜æ–¹æ–‡æ¡£</a><br>ä½ éœ€è¦è®°ä½ä»–ä»¬ï¼Œå› ä¸ºä½ éœ€è¦éšæ—¶æŸ¥é˜…æ–‡æ¡£</p><p>ç®€å•æ¥è¯´ï¼Œgocqå°±æ˜¯ä¸€ä¸ªQQï¼Œå³ä½ éœ€è¦ç”¨å®ƒæ¥ç™»å½•ï¼Œæ¥æ”¶æ¶ˆæ¯ï¼Œå‘é€æ¶ˆæ¯ï¼›è€Œnbåˆ™ç”¨æ¥å®ç°æœºå™¨äººçš„å„ç§åŠŸèƒ½</p><blockquote><p>åˆ›ä½œæœ¬æ–‡æ—¶ï¼Œnbæœ€æ–°ç‰ˆæœ¬ä¸ºRelease v2.0.0-beta.3ï¼Œgocqæœ€æ–°ç‰ˆæœ¬ä¸º&#96;v1.0.0-rc1 ï¼Œè¯·æ³¨æ„å†…å®¹æ—¶æ•ˆï¼</p></blockquote><h2 id="å®‰è£…python3"><a href="#å®‰è£…python3" class="headerlink" title="å®‰è£…python3"></a>å®‰è£…python3</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">#è·å–å®‰è£…åŒ…wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.10.1&#x2F;Python-3.10.1.tgz#ä¸‹è½½å®Œæˆä¹‹åï¼Œå°†å®‰è£…åŒ…è§£å‹åˆ°å½“å‰ç›®å½•ï¼štar xvf Python-3.10.1.tgz#å®‰è£…éœ€è¦çš„ä¾èµ–apt -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel#å…ˆè¿›å…¥Python3ç›®å½•ä¸‹çš„Python-3.9.13ç›®å½•ï¼šcd Python-3.10.1#æŒ‡å®špython3å®‰è£…è·¯å¾„ï¼š.&#x2F;configure prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;python3.10.1è‹¥å‡ºç°ä»¥ä¸‹æŠ¥é”™&#96;&#96;&#96;linuxchecking build system type... x86_64-pc-linux-gnuchecking host system type... x86_64-pc-linux-gnuchecking for python3.8... nochecking for python3... nochecking for python... pythonchecking for --enable-universalsdk... nochecking for --with-universal-archs... nochecking MACHDEP... &quot;linux&quot;checking for gcc... nochecking for cc... nochecking for cl.exe... noconfigure: error: no acceptable C compiler found in $PATHæ‰§è¡Œyum -y groupinstall &quot;Development Tools&quot;é‡æ–°æ‰§è¡Œ.&#x2F;configure prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;python3.10.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>#ç¼–è¯‘+å®‰è£…</p><blockquote><p>make &amp;&amp; make install</p></blockquote><p>æ­¤å¤„å®¹æ˜“å‡ºç°æŠ¥é”™:makeå‘½ä»¤æŠ¥é”™ï¼šgccï¼šå‘½ä»¤æœªæ‰¾åˆ°&#x2F;bin&#x2F;sh: cc: æœªæ‰¾åˆ°å‘½ä»¤</p><p>ç³»ç»Ÿä¸­ç¼ºå°‘gcc</p><blockquote><p>yum -y install gcc automake autoconf libtool make</p><p><a href="%5B(72%E6%9D%A1%E6%B6%88%E6%81%AF">å‚è€ƒæ–‡ç« </a> æ‰§è¡Œmakeå‘½ä»¤æŠ¥é”™ï¼šgccï¼šå‘½ä»¤æœªæ‰¾åˆ°&#x2F;bin&#x2F;sh: cc: æœªæ‰¾åˆ°å‘½ä»¤_è¶…çº§ç é‡Œå–µçš„åšå®¢-CSDNåšå®¢_&#x2F;bin&#x2F;sh: cc: æœªæ‰¾åˆ°å‘½ä»¤](<a href="https://blog.csdn.net/qq_30999361/article/details/124447365">https://blog.csdn.net/qq_30999361/article/details/124447365</a>))</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">#æ·»åŠ python3è½¯é“¾æ¥ï¼šln -s &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;python3.10.1 &#x2F;usr&#x2F;bin&#x2F;python3#æ·»åŠ pip3è½¯é“¾æ¥ï¼šln -s &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;pip3.10.1 &#x2F;usr&#x2F;bin&#x2F;pip3#åˆ é™¤è½¯è¿æ¥çš„æ–¹æ³•(&#96;æ…ç”¨,ä¸ç„¶ä¼šè¿ç€æ–‡ä»¶ä¸€èµ·åˆ é™¤&#96;)unlink &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;python3.10.1&#x2F;usr&#x2F;bin&#x2F;python3rm -rf &#x2F;usr&#x2F;local&#x2F;python3.10.1&#x2F;bin&#x2F;python3.10.1&#x2F;usr&#x2F;bin&#x2F;python3    #æœ«å°¾æœ‰&#96;&#x2F;&#96;çš„æ˜¯è¿æ–‡ä»¶ä¸€èµ·åˆ é™¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>#é…ç½®pythonç¯å¢ƒå˜é‡<br>é…ç½®ç¯å¢ƒå˜é‡ä¸»è¦æ˜¯èƒ½å¿«é€Ÿä½¿ç”¨pip3å®‰è£…å‘½ä»¤ã€‚</p><p>vi ~&#x2F;.bash_profileæ·»åŠ å¦‚ä¸‹é…ç½®</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">export PYTHON_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;python3.10.1export PATH&#x3D;$PYTHON_HOME&#x2F;bin:$PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>#ä½¿é…ç½®ç”Ÿæ•ˆ</p><blockquote><p>source ~&#x2F;.bash_profile</p></blockquote><p>#æ£€æŸ¥ç‰ˆæœ¬<br>python3 â€“version<br>python3<br>pip3 -V    #æŸ¥çœ‹å·²å®‰è£…çš„åº“</p><pre class="line-numbers language-none"><code class="language-none">## å®‰è£…nbå®‰è£…è„šæ‰‹æ¶é€šè¿‡è„šæ‰‹æ¶å®‰è£…(å®˜æ–¹æ¨è)ï¼š&gt;pip install nb-cliå®‰è£…è„šæ‰‹æ¶æ—¶ä¼šè‡ªåŠ¨å®‰è£…nbå®‰è£…æ—¶å¯èƒ½ä¼šå‡ºç°çš„æŠ¥é”™ï¼š1.å¾ˆé•¿ä¸€æ®µç»“å°¾å‡ºç° read time outpip3 install nb-cli -i http:&#x2F;&#x2F;pypi.douban.com&#x2F;simple 2.ModuleNotFoundError: No module named â€˜_ctypesâ€˜è§£å†³æ–¹æ³•åŸå› :Python3ä¸­æœ‰ä¸ªå†…ç½®æ¨¡å—å«ctypesï¼Œå®ƒæ˜¯Python3çš„å¤–éƒ¨å‡½æ•°åº“æ¨¡å—ï¼Œå®ƒæä¾›å…¼å®¹Cè¯­è¨€çš„æ•°æ®ç±»å‹ï¼Œå¹¶é€šè¿‡å®ƒè°ƒç”¨Linuxç³»ç»Ÿä¸‹çš„å…±äº«åº“(Shared library)ï¼Œæ­¤æ¨¡å—éœ€è¦ä½¿ç”¨CentOS7ç³»ç»Ÿä¸­å¤–éƒ¨å‡½æ•°åº“(Foreign function library)çš„å¼€å‘é“¾æ¥åº“(å¤´æ–‡ä»¶å’Œé“¾æ¥åº“)ã€‚ç”±äºåœ¨CentOS7ç³»ç»Ÿä¸­æ²¡æœ‰å®‰è£…å¤–éƒ¨å‡½æ•°åº“(libffi)çš„å¼€å‘é“¾æ¥åº“è½¯ä»¶åŒ…ï¼Œæ‰€ä»¥åœ¨å®‰è£…pipçš„æ—¶å€™å°±æŠ¥äº†&quot;ModuleNotFoundError: No module named &#39;_ctypes&#39;&quot;çš„é”™è¯¯ã€‚å®‰è£…ä¸€ä¸‹å¤–éƒ¨å‡½æ•°åº“(libffi)å°±å¯ä»¥äº†yum install libffi-devel -yå®‰è£…å®Œæˆå,æºç å®‰è£…çš„python3 é‡æ–°ç¼–è¯‘å®‰è£…ï¼Œ å¦‚æœé€šè¿‡yumå®‰è£…çš„ é‚£ä¹ˆç›´æ¥æ‰§è¡Œå‘½ä»¤ yum install python         .&#x2F;configure --prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;python3make &amp;&amp; make install3.WARNING: Additional context:user &#x3D; Falsehome &#x3D; Noneroot &#x3D; Noneprefix &#x3D; Noneä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å‡çº§pipå³å¯python3 -m -pip3 install -upgrade på…¶ä»–å›½å†…é•œåƒï¼šé˜¿é‡Œäº‘ http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;pypi&#x2F;simple&#x2F;ä¸­å›½ç§‘æŠ€å¤§å­¦ https:&#x2F;&#x2F;pypi.mirrors.ustc.edu.cn&#x2F;simple&#x2F;è±†ç“£(douban) http:&#x2F;&#x2F;pypi.douban.com&#x2F;simple&#x2F;æ¸…åå¤§å­¦ https:&#x2F;&#x2F;pypi.tuna.tsinghua.edu.cn&#x2F;simple&#x2F;ä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ http:&#x2F;&#x2F;pypi.mirrors.ustc.edu.cn&#x2F;simple&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><a href="https://blog.csdn.net/u011817217/article/details/102662307">å‚è€ƒæŠ¥é”™1</a></p><p><a href="%5B(72%E6%9D%A1%E6%B6%88%E6%81%AF">å‚è€ƒæŠ¥é”™2</a> ModuleNotFoundError: No module named â€˜_ctypesâ€˜è§£å†³æ–¹æ³•_wuyepiaoxue789çš„åšå®¢-CSDNåšå®¢](<a href="https://blog.csdn.net/wuyepiaoxue789/article/details/117958240?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-117958240-blog-118799671.pc_relevant_multi_platform_whitelistv3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-117958240-blog-118799671.pc_relevant_multi_platform_whitelistv3&utm_relevant_index=2">https://blog.csdn.net/wuyepiaoxue789/article/details/117958240?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-117958240-blog-118799671.pc_relevant_multi_platform_whitelistv3&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-117958240-blog-118799671.pc_relevant_multi_platform_whitelistv3&amp;utm_relevant_index=2</a>))</p><p>[å‚è€ƒæŠ¥é”™3](<a href="https://stackoverflow.com/questions/67244301/warning-value-for-scheme-data-does-not-match-when-i-try-to-update-pip-or-inst">python - â€œè­¦å‘Šï¼šscheme.data çš„å€¼ä¸åŒ¹é…â€ï¼Œå½“æˆ‘å°è¯•æ›´æ–° pip æˆ–å®‰è£…è½¯ä»¶åŒ…æ—¶ - å †æ ˆæº¢å‡º (stackoverflow.com)</a>)</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">å®‰è£…é€‚é…å™¨(ä½¿ç”¨è„šæ‰‹æ¶å®‰è£…æ—¶å·²ç»å®‰è£…,å¯ä»¥çœç•¥)&gt;pip install nonebot-adapter-onebot## go-cqhttpçš„å®‰è£…ä¸é…ç½®### ä¸‹è½½å‰å¾€[release](https:&#x2F;&#x2F;github.com&#x2F;Mrs4s&#x2F;go-cqhttp&#x2F;releases)ä¸‹è½½å®‰è£…åŒ…,æ–°å»ºæ–‡ä»¶å¤¹qqbot,åœ¨qqbotä¸‹æ–°å»ºcqæ–‡ä»¶å¤¹,å®‰è£…åŒ…ä¸Šä¼ åˆ°è¿™é‡Œ&#96;&#96;&#96;ccd qqbot&#x2F;cq            #åˆ‡æ¢åˆ°cqæ–‡ä»¶å¤¹chmod 777 go-cqhttp    #èµ‹äºˆæƒé™.&#x2F;go-cqhttp è¿è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€‰æ‹©<code>åå‘WebSocket</code>å›è½¦<br>æ­¤æ—¶ç›®å½•ä¸‹ä¼šç”Ÿæˆé…ç½®æ–‡ä»¶<code>config.yml</code><br>å¯¹å…¶è¿›è¡Œé…ç½®ä¿®æ”¹ï¼š</p><ul><li><p>QQå·åŠå¯†ç   (è¡Œ4ã€5)</p></li><li><p>åå‘wsåœ°å€  (è¡Œ96)</p><blockquote><p>universal: ws:&#x2F;&#x2F;your_websocket_universal.server<br>ä¿®æ”¹ä¸º<br>universal: ws:&#x2F;&#x2F;127.0.0.1:8080&#x2F;onebot&#x2F;v11&#x2F;ws</p></blockquote></li></ul><p>8080æ˜¯ç«¯å£å·ï¼Œ(å¯ä»¥è‡ªè¡Œæ›´æ”¹å¯¹åº”çš„nonebot2çš„ç«¯å£å·ä¹Ÿè¦è·Ÿç€æ›´æ”¹)ï¼Œå†æ¬¡æ‰§è¡Œ.&#x2F;go-cqhttpï¼Œå³å¯ç™»å½•æˆåŠŸ</p><h3 id="ç™»å½•æ—¶çš„å°é—®é¢˜"><a href="#ç™»å½•æ—¶çš„å°é—®é¢˜" class="headerlink" title="ç™»å½•æ—¶çš„å°é—®é¢˜"></a>ç™»å½•æ—¶çš„å°é—®é¢˜</h3><p>ç›´æ¥å¯†ç ç™»å½•ä¼šè¯´ä»€ä¹ˆè¦æ‹–åŠ¨éªŒè¯ç ,ç„¶åè®©ä½ æ‰«ç ç™»å½•,æ‰«ç ç„¶åè¯´ä»€ä¹ˆä»€ä¹ˆæœ‰é£é™©,è¿æ¥åˆ°åŒä¸€ç½‘ç»œä¸‹å†é‡æ–°æ‰«ç </p><p>å‡ºç°è¿™ä¸ªæœ‰ä¸¤ä¸ªé—®é¢˜</p><blockquote><ul><li>é¦–å…ˆæ³¨æ„è®¾å¤‡æ˜¯å¦è¿æ¥åŒä¸€ä¸ªwifi,æœªè¿æ¥åŒä¸€ä¸ªwifiå¯èƒ½å¯¼è‡´æ— æ³•ç™»é™†</li><li>,å¦‚æœwifiå·²è¿æ¥,ä¾ç„¶æ— æ³•ç™»é™†,å»<a href="https://github.com/Mrs4s/go-cqhttp/releases">release</a>ä¸‹è½½windowsçš„å®‰è£…åŒ…å®‰è£…åˆ°è‡ªå·±ç”µè„‘ä¸Š,è¿è¡Œ,å°†è¿è¡Œåäº§ç”Ÿçš„deviceå’Œtockenä¼ ä¸ŠæœåŠ¡å™¨(æˆ–è€…é™¤äº†.go-cqhttp.exeæ•´ä¸ªæŒªè¿‡æ¥ä¹Ÿè¡Œ),é‡æ–°è¿è¡Œgo-cqhttp,å°±å¯ä»¥è§£å†³äº†</li></ul></blockquote><p>ç™»é™†æˆåŠŸåä¼šæœ‰é»„è‰²å­—çš„warning,æš‚æ—¶ä¸ç”¨ç®¡,æŠ¥é”™çš„åŸå› æ˜¯è¿˜æœªå¯åŠ¨nb2</p><h2 id="åˆ›å»ºnbé¡¹ç›®"><a href="#åˆ›å»ºnbé¡¹ç›®" class="headerlink" title="åˆ›å»ºnbé¡¹ç›®"></a>åˆ›å»ºnbé¡¹ç›®</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">nb create<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŒ‰ç…§å¦‚ä¸‹æ­¥éª¤åˆ›å»ºé¡¹ç›®</p><blockquote><p>è¾“å…¥é¡¹ç›®åç§° æˆ‘è¿™é‡Œè¾“å…¥äº†robot<br>ä½¿ç”¨ â†“ é€‰æ‹©srcæ–‡ä»¶å¤¹<br>é€‰æ‹©ä¸€æ¬¾é¢„ç½®æ’ä»¶ï¼Œæˆ‘æŒ‰ä¸‹<code>ç©ºæ ¼</code>é€‰æ‹©echoï¼Œå›è½¦<br>æŒ‰ä¸‹<code>ç©ºæ ¼</code>é”®é€‰æ‹©noebot v11å›è½¦<br>(æ³¨æ„ç©ºæ ¼æˆ–è€…é¼ æ ‡ç‚¹å‡»ä¹Ÿå¯ä»¥,é€‰é¡¹ä¸ºç»¿è‰²é€‰ä¸­çŠ¶æ€å³å¯)</p></blockquote><h3 id="é…ç½®-envæ–‡ä»¶"><a href="#é…ç½®-envæ–‡ä»¶" class="headerlink" title="é…ç½®.envæ–‡ä»¶"></a>é…ç½®.envæ–‡ä»¶</h3><p>æ‰“å¼€<code>.env.</code>å¹¶åšå‡ºä¿®æ”¹</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"># .envENVIRONMENT&#x3D;devCUSTOM_CONFIG&#x3D;common config  # è¿™ä¸ªé…ç½®é¡¹åœ¨ä»»ä½•ç¯å¢ƒä¸­éƒ½ä¼šè¢«åŠ è½½<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="é…ç½®-env-devæ–‡ä»¶"><a href="#é…ç½®-env-devæ–‡ä»¶" class="headerlink" title="é…ç½®.env.devæ–‡ä»¶"></a>é…ç½®.env.devæ–‡ä»¶</h3><p>æ‰“å¼€<code>env.dev</code>å¹¶åšå‡ºä¿®æ”¹</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">HOST&#x3D;127.0.0.1PORT&#x3D;8080DEBUG&#x3D;true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®˜æ–¹ç¤ºä¾‹<code>.env.dev</code></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">HOST&#x3D;0.0.0.0  # é…ç½® NoneBot2 ç›‘å¬çš„ IP&#x2F;ä¸»æœºåPORT&#x3D;8080  # é…ç½® NoneBot2 ç›‘å¬çš„ç«¯å£SUPERUSERS&#x3D;[&quot;123456789&quot;, &quot;987654321&quot;]  # é…ç½® NoneBot è¶…çº§ç”¨æˆ·NICKNAME&#x3D;[&quot;awesome&quot;, &quot;bot&quot;]  # é…ç½®æœºå™¨äººçš„æ˜µç§°COMMAND_START&#x3D;[&quot;&#x2F;&quot;, &quot;&quot;]  # é…ç½®å‘½ä»¤èµ·å§‹å­—ç¬¦COMMAND_SEP&#x3D;[&quot;.&quot;]  # é…ç½®å‘½ä»¤åˆ†å‰²å­—ç¬¦# Custom ConfigsCUSTOM_CONFIG1&#x3D;&quot;config in env file&quot;CUSTOM_CONFIG2&#x3D;  # ç•™ç©ºåˆ™ä»ç³»ç»Ÿç¯å¢ƒå˜é‡è¯»å–ï¼Œå¦‚ä¸å­˜åœ¨åˆ™ä¸ºç©ºå­—ç¬¦ä¸²<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ·»åŠ å®ˆæŠ¤è¿›ç¨‹"><a href="#æ·»åŠ å®ˆæŠ¤è¿›ç¨‹" class="headerlink" title="æ·»åŠ å®ˆæŠ¤è¿›ç¨‹"></a>æ·»åŠ å®ˆæŠ¤è¿›ç¨‹</h2><p>é¿å…æœåŠ¡å™¨æ–­å¼€è¿æ¥æ—¶,è¿›ç¨‹å…³é—­<br>æˆ‘ç”¨çš„æ˜¯<code>screen</code>,ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–çš„è¿›ç¨‹å®ˆæŠ¤</p><h3 id="å®‰è£…screen"><a href="#å®‰è£…screen" class="headerlink" title="å®‰è£…screen"></a>å®‰è£…screen</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">&gt;yum install -y screen#(1)åˆ›å»ºè¿›ç¨‹åç§°&gt;screen -S xxx   #(2)æŸ¥çœ‹åˆ›å»ºçš„è¿›ç¨‹&gt;screen -ls#(3)å¸¸ç”¨å‘½ä»¤&gt;screen -S session_name   # æ–°å»ºè¿›ç¨‹å&gt;screen -lsï¼ˆæˆ–è€…screen-listï¼‰      # åˆ—å‡ºæ‰€æœ‰session&gt;screen-r session_name              # å›åˆ°session_nameè¿™ä¸ªsession&gt;screen -d session_name             # è¿œç¨‹detachæŸä¸ªsession&gt;screen -d -r session_name          # ç»“æŸå½“å‰sessionå¹¶å›åˆ°session_nameè¿™ä¸ªsession&gt;screen -XS session_name  quit     #æ€æ­»åä¸ºseesion_nameçš„screenåœ¨ screen ä¸­ï¼Œå¦‚æœæƒ³ç¿»çœ‹ä¹‹å‰çš„å±å¹•è¾“å‡ºï¼Œä½¿ç”¨å‘ä¸Šé”®å’ŒpageUp éƒ½æ˜¯ä¸è¡Œçš„ï¼Œè¿™æ—¶å€™ä½¿ç”¨&gt;ctrl + a + [&#123; &gt;ä»åå°è¿›ç¨‹é‡Œå‡ºæ¥ï¼ŒæŒ‰é”®ï¼šctrl+A+Dï¼Œå›åˆ°ä¸»ç»ˆç«¯ã€‚&gt;ä½†å¦‚æœåœ¨ä¸»è¿›ç¨‹é‡Œctrl+A+Dï¼Œå°±ä¼šæ–­å¼€sshè¿æ¥ç»“æŸå½“å‰screençª—å£&gt;exit æˆ–è€… ctrl+d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-c" data-language="c"><code class="language-c">&gt;screen -S go-cqhttp.&#x2F;go-cqhttp(åœ¨go-cqæ‰€åœ¨çš„æ–‡ä»¶å¤¹ä¸‹)&gt;screen -S  botnb run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤§åŠŸå‘Šæˆ"><a href="#å¤§åŠŸå‘Šæˆ" class="headerlink" title="å¤§åŠŸå‘Šæˆ"></a>å¤§åŠŸå‘Šæˆ</h3><p>ç„¶åå°±å¤§åŠŸå‘Šæˆ,å¯ä»¥ç»™æœºå™¨äººå‘é€æ¶ˆæ¯æµ‹è¯•äº†</p><blockquote><p>&#x2F;echo ä½ å¥½<br>è¿™ä¸ªechoæ˜¯å†…ç½®æ’ä»¶,å…¶ä»–çš„åŠŸèƒ½æ’ä»¶å•†åº—å¯ä»¥ä¸‹è½½,è¿˜å¯ä»¥è‡ªè¡Œç¼–å†™</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> QQbot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nonebot2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ADä¸€äº›åŸºç¡€çš„ä½¿ç”¨æ–¹æ³•</title>
      <link href="/2022/05/25/13h-ad-mesures/"/>
      <url>/2022/05/25/13h-ad-mesures/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä½¿ç”¨çš„æ˜¯AD 20</p><h2 id="ä¸ªäººé‡åˆ°çš„ä¸€äº›å°é—®é¢˜"><a href="#ä¸ªäººé‡åˆ°çš„ä¸€äº›å°é—®é¢˜" class="headerlink" title="ä¸ªäººé‡åˆ°çš„ä¸€äº›å°é—®é¢˜"></a>ä¸ªäººé‡åˆ°çš„ä¸€äº›å°é—®é¢˜</h2><blockquote><p>1.ä¸å°ç¿»è½¬,è™½ç„¶é¼ æ ‡æ‹–ä½æŒ‰xå¯ä»¥xè½´ç¿»è½¬,yå¯ä»¥yè½´ç¿»è½¬,ä½†è¿˜æ˜¯æœ‰ä¸€éƒ¨åˆ†åœ¨åº•å±‚ä¸å°<code>æœªè§£å†³</code></p></blockquote><blockquote><p>2.åˆšå¯¼å…¥PCBæ‹–è¿›é»‘æ¡†é‡Œçš„å…ƒå™¨ä»¶å…¨éƒ¨æŠ¥ç»¿<br>è§£å†³:å³é”®&gt;å†²çª&gt;æˆ‘ç›´æ¥æŠŠå†²çªçš„é‚£æ¡è§„åˆ™åˆ äº†(å› ä¸ºæˆ‘è¿™é‡Œæ˜¯æ”¾ä¸Šå»å°±æŠ¥é”™,æ‰€ä»¥å¾ˆå¯èƒ½æ˜¯è§„åˆ™çš„é—®é¢˜,å…¶ä»–ä¸ä¸€æ ·çš„è§„åˆ™é—®é¢˜,ä¿®æ”¹å°±å¯ä»¥äº†,ä¸ä¸€å®šéè¦åˆ æ‰)</p></blockquote><blockquote><p>3.çº¢,è“æ˜¯é¡¶å±‚å’Œåº•å±‚é“ºé“œå¸ƒçº¿çš„<br>ç´«æ˜¯åˆ‡å‰²æ¿å­,ç¡®å®šå½¢çŠ¶çš„<br>é»„è‰²æ˜¯ä¸å°å±‚<br>é¼ æ ‡æ‹–ç€æŒ‰Lå¯ä»¥æ”¹å˜å…ƒå™¨ä»¶å±‚æ•°</p></blockquote><blockquote><p>3.æŒ‰qå¯ä»¥åˆ‡æ¢adçš„å•ä½</p></blockquote><h2 id="ç”»æ¿å¤§æ¦‚æ­¥éª¤"><a href="#ç”»æ¿å¤§æ¦‚æ­¥éª¤" class="headerlink" title="ç”»æ¿å¤§æ¦‚æ­¥éª¤"></a>ç”»æ¿å¤§æ¦‚æ­¥éª¤</h2><blockquote><p>å…ƒå™¨ä»¶çš„æ”¾ç½®ã€ç½‘ç»œç¼–å·ã€å°è£…æ·»åŠ (å°è£…ç®¡ç†å™¨)ã€ç¼–è¯‘ã€å¯¼å…¥åˆ°PCB<br>æ³¨:æ–°å»ºçš„PCBéœ€è¦ä¿å­˜æ‰å¯ä»¥å¯¼å…¥</p></blockquote><h3 id="PCBç»˜åˆ¶"><a href="#PCBç»˜åˆ¶" class="headerlink" title="PCBç»˜åˆ¶"></a>PCBç»˜åˆ¶</h3><blockquote><p>å¸ƒå±€ã€å¸ƒçº¿ã€é“ºé“œã€ç”µæ°”è§„åˆ™æ£€æŸ¥(è§„åˆ™è®¾ç½®)</p></blockquote><h3 id="PCBå¸ƒå±€"><a href="#PCBå¸ƒå±€" class="headerlink" title="PCBå¸ƒå±€"></a>PCBå¸ƒå±€</h3><blockquote><p>ç¼–è¾‘&gt;è®¾ç½®åŸç‚¹&gt;ç”»çº¿è®¾ç½®é•¿åº¦(åœ¨æœºæ¢°å±‚)æŠŠå¼•è„šæ‹–è¿‡å»å®Œå–„è¾¹æ¡†(é€‰ä¸­æ¡†æ¡†&gt;è®¾è®¡&gt;æ¿å­å½¢çŠ¶&gt;æŒ‰ç…§é€‰æ‹©å¯¹è±¡å®šä¹‰)å°±å¯ä»¥å¾—åˆ°æ¿å­çš„å½¢çŠ¶äº†</p></blockquote><blockquote><p>window&gt;å¹³é“º(å¯ä»¥ä½¿çª—å£å¹¶æ’)</p></blockquote><blockquote><p>å·¥å…·&gt;äº¤å‰é€‰æ‹©æ¨¡å¼(ctrl+shift+x)å¯ä»¥ä½¿åœ¨åŸç†å›¾é€‰ä¸­çš„å¯ä»¥å†PCBä¸­å‡¸æ˜¾å‡ºæ¥</p></blockquote><blockquote><p>å·¥å…·&gt;å™¨ä»¶æ‘†æ”¾å¯ä»¥å°†é€‰ä¸­çš„å…ƒå™¨ä»¶æ’åˆ—åœ¨è‡ªå·±é€‰ä¸­çš„åŒºåŸŸ</p></blockquote><blockquote><p>å¸ƒå±€è¦è€ƒè™‘åˆ°å¸ƒçº¿é—®é¢˜</p></blockquote><h2 id="å…·ä½“æ­¥éª¤"><a href="#å…·ä½“æ­¥éª¤" class="headerlink" title="å…·ä½“æ­¥éª¤"></a>å…·ä½“æ­¥éª¤</h2><ul><li><h3 id="åŸç†å›¾ç»˜åˆ¶"><a href="#åŸç†å›¾ç»˜åˆ¶" class="headerlink" title="åŸç†å›¾ç»˜åˆ¶"></a>åŸç†å›¾ç»˜åˆ¶</h3></li></ul><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">è¿çº¿  å¿«æ·é”®çº¿ CTRL+W,ç©ºæ ¼æŠŠçº¿å˜ç›´  Placeâ†’Deirectivesâ†’ç»™å¼•è„šæ‰“ä¸Šçº¢å‰  ä¸è¿›è¡ŒDRCæ£€æŸ¥å…ƒå™¨ä»¶ç¼–å·  Toolsâ†’Annotation<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å°è£…æ·»åŠ -ç¼–è¯‘-äº¤äº’"><a href="#å°è£…æ·»åŠ -ç¼–è¯‘-äº¤äº’" class="headerlink" title="å°è£…æ·»åŠ  ç¼–è¯‘ äº¤äº’"></a>å°è£…æ·»åŠ  ç¼–è¯‘ äº¤äº’</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">å°è£…æ·»åŠ   å¯ä»¥å€ŸåŠ©&quot;Find Similar Objects...&quot;æ‰¹é‡æ·»åŠ å°è£…  å–æ¶ˆé˜´å½± shift+C  å³é”®å…ƒå™¨ä»¶&quot;Find Similar Objects...&quot;,å¯ä»¥æŸ¥æ‰¾åŒç±»å‹å…ƒå™¨ä»¶,ä¼šå‡ºç°é˜´å½±.  å°è£…ç®¡ç†å™¨ T+G,ç”¨äºæ£€æŸ¥å°è£…çš„é—®é¢˜ç¼–è¯‘  å³é”®Projectç¼–è¯‘ï¼Œæ£€æŸ¥error  å¯¼å…¥åˆ°PCBäº¤äº’ | åŸç†å›¾ä¸PCBä¹‹é—´  åŸç†å›¾ä¸­é€‰ä¸­æ¨¡å—ï¼ŒæŒ‰shift+ctrl+xï¼ŒPCBä¸­æ‰èƒ½é€‰ä¸­æˆ‘ä»¬éœ€è¦çš„æ¨¡å—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="PCBç»˜åˆ¶-å¸ƒçº¿-è‡ªåŠ¨å¸ƒçº¿"><a href="#PCBç»˜åˆ¶-å¸ƒçº¿-è‡ªåŠ¨å¸ƒçº¿" class="headerlink" title="PCBç»˜åˆ¶ å¸ƒçº¿ è‡ªåŠ¨å¸ƒçº¿"></a>PCBç»˜åˆ¶ å¸ƒçº¿ è‡ªåŠ¨å¸ƒçº¿</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">PCBç»˜åˆ¶shift+så•ç‹¬æŸ¥çœ‹æ¯å±‚  å¸ƒå±€    éšè—é£çº¿ N    å¸ƒçº¿æ—¶å†ç”¨    é€ä¸ªæ¨¡å—å¸ƒå±€    ç”¨Toolsâ†’Component PlacementæŠŠå…ƒå™¨ä»¶é€‰å‡ºæ¥    å…ƒå™¨ä»¶æ”¾åº•å±‚:è¦åœ¨ç§»åŠ¨ä¸­æŒ‰Lï¼ŒæŒ‰ç©ºæ ¼æ—‹è½¬  å¸ƒçº¿    æ‰‹åŠ¨å¸ƒçº¿    éšè—Top&#x2F;Bottom Overlay    å¯è§†æ€§ç®¡ç†é¢æ¿å¿«æ·é”®Lè¿›è¡Œæ¢å¤          å¿«æ·é”®N,è°ƒå‡ºé£çº¿ï¼Œå¹¶éšè—GNDé£çº¿    æ™®é€šå¸ƒçº¿10milï¼Œç”µæºçº¿15mil    æ‰“å¼€å¯è§æ€§ç®¡ç†é¢æ¿ctrl+D      å¦‚éšè—æ–‡å­—ï¼Œæ–¹ä¾¿å¸ƒçº¿;è¿˜å¯è°ƒèŠ‚å¸ƒçº¿æ—¶çš„äº®åº¦ Dimmed objects        Designâ†’Rules...æ”¹ä¸º6mil        â†’Electrical ç”µæ°”å±æ€§        â†’Manufacturing    ctrl+Wè°ƒå‡ºå¸ƒçº¿(åå­—æ¶)    å¸ƒçº¿ä¸èƒ½æœ‰é”è§’&#x2F;ç›´è§’    *é”®è°ƒå‡ºè¿‡å­”ï¼Œè¿æ¥é¡¶å±‚å’Œåº•å±‚    è¿‡å­”ä¸€èˆ¬12mil&#x2F;24mil     è‡ªåŠ¨å¸ƒçº¿    å…ˆå»è®¾ç½®è§„åˆ™Designâ†’Rules...      Electrical ç”µæ°”å±æ€§      Clearance é—´è·      æ”¹6mil      Routing å¸ƒçº¿      Widrh çº¿å®½      Designâ†’Rule Wizard      æ·»åŠ ç”µæºçº¿æ”¹çº¿å®½15mil            Routing Via Style è¿‡å­”      12mil&#x2F;24mil            å¿«æ·é”®TEï¼Œ ç”»æ³ªæ»´      Toolsâ†’Teardrops...    Routeâ†’Auto Routeâ†’All...    è¿‡å­”Tabâ†’Find Similiar Objectsâ†’å»æ‰é˜»ç„Šå±‚ Solder Mask  Expansion æ”¹0mil    æŒ‰gæ”¹ç½‘æ ¼å•ä½    çŸ­è·¯:æ‰“è¿‡å­”Tabâ†’è‡ªåŠ¨ç§»é™¤å›è·¯Automatically Remove Loops<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é“ºé“œ-ä¸å°-ç”µæ°”è§„åˆ™"><a href="#é“ºé“œ-ä¸å°-ç”µæ°”è§„åˆ™" class="headerlink" title="é“ºé“œ ä¸å° ç”µæ°”è§„åˆ™"></a>é“ºé“œ ä¸å° ç”µæ°”è§„åˆ™</h3><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">è¦†é“œ  å¿«æ·é”® F3  Tab    Neté€‰GND    å‹¾é€‰ Remove Dead Copper  ç§»é™¤æ­»é“œ(ä¼šå…¨éƒ¨æŠ¥é”™)    Toolsâ†’ Polygon Poursâ†’ Repout All å…¨éƒ¨é‡è¦†    é¡¶å±‚&#x2F;åº•å±‚éƒ½è¦è¦†é“œ    *é”®åˆ‡æ¢åº•å±‚æŸ¥çœ‹    Designâ†’ Rules...â†’ Electrical ç”µæ°”å±æ€§â†’Clearanceé—´è·â†’Advanced â†’ Poly é‚£ä¸€è¡Œæ”¹10mil    æŠ¥é”™é‡è¦† â†’0Repout All          æ”¾ç½®å°è¿‡å­”:è¿æ¥ä¸¤å±‚è¦†é“œ;åŠ å›º    Designâ†’ Rules...â†’Planeâ†’Polygon Connect Styleâ†’æœ€å³Via Connection    æ”¹æˆç›´è¿ï¼Œå°±ä¸æ˜¯åå­—æ¶å½¢äº†     ä¸å°å±‚    é‡æ–°è°ƒå‡ºä¸å°    è°ƒå‡ºTab    æ”¹æ–‡å­—é«˜åº¦ï¼Œå­—ä½“   ä¸‰ç»´æ¨¡å¼ä¸‹ï¼Œç›´æ¥æ‹–æ–‡å­—æ”¹ä½ç½®ç”µæ°”è§„åˆ™æ£€æŸ¥(è§„åˆ™è®¾ç½®)  å¯ä»¥ä¸è¦†é“œè½¬æ¢é¡ºåº    Toolsâ†’ Design RuleCheck...â†’ Run    è°ƒå‡ºMessagesâ†’åŒå‡»å¯ä»¥å®šä½    ä¸€å®šè¦é‡æ–°è¦†é“œ     å†æ›´æ–°é”™è¯¯ï¼Œæ”¹é”™...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŸç†å›¾åº“-å°è£…åº“"><a href="#åŸç†å›¾åº“-å°è£…åº“" class="headerlink" title="åŸç†å›¾åº“ å°è£…åº“"></a>åŸç†å›¾åº“ å°è£…åº“</h3><p>åŸç†å›¾åº“ç»˜åˆ¶</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">&gt;æ³¨æ„å¼•è„šçš„å°ç™½ç‚¹(æŒ‡ç„Šç‚¹)å‘å¤–  åˆ©ç”¨å‘å¯¼ Toolsâ†’ Symbal Wizard...æ³¨æ„æ”¹å¼•è„šå±æ€§â†’Passive  è‡ªå·±æ‰¾èµ„æº:ç«‹åˆ›EDADesignâ†’ Make Schematic&#x2F;PCB Library<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PCBå°è£…åº“ç»˜åˆ¶</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">&gt;æœ€å…³é”®:ç„Šç›˜çš„å¤§å°å’Œè·ç¦»    å­”å¾„æ¯”æ’é’ˆå¤§0.1-0.2mm    ç„Šç›˜æ¯”å­”å¾„å¤§0.45-0.5mm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>çœ‹èŠ¯ç‰‡æ‰‹å†Œ</p><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">&gt;å¿«æ·é”®G&#x2F;ctrl+shift+G æ”¹å˜ç„Šç›˜è·ç¦»ç°è‰²è¦†é“œï¼Œç´«è‰²é˜»ç„Šå±‚æ”¹å˜åŸç‚¹åœ¨ä¸­å¿ƒæˆ–ä¸€è„š Editâ†’ Set Refeienceæ›´æ”¹å…ƒå™¨ä»¶åç§°åŸç†å›¾å…ƒä»¶åº“æ–‡ä»¶ + PCBå…ƒä»¶åº“æ–‡ä»¶æ·»åŠ åˆ°*.Libpkgï¼Œç¼–è¯‘åå°±ä¼šå‡ºç°*.IntLib å…ƒä»¶é›†æˆåº“æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¯¼å…¥åº“"><a href="#å¯¼å…¥åº“" class="headerlink" title="å¯¼å…¥åº“"></a>å¯¼å…¥åº“</h3><p>é»˜è®¤ä½ç½® System-default locations</p><p>å®‰è£…åº“Data management-&gt;File-based libraries</p><p>ADè‡ªå¸¦å¸¸ç”¨åº“ï¼Œä¹Ÿå¯å»å®˜æ–¹ä¸‹è½½</p><img src="/2022/05/25/13h-ad-mesures/image-20250119113207520.png" class="" title="image-20250119113207520"><p>ç«‹åˆ›å¯¼å…¥åº“ï¼Œç”Ÿæˆåº“ï¼Œç„¶åä¿å­˜æ”¹å</p><h3 id="å…³è”åŸç†å›¾å’Œå°è£…"><a href="#å…³è”åŸç†å›¾å’Œå°è£…" class="headerlink" title="å…³è”åŸç†å›¾å’Œå°è£…"></a>å…³è”åŸç†å›¾å’Œå°è£…</h3><p>add footprint</p><p><a href="https://blog.csdn.net/qq_41671937/article/details/116902775">Altium Designeråº“æ–‡ä»¶æ ¼å¼è¯¦è§£åŠå…³è”-CSDNåšå®¢</a></p><p>###é›†æˆåº“</p>]]></content>
      
      
      <categories>
          
          <category> Altium Designer </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PCB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¢ç´¢è€…ç»¼åˆæµ‹è¯•å®éªŒæŠ¥é”™</title>
      <link href="/2022/05/23/12h-f407-tan-suo-zhe-yu-dao-de-wen-ti/"/>
      <url>/2022/05/23/12h-f407-tan-suo-zhe-yu-dao-de-wen-ti/</url>
      
        <content type="html"><![CDATA[<h2 id="ç»¼åˆæµ‹è¯•å®éªŒæŠ¥é”™Ex-Flash-Error"><a href="#ç»¼åˆæµ‹è¯•å®éªŒæŠ¥é”™Ex-Flash-Error" class="headerlink" title="ç»¼åˆæµ‹è¯•å®éªŒæŠ¥é”™Ex Flash Error!"></a>ç»¼åˆæµ‹è¯•å®éªŒæŠ¥é”™Ex Flash Error!</h2><h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><blockquote><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸ºäº†å……åˆ†çš„è¿ç”¨STM32F407çš„IOèµ„æºï¼ŒåŸç†å›¾è®¾è®¡çš„æ—¶å€™ï¼Œ<code>JTAG</code>æ¥å£çš„<code>JTRST</code>å’Œ<code>JTDO</code>ï¼Œåˆ†åˆ«ä¸<code>SPI FLASH</code>çš„<code>SPI1_MISO</code>å’Œ<code>SPI1_SCK</code>å…±ç”¨äº†PB4å’ŒPB3ã€‚è¿™æ ·åœ¨æ‹¿åˆ°å¼€å‘æ¿æ¥ä¸ŠJ_LINKæµ‹è¯•ï¼Œç»¼åˆå®éªŒæ£€æµ‹SPI FLASHçš„æ—¶å€™J_LINKæ¯”è¾ƒå®¹æ˜“å¹²æ‰°SPI1_MISOå’ŒSPI1_SCKï¼Œä»è€Œé€ æˆæ£€æµ‹å‡ºé”™ï¼ˆEx Flash Errorï¼ï¼ï¼‰ã€‚</p></blockquote><blockquote><p>ä¸ªäººç†è§£æ˜¯ç«¯å£å ç”¨<br><img src="http://tu.uuudiy.com/i/2022/05/27/y1zvem.jpg" alt="01"></p></blockquote><p><img src="http://tu.uuudiy.com/i/2022/05/27/y1ztu1.jpg" alt="02"></p><p><img src="http://tu.uuudiy.com/i/2022/05/27/y1zzjo.jpg" alt="03"></p><h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•:"></a>è§£å†³æ–¹æ³•:</h3><blockquote><p>å…‰ç›˜é‡Œçš„æ–‡ä»¶æ¯”è¾ƒè€äº†,ä¸‹è½½æœ€æ–°çš„æ­£ç‚¹åŸå­æ¢ç´¢è€…èµ„æ–™ç›˜,é‡æ–°çƒ§å½•ç»¼åˆæµ‹è¯•å®éªŒ,çƒ§å½•æ—¶ä¸è¦æ‰“å¼€å¼€å‘æ¿çš„å¼€å…³,<code>çƒ§å½•åæ‹”æ‰jlink</code>,æ‰“å¼€å¼€å…³å³å¯</p></blockquote><h2 id="ç»¼åˆå®éªŒæŠ¥é”™SYSTEM-FILE-LOST"><a href="#ç»¼åˆå®éªŒæŠ¥é”™SYSTEM-FILE-LOST" class="headerlink" title="ç»¼åˆå®éªŒæŠ¥é”™SYSTEM FILE LOST!"></a>ç»¼åˆå®éªŒæŠ¥é”™SYSTEM FILE LOST!</h2><h3 id="åŸå› -1"><a href="#åŸå› -1" class="headerlink" title="åŸå› "></a>åŸå› </h3><blockquote><p>åŸå› :ç³»ç»Ÿæ–‡ä»¶ç¼ºå¤±,éœ€è¦æ›´æ–°ä¸€ä¸‹ç³»ç»Ÿæ–‡ä»¶</p></blockquote><h3 id="è§£å†³æ–¹æ³•-1"><a href="#è§£å†³æ–¹æ³•-1" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><blockquote><p>1.å°†å…‰ç›˜æ ¹ç›®å½•SDå¡æ ¹ç›®å½•æ–‡ä»¶ä¸­çš„SYSTEM æ–‡ä»¶å¤¹æ‹·è´åˆ°SDå¡&#x2F;Uç›˜ï¼Œç„¶åå°†SDå¡&#x2F;U ç›˜æ’å…¥å¼€å‘æ¿çš„å¯¹åº”æ¥å£ã€‚</p></blockquote><blockquote><p>2.æŒ‰ç€ KEY2 ä¸æ”¾ï¼Œç„¶åæŒ‰å¤ä½ï¼Œæ¾å¼€å¤ä½ï¼ˆKEY2ä¸€ç›´æŒ‰ç€ï¼‰ï¼Œ åŠ è½½åˆ°FLASHå®¹é‡æ—¶,å±å¹•æç¤ºæ˜¯å¦æ“¦é™¤æ‰€æœ‰æ–‡ä»¶(Erase all system files?),æ¾å¼€ KEY2ï¼Œç„¶åå†æŒ‰ KEY2é€‰æ‹©æ“¦é™¤æ‰€æœ‰ç³»ç»Ÿæ–‡ä»¶ï¼Œ å°†æ•´ä¸ª SPI FLASH æ“¦é™¤ã€‚</p></blockquote><blockquote><p>3.ç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°å®Œæˆã€‚åœ¨ç¬¬ 2 æ­¥æ‰§è¡Œå®Œä»¥åï¼ˆ éœ€è¦çº¦ 3 åˆ†é’Ÿæ—¶é—´ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–°å­—åº“ã€ç³»ç»Ÿæ–‡ä»¶ï¼Œç„¶åè¿›å…¥ä¸»ç•Œé¢ã€‚</p></blockquote><blockquote><p>æ³¨æ„:éœ€è¦sdå¡&#x2F;uç›˜,å¦åˆ™ä¼šå‡ºç°<code>font error</code>çš„é”™è¯¯</p></blockquote><h2 id="ç»¼åˆå®éªŒæŠ¥é”™font-error"><a href="#ç»¼åˆå®éªŒæŠ¥é”™font-error" class="headerlink" title="ç»¼åˆå®éªŒæŠ¥é”™font error!"></a>ç»¼åˆå®éªŒæŠ¥é”™font error!</h2><h3 id="åŸå› -2"><a href="#åŸå› -2" class="headerlink" title="åŸå› "></a>åŸå› </h3><blockquote><p>å­—åº“ç¼ºå¤±</p></blockquote><h3 id="è§£å†³æ–¹æ³•-2"><a href="#è§£å†³æ–¹æ³•-2" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><blockquote><p>å°†å…‰ç›˜ç›®å½•ä¸‹SDå¡æ ¹ç›®å½•ä¸­çš„SYSTEMæ–‡ä»¶å¤¹æ‹·è´åˆ°SDå¡,æ’å…¥å¼€å‘æ¿</p></blockquote><blockquote><p>æŒ‰ä½<code>KEY1ä¸æ”¾</code>æŒ‰ä¸€ä¸‹å¤ä½,ç›´åˆ°å‡ºç°Update font!!,ç­‰å¾…ä¸€ä¼š,å³å¯è¿›å…¥ç³»ç»Ÿ</p></blockquote><blockquote><p>ç¬¬äºŒç§æ–¹æ³•æ˜¯å°†systemæ‹–å…¥Uç›˜æ’å…¥å¼€å‘æ¿,æ“ä½œåŒä¸Š,æˆ‘è‡ªå·±è¯•æ²¡æœ‰æˆåŠŸ,ä¸çŸ¥é“æ˜¯ä¸æ˜¯uç›˜çš„é—®é¢˜,ä¸æ˜¾ç¤ºupdate font!</p></blockquote><p><a href="http://www.openedv.com/forum.php?mod=viewthread&tid=83751&highlight=system+file+lost">å‚è€ƒæ–‡ç« 1</a><br><a href="http://www.openedv.com/posts/list/54412.htm">å‚è€ƒæ–‡ç« 2</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> stm32f407 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32f407ä¸²å£æ‰“å°ç¼–ç å™¨æµ‹é€Ÿ</title>
      <link href="/2022/05/17/11h-f407-encoder/"/>
      <url>/2022/05/17/11h-f407-encoder/</url>
      
        <content type="html"><![CDATA[<p>å¯¹äºç”µæœºæµ‹é€Ÿç”¨åˆ°çš„æ­£äº¤ç¼–ç å™¨ï¼Œæµ‹é€Ÿæ—¶éœ€è¦æ•è·2è·¯è„‰å†²ï¼Œè¾“å…¥æ•è·ï¼Œç¼–ç¨‹è¾ƒä¸ºå¤æ‚ã€‚å•ç‰‡æœºçš„é€šç”¨å®šæ—¶å™¨å…·æœ‰ä¸“é—¨çš„æ­£äº¤ç¼–ç å™¨æ¥å£ï¼Œåªéœ€é…ç½®ç›¸åº”çš„å¯„å­˜å™¨ï¼Œå°±å¯å®ç°ç¼–ç å™¨è¾“å…¥çš„ä¸Šä¸‹æ²¿è‡ªåŠ¨æ•è·ä¸è®¡æ•°ï¼Œä¾¿äºç¼–ç å™¨çš„æµ‹é€Ÿã€‚</p><p>ç¼–ç å™¨æ¨¡å¼,åŸç†ç›¸å½“äºè¾“å…¥æ•è·,ä¸ºä»€ä¹ˆå«æ­£äº¤ç¼–ç ,å› ä¸ºç¼–ç å™¨çš„Aç›¸å’ŒBç›¸ç›¸å·®90åº¦(å¦‚æœä¸¤ä¸ªä¿¡å·ç›¸ä½ç›¸å·®90åº¦ï¼Œåˆ™è¿™ä¸¤ä¸ªä¿¡å·ç§°ä¸ºæ­£äº¤)å› æ­¤å¯ä»¥æ ¹æ®ä¸¤ä¸ªä¿¡å·å“ªä¸ªå…ˆå“ªä¸ªåæ¥åˆ¤æ–­æ–¹å‘ã€æ ¹æ®æ¯ä¸ªä¿¡å·è„‰å†²æ•°é‡çš„å¤šå°‘åŠæ•´ä¸ªç¼–ç è½®çš„å‘¨é•¿å°±å¯ä»¥ç®—å‡ºå½“å‰è¡Œèµ°çš„è·ç¦»ã€å¦‚æœå†åŠ ä¸Šå®šæ—¶å™¨çš„è¯è¿˜å¯ä»¥è®¡ç®—å‡ºé€Ÿåº¦ã€‚</p><p>è¦æ˜ç™½çš„ä¸€ç‚¹å°±æ˜¯ä¸ºä»€ä¹ˆè¦ç”¨ç¼–ç å™¨æ¨¡å¼ï¼Œè€Œä¸æ˜¯ç›´æ¥ç”¨è¾“å…¥æ•è·ã€‚<br>æœ€ä¸»è¦çš„åŸå› å°±æ˜¯ç¼–ç å™¨é‡‡é›†çš„æ˜¯ä¸¤ä¸ªä¿¡å·ï¼Œæ ¹æ®ä¸¤ä¸ªä¿¡å·çš„é«˜ä½ç”µå¹³æ¥åˆ¤æ–­æ˜¯æ­£è½¬è¿˜æ˜¯åè½¬ï¼Œæ¯”è¾“å…¥æ•è·ç”¨ä¸€ä¸ªä¿¡å·çš„æŠ—å¹²æ‰°èƒ½åŠ›å¼ºã€‚å¦‚æœä¸€ä¸ªä¿¡å·æœ‰å¹²æ‰°ï¼Œè€Œå¦ä¸€ä¸ªä¿¡å·æ²¡æœ‰å¹²æ‰°ï¼Œåˆ™è®¡æ•°å™¨ä¸ä¼šè®¡æ•°ï¼Œ</p><h2 id="ç¼–ç å™¨åˆ†ç±»ï¼š"><a href="#ç¼–ç å™¨åˆ†ç±»ï¼š" class="headerlink" title="ç¼–ç å™¨åˆ†ç±»ï¼š"></a>ç¼–ç å™¨åˆ†ç±»ï¼š</h2><h3 id="å¢é‡å¼ç¼–ç å™¨"><a href="#å¢é‡å¼ç¼–ç å™¨" class="headerlink" title="å¢é‡å¼ç¼–ç å™¨"></a>å¢é‡å¼ç¼–ç å™¨</h3><blockquote><p>åªæœ‰å½“è®¾å¤‡è¿åŠ¨æ—¶æ‰ä¼šè¾“å‡ºä¿¡å·ã€‚</p></blockquote><blockquote><p>ä¸€èˆ¬ä¼šè¾“å‡ºé€šé“Aå’Œé€šé“B ä¸¤ç»„ä¿¡å·ï¼Œå¹¶ä¸”æœ‰90Â° çš„ç›¸ä½å·®ï¼ˆ1&#x2F;4ä¸ªå‘¨æœŸï¼‰ï¼ŒåŒæ—¶é‡‡é›†è¿™ä¸¤ç»„ä¿¡å·å°±å¯ä»¥è®¡ç®—è®¾å¤‡çš„è¿åŠ¨é€Ÿåº¦å’Œæ–¹å‘ã€‚</p></blockquote><blockquote><p>æ­£è½¬çš„æ—¶å€™ä¿¡å·çº¿Aå…ˆè¾“å‡ºä¿¡å·,ä¿¡å·çº¿Båè¾“å‡º  Aç›¸è¶…å‰Bç›¸90åº¦  è¯æ˜æ˜¯æ­£è½¬,åè½¬åˆ™ç›¸å</p></blockquote><blockquote><p>é™¤é€šé“Aã€é€šé“B ä»¥å¤–ï¼Œè¿˜ä¼šè®¾ç½®ä¸€ä¸ªé¢å¤–çš„é€šé“Z ä¿¡å·ï¼Œè¡¨ç¤ºç¼–ç å™¨ç‰¹å®šçš„å‚è€ƒä½ç½®</p></blockquote><blockquote><p>å¦‚ä¸‹å›¾ï¼Œä¼ æ„Ÿå™¨è½¬ä¸€åœˆåZ è½´ä¿¡å·æ‰ä¼šè¾“å‡ºä¸€ä¸ªè„‰å†²ï¼Œåœ¨Zè½´è¾“å‡ºæ—¶ï¼Œå¯ä»¥é€šè¿‡å°†ABé€šé“çš„è®¡æ•°æ¸…é›¶ï¼Œå®ç°å¯¹ç ç›˜ç»å¯¹ä½ç½®çš„è®¡ç®—ã€‚</p></blockquote><blockquote><p>å¢é‡å¼ç¼–ç å™¨åªè¾“å‡ºè®¾å¤‡çš„ä½ç½®å˜åŒ–å’Œè¿åŠ¨æ–¹å‘ï¼Œä¸ä¼šè¾“å‡ºè®¾å¤‡çš„ç»å¯¹ä½ç½®ã€‚<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fc95ea0.jpg" alt="04.jpg"></p></blockquote><h3 id="ç»å¯¹å€¼å‹ï¼š"><a href="#ç»å¯¹å€¼å‹ï¼š" class="headerlink" title="ç»å¯¹å€¼å‹ï¼š"></a>ç»å¯¹å€¼å‹ï¼š</h3><blockquote><p>å¯¹åº”ä¸€åœˆï¼Œæ¯ä¸ªåŸºå‡†çš„è§’åº¦å‘å‡ºä¸€ä¸ªå”¯ä¸€ä¸è¯¥è§’åº¦å¯¹åº”äºŒè¿›åˆ¶çš„æ•°å€¼ï¼Œé€šè¿‡å¤–éƒ¨è®°åœˆå™¨ä»¶å¯ä»¥è¿›è¡Œå¤šä¸ªä½ç½®çš„è®°å½•å’Œæµ‹é‡ã€‚<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fd98477.jpg" alt="06.jpg"></p></blockquote><h2 id="ç¼–ç å™¨é‡‡é›†åŸç†"><a href="#ç¼–ç å™¨é‡‡é›†åŸç†" class="headerlink" title="ç¼–ç å™¨é‡‡é›†åŸç†"></a>ç¼–ç å™¨é‡‡é›†åŸç†</h2><p><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fa4d7f4.jpg" alt="01.jpg"></p><p>ä¸Šå›¾æ˜¯å®šæ—¶å™¨çš„æ¡†å›¾ï¼Œé¦–å…ˆæˆ‘ä»¬ä¼šä»ç”µæœºå±è‚¡åé¢çš„ç¼–ç å™¨å¼•å‡ºä¸¤æ ¹ä¿¡å·çº¿<code>å°±æ˜¯ç¼–ç å™¨çš„ABç›¸</code>æ¥åˆ°å•ç‰‡æœºçš„ç¼–ç å™¨å¼•è„šï¼Œå¦‚ä¸Šå›¾ç¬¬ä¸€ä¸ªæ¡†å†…ï¼Œæ¥åˆ°æŸå®šæ—¶å™¨çš„TIMx_CH1å’ŒTIMx_CH2ä¸¤ä¸ªé€šé“çš„å¼•è„šä¸Šã€‚è¿›æ¥ä¹‹åè¿›è¡Œæ»¤æ³¢å’Œè¾¹æ²¿æ£€æµ‹ä¹‹åè¾“å‡ºTI1FP1å’ŒTI1FP2ï¼Œä¹‹åå°±ç›´æ¥åˆ°2å·æ¡†äº†ã€‚2å·æ¡†æ˜¯å°†TI1FP1å’ŒTI1FP2æ¥å…¥ç¼–ç å™¨æ¥å£ï¼Œåœ¨è¿™é‡Œåˆ¤æ–­æ˜¯è¯¥å‘ä¸Šè¿˜æ˜¯å‘ä¸‹è®¡æ•°ï¼Œä¹‹åæ¥åˆ°3å·æ¡†ï¼Œè¿›è¡Œåˆ†é¢‘ï¼Œæœ€åæ¥åˆ°CNTè®¡æ•°å™¨è¿›è¡Œè®¡æ•°ã€‚æˆ‘ä»¬å¯ä»¥å®šæ—¶é‡‡é›†CNTé‡Œé¢çš„å€¼ï¼Œè¿™æ ·å°±èƒ½ç®—å‡ºç”µæœºçš„è½¬é€Ÿå’Œå…¶ä»–ä¸€äº›å‚æ•°äº†ã€‚</p><h2 id="è®¡æ•°åŸç†åŠè®¡æ•°æ–¹å¼"><a href="#è®¡æ•°åŸç†åŠè®¡æ•°æ–¹å¼" class="headerlink" title="è®¡æ•°åŸç†åŠè®¡æ•°æ–¹å¼"></a>è®¡æ•°åŸç†åŠè®¡æ•°æ–¹å¼</h2><h3 id="æ­£åè½¬è®¡æ•°åŸç†"><a href="#æ­£åè½¬è®¡æ•°åŸç†" class="headerlink" title="æ­£åè½¬è®¡æ•°åŸç†"></a>æ­£åè½¬è®¡æ•°åŸç†</h3><p>ç¼–ç å™¨æ¨¡å¼ä¸‹ï¼Œè®¡æ•°å™¨çš„è®¡æ•°æ–¹å‘ä»£è¡¨çš„ç”µæœºçš„æ­£è½¬ä¸åè½¬ï¼Œè®¡æ•°çš„å¤§å°ä»£è¡¨äº†è½¬é€Ÿçš„å¤§å°ã€‚<br>å¦‚ä¸‹å›¾ï¼Œç”µæœºæ­£è½¬æ—¶ï¼Œç¼–ç å™¨çš„é€šé“Aï¼ˆTI1ï¼‰çš„ä¿¡å·è¶…å‰é€šé“Bï¼Œè®¡æ•°å™¨å‘ä¸Šè®¡æ•°ï¼Œåè½¬æ—¶ï¼Œé€šé“Açš„ä¿¡å·æ»åï¼Œå‘ä¸‹è®¡æ•°ã€‚<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39ff5375b.jpg" alt="09.jpg"></p><p>è®¾ç½®ä¿¡å·çš„ææ€§åç›¸ï¼Œå¯ä»¥ä½¿å‘ä¸‹è®¡æ•°ä»£è¡¨ç”µæœºæ­£è½¬ã€‚<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd3a0005b63.jpg" alt="10.jpg"><br>ä»¥STM32 èŠ¯ç‰‡ä¸ºä¾‹ï¼Œå…¶å†…éƒ¨æœ‰ä¸“é—¨ç”¨æ¥é‡‡é›†å¢é‡å¼ç¼–ç å™¨æ–¹æ³¢ä¿¡å·çš„æ¥å£ï¼Œè¿™äº›æ¥å£å®é™…ä¸Šæ˜¯STM32 å®šæ—¶å™¨çš„å…¶ä¸­ä¸€ç§åŠŸèƒ½ã€‚ä¸è¿‡ç¼–ç å™¨æ¥å£åŠŸèƒ½åªæœ‰é«˜çº§å®šæ—¶å™¨TIM1ã€TIM8 å’Œé€šç”¨å®šæ—¶å™¨çš„TIM2~TIM5 æ‰æœ‰ã€‚<br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd3a0081cc6.jpg" alt="11.jpg"></p><h3 id="è®¡æ•°æ–¹å¼"><a href="#è®¡æ•°æ–¹å¼" class="headerlink" title="è®¡æ•°æ–¹å¼"></a>è®¡æ•°æ–¹å¼</h3><p><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fa87c2c.jpg" alt="02.jpg"><br><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39facf3b3.jpg" alt="03.jpg"></p><p>é¦–å…ˆå‡å®šæ­¤æ—¶æ˜¯ç”µæœºæ­£è½¬ï¼Œè¿˜æœ‰ä¸€ç‚¹è¦çŸ¥é“ï¼Œç¼–ç å™¨ä¸¤ä¸ªä¿¡å·ç›¸å·®90Â°çš„ç›¸ä½è§’ã€‚ä¸€ä¸ªå‘¨æœŸçš„ä¿¡å·å¯ä»¥åˆ†ä¸º0 Ï€&#x2F;2 Ï€ 3&#x2F;2*Ï€ 2Ï€ï¼Œå¦‚ä¸Šå›¾ï¼Œåˆšå¥½å·®äº†Ï€&#x2F;2ã€‚ä¸Šå›¾æ˜¯ä¸¤ä¸ªé€šé“ä¸Šä¸‹è¾¹æ²¿éƒ½æ£€æµ‹ï¼ˆSMS&#x3D;â€™011â€™ï¼‰ ã€‚<br>å½“TI1ä¸ºä¸Šå‡æ²¿æ—¶æ—¶ï¼Œæ­¤æ—¶TI2ä¸ºä½ç”µå¹³ï¼Œå¯¹åº”ä¸‹é¢çš„å›¾ï¼Œå…ˆçœ‹<code>æœ‰æ•ˆè¾¹æ²¿</code>ï¼Œå› ä¸ºæ˜¯çœ‹çš„TI1ä¸Šå‡æ²¿ï¼Œæ‰€ä»¥ç¬¬ä¸€é¡¹é€‰æ‹©<code>ä»…åœ¨TI1è®¡æ•°</code>ï¼Œä¹‹åæ‰¾å¯¹åº”çš„<code>TI1FP1 ä¿¡å·é¡¹</code>ï¼Œé€‰æ‹©ä¸Šå‡ã€‚å› ä¸ºå›¾ä¸­TI1æ˜¯ä¸Šå‡æ²¿ï¼Œå¯¹åº”TI2æ˜¯ä½ç”µå¹³ï¼Œå› æ­¤åœ¨<code>ç›¸å¯¹ä¿¡å·çš„ç”µå¹³</code>é‚£ä¸€é¡¹åº”è¯¥é€‰æ‹©ä½ï¼Œå¯¹åº”èµ·æ¥å°±æ˜¯å‘ä¸Šè®¡æ•°ã€‚<br>ç†è§£äº†TI1ä¸Šå‡æ²¿è®¡æ•°ä¹‹åï¼Œå…¶ä»–çš„éƒ½ä¸€æ ·äº†ã€‚</p><h2 id="ç¼–ç å™¨å€é¢‘çš„åŸç†"><a href="#ç¼–ç å™¨å€é¢‘çš„åŸç†" class="headerlink" title="ç¼–ç å™¨å€é¢‘çš„åŸç†"></a>ç¼–ç å™¨å€é¢‘çš„åŸç†</h2><blockquote><p>ç¼–ç å™¨å€é¢‘æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæ¯”å¦‚æŸå…‰æ …ç¼–ç å™¨ä¸€åœˆæœ‰Nä¸ªæ …æ ¼ï¼Œç†è®ºä¸Šç”µæœºå¸¦åŠ¨ç¼–ç å™¨è½¬ä¸€åœˆï¼Œåªèƒ½è¾“å‡ºNä¸ªä¿¡å·ï¼Œé€šè¿‡å€é¢‘æŠ€æœ¯ï¼Œå¯ä»¥å®ç°è½¬ä¸€åœˆï¼Œå´èƒ½è¾“å‡ºN*nä¸ªä¿¡å·ï¼Œè¿™é‡Œçš„nä¸ºå€é¢‘æ•°ã€‚</p></blockquote><p><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fd0d2af.jpg" alt="05.jpg">å¢é‡å¼ç¼–ç å™¨è¾“å‡ºçš„è„‰å†²æ³¢å½¢ä¸€èˆ¬ä¸ºå ç©ºæ¯”50% çš„æ–¹æ³¢ï¼Œé€šé“A å’ŒB ç›¸ä½å·®ä¸º90Â°ã€‚</p><blockquote><p>å¦‚æœåªä½¿ç”¨é€šé“Aè®¡æ•°ï¼Œå¹¶ä¸”åªæ•è·é€šé“Açš„ä¸Šå‡æ²¿ï¼Œåˆ™ä¸€åœˆçš„è®¡æ•°å€¼&#x3D;ç ç›˜çš„æ …æ ¼æ•°ï¼Œå³ä¸º1å€é¢‘ï¼ˆæ²¡æœ‰å€é¢‘ï¼‰<br>å¦‚æœåªä½¿ç”¨é€šé“Aè®¡æ•°ï¼Œå¹¶ä¸”æ•è·äº†é€šé“Açš„ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿ï¼Œåˆ™ç¼–ç å™¨è½¬ä¸€åœˆçš„è®¡æ•°å€¼ç¿»å€ï¼Œå®ç°2å€é¢‘<br>å¦‚æœæ—¢ä½¿ç”¨é€šé“Aè®¡æ•°ï¼Œåˆä½¿ç”¨é€šé“Bè®¡æ•°ï¼Œä¸”éƒ½æ•è·äº†ä¸Šå‡æ²¿å’Œä¸‹é™æ²¿ï¼Œåˆ™å®ç°äº†4å€é¢‘</p></blockquote><p><img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fe7aad2.jpg" alt="07.jpg"></p><p>å‡è®¾æŸä¸ªå¢é‡å¼ç¼–ç å™¨å®ƒçš„åˆ†è¾¨ç‡æ˜¯600PPRï¼Œèƒ½åˆ†è¾¨çš„æœ€å°è§’åº¦æ˜¯0.6Â°ï¼Œå¯¹å®ƒè¿›è¡Œ4 å€é¢‘ä¹‹åå°±ç›¸å½“äºæŠŠåˆ†è¾¨ç‡æé«˜åˆ°äº†600*4&#x3D;2400PPRï¼Œæ­¤æ—¶ç¼–ç å™¨èƒ½å¤Ÿåˆ†è¾¨çš„æœ€å°è§’åº¦ä¸º0.15Â°ã€‚</p><blockquote><p><code>ä¸ªäººç†è§£</code>:åœ¨Aå…ˆè¾¾åˆ°ä¸Šå‡æ²¿,Bå¤„äºä½ç”µå¹³æ—¶,åˆ™å‘ä¸Šè®¡æ•°,ç”µæœºæ­£è½¬,ä¸€ä¸ªå‘¨æœŸåªæœ‰ä¸€ä¸ªä¸Šå‡æ²¿,æ¯ä¸ªå‘¨æœŸè®¡æ•°ä¸€æ¬¡,ABé€šé“ç›¸å·®å››åˆ†ä¹‹ä¸€ä¸ªå‘¨æœŸ,å››å€é¢‘ç›¸å½“äºåœ¨è¿™ä¸€ä¸ªå‘ä¸Šè®¡æ•°çš„å‘¨æœŸé‡Œæ•è·äº†å››æ¬¡,Aä¸Šå‡Aä¸‹é™Bä¸Šå‡Bä¸‹é™è¾¾åˆ°å››å€é¢‘æ•ˆæœ</p></blockquote><h2 id="ç¼–ç å™¨æµ‹é€ŸåŸç†åŠæµ‹é€Ÿæ–¹æ³•"><a href="#ç¼–ç å™¨æµ‹é€ŸåŸç†åŠæµ‹é€Ÿæ–¹æ³•" class="headerlink" title="ç¼–ç å™¨æµ‹é€ŸåŸç†åŠæµ‹é€Ÿæ–¹æ³•"></a>ç¼–ç å™¨æµ‹é€ŸåŸç†åŠæµ‹é€Ÿæ–¹æ³•</h2><h3 id="æµ‹é€ŸåŸç†"><a href="#æµ‹é€ŸåŸç†" class="headerlink" title="æµ‹é€ŸåŸç†"></a>æµ‹é€ŸåŸç†</h3><blockquote><p>STM32çš„ç¼–ç å™¨æ¨¡å¼å…±æœ‰ä¸‰ç§</p></blockquote><blockquote><p>ä»…åœ¨TL1è®¡æ•°(Aç›¸)</p></blockquote><blockquote><p>ä»…åœ¨TL2è®¡æ•°(Bç›¸)</p></blockquote><blockquote><p>åœ¨TL1å’ŒTL2éƒ½è®¡æ•°(Aç›¸å’ŒBç›¸éƒ½è®¡æ•°)</p></blockquote><blockquote><p>ç¼–ç å™¨ç›¸å½“äºå†…å¤–ä¸¤ä¸ªç¯,ä¸€ä¸ªAä¸€ä¸ªB,ç›¸ä½å·®ä¸º90åº¦<br>Aä¸Šå‡æ²¿,Bå¤„äºä½ç”µå¹³,åˆ™ä¸ºæ­£è½¬<br>Aä¸‹é™æ²¿,Bå¤„äºé«˜ç”µå¹³,åˆ™ä¸ºåè½¬<br>å®šæ—¶å™¨åœ¨ç¼–ç å™¨æ¨¡å¼ä¸‹è®°å¾—æ•°åˆ™ä¸ºæ€»çš„è„‰å†²æ•°,ç”±äºæ˜¯TL12æ¨¡å¼,å››å€é¢‘,æ‰€ä»¥æ€»çš„è„‰å†²æ•°&#x3D;çº¿æ•°<em>å‡é€Ÿæ¯”</em>4</p></blockquote><blockquote><p>æŠŠTIM3ç†è§£ä¸ºä¸€ä¸ªè®¡æ•°å™¨è€Œä¸æ˜¯ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåˆ™æ²¡æœ‰äº†æ—¶åºä¿¡å·ã€‚<br>è¿™é‡ŒTIM3çš„æ—¶é’Ÿä¿¡å·ï¼ˆæˆ–è€…è¯´æ˜¯è®¡æ•°ä¿¡å·ï¼‰å°†ç”±ç”µæœºç¼–ç å™¨è¾“å‡ºçš„è„‰å†²ä»£æ›¿ï¼Œä¹Ÿå°±æ˜¯è¯´ç”µæœºè„‰å†²ä¿¡å·æˆä¸ºTIM3çš„ä¿¡å·ï¼Œç”µæœºæ¯äº§ç”Ÿä¸€ä¸ªè„‰å†²è¢«TIM3æ£€æµ‹åˆ°ï¼Œåˆ™è®¡æ•°å™¨CNTåŠ ä¸€ï¼ˆç±»æ¯”äºæ—¶åºä¿¡å·æ—¶æ¯éš”ä¸€ä¸ªæ—¶é—´æ®µè®¡æ•°å€¼åŠ ä¸€ï¼‰</p></blockquote><blockquote><p>è¿™æ ·çš„è¯ï¼Œè¾“å…¥æ•è·çš„è‡ªåŠ¨é‡è£…è½½å€¼periodåˆ™å½±å“ç€è„‰å†²å€¼è®¡æ•°åˆ°å¤šå°‘ä¹‹åå°±æº¢å‡ºï¼Œæ¯”å¦‚65535çš„è¯ï¼Œåˆ™æ¥æ”¶åˆ°65535ä¸ªè„‰å†²ä¿¡å·ä¹‹åè®¡æ•°å€¼ç½®é›¶æº¢å‡º</p></blockquote><blockquote><p>è¿™æ ·çš„è¯ï¼Œè¾“å…¥æ•è·çš„é¢„åˆ†é¢‘ç³»æ•°prescalerçš„ä½œç”¨æ˜¯ï¼Œå½“æˆ‘ä¸åˆ†é¢‘æ—¶ï¼Œæ¥ä¸€ä¸ªç”µæœºè„‰å†²ä¿¡å·æˆ‘è®¡æ•°å€¼å°±åŠ ä¸€ï¼Œå½“æˆ‘äºŒåˆ†é¢‘æ—¶ï¼Œåªæœ‰æ¥æ”¶åˆ°ä¸¤ä¸ªè„‰å†²ä¿¡å·æˆ‘æ‰è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ‰æ•ˆè„‰å†²ï¼Œè®¡æ•°å€¼æ‰åŠ ä¸€ï¼Œç®€å•æ¥è¯´å°±æ˜¯è®¡æ•°å€¼æ€»ä½“é™¤ä»¥äºŒäº†</p></blockquote><blockquote><p>è¿™æ ·æˆ‘ä»¬å°±æŠŠè¾“å…¥æ•è·åˆå§‹åŒ–å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æ˜¯ç¼–ç å™¨æ¨¡å¼çš„åˆå§‹åŒ–<br>è®¾ä¸º<code>TIM_EncoderMode_TI12</code>æ¨¡å¼ï¼Œå³è®¡æ•°å™¨åœ¨TI1å’ŒTI2ä¸Šå‡æ²¿å¤„å‡è®¡æ•°ï¼Œå†æ ¹æ®è®¾ç½®çš„ææ€§æ˜¯<code>TIM_ICPolarity_Rising</code>ï¼Œä¹Ÿå°±æ˜¯åœ¨TI1å’ŒTI2çš„ä¸Šå‡æ²¿è®¡æ•°å™¨ç´¯åŠ ï¼ˆæˆ–ç´¯å‡ï¼‰â€“&gt;é‚£ä¹ˆåˆ°æ—¶å€™è¦é™¤ä»¥äºŒ<br>è¿™æ ·ï¼Œç¼–ç å™¨çš„åˆå§‹åŒ–å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åªè¦é€šè¿‡å‡½æ•°å¾—å‡ºå®ƒçš„è®¡æ•°å€¼ï¼Œå°±å¯ä»¥çŸ¥é“ç”µæœºäº§ç”Ÿçš„è„‰å†²æ•°ï¼Œå†æ ¹æ®ç”µæœºçš„å‚æ•°ï¼ˆæ¯è½¬äº§ç”Ÿå¤šå°‘ä¸ªè„‰å†²ï¼‰å°±å¯ä»¥å¾—åˆ°ç”µæœºè½¬äº†å‡ åœˆ</p></blockquote><h3 id="æµ‹é€Ÿæ–¹æ³•"><a href="#æµ‹é€Ÿæ–¹æ³•" class="headerlink" title="æµ‹é€Ÿæ–¹æ³•"></a>æµ‹é€Ÿæ–¹æ³•</h3><h4 id="Mæ³•æµ‹é€Ÿ"><a href="#Mæ³•æµ‹é€Ÿ" class="headerlink" title="Mæ³•æµ‹é€Ÿ"></a>Mæ³•æµ‹é€Ÿ</h4><p>åˆå«åšé¢‘ç‡æµ‹é‡æ³•ã€‚è¯¥æ–¹æ³•æ˜¯åœ¨ä¸€ä¸ªå›ºå®šçš„æ—¶é—´å†…ï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ï¼Œç»Ÿè®¡è¿™æ®µæ—¶é—´çš„ç¼–ç å™¨è„‰å†²æ•°ï¼Œè®¡ç®—é€Ÿåº¦å€¼ã€‚Mæ³•é€‚åˆæµ‹é‡é«˜é€Ÿã€‚</p><p>å‡è®¾ï¼š</p><p>ç¼–ç å™¨å•åœˆæ€»è„‰å†²æ•°ä¸ºCï¼ˆå¸¸æ•°ï¼‰</p><p>ç»Ÿè®¡æ—¶é—´ä¸ºT0</p><p>è¯¥æ—¶é—´å†…ç»Ÿè®¡åˆ°çš„ç¼–ç å™¨è„‰å†²æ•°ä¸ºM0</p><p>åˆ™ï¼šè½¬é€Ÿnï¼ˆåœˆ&#x2F;ç§’ï¼‰çš„è®¡ç®—å…¬å¼ä¸ºï¼š![]!<img src="http://45.92.193.42:7788/i/2022/07/12/62cd39fea709a.jpg" alt="08.jpg"></p><p>å¦‚ä½•ç†è§£è¿™ä¸ªå…¬å¼ï¼š<br> M0&#x2F;C å³ç»Ÿè®¡æ—¶é—´å†…æœ‰å¤šå°‘ä¸ªç¼–ç å™¨è„‰å†²ï¼Œå†é™¤ä»¥ç»Ÿè®¡æ—¶é—´T0ï¼Œå³1sï¼ˆå•ä½æ—¶é—´ï¼‰å†…è½¬äº†å¤šå°‘åœˆ</p><h4 id="Tæ³•æµ‹é€Ÿ"><a href="#Tæ³•æµ‹é€Ÿ" class="headerlink" title="Tæ³•æµ‹é€Ÿ"></a>Tæ³•æµ‹é€Ÿ</h4><blockquote><p>å¾…æ›´æ–°â€¦â€¦..</p></blockquote><h4 id="MTæ³•æµ‹é€Ÿ"><a href="#MTæ³•æµ‹é€Ÿ" class="headerlink" title="MTæ³•æµ‹é€Ÿ"></a>MTæ³•æµ‹é€Ÿ</h4><blockquote><p>å¾…æ›´æ–°â€¦â€¦..</p></blockquote><h2 id="ä½¿ç”¨ç¼–ç å™¨æ¨¡å¼æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š"><a href="#ä½¿ç”¨ç¼–ç å™¨æ¨¡å¼æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š" class="headerlink" title="ä½¿ç”¨ç¼–ç å™¨æ¨¡å¼æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š"></a>ä½¿ç”¨ç¼–ç å™¨æ¨¡å¼æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</h2><blockquote><p>1.ç¼–ç å™¨æœ‰ä¸ªè½¬é€Ÿä¸Šé™,è¶…è¿‡è¿™ä¸ªä¸Šé™æ˜¯ä¸èƒ½æ­£å¸¸å·¥ä½œçš„,è¿™ä¸ªæ˜¯ç¡¬ä»¶çš„é™åˆ¶,åŸåˆ™ä¸Šçº¿æ•°è¶Šå¤šè½¬é€Ÿå°±è¶Šä½,è¿™ç‚¹åœ¨é€‰å‹æ—¶è¦æ³¨æ„ã€‚</p></blockquote><blockquote><p>å®šæ—¶å™¨åˆå§‹åŒ–å¥½ä»¥å,ä»»ä½•æ—¶å€™CNTå¯„å­˜å™¨çš„å€¼å°±æ˜¯ç¼–ç å™¨çš„ä½ç½®ä¿¡æ¯,æ­£è½¬ä»–ä¼šåŠ åè½¬ä»–ä¼šå‡è¿™éƒ¨åˆ†æ˜¯ä¸éœ€è¦è½¯ä»¶å¹²é¢„çš„,åˆå§‹åŒ–æ—¶ç»™çš„TIM_Period å€¼åº”è¯¥æ˜¯ç ç›˜æ•´åœˆçš„åˆ»åº¦å€¼,åœ¨å‡æº¢å‡ºä¼šè‡ªåŠ¨ä¿®æ­£ä¸ºè¿™ä¸ªæ•°.åŠ è¶…è¿‡æ­¤æ•°å€¼å°±å›0.</p></blockquote><blockquote><p>è®¡æ•°å€¼å¶å°”ä¹Ÿä¼šæœ‰å‡ºé”™è¯¯çš„æƒ…å†µ,ä¸€åœˆå¤šè®¡ä¸€ä¸ªæˆ–å°‘è®¡ä¸€ä¸ªæ•°éƒ½æ˜¯å¾ˆæ­£å¸¸çš„ç‰¹åˆ«æ˜¯è½¬é€Ÿæ¯”è¾ƒé«˜çš„æ—¶å€™å°¤å…¶æ˜æ˜¾,æœ‰ä¸ªç»å¯¹ä½ç½®ä¿¡å·åšä¿®æ­£æ˜¯å¾ˆæœ‰å¿…è¦çš„.ç»å¯¹ä½ç½®ä¿¡å·ä¸éœ€è¦ä¸€å®šåœ¨é›¶ä½ç½®ç‚¹,æ”¶åˆ°è¿™ä¸ªä¿¡å·å°±å°†CNTä¿®æ­£ä¸ºä¸€ä¸ªå›ºå®šçš„æ•°å€¼å³å¯.</p></blockquote><h2 id="ç¼–ç å™¨æ¨¡å¼åŸºç¡€é…ç½®"><a href="#ç¼–ç å™¨æ¨¡å¼åŸºç¡€é…ç½®" class="headerlink" title="ç¼–ç å™¨æ¨¡å¼åŸºç¡€é…ç½®"></a>ç¼–ç å™¨æ¨¡å¼åŸºç¡€é…ç½®</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">void encoder_init(void)&#123;  GPIO_InitTypeDef GPIO_InitStructure;  TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;  TIM_ICInitTypeDef TIM_ICInitStructure;   RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);  RCC_APB1PeriphClockCmd(RCC_APB1Periph_TIM3, ENABLE);    GPIO_InitStructure.GPIO_Pin &#x3D; GPIO_Pin_6 | GPIO_Pin_7;  GPIO_InitStructure.GPIO_Mode &#x3D; GPIO_Mode_AF;    GPIO_InitStructure.GPIO_PuPd &#x3D; GPIO_PuPd_NOPULL;  GPIO_Init(GPIOA, &amp;GPIO_InitStructure);  GPIO_PinAFConfig(GPIOA, GPIO_PinSource6, GPIO_AF_TIM3);      GPIO_PinAFConfig(GPIOA, GPIO_PinSource7, GPIO_AF_TIM3);&#x2F;&#x2F;Specifies the prescaler value used to divide the TIM clock.&#x2F;&#x2F;ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™é‡Œçš„TIM3çš„æ—¶é’Ÿä¿¡å·å…¶å®æ˜¯ç”±A&#x2F;Bç›¸çš„é¢‘ç‡æ¥å†³å®šçš„ï¼Œç±»ä¼¼äºå¤–éƒ¨æ—¶é’Ÿï¼Œç„¶ååˆ†é¢‘å°±æ˜¯å¯¹è¿™ä¸ªè„‰å†²é¢‘ç‡åˆ†é¢‘ï¼Œæ¯”å¦‚äºŒåˆ†é¢‘å°±æ˜¯æŠŠä¸¤ä¸ªè„‰å†²è®°ä¸ºä¸€ä¸ªè„‰å†²ã€‚TIM_TimeBaseStructure.TIM_Prescaler &#x3D; 1-1;  &#x2F;&#x2F;è¿™é‡Œæˆ‘ä»¬æŠŠå®ƒè®¾ä¸º1ï¼Œå³ä¸åˆ†é¢‘TIM_TimeBaseStructure.TIM_Period &#x3D; 65535;  &#x2F;&#x2F;æ¯æ¥ä¸€ä¸ªè„‰å†²ä¿¡å·çš„ä¸Šå‡æ²¿ï¼ˆä¸‹é¢æœ‰è®¾ç½®ï¼‰è®¡æ•°å€¼å°±ç´¯åŠ ï¼ˆæˆ–ç´¯å‡ï¼‰ï¼Œ65535åˆ™ä¸ºæœ€å¤§è®¡æ•°å€¼ï¼Œå°±æº¢å‡ºäº†TIM_TimeBaseStructure.TIM_ClockDivision &#x3D; TIM_CKD_DIV1;TIM_EncoderInterfaceConfig(TIM3, TIM_EncoderMode_TI12, TIM_ICPolarity_Rising ,TIM_ICPolarity_Rising);   &#x2F;&#x2F;é…ç½®ä¸ºç¼–ç å™¨æ¨¡å¼ï¼Œè®¡æ•°å™¨åœ¨TI1å’ŒTI2ä¸Šå‡æ²¿å¤„å‡è®¡æ•°TIM_SetCounter(TIM3, 0);&#x2F;&#x2F;å°†è„‰å†²è®¡æ•°å€¼è®¾ä¸ºé›¶TIM_Cmd(TIM3, ENABLE);&#x2F;&#x2F;ä½¿èƒ½TIM3&#125;&#x2F;&#x2F; è¯»å–å®šæ—¶å™¨è®¡æ•°å€¼uint32_t read_cnt(void)&#123;uint32_t encoder_cnt;encoder_cnt &#x3D; TIM3-&gt;CNT;&#x2F;&#x2F;è¯»å–è®¡æ•°å™¨CNTçš„å€¼ï¼ŒCNTç³»uint32_tå‹çš„å˜é‡TIM_SetCounter(TIM3, 0);&#x2F;&#x2F;æ¯ä¸€æ¬¡è¯»å–å®Œè®¡æ•°å€¼åå°†è®¡æ•°å€¼æ¸…é›¶ï¼Œé‡æ–°å¼€å§‹ç´¯åŠ è„‰å†²ï¼Œæ–¹ä¾¿ä¸‹ä¸€æ¬¡è®¡æ•°return encoder_cnt;&#x2F;&#x2F;è¿”å›çš„å€¼å°±æ˜¯æœ¬æ¬¡è¯»åˆ°çš„è®¡æ•°å€¼&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æœ‰ä¸ªé—®é¢˜"><a href="#æœ‰ä¸ªé—®é¢˜" class="headerlink" title="æœ‰ä¸ªé—®é¢˜"></a>æœ‰ä¸ªé—®é¢˜</h2><p>ç¼–ç å™¨é…ç½®çš„æ—¶å€™,TI1,TI2æ•è·çš„éƒ½æ˜¯ä¸Šå‡æ²¿,åº”è¯¥æ˜¯äºŒå€é¢‘ä¸ºä»€ä¹ˆ&#x2F;4,ä¸ºä»€ä¹ˆä¸é…ç½®æˆä¸Šä¸‹éƒ½æ•è·çš„</p><blockquote><p>å°ç™½,è¿˜åœ¨åŠªåŠ›å­¦ä¹ ,å¦‚æœ‰é”™è¯¯,è¯·å¤šæŒ‡æ•™</p></blockquote><p><a href="https://blog.csdn.net/hbsyaaa/article/details/113784920">å‚è€ƒæ–‡ç« 1</a></p><p><a href="https://blog.csdn.net/hbsyaaa/article/details/114715319?ops_request_misc=&request_id=&biz_id=102&utm_term=%E7%BC%96%E7%A0%81%E5%99%A8%E8%BD%AC%E4%B8%80%E5%9C%88%E7%9A%84%E8%84%89%E5%86%B2%E6%95%B0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-6-114715319.142%5Ev10%5Econtrol,157%5Ev4%5Econtrol&spm=1018.2226.3001.4187">å‚è€ƒæ–‡ç« 2</a></p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> stm32f407 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32f401æ­å»ºå·¥ç¨‹</title>
      <link href="/2022/05/12/10h-stm32f401-project/"/>
      <url>/2022/05/12/10h-stm32f401-project/</url>
      
        <content type="html"><![CDATA[<h2 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é‡åˆ°çš„é—®é¢˜"></a>é‡åˆ°çš„é—®é¢˜</h2><h3 id="Error-L6218E-Undefined-symbol-xxx-referred-from-xxxx-o"><a href="#Error-L6218E-Undefined-symbol-xxx-referred-from-xxxx-o" class="headerlink" title="Error: L6218E: Undefined symbol xxx (referred from xxxx.o)."></a>Error: L6218E: Undefined symbol xxx (referred from xxxx.o).</h3><p>æ­£å¸¸æ˜¯å› ä¸ºç¼ºæ–‡ä»¶,åŠ è¿›å»å°±è¡Œäº†,å¯æ˜¯æˆ‘è¿™ä¸ªä¸ç¼ºæ–‡ä»¶</p><blockquote><p>è§£å†³:å…¨åˆ äº†é‡æ–°åŠ </p></blockquote><h3 id="æ–‡ä»¶æœ‰é’¥åŒ™å‡ºç°-errorè¿‡å¤š"><a href="#æ–‡ä»¶æœ‰é’¥åŒ™å‡ºç°-errorè¿‡å¤š" class="headerlink" title="æ–‡ä»¶æœ‰é’¥åŒ™å‡ºç°,errorè¿‡å¤š"></a>æ–‡ä»¶æœ‰é’¥åŒ™å‡ºç°,errorè¿‡å¤š</h3><p>æ–‡ä»¶ä¸ºåªè¯»çŠ¶æ€,æ— æ³•å–æ¶ˆåªè¯»çŠ¶æ€</p><blockquote><p>è§£å†³:ä»æ²¡æœ‰åªè¯»çŠ¶æ€çš„æ–‡ä»¶å¤¹é‡Œå¤åˆ¶è¿›å»å³å¯</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F401 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å‘æ¿ä¾›ç”µç›¸å…³é—®é¢˜</title>
      <link href="/2022/05/09/9h-destroy-chips/"/>
      <url>/2022/05/09/9h-destroy-chips/</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ˜­å–œå¾—ä¸€å…·f407æ¿ç –"><a href="#ğŸ˜­å–œå¾—ä¸€å…·f407æ¿ç –" class="headerlink" title="ğŸ˜­å–œå¾—ä¸€å…·f407æ¿ç –"></a>ğŸ˜­å–œå¾—ä¸€å…·f407æ¿ç –</h1><p>ç”¨l298n5vç»™å•ç‰‡æœºä¾›ç”µ</p><p>l298n5væ¥å•ç‰‡æœº5v,æˆ‘åˆšå¼€å§‹å¯»æ€ä¸ºå•¥ç¯ä¸äº®,åæ¥ç¯äº®äº†,èŠ¯ç‰‡ä¹Ÿçƒ§äº†</p><p>ä¸ºä»€ä¹ˆè¿™ä¹ˆåš:</p><blockquote><p>ä¹‹å‰ä½¿ç”¨arduionçš„æ—¶å€™æ˜¯ç”¨l298n5vç›´æ¥æ¥å•ç‰‡æœº5vçš„,f103c8t6ä¹Ÿæ˜¯è¿™ä¹ˆå¹²çš„</p></blockquote><blockquote><p>æˆ‘å¥½åƒè®°å¾—çš„æ‰‹å†Œä¸Šå†™å¼•è„šæ˜¯è€5vçš„</p></blockquote><blockquote><p>æ©3.3Vçš„èŠ¯ç‰‡ï¼Œæœ€å¤§3.6Vç”µå‹</p></blockquote><blockquote><p>å¼•è„šæ˜¯å¯ä»¥å…¼å®¹5.0Vçš„ ï¼Œä½†æ˜¯ç”µæºä¸å¯ä»¥</p></blockquote><h2 id="no-device-jlinkä¸è¯†åˆ«å¼€å‘æ¿èŠ¯ç‰‡"><a href="#no-device-jlinkä¸è¯†åˆ«å¼€å‘æ¿èŠ¯ç‰‡" class="headerlink" title="no device,jlinkä¸è¯†åˆ«å¼€å‘æ¿èŠ¯ç‰‡"></a>no device,jlinkä¸è¯†åˆ«å¼€å‘æ¿èŠ¯ç‰‡</h2><p>ä¸‹è½½ç¨‹åºå,çªç„¶å°±æ˜¾ç¤º<code>no device sw...</code>,ä¸èƒ½ä¸‹è½½ç¨‹åº</p><h3 id="åŸå› -ç¨‹åºå ç”¨äº†swçš„ioå£"><a href="#åŸå› -ç¨‹åºå ç”¨äº†swçš„ioå£" class="headerlink" title="åŸå› :ç¨‹åºå ç”¨äº†swçš„ioå£"></a>åŸå› :ç¨‹åºå ç”¨äº†swçš„ioå£</h3><h3 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³:"></a>è§£å†³:</h3><blockquote><p>(1)BOOT0æ‹‰é«˜,å¤ä½,ä¸‹è½½,å†æ‹‰ä½(æˆ‘ç”¨ä¸å¥½ä½¿)</p></blockquote><blockquote><p>(2)åˆ æ‰æœ‰å…³jlinké…ç½®çš„æ–‡ä»¶,åœ¨keilä¸­é‡æ–°é…ç½®(ä¸ä¼š,ä¸æ•¢åˆ ,æ²¡æœ‰å®è·µè¿‡)</p></blockquote><blockquote><p>(3)ä½¿ç”¨ä¸²å£,å°†åŸæ¥çš„ç¨‹åºæ›¿æ¢æ‰(ä¸çŸ¥é“ä¸ºå•¥,ä¸²å£ä¸‹ä¸è¿›å»,ä½†æ˜¯jlinkå¥½äº†)</p></blockquote><blockquote><p>(4)ä¸²å£ä¸‹è½½çš„æç¤º:</p></blockquote><blockquote><p>åœ¨ä¸²å£COM6è¿æ¥æˆåŠŸ@76800bpsï¼Œè€—æ—¶406æ¯«ç§’<br>èŠ¯ç‰‡å†…BootLoaderç‰ˆæœ¬å·ï¼š3.1<br>èŠ¯ç‰‡PIDï¼š00000413<br>èŠ¯ç‰‡å·²è®¾ç½®è¯»ä¿æŠ¤ï¼Œæ— æ³•è¯»å–æ›´å¤šä¿¡æ¯<br>åˆå§‹åŒ–RamIsp<br>è°ƒè¯•ä¿¡æ¯ï¼š-8RamIsp:STM_WriteMemory<br>å†™å…¥å‡ºé”™åœ¨åˆå§‹åŒ–:ä¸‹è½½,è€—æ—¶453æ¯«ç§’</p></blockquote><p>å‡ºç°è¿™ç§æƒ…å†µçœ‹2.2.1ä¸²å£æ³¨æ„äº‹é¡¹,æœ‰å¯èƒ½æ˜¯è¿™äº›æ–¹é¢å‡ºäº†é—®é¢˜</p><blockquote><p>è§£å†³:<br>ç†è®ºä¸Šä¸²å£ä¸‹è½½å®Œ,jlinkå°±å¯ä»¥æ­£å¸¸ä¸‹è½½äº†,å› ä¸ºæ¢ç¨‹åºä¸å ç”¨ioäº†<br>åæ¥ä½¿ç”¨FlyMcuä¸²å£ä¸‹è½½æ—¶,æ­£å¸¸äº†</p></blockquote><h4 id="ä¸²å£æ³¨æ„äº‹é¡¹"><a href="#ä¸²å£æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸²å£æ³¨æ„äº‹é¡¹"></a>ä¸²å£æ³¨æ„äº‹é¡¹</h4><p>(1)æ­£ç‚¹åŸå­æ³¢ç‰¹ç‡76800,ä½¿ç”¨ä¸²å£æ—¶,å…¶ä»–ä¸²å£éœ€è¦ç”¨è·³çº¿å¸½è¿æ¥<br>(2)ä¸è¦å‹¾é€‰ç¼–ç¨‹åˆ°flash<br>(3)ä¸è¦å‹¾é€‰ramsip</p><h4 id="æ’å…¥jlink-æ— æ³•è¯†åˆ«usb"><a href="#æ’å…¥jlink-æ— æ³•è¯†åˆ«usb" class="headerlink" title="æ’å…¥jlink,æ— æ³•è¯†åˆ«usb"></a>æ’å…¥jlink,æ— æ³•è¯†åˆ«usb</h4><blockquote><p>å¸è½½å¹²å‡€é©±åŠ¨,å®‰è£…ä¸ªæ–°çš„,ä¸è¡Œå†æ¢,ä¹Ÿå¯èƒ½æ˜¯åå¤æ‹”æ’äº§ç”Ÿé™ç”µ,æ–­ç”µé‡å¯å³å¯</p></blockquote><h4 id="ä¸²å£ä¸‹è½½çš„é—®é¢˜"><a href="#ä¸²å£ä¸‹è½½çš„é—®é¢˜" class="headerlink" title="ä¸²å£ä¸‹è½½çš„é—®é¢˜"></a>ä¸²å£ä¸‹è½½çš„é—®é¢˜</h4><p>å¼€å§‹ç¼–ç¨‹èŠ¯ç‰‡ï¼Œå…±éœ€å†™å…¥3KB,è€—æ—¶187æ¯«ç§’<br>å†™å…¥å‡ºé”™åœ¨0KB,è¿›åº¦0%,è€—æ—¶203æ¯«ç§’</p><blockquote><p>(1)è°ƒå°æ³¢ç‰¹ç‡è¯•è¯•</p></blockquote><blockquote><p>(2)å¸è½½ch340,é‡æ–°å®‰è£…,é‡æ–°æ’å…¥usbçº¿(æ— æ³•è§£é‡Š,æˆ‘æ„¿æ„ç§°ä¹‹ä¸ºç„å­¦,å¹¶ä¸”æœ‰æ—¶å€™flymcuå¥½ä½¿,mcuispä¸å¥½ä½¿,æœ‰æ—¶å€™ç›¸å)</p></blockquote><h2 id="å…³äºæœ€è¿‘çš„å­¦ä¹ "><a href="#å…³äºæœ€è¿‘çš„å­¦ä¹ " class="headerlink" title="å…³äºæœ€è¿‘çš„å­¦ä¹ "></a>å…³äºæœ€è¿‘çš„å­¦ä¹ </h2><p>æœ€è¿‘åœ¨å­¦pid,æ‰¾äº†å¾ˆå¤šèµ„æ–™,å„ä¸ªæ¨¡å—ä»£ç ,æ€»æ„Ÿè§‰ç¼ºç‚¹ä»€ä¹ˆ,ä¸çŸ¥é“ä¸‹ä¸€æ­¥åšä»€ä¹ˆ,æˆ–è€…è¯´,ä¸çŸ¥é“æ€ä¹ˆæŠŠå„éƒ¨åˆ†ä¸²èµ·æ¥</p><blockquote><p>åŸºç¡€å¾ˆé‡è¦,å…ˆåˆ†å¼€å»å†™ä»£ç ,éªŒè¯,ä¸è¦ä¸€ä¸Šæ¥,å¤šä¸ªä»£ç æ–‡ä»¶ä¸€èµ·å†™,ä¼šå¯¼è‡´æ€è·¯ä¸æ¸…æ™°,æœ‰ç–æ¼,ä¸€æ­¥ä¸€æ­¥åšæ…¢ä¸€ç‚¹,å¯ä»¥å·©å›ºä¸€ä¸‹åŸºç¡€éƒ¨åˆ†,æ”¶è·åˆ°ä»¥å‰æ²¡æœ‰æ³¨æ„åˆ°çš„çŸ¥è¯†</p></blockquote><blockquote><p>å¿«å³æ˜¯æ…¢,æ…¢å³æ˜¯å¿«</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> stm32f407 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoåšå®¢æ­å»ºlinuxæœåŠ¡å™¨éƒ¨åˆ†</title>
      <link href="/2022/05/08/8l-hexo-linux/"/>
      <url>/2022/05/08/8l-hexo-linux/</url>
      
        <content type="html"><![CDATA[<h2 id="éƒ¨ç½²ç¯å¢ƒä¸å‡†å¤‡"><a href="#éƒ¨ç½²ç¯å¢ƒä¸å‡†å¤‡" class="headerlink" title="éƒ¨ç½²ç¯å¢ƒä¸å‡†å¤‡"></a>éƒ¨ç½²ç¯å¢ƒä¸å‡†å¤‡</h2><p>1.ç¯å¢ƒ</p><ul><li>æœ¬åœ°Windows10æ“ä½œç³»ç»Ÿ<br>Ubuntu20.06ç³»ç»Ÿäº‘æœåŠ¡å™¨</li></ul><p>2.å‡†å¤‡</p><ul><li>Hexo æœ¬åœ°åšå®¢,ä¸Šä¸€ç¯‡æ–‡ç« æœ¬åœ°ç«¯å·²ç»æ­å»ºå®Œæˆ<br><a href="http://www.isgeek.top/2022/05/03/1l-hexo-blog/">linuxæ­å»ºhexoåšå®¢(æœ¬åœ°ç«¯)</a></li></ul><p>3.æµç¨‹</p><blockquote><p>å®‰è£…æœ€æ–°ç‰ˆgit,ç¼–è¯‘å¹¶å®‰è£…,é…ç½®ç¯å¢ƒ,</p><p>è®¾ç½®ç§˜é’¥,æ–°å»ºç”¨æˆ·ç”¨æ¥è¿æ¥æœåŠ¡å™¨,å®‰è£…nginx,å»ºç«‹gitåº“</p></blockquote><h2 id="äº‘æœåŠ¡å™¨é…ç½®Git"><a href="#äº‘æœåŠ¡å™¨é…ç½®Git" class="headerlink" title="äº‘æœåŠ¡å™¨é…ç½®Git"></a>äº‘æœåŠ¡å™¨é…ç½®Git</h2><h3 id="å®‰è£…ä¾èµ–åº“"><a href="#å®‰è£…ä¾èµ–åº“" class="headerlink" title="å®‰è£…ä¾èµ–åº“"></a>å®‰è£…ä¾èµ–åº“</h3><p>centos</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>debian</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt-get install -y curl libcurl4-openssl-dev expat libexpat1-dev gettext libgettextpo-dev libssl-dev zlib1g-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å®‰è£…ç¼–è¯‘å·¥å…·"><a href="#å®‰è£…ç¼–è¯‘å·¥å…·" class="headerlink" title="å®‰è£…ç¼–è¯‘å·¥å…·"></a>å®‰è£…ç¼–è¯‘å·¥å…·</h3><p>centos</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum install gcc perl-ExtUtils-MakeMaker package<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>debian</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt-get install -y build-essential perl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹gitçš„ç‰ˆæœ¬"><a href="#æŸ¥çœ‹gitçš„ç‰ˆæœ¬" class="headerlink" title="æŸ¥çœ‹gitçš„ç‰ˆæœ¬"></a>æŸ¥çœ‹gitçš„ç‰ˆæœ¬</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">git versionyum remove git -y      #åˆ é™¤gitapt-get remove git -y<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä¸‹è½½è§£å‹æœ€æ–°ç‰ˆ"><a href="#ä¸‹è½½è§£å‹æœ€æ–°ç‰ˆ" class="headerlink" title="ä¸‹è½½è§£å‹æœ€æ–°ç‰ˆ"></a>ä¸‹è½½è§£å‹æœ€æ–°ç‰ˆ</h3><p>ç°åœ¨å¯ä»¥ä½¿ç”¨<strong>apt</strong>å®‰è£…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt updatesudo apt install git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥ä½¿ç”¨<strong>wget</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd &#x2F;usr&#x2F;local&#x2F;src #åˆ‡æ¢åˆ°ä¸‹è½½çš„ç›®å½• wget https:&#x2F;&#x2F;www.kernel.org&#x2F;pub&#x2F;software&#x2F;scm&#x2F;git&#x2F;git-2.39.0.tar.gz #ä¸‹è½½æœ€æ–°ç‰ˆ tar -zxvf git-2.39.0.tar.gz #è§£å‹åˆ°å½“å‰æ–‡ä»¶å¤¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç¼–è¯‘å¹¶å®‰è£…"><a href="#ç¼–è¯‘å¹¶å®‰è£…" class="headerlink" title="ç¼–è¯‘å¹¶å®‰è£…"></a>ç¼–è¯‘å¹¶å®‰è£…</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd git-2.39.0    #è¿›å…¥æ–‡ä»¶å¤¹make prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git all    #ç¼–è¯‘æºç make prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;git install    #å®‰è£…è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="é…ç½®gitç¯å¢ƒå˜é‡"><a href="#é…ç½®gitç¯å¢ƒå˜é‡" class="headerlink" title="é…ç½®gitç¯å¢ƒå˜é‡"></a>é…ç½®gitç¯å¢ƒå˜é‡</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">echo &#39;export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#39; &gt;&gt; &#x2F;etc&#x2F;bashrcsource &#x2F;etc&#x2F;bashrc   &#x2F;&#x2F;åˆ·æ–°ç¯å¢ƒå˜é‡git --version        &#x2F;&#x2F;æŸ¥çœ‹ç‰ˆæœ¬å·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">&#x2F;usr&#x2F;bin ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªåä¸º git-receive-pack çš„ç¬¦å·é“¾æ¥è¯¥é“¾æ¥æŒ‡å‘äº†æºæ–‡ä»¶ &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git-receive-pack#ç¡®ä¿ git-receive-pack å¯æ‰§è¡Œæ–‡ä»¶å¯ä»¥åœ¨ç³»ç»Ÿçš„ PATH ä¸­æ‰¾åˆ°ï¼Œä»è€Œè§£å†³äº†ä¸ Git ç›¸å…³çš„é—®é¢˜ln -s &#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&#x2F;git-receive-pack &#x2F;usr&#x2F;bin&#x2F;git-receive-pack#å¯èƒ½åŸå› ä¸ºç¯å¢ƒå˜é‡é…ç½®å¤±è´¥,æ²¡åŠæ³•åœ¨ç¯å¢ƒå˜é‡ä¸­æ‰¾åˆ°æ‰§è¡Œå‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ğŸš¨æ³¨æ„"><a href="#ğŸš¨æ³¨æ„" class="headerlink" title="ğŸš¨æ³¨æ„:"></a>ğŸš¨æ³¨æ„:</h3><p>å°† <strong>export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin</strong>æ·»åŠ åˆ°å½“å‰çš„ Shell ä¼šè¯ä¸­ï¼Œä»¥<strong>ä¸´æ—¶</strong>æ›´æ”¹ PATH ç¯å¢ƒå˜é‡ï¼Œä»¥ä¾¿åœ¨å½“å‰ Shell ä¼šè¯ä¸­æŸ¥æ‰¾ <code>git</code> å‘½ä»¤çš„è·¯å¾„ã€‚</p><p>è¿™ä¸ªæ›´æ”¹åªåœ¨å½“å‰ä¼šè¯ä¸­æœ‰æ•ˆï¼Œå½“ä½ å…³é—­è¯¥ç»ˆç«¯ä¼šè¯æ—¶ï¼Œå®ƒä¼šå¤±æ•ˆã€‚</p><p><strong>echo export PATH&#x3D;$PATH:&#x2F;usr&#x2F;local&#x2F;git&#x2F;bin&gt;&gt; &#x2F;etc&#x2F;bashrc</strong>ï¼šè¿™ä¸ªå‘½ä»¤ä¸ä¸Šè¿°å‘½ä»¤ç›¸ä¼¼ï¼Œä½†å®ƒå°†æŒ‡å®šçš„æ–‡æœ¬é™„åŠ åˆ° <code>/etc/bashrc</code> æ–‡ä»¶çš„æœ«å°¾ï¼Œè¿™æ˜¯ä¸€ä¸ªç³»ç»Ÿçº§çš„ Bash é…ç½®æ–‡ä»¶ã€‚</p><p>è¿™æ„å‘³ç€å½“ä»»ä½•ç”¨æˆ·ç™»å½•åˆ°ç³»ç»Ÿæ—¶ï¼Œéƒ½ä¼šæ‰§è¡Œ <code>/etc/bashrc</code> ä¸­çš„å‘½ä»¤ï¼Œä»è€Œæ°¸ä¹…æ›´æ”¹ PATH ç¯å¢ƒå˜é‡</p><h3 id="åˆ›å»ºgitç”¨æˆ·"><a href="#åˆ›å»ºgitç”¨æˆ·" class="headerlink" title="åˆ›å»ºgitç”¨æˆ·"></a>åˆ›å»ºgitç”¨æˆ·</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">adduser ç”¨æˆ·   #è‡ªå·±èµ·ä¸€ä¸ªå°±è¡Œpasswd å¯†ç     #è¿™ä¸ªå¯†ç å¿…é¡»å¤æ‚,è¿‡äºç®€å•ä¼šè¢«ç ´è§£~mPr^DLB&amp;C^TwYfGI9klL(Pi*TY!(Kyr+n^WJ5IQ#ä¿®æ”¹æƒé™chmod 740 &#x2F;etc&#x2F;sudoersvim &#x2F;etc&#x2F;sudoers root ALL&#x3D;(ALL) ALL ç”¨æˆ· ALL&#x3D;(ALL) ALL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœ¬åœ°ç«¯ä½¿ç”¨Gitbashåˆ›å»ºå¯†é’¥"><a href="#æœ¬åœ°ç«¯ä½¿ç”¨Gitbashåˆ›å»ºå¯†é’¥" class="headerlink" title="æœ¬åœ°ç«¯ä½¿ç”¨Gitbashåˆ›å»ºå¯†é’¥"></a>æœ¬åœ°ç«¯ä½¿ç”¨Gitbashåˆ›å»ºå¯†é’¥</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ssh-keygen -t rsa.å°†æœ¬åœ°åˆ›å»º&#96;id_rsa.pub&#96;ä¸­æ–‡ä»¶å¤åˆ¶(æ­¤æ–‡ä»¶åœ¨cç›˜.&#x2F;sshæ–‡ä»¶å¤¹)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æœåŠ¡å™¨ç«¯"><a href="#æœåŠ¡å™¨ç«¯" class="headerlink" title="æœåŠ¡å™¨ç«¯"></a>æœåŠ¡å™¨ç«¯</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">su ç”¨æˆ·    mkdir ~&#x2F;.sshvim ~&#x2F;.ssh&#x2F;authorized_keysssh -v ç”¨æˆ·@æœåŠ¡å™¨ip  #æµ‹è¯•å¯ä»¥è¿æ¥æœåŠ¡å™¨ä¸Š<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ›å»ºç½‘ç«™ç›®å½•å¹¶è®¾ç½®æƒé™"><a href="#åˆ›å»ºç½‘ç«™ç›®å½•å¹¶è®¾ç½®æƒé™" class="headerlink" title="åˆ›å»ºç½‘ç«™ç›®å½•å¹¶è®¾ç½®æƒé™"></a>åˆ›å»ºç½‘ç«™ç›®å½•å¹¶è®¾ç½®æƒé™</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">su rootmkdir &#x2F;home&#x2F;hexo#ç»™ç”¨æˆ·å¯¹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æ‹¥æœ‰è€…å˜æ›´chown ç”¨æˆ·å:ç”¨æˆ·å -R &#x2F;home&#x2F;hexo #chown maobing:maobing -R &#x2F;home&#x2F;hexo#chownç”¨äºå°†æŒ‡å®šæ–‡ä»¶çš„æ‰€æœ‰è€…ä¿®æ”¹ä¸ºæŒ‡å®šç”¨æˆ·æˆ–ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®‰è£…Nginx"><a href="#å®‰è£…Nginx" class="headerlink" title="å®‰è£…Nginx"></a>å®‰è£…Nginx</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt install -y nginx             #å¯èƒ½ä¼šå‡ºç°æ²¡æœ‰å®‰è£…åŒ…çš„é—®é¢˜systemctl start nginx.service    #å¯åŠ¨æœåŠ¡#å¦‚æœå‡ºç°æ²¡æœ‰å¯ç”¨çš„è½¯ä»¶åŒ…çš„é—®é¢˜yum install epel-release epel    #å®‰è£…æ‰©å±•yum update                       #æ›´æ–°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶"></a>ä¿®æ”¹Nginxé…ç½®æ–‡ä»¶</h3><blockquote><p>vim &#x2F;etc&#x2F;nginx&#x2F;nginx.conf </p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen       80 default_server;    listen       [::]:80 default_server;    server_name  fuchenchenle.cn;        #åŸŸå    root         &#x2F;home&#x2F;hexo;             #ç½‘ç«™ç›®å½•&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ–è€…(æ¨è)</p><blockquote><p>vim &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;hexo.conf</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">server &#123;    listen 80;    server_name www.isgeek.top; # ä½ çš„åŸŸå    root &#x2F;home&#x2F;hexo; # ç½‘ç«™ç›®å½•çš„è·¯å¾„    location &#x2F; &#123;        try_files $uri $uri&#x2F; &#x3D;404;    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#æ£€æŸ¥è¯­æ³•é”™è¯¯nginx -t<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½¿ç”¨ ln å‘½ä»¤åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥åˆ° &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F; ç›®å½•ã€‚è¯¥ç›®å½•åŒ…å«äº† Nginx æœåŠ¡å™¨å®é™…ä½¿ç”¨çš„è™šæ‹Ÿä¸»æœºé…ç½®æ–‡ä»¶ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ln -s &#x2F;etc&#x2F;nginx&#x2F;sites-available&#x2F;hexo.conf &#x2F;etc&#x2F;nginx&#x2F;sites-enabled&#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#é‡å¯æœåŠ¡å™¨systemctl restart nginx.service  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="â­ï¸å»ºç«‹gitåº“"><a href="#â­ï¸å»ºç«‹gitåº“" class="headerlink" title="â­ï¸å»ºç«‹gitåº“"></a>â­ï¸å»ºç«‹gitåº“</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cd &#x2F;home&#x2F;ç”¨æˆ·# !!!!æ–°ç‰ˆéœ€è¦è®¾ç½®,å¦åˆ™ä¼šä¸€ç›´æ‰¾ä¸åˆ°åˆ°ä»“åº“git config --global init.defaultBranch mastergit init --bare blog.gitchown ç”¨æˆ·:ç”¨æˆ· -R blog.git#chown maobing:maobing -R blog.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŒæ­¥ç½‘ç«™æ ¹ç›®å½•"><a href="#åŒæ­¥ç½‘ç«™æ ¹ç›®å½•" class="headerlink" title="åŒæ­¥ç½‘ç«™æ ¹ç›®å½•"></a>åŒæ­¥ç½‘ç«™æ ¹ç›®å½•</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">vim blog.git&#x2F;hooks&#x2F;post-receive#!&#x2F;bin&#x2F;shgit --work-tree&#x3D;&#x2F;home&#x2F;hexo --git-dir&#x3D;&#x2F;home&#x2F;ç”¨æˆ·&#x2F;blog.git checkout -f#ä¿®æ”¹æƒé™!chmod +x &#x2F;home&#x2F;ç”¨æˆ·&#x2F;blog.git&#x2F;hooks&#x2F;post-receive   <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åœ¨windows10æœ¬åœ°hexoç›®å½•ä¿®æ”¹-config-ymlæ–‡ä»¶"><a href="#åœ¨windows10æœ¬åœ°hexoç›®å½•ä¿®æ”¹-config-ymlæ–‡ä»¶" class="headerlink" title="åœ¨windows10æœ¬åœ°hexoç›®å½•ä¿®æ”¹_config.ymlæ–‡ä»¶"></a>åœ¨windows10æœ¬åœ°hexoç›®å½•ä¿®æ”¹_config.ymlæ–‡ä»¶</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deploy:  type: git   #ç”¨æˆ·å@æœåŠ¡å™¨Ip:gitä»“åº“ä½ç½®  repository: ç”¨æˆ·@49.232.59.235:&#x2F;home&#x2F;fuchen&#x2F;blog.git   branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœ¬æœºgitbashéƒ¨ç½²"><a href="#æœ¬æœºgitbashéƒ¨ç½²" class="headerlink" title="æœ¬æœºgitbashéƒ¨ç½²"></a>æœ¬æœºgitbashéƒ¨ç½²</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">hexo cleanhexo g -dhexo cl &amp;&amp; hexo g &amp;&amp; hexo d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>keilå¸¸è§æŠ¥é”™</title>
      <link href="/2022/05/08/7h-keil-error/"/>
      <url>/2022/05/08/7h-keil-error/</url>
      
        <content type="html"><![CDATA[<h2 id="keilå‡ºç°ä¹±ç "><a href="#keilå‡ºç°ä¹±ç " class="headerlink" title="keilå‡ºç°ä¹±ç "></a>keilå‡ºç°ä¹±ç </h2><blockquote><p>edit-&gt;configuration-&gt;åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹©Editorâ€”&gt;Encodingâ€”â€“&gt; Chinese GB2312(Simplified)</p></blockquote><h3 id="æœªæ˜¾ç¤º-hæ–‡ä»¶-æœªç”Ÿæˆhexæ–‡ä»¶"><a href="#æœªæ˜¾ç¤º-hæ–‡ä»¶-æœªç”Ÿæˆhexæ–‡ä»¶" class="headerlink" title="æœªæ˜¾ç¤º.hæ–‡ä»¶,æœªç”Ÿæˆhexæ–‡ä»¶,"></a>æœªæ˜¾ç¤º.hæ–‡ä»¶,æœªç”Ÿæˆhexæ–‡ä»¶,</h3><blockquote><p>1.åªéœ€ç¼–è¯‘ä¸€ä¸‹mainæ–‡ä»¶</p></blockquote><blockquote><p>2.å¯èƒ½æ˜¯å› ä¸ºæœ‰é”™è¯¯,éœ€è¦å…ˆç¼–è¯‘ä¸€ä¸‹æ”¹é”™</p></blockquote><h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><h3 id="Error-L6218E"><a href="#Error-L6218E" class="headerlink" title="Error:L6218E"></a>Error:L6218E</h3><h4 id=""><a href="#" class="headerlink" title=""></a></h4><p>â€¦\OBJ\USART.axf: Error: L6218E: Undefined symbol ADC_Cmd (referred from adc.o).</p><blockquote><p>ä¸€èˆ¬å‡ºç°è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºæ²¡æœ‰åŠ å…¥STçš„å®˜æ–¹åº“æ–‡ä»¶<br>åœ¨<code>Fwlib</code>æ–‡ä»¶å¤¹ä¸­å‡å¦‚å¯¹åº”çš„.cæ–‡ä»¶,æ¯”å¦‚<code>adc.c</code></p></blockquote><h4 id="-1"><a href="#-1" class="headerlink" title=""></a></h4><p>error: L6218E: Undefined symbol Delay_ms (referred from lcd.o).</p><blockquote><p>Delay_ms  Delay_us  è¿™ä¸¤ä¸ªæ²¡æœ‰å®šä¹‰ï¼Œæ£€æŸ¥è¿™ä¸¤å¤„</p></blockquote><h3 id="invalid-in-C99"><a href="#invalid-in-C99" class="headerlink" title="invalid in C99"></a>invalid in C99</h3><blockquote><p>å¾ˆæœ‰å¯èƒ½æ˜¯å¤´æ–‡ä»¶ä¹¦å†™é”™è¯¯,æ¯”å¦‚ifndefå†™æˆifdef</p></blockquote><h3 id="error-268-declaration-may-not-appear-after-executable-statement"><a href="#error-268-declaration-may-not-appear-after-executable-statement" class="headerlink" title="error: #268: declaration may not appear after executable statement"></a>error: #268: declaration may not appear after executable statement</h3><blockquote><p>æ­¤é”™è¯¯ä¸­æ–‡æ„æ€ï¼šå£°æ˜ä¸èƒ½åœ¨å¯æ‰§è¡Œè¯­å¥åå‡ºç°</p></blockquote><blockquote><p>è¡¨ç¤ºæœ‰å˜é‡åœ¨å‡½æ•°åé¢å£°æ˜ï¼Œåº”è¯¥æ”¹ä¸ºåœ¨å‡½æ•°å¼€å¤´å£°æ˜å˜é‡ã€‚</p></blockquote><blockquote><p>åœ¨Keilç¯å¢ƒä¸­ç¼–è¯‘ç¨‹åºï¼Œå˜é‡çš„å£°æ˜åº”åœ¨ä¸»å‡½æ•°èµ·å§‹ä½ç½®ï¼Œå¦‚æœæœ‰æ­¤æŠ¥é”™ï¼Œä¸€å®šæ˜¯å˜é‡å£°æ˜åœ¨æ‰§è¡Œå‡½æ•°å</p></blockquote><h3 id="Error-L6915E-Library-reports-error-use-no-semihosting-was-requested"><a href="#Error-L6915E-Library-reports-error-use-no-semihosting-was-requested" class="headerlink" title="Error: L6915E: Library reports error: __use_no_semihosting was requested"></a>Error: L6915E: Library reports error: __use_no_semihosting was requested</h3><blockquote><p>é­”æœ¯æ£’-&gt;usemotolLIB</p></blockquote><h2 id="waring"><a href="#waring" class="headerlink" title="waring"></a>waring</h2><h3 id="warning-1295-D-Deprecated-declaration-LED-Init-give-arg-types"><a href="#warning-1295-D-Deprecated-declaration-LED-Init-give-arg-types" class="headerlink" title="warning: #1295-D: Deprecated declaration LED_Init - give arg types"></a>warning: #1295-D: Deprecated declaration LED_Init - give arg types</h3><blockquote><p>.hæ–‡ä»¶ä¸­å‡½æ•°å®šä¹‰()é‡ŒåŠ ä¸Švoidå³å¯</p></blockquote><h3 id="WARNING-L1-UNRESOLVED-EXTERNAL-SYMBOL"><a href="#WARNING-L1-UNRESOLVED-EXTERNAL-SYMBOL" class="headerlink" title="WARNING L1: UNRESOLVED EXTERNAL SYMBOL"></a>WARNING L1: UNRESOLVED EXTERNAL SYMBOL</h3><p>SYMBOL: ADC_VAL<br>MODULE: .\main.obj (MAIN)<br>ADC_VALè¯¥å‚æ•°æœªå®šä¹‰ã€‚</p><h3 id="error-165-too-few-arguments-in-function-call"><a href="#error-165-too-few-arguments-in-function-call" class="headerlink" title="error: #165: too few arguments in function call"></a>error: #165: too few arguments in function call</h3><blockquote><p>æ·»åŠ å¤´æ–‡ä»¶åæº.cæ–‡ä»¶ä¸­å‡½æ•°æœ‰å‚æ•°ä½†æ˜¯å®é™…è°ƒç”¨æ—¶æ²¡æœ‰ã€‚</p></blockquote><blockquote><p>æ–¹æ³•ä¸€ï¼šæº.cæ–‡ä»¶ä¸­çš„å‡½æ•°ä¸è¦æœ‰å‚æ•°</p></blockquote><blockquote><p>æ–¹æ³•äºŒï¼šè°ƒç”¨å‡½æ•°æ—¶æŠŠå‚æ•°å†™ä¸Šã€‚</p></blockquote><hr><hr><h3 id="ERROR-167-ARGUMENT-OF-TYPE-â€œUINT16-T-â€œ-IS-INCOMPATIBLE-WITH-PARAMETER-OF-TYP"><a href="#ERROR-167-ARGUMENT-OF-TYPE-â€œUINT16-T-â€œ-IS-INCOMPATIBLE-WITH-PARAMETER-OF-TYP" class="headerlink" title="ERROR: #167: ARGUMENT OF TYPE â€œUINT16_T *â€œ IS INCOMPATIBLE WITH PARAMETER OF TYP"></a>ERROR: #167: ARGUMENT OF TYPE â€œUINT16_T *â€œ IS INCOMPATIBLE WITH PARAMETER OF TYP</h3><p>ä½¿ç”¨printfä¸²å£æ‰“å°adcæ•°æ®æ˜¯æŠ¥çš„é”™<br>å˜é‡ç±»å‹â€™æ— ç¬¦å·é•¿æ•´å‹â€™ä¸å‚æ•°ç±»å‹ä¸åŒ¹é…â€<br>åº”è¯¥æ˜¯ä½ åœ¨ç¬¬167è¡Œè°ƒç”¨å‡½æ•°æ—¶æ‰€ä¼ çš„å‚æ•°ç±»å‹æ˜¯â€æ— ç¬¦å·é•¿æ•´å‹çš„â€,ä½†è¿™ä¸ªå‡½æ•°æ‰€è¦æ±‚çš„å‚æ•°ä¸æ˜¯è¿™ä¸ªç±»å‹çš„<br>æ£€æŸ¥ä¸‹å‡½æ•°å£°å,ç„¶åæŒ‰è¦æ±‚ç»™å‚æ•°è¯•è¯•<br>ä¸ªäººç†è§£,è°ƒç”¨printfå‡½æ•°å¼ç©¿çš„å‚æ•°ç±»å‹ä¸printfå‡½æ•°è¦æ±‚çš„å‚æ•°ç±»å‹ä¸åŒ<br>ä½¿ç”¨printfæ˜¯æŠ¥é”™,å¯èƒ½æ˜¯å› ä¸ºä½¿ç”¨çš„æ˜¯å•å¼•å·,æ”¹æˆåŒå¼•å·å°±ä¸æŠ¥é”™äº†</p><h3 id="error-260-D-explicit-type-is-missing-â€œintâ€-assumed"><a href="#error-260-D-explicit-type-is-missing-â€œintâ€-assumed" class="headerlink" title="error:  #260-D: explicit type is missing (â€œintâ€ assumed)"></a>error:  #260-D: explicit type is missing (â€œintâ€ assumed)</h3><p>usart.cæ–‡ä»¶ä¸­</p><blockquote><p>å®šä¹‰  _sys_exit(int x)  ä»¥é¿å…ä½¿ç”¨åŠä¸»æœºæ¨¡å¼,å‡½æ•°æ²¡æœ‰è¿”å›ç±»å‹ï¼Œå‡å®šå…¶è¿”å›ç±»å‹ä¸ºintï¼Œå¯ä»¥å†™ä¸ºvoid void  _sys_exit(int x) ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šé»˜è®¤ä¸ºè¿”å›intç±»å‹ï¼Œæ•…ä¼šå‡ºç°ä¸Šè¿°è­¦å‘Šã€‚<br>è§£å†³åŠæ³•ï¼šåº”è¯¥å†™æˆvoid  _sys_exit(int x) </p></blockquote><p>æœ‰çš„å·¥ç¨‹ä¼šæŠ¥é”™,æœ‰çš„å·¥ç¨‹ä¸ä¼š</p><h2 id="å¼€å‘51å•ç‰‡æœºæ—¶å¯èƒ½å‡ºç°çš„æŠ¥é”™"><a href="#å¼€å‘51å•ç‰‡æœºæ—¶å¯èƒ½å‡ºç°çš„æŠ¥é”™" class="headerlink" title="å¼€å‘51å•ç‰‡æœºæ—¶å¯èƒ½å‡ºç°çš„æŠ¥é”™"></a>å¼€å‘51å•ç‰‡æœºæ—¶å¯èƒ½å‡ºç°çš„æŠ¥é”™</h2><h3 id="error-C129-missing-â€˜-â€™-before-â€˜0000â€™"><a href="#error-C129-missing-â€˜-â€™-before-â€˜0000â€™" class="headerlink" title="error C129: missing â€˜;â€™ before â€˜0000â€™"></a>error C129: missing â€˜;â€™ before â€˜0000â€™</h3><p>ç”¨æ±‡ç¼–å†™çš„ç¨‹åºï¼Œå´ç”¨.cæ–‡ä»¶æ¥ä¿å­˜çš„ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼šåªè¦å°†åç¼€æ”¹æˆ.asmå³å¯ã€‚</p><h3 id="å…³äº8051æ±‡ç¼–è¯­è¨€çš„keilä¸­å‡ºç°çš„A45-UNDEFINED-SYMBOL-PASS-2-é”™è¯¯"><a href="#å…³äº8051æ±‡ç¼–è¯­è¨€çš„keilä¸­å‡ºç°çš„A45-UNDEFINED-SYMBOL-PASS-2-é”™è¯¯" class="headerlink" title="å…³äº8051æ±‡ç¼–è¯­è¨€çš„keilä¸­å‡ºç°çš„A45: UNDEFINED SYMBOL (PASS-2)é”™è¯¯"></a>å…³äº8051æ±‡ç¼–è¯­è¨€çš„keilä¸­å‡ºç°çš„A45: UNDEFINED SYMBOL (PASS-2)é”™è¯¯</h3><p>è¿™é‡Œçš„ä»£ç æ®µåœ¨ENDä¹‹å,è¢«å¿½ç•¥äº†.æ‰€ä»¥å°±ä¼šå‡ºç°A45: UNDEFINED <a href="https://so.csdn.net/so/search?q=SYMBOL&spm=1001.2101.3001.7020">SYMBOL</a> ,å› ä¸ºåœ¨ENDä¹‹åçš„ä»£ç å…¨è¢«å¿½ç•¥äº†ã€‚</p><p>è§£å†³æ–¹æ³•ï¼šå°†ENDå†™åœ¨ä»£ç çš„æœ€åé¢ã€‚</p><p> è¿˜æœ‰ä¸€ç§æƒ…å†µå°±æ˜¯ç«‹å³æ•°#FFHï¼Œè¦å†™æˆ#0FFHï¼Œå› ä¸ºå­—æ¯æ‰“å¤´ã€‚</p><p>(åœ¨æ±‡ç¼–è¯­è¨€ä¸­åå…­è¿›åˆ¶çš„ç«‹å³æ•°æœ‰ä¸€ä¸ªè§„åˆ™ï¼Œå½“åå…­è¿›åˆ¶æ•°æ˜¯å­—æ¯å¼€å¤´æ—¶è¦åœ¨å‰é¢åŠ 0ï¼Œ<br>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæ—¶#0C0H è€Œä¸æ˜¯ #C0Hçš„åŸå› äº†ï¼‰</p><h2 id="jlinké—®é¢˜"><a href="#jlinké—®é¢˜" class="headerlink" title="jlinké—®é¢˜"></a>jlinké—®é¢˜</h2><p>Error: Flash Download failed - â€œCortex-M4â€</p><h3 id="ç¼ºå°‘flashæ–‡ä»¶"><a href="#ç¼ºå°‘flashæ–‡ä»¶" class="headerlink" title="ç¼ºå°‘flashæ–‡ä»¶"></a>ç¼ºå°‘flashæ–‡ä»¶</h3><blockquote><p>é­”æœ¯æ£’-&gt;debug-&gt;srttings-&gt;flash download-&gt;add</p></blockquote><h3 id="å¯èƒ½æ˜¯å› ä¸ºå¼€ç€ä¸²å£-å°†ä¸²å£å…³é—­å³å¯"><a href="#å¯èƒ½æ˜¯å› ä¸ºå¼€ç€ä¸²å£-å°†ä¸²å£å…³é—­å³å¯" class="headerlink" title="å¯èƒ½æ˜¯å› ä¸ºå¼€ç€ä¸²å£,å°†ä¸²å£å…³é—­å³å¯"></a>å¯èƒ½æ˜¯å› ä¸ºå¼€ç€ä¸²å£,å°†ä¸²å£å…³é—­å³å¯</h3><h3 id="cannot-load-flash-device-description"><a href="#cannot-load-flash-device-description" class="headerlink" title="cannot load flash device description"></a>cannot load flash device description</h3><blockquote><p><code>jlink</code>é€‰é”™äº†,æ‰“å¼€<code>settingsswd</code>æœ‰èŠ¯ç‰‡id,<code>flash downloadrese and run</code>é€‰ä¸Š,æœ€åflashç®—æ³•å¿…é¡»æœ‰,å°±æ˜¯ä¸‹é¢çš„ç©ºç™½æ æœ‰ä¸€æ¡ä¿¡æ¯<br>å¦‚æœè¿˜æŠ¥é”™,<code>Utilities</code>,-&gt;<code>use debug driver</code></p></blockquote><h3 id="jlinkæ— æ³•è¯†åˆ«çš„usbè®¾å¤‡"><a href="#jlinkæ— æ³•è¯†åˆ«çš„usbè®¾å¤‡" class="headerlink" title="jlinkæ— æ³•è¯†åˆ«çš„usbè®¾å¤‡"></a>jlinkæ— æ³•è¯†åˆ«çš„usbè®¾å¤‡</h3><blockquote><p>(1)é¢‘ç¹æ‹”æ’ä¼šäº§ç”Ÿé™ç”µ,å°†ç”µè„‘é‡å¯(2)æ›´æ–°é©±åŠ¨,â‘¡æ¢ä¸€å°ç”µè„‘æ’ä¸€ä¸‹,å†æ’å›å»å°±å¥½äº†,â‘¢å¦‚æœå¦ä¸€å°ç”µè„‘ä¹Ÿä¸å¥½ä½¿,é‚£å°±è¯´æ˜å›ºä»¶ä¸¢å¤±,é‡æ–°åˆ·å…¥</p></blockquote><h2 id="è“ç‰™"><a href="#è“ç‰™" class="headerlink" title="è“ç‰™"></a>è“ç‰™</h2><blockquote><p>ä¸²å£åŠ©æ‰‹è¿è“ç‰™ä¸éœ€è¦å‘é€æ–°è¡Œå’Œå›è½¦hc-06()</p></blockquote><h2 id="å­—ä½“é—®é¢˜"><a href="#å­—ä½“é—®é¢˜" class="headerlink" title="å­—ä½“é—®é¢˜"></a>å­—ä½“é—®é¢˜</h2><h3 id="æ³¨é‡Šçš„å­—æ¨ªè¿‡æ¥å¯èƒ½æ˜¯å› ä¸ºå­—ä½“å‰é¢æœ‰-å°†å­—ä½“æ¢ä¸ºæ²¡æœ‰-çš„å³å¯"><a href="#æ³¨é‡Šçš„å­—æ¨ªè¿‡æ¥å¯èƒ½æ˜¯å› ä¸ºå­—ä½“å‰é¢æœ‰-å°†å­—ä½“æ¢ä¸ºæ²¡æœ‰-çš„å³å¯" class="headerlink" title="æ³¨é‡Šçš„å­—æ¨ªè¿‡æ¥å¯èƒ½æ˜¯å› ä¸ºå­—ä½“å‰é¢æœ‰@,å°†å­—ä½“æ¢ä¸ºæ²¡æœ‰@çš„å³å¯"></a>æ³¨é‡Šçš„å­—æ¨ªè¿‡æ¥å¯èƒ½æ˜¯å› ä¸ºå­—ä½“å‰é¢æœ‰@,å°†å­—ä½“æ¢ä¸ºæ²¡æœ‰@çš„å³å¯</h3><h3 id="æ³¨é‡Šä¸­çš„æ±‰å­—å˜æˆäº†é—®å·ï¼Œæ˜¾ç¤ºä¸å‡ºæ¥"><a href="#æ³¨é‡Šä¸­çš„æ±‰å­—å˜æˆäº†é—®å·ï¼Œæ˜¾ç¤ºä¸å‡ºæ¥" class="headerlink" title="æ³¨é‡Šä¸­çš„æ±‰å­—å˜æˆäº†é—®å·ï¼Œæ˜¾ç¤ºä¸å‡ºæ¥"></a>æ³¨é‡Šä¸­çš„æ±‰å­—å˜æˆäº†é—®å·ï¼Œæ˜¾ç¤ºä¸å‡ºæ¥</h3><blockquote><p>view-&gt;configuration-&gt;editor-&gt;encoding-&gt;chinese gb2312 simplified</p></blockquote><h3 id="æŒ‰å›è½¦åå…‰æ ‡è·ç¦»å¾ˆå¤§"><a href="#æŒ‰å›è½¦åå…‰æ ‡è·ç¦»å¾ˆå¤§" class="headerlink" title="æŒ‰å›è½¦åå…‰æ ‡è·ç¦»å¾ˆå¤§"></a>æŒ‰å›è½¦åå…‰æ ‡è·ç¦»å¾ˆå¤§</h3><p>view-&gt;configuration-&gt;editor-&gt;encoding-&gt;tab size</p>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> keil </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>stm32f407å®šæ—¶å™¨ä¸­æ–­</title>
      <link href="/2022/05/07/6h-f407timer/"/>
      <url>/2022/05/07/6h-f407timer/</url>
      
        <content type="html"><![CDATA[<h2 id="ç›®çš„"><a href="#ç›®çš„" class="headerlink" title="ç›®çš„"></a>ç›®çš„</h2><h3 id="ä½¿ç”¨å®šæ—¶å™¨ä¸­æ–­-æ¯ä¸¤ç§’å‘é€ä¸€ä¸ªä»¥1ä¸ºæ­¥é•¿å¢é•¿çš„æ•°"><a href="#ä½¿ç”¨å®šæ—¶å™¨ä¸­æ–­-æ¯ä¸¤ç§’å‘é€ä¸€ä¸ªä»¥1ä¸ºæ­¥é•¿å¢é•¿çš„æ•°" class="headerlink" title="ä½¿ç”¨å®šæ—¶å™¨ä¸­æ–­,æ¯ä¸¤ç§’å‘é€ä¸€ä¸ªä»¥1ä¸ºæ­¥é•¿å¢é•¿çš„æ•°"></a>ä½¿ç”¨å®šæ—¶å™¨ä¸­æ–­,æ¯ä¸¤ç§’å‘é€ä¸€ä¸ªä»¥1ä¸ºæ­¥é•¿å¢é•¿çš„æ•°</h3><h2 id="æˆ‘çš„è¯¯åŒº"><a href="#æˆ‘çš„è¯¯åŒº" class="headerlink" title="æˆ‘çš„è¯¯åŒº"></a>æˆ‘çš„è¯¯åŒº</h2><p>å¼€å§‹ä»¥ä¸ºåœ¨å®šæ—¶å™¨ä¸­æ–­å¾—åˆ°çš„æ•°éœ€è¦å‘ç»™ä¸²å£,ç”¨<code>USART_SendData(USART1, res);</code>å‘é€ç»™ç”µè„‘æ˜¾ç¤ºæ•°æ®</p><h2 id="æ­£ç¡®æ–¹æ³•"><a href="#æ­£ç¡®æ–¹æ³•" class="headerlink" title="æ­£ç¡®æ–¹æ³•"></a>æ­£ç¡®æ–¹æ³•</h2><p>æ­£ç‚¹åŸå­çš„<code>usart</code>åŠ å…¥äº†å¯¹<code>printf</code>çš„æ”¯æŒ,æ‰€ä»¥åº”è¯¥æ˜¯åœ¨å“ªé‡Œéƒ½å¯ä»¥ä½¿ç”¨<code>printf</code>å°†æ•°æ®æ‰“å°å‘ç»™ç”µè„‘</p><p>&#x2F;&#x2F;å®šæ—¶å™¨3ä¸­æ–­æœåŠ¡å‡½æ•°</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">void TIM3_IRQHandler(void)&#123;   static int time&#x3D;0;if(TIM_GetITStatus(TIM3,TIM_IT_Update)&#x3D;&#x3D;SET) &#x2F;&#x2F;æº¢å‡ºä¸­æ–­&#123;    LED1&#x3D;!LED1;&#x2F;&#x2F;DS1ç¿»è½¬    time+&#x3D;1;    printf(&quot;æ—¶é—´ &#x3D;%d\r\n&quot;,time);&#125;TIM_ClearITPendingBit(TIM3,TIM_IT_Update);  &#x2F;&#x2F;æ¸…é™¤ä¸­æ–­æ ‡å¿—ä½&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åœ¨å®šæ—¶å™¨çš„åŸºç¡€ä¸ŠåŠ ä¸Šçœ‹é—¨ç‹—-æ¯éš”10ç§’åœæ­¢å–‚ç‹—ä¸€æ¬¡-é‡ç½®"><a href="#åœ¨å®šæ—¶å™¨çš„åŸºç¡€ä¸ŠåŠ ä¸Šçœ‹é—¨ç‹—-æ¯éš”10ç§’åœæ­¢å–‚ç‹—ä¸€æ¬¡-é‡ç½®" class="headerlink" title="åœ¨å®šæ—¶å™¨çš„åŸºç¡€ä¸ŠåŠ ä¸Šçœ‹é—¨ç‹—,æ¯éš”10ç§’åœæ­¢å–‚ç‹—ä¸€æ¬¡,é‡ç½®"></a>åœ¨å®šæ—¶å™¨çš„åŸºç¡€ä¸ŠåŠ ä¸Šçœ‹é—¨ç‹—,æ¯éš”10ç§’åœæ­¢å–‚ç‹—ä¸€æ¬¡,é‡ç½®</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">int main(void)&#123;   NVIC_PriorityGroupConfig(NVIC_PriorityGroup_2);&#x2F;&#x2F;è®¾ç½®ç³»ç»Ÿä¸­æ–­ä¼˜å…ˆçº§åˆ†ç»„2delay_init(168);&#x2F;&#x2F;å»¶æ—¶åˆå§‹åŒ– uart_init(115200);&#x2F;&#x2F;ä¸²å£åˆå§‹åŒ–æ³¢ç‰¹ç‡ä¸º115200LED_Init();  &#x2F;&#x2F;åˆå§‹åŒ–ä¸LEDè¿æ¥çš„ç¡¬ä»¶æ¥å£    LED0&#x3D;0;   &#x2F;&#x2F;çº¢  TIM3_Int_Init(20000-1,8400-1); &#x2F;&#x2F;å®šæ—¶å™¨2sä¸­æ–­ä¸€æ¬¡  IWDG_Init(6,1000);   &#x2F;*ä¸åˆ†é¢‘æ•°ä¸ºprer4,rlré‡è½½å€¼ä¸º500,æº¢å‡ºæ—¶é—´ä¸º1s   16*4*500&#x2F;32&#x3D;1000   ä¸åˆ†é¢‘æ•°ä¸ºprer6,rlré‡è½½å€¼ä¸º1000,æº¢å‡ºæ—¶é—´ä¸º10s  256*4*1000&#x2F;32&#x3D;32000  ??????ä¸ºå•¥æº¢å‡ºæ—¶é—´ä¸æ˜¯32ç§’è€Œæ˜¯10ç§’      Tout&#x3D;((4Ã—2^prer)Ã—rlr)32     prer:åˆ†é¢‘æ•°:0~7(åªæœ‰ä½ 3 ä½æœ‰æ•ˆ!)  rlr:è‡ªåŠ¨é‡è£…è½½å€¼,0~0XFFF.   åˆ†é¢‘å› å­&#x3D;4*2^prer.ä½†æœ€å¤§å€¼åªèƒ½æ˜¯256! &#x2F;32  32   rlr:é‡è£…è½½å¯„å­˜å™¨å€¼:ä½ 11 ä½æœ‰æ•ˆ*&#x2F;while(1)&#123;   if(KEY_Scan(0)&#x3D;&#x3D;WKUP_PRES)&#x2F;&#x2F;å¦‚æœWK_UPæŒ‰ä¸‹,åˆ™å–‚ç‹—&#123;IWDG_Feed();&#x2F;&#x2F;å–‚ç‹—&#125;delay_ms(10);&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å•ç‰‡æœº </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32F407 </tag>
            
            <tag> TIMER </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npmå®‰è£…ä¾èµ–é—®é¢˜</title>
      <link href="/2022/05/06/5l-npm-dependence/"/>
      <url>/2022/05/06/5l-npm-dependence/</url>
      
        <content type="html"><![CDATA[<h2 id="æ­å»ºhexoåšå®¢ç”¨npmå®‰è£…æ’ä»¶å‡ºç°çš„é—®é¢˜"><a href="#æ­å»ºhexoåšå®¢ç”¨npmå®‰è£…æ’ä»¶å‡ºç°çš„é—®é¢˜" class="headerlink" title="æ­å»ºhexoåšå®¢ç”¨npmå®‰è£…æ’ä»¶å‡ºç°çš„é—®é¢˜"></a>æ­å»ºhexoåšå®¢ç”¨npmå®‰è£…æ’ä»¶å‡ºç°çš„é—®é¢˜</h2><p>To address issues that do not require attention, run: npm audit fix Some issuse</p><p>é€šè¿‡ä»¥ä¸‹æ­¥éª¤è§£å†³</p><h3 id="åˆ‡æ¢ä¸ºæ·˜å®çš„npmå›½å†…é•œåƒ"><a href="#åˆ‡æ¢ä¸ºæ·˜å®çš„npmå›½å†…é•œåƒ" class="headerlink" title="åˆ‡æ¢ä¸ºæ·˜å®çš„npmå›½å†…é•œåƒ"></a>åˆ‡æ¢ä¸ºæ·˜å®çš„npmå›½å†…é•œåƒ</h3><blockquote><p>npm config set registry <a href="https://registry.npm.taobao.org/">https://registry.npm.taobao.org</a></p></blockquote><h3 id="npmæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬"><a href="#npmæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬" class="headerlink" title="npmæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬"></a>npmæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</h3><blockquote><p>npm install npm@latest -g</p></blockquote><h3 id="åˆ é™¤package-lock-jsonæ–‡ä»¶"><a href="#åˆ é™¤package-lock-jsonæ–‡ä»¶" class="headerlink" title="åˆ é™¤package-lock.jsonæ–‡ä»¶"></a>åˆ é™¤<code>package-lock.json</code>æ–‡ä»¶</h3><blockquote><p>é‡æ–°ä½¿ç”¨<code>npm i</code>å³å¯</p></blockquote><p>(è¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥è¿™æ ·è§£å†³,ç›®å‰æ²¡æœ‰é‡åˆ°.æ‰€ä»¥è¿˜æ²¡è¯•è¿‡<code>har-validator@5.1.2 Not found</code>é—®é¢˜)</p><h2 id="å®‰è£…æ—¶å‡ºç°run-npm-audit-fix-to-fix-them-or-npm-audit-for-details"><a href="#å®‰è£…æ—¶å‡ºç°run-npm-audit-fix-to-fix-them-or-npm-audit-for-details" class="headerlink" title="å®‰è£…æ—¶å‡ºç°run npm audit fix to fix them, or npm audit for details"></a>å®‰è£…æ—¶å‡ºç°run <code>npm audit fix</code> to fix them, or <code>npm audit</code> for details</h2><blockquote><p>1 npm audit fix</p></blockquote><blockquote><p>2 npm audit fix â€“force</p></blockquote><blockquote><p>3 npm audit</p></blockquote><p>å¦‚æœè¿˜æ˜¯ä¸è¡Œçš„è¯ï¼Œå¯ä»¥æŠŠ<code>node_modules</code>å’Œ<code>package-lock.json</code>åˆ æ‰</p><blockquote><p>è¿è¡Œ<code>npm install</code></p></blockquote><p>å†è¿è¡Œä¸Šè¿°çš„3è¡Œä»£ç </p><h2 id="npm-install-æŠ¥é”™-gyp-info-it-worked-if-it-ends-with-ok-npm-ERR-gyp-verb-cli"><a href="#npm-install-æŠ¥é”™-gyp-info-it-worked-if-it-ends-with-ok-npm-ERR-gyp-verb-cli" class="headerlink" title="npm install æŠ¥é”™ gyp info it worked if it ends with ok npm ERR! gyp verb cli"></a>npm install æŠ¥é”™ gyp info it worked if it ends with ok npm ERR! gyp verb cli</h2><pre class="line-numbers language-c" data-language="c"><code class="language-c">ERR! code 1npm ERR! path C:\Users\Administrator\Desktop\14531\mall-admin-web\node_modules\node-sassnpm ERR! command failednpm ERR! command C:\Windows\system32\cmd.exe &#x2F;d &#x2F;s &#x2F;c node scripts&#x2F;build.jsnpm ERR! Building: C:\Program Files\nodejs\node.exe C:\Users\Administrator\Desktop\14531\mall-admin-web\node_modules\node-gyp\bin\node-gyp.js rebuild --verbose --libsass_ext&#x3D; --libsass_cflags&#x3D; --libsass_ldflags&#x3D; --libsass_library&#x3D;npm ERR! gyp info it worked if it ends with oknpm ERR! gyp verb cli [npm ERR! gyp verb cli   &#39;C:\\Program Files\\nodejs\\node.exe&#39;,npm ERR! gyp verb cli   &#39;C:\\Users\\Administrator\\Desktop\\14531\\mall-admin-web\\node_modules\\node-gyp\\bin\\node-gyp.js&#39;,npm ERR! gyp verb cli   &#39;rebuild&#39;,npm ERR! gyp verb cli   &#39;--verbose&#39;,npm ERR! gyp verb cli   &#39;--libsass_ext&#x3D;&#39;,npm ERR! gyp verb cli   &#39;--libsass_cflags&#x3D;&#39;,npm ERR! gyp verb cli   &#39;--libsass_ldflags&#x3D;&#39;,npm ERR! gyp verb cli   &#39;--libsass_library&#x3D;&#39;npm ERR! gyp verb cli ]npm ERR! gyp info using node-gyp@3.8.0npm ERR! gyp info using node@14.16.0 | win32 | x64npm ERR! gyp verb command rebuild []npm ERR! gyp verb command clean []npm ERR! gyp verb clean removing &quot;build&quot; directorynpm ERR! gyp verb command configure []npm ERR! gyp verb check python checking for Python executable &quot;python2&quot; in the PATHnpm ERR! gyp verb &#96;which&#96; failed Error: not found: python2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è§£å†³æ–¹æ³•</p></blockquote><pre class="line-numbers language-c" data-language="c"><code class="language-c">npm install -g mirror-config-china --registry&#x3D;http:&#x2F;&#x2F;registry.npm.taobao.orgnpm install node-sassnpm install<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxæ­å»ºMCæœåŠ¡å™¨</title>
      <link href="/2022/05/04/4l-linux-establish-minecraft/"/>
      <url>/2022/05/04/4l-linux-establish-minecraft/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…java"><a href="#å®‰è£…java" class="headerlink" title="å®‰è£…java"></a>å®‰è£…java</h2><p>MinecraftæœåŠ¡ç«¯ä¹Ÿéœ€è¦jreæ‰èƒ½è¿è¡Œ<br>(1)</p><blockquote><p>sudo yum install java-1.8.0-openjdk</p></blockquote><p>(2)<a href="https://www.oracle.com/java/technologies/javase-jre8-downloads.html%EF%BC%89linux">å®˜ç½‘ä¸‹è½½,ä¸Šä¼ åˆ°æœåŠ¡å™¨</a></p><h3 id="åˆ›å»ºå®‰è£…ç›®å½•"><a href="#åˆ›å»ºå®‰è£…ç›®å½•" class="headerlink" title="åˆ›å»ºå®‰è£…ç›®å½•"></a>åˆ›å»ºå®‰è£…ç›®å½•</h3><blockquote><p>mkdir &#x2F;usr&#x2F;local&#x2F;java&#x2F;</p></blockquote><h4 id="è§£å‹å½“å‰ç›®å½•ä¸‹çš„JDKå‹ç¼©æ–‡ä»¶-ç‰ˆæœ¬ä¸ä¸€æ ·æ–‡ä»¶åä¹Ÿä¼šä¸ä¸€æ ·ï¼Œå–„ç”¨tabè‡ªåŠ¨è¡¥å…¨"><a href="#è§£å‹å½“å‰ç›®å½•ä¸‹çš„JDKå‹ç¼©æ–‡ä»¶-ç‰ˆæœ¬ä¸ä¸€æ ·æ–‡ä»¶åä¹Ÿä¼šä¸ä¸€æ ·ï¼Œå–„ç”¨tabè‡ªåŠ¨è¡¥å…¨" class="headerlink" title="è§£å‹å½“å‰ç›®å½•ä¸‹çš„JDKå‹ç¼©æ–‡ä»¶(ç‰ˆæœ¬ä¸ä¸€æ ·æ–‡ä»¶åä¹Ÿä¼šä¸ä¸€æ ·ï¼Œå–„ç”¨tabè‡ªåŠ¨è¡¥å…¨)"></a>è§£å‹å½“å‰ç›®å½•ä¸‹çš„JDKå‹ç¼©æ–‡ä»¶(ç‰ˆæœ¬ä¸ä¸€æ ·æ–‡ä»¶åä¹Ÿä¼šä¸ä¸€æ ·ï¼Œå–„ç”¨tabè‡ªåŠ¨è¡¥å…¨)</h4><blockquote><p>tar -zxvf jdk-8u271-linux-x64.tar.gz -C &#x2F;usr&#x2F;local&#x2F;java&#x2F;</p></blockquote><h4 id="æ–¹ä¾¿åé¢é…ç½®ç¯å¢ƒï¼Œæ”¹ä¸€ä¸‹æ–‡ä»¶å"><a href="#æ–¹ä¾¿åé¢é…ç½®ç¯å¢ƒï¼Œæ”¹ä¸€ä¸‹æ–‡ä»¶å" class="headerlink" title="æ–¹ä¾¿åé¢é…ç½®ç¯å¢ƒï¼Œæ”¹ä¸€ä¸‹æ–‡ä»¶å"></a>æ–¹ä¾¿åé¢é…ç½®ç¯å¢ƒï¼Œæ”¹ä¸€ä¸‹æ–‡ä»¶å</h4><blockquote><p>mv &#x2F;usr&#x2F;usr&#x2F;local&#x2F;java&#x2F;jdk1.8.0_271 &#x2F;usr&#x2F;usr&#x2F;local&#x2F;java&#x2F;jdk1.8.0</p></blockquote><h4 id="è®¾ç½®ç¯å¢ƒå˜é‡-å®‰è£…-VIM-è¾“å…¥-yum-y-install-vim"><a href="#è®¾ç½®ç¯å¢ƒå˜é‡-å®‰è£…-VIM-è¾“å…¥-yum-y-install-vim" class="headerlink" title="è®¾ç½®ç¯å¢ƒå˜é‡(å®‰è£… VIM è¾“å…¥ yum -y install vim)"></a>è®¾ç½®ç¯å¢ƒå˜é‡(å®‰è£… VIM è¾“å…¥ yum -y install vim)</h4><p>vim &#x2F;etc&#x2F;profile</p><h4 id="åœ¨æœ«å°¾æ·»åŠ å¯¹åº”å˜é‡"><a href="#åœ¨æœ«å°¾æ·»åŠ å¯¹åº”å˜é‡" class="headerlink" title="åœ¨æœ«å°¾æ·»åŠ å¯¹åº”å˜é‡"></a>åœ¨æœ«å°¾æ·»åŠ å¯¹åº”å˜é‡</h4><blockquote><p>export JAVA_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;java&#x2F;jdk1.8.0<br>export JRE_HOME&#x3D;${JAVA_HOME}&#x2F;jre<br>export CLASSPATH&#x3D;.:${JAVA_HOME}&#x2F;lib:${JRE_HOME}&#x2F;lib<br>export PATH&#x3D;${JAVA_HOME}&#x2F;bin:$PATH</p></blockquote><h4 id="åº”ç”¨ä¿®æ”¹åçš„ç¯å¢ƒå˜é‡"><a href="#åº”ç”¨ä¿®æ”¹åçš„ç¯å¢ƒå˜é‡" class="headerlink" title="åº”ç”¨ä¿®æ”¹åçš„ç¯å¢ƒå˜é‡"></a>åº”ç”¨ä¿®æ”¹åçš„ç¯å¢ƒå˜é‡</h4><blockquote><p>source &#x2F;etc&#x2F;profile  </p></blockquote><h4 id="è½¯é“¾æ¥-windowsé‡Œçš„å¿«æ·æ–¹å¼-ç¨‹åºåˆ°ç¯å¢ƒå˜é‡ä¸­"><a href="#è½¯é“¾æ¥-windowsé‡Œçš„å¿«æ·æ–¹å¼-ç¨‹åºåˆ°ç¯å¢ƒå˜é‡ä¸­" class="headerlink" title="è½¯é“¾æ¥(windowsé‡Œçš„å¿«æ·æ–¹å¼)ç¨‹åºåˆ°ç¯å¢ƒå˜é‡ä¸­"></a>è½¯é“¾æ¥(windowsé‡Œçš„å¿«æ·æ–¹å¼)ç¨‹åºåˆ°ç¯å¢ƒå˜é‡ä¸­</h4><blockquote><p>ln -s &#x2F;usr&#x2F;local&#x2F;java&#x2F;jdk1.8.0&#x2F;bin&#x2F;java &#x2F;usr&#x2F;bin&#x2F;java</p></blockquote><h4 id="æµ‹è¯•æ˜¯å¦å®‰è£…æ­£å¸¸ï¼Œæ˜¾ç¤º-java-version-â€œ1-8-0-261â€-åˆ™ä¸ºæ­£å¸¸"><a href="#æµ‹è¯•æ˜¯å¦å®‰è£…æ­£å¸¸ï¼Œæ˜¾ç¤º-java-version-â€œ1-8-0-261â€-åˆ™ä¸ºæ­£å¸¸" class="headerlink" title="æµ‹è¯•æ˜¯å¦å®‰è£…æ­£å¸¸ï¼Œæ˜¾ç¤º java version â€œ1.8.0_261â€ åˆ™ä¸ºæ­£å¸¸"></a>æµ‹è¯•æ˜¯å¦å®‰è£…æ­£å¸¸ï¼Œæ˜¾ç¤º java version â€œ1.8.0_261â€ åˆ™ä¸ºæ­£å¸¸</h4><blockquote><p>java -version</p></blockquote><h2 id="å®‰è£…screen"><a href="#å®‰è£…screen" class="headerlink" title="å®‰è£…screen"></a>å®‰è£…screen</h2><blockquote><p>yum install -y screen</p></blockquote><p>(1)åˆ›å»ºè¿›ç¨‹åç§°</p><blockquote><p>screen -S xxx   </p></blockquote><p>(2)æŸ¥çœ‹åˆ›å»ºçš„è¿›ç¨‹</p><blockquote><p>screen -ls</p></blockquote><p>(3)å¸¸ç”¨å‘½ä»¤</p><blockquote><p>screen -S session_name              # æ–°å»º</p></blockquote><blockquote><p>screen -lsï¼ˆæˆ–è€…screen -listï¼‰      # åˆ—å‡ºæ‰€æœ‰session</p></blockquote><blockquote><p>screen -r session_name               # å›åˆ°session_nameè¿™ä¸ªsession</p></blockquote><blockquote><p>screen -d session_name               # è¿œç¨‹detachæŸä¸ªsession</p></blockquote><blockquote><p>screen -d -r session_name            # ç»“æŸå½“å‰sessionå¹¶å›åˆ°session_nameè¿™ä¸ªsession</p></blockquote><blockquote><p>screen -XS session_name  quit     #æ€æ­»åä¸ºseesion_nameçš„screen</p></blockquote><p>åœ¨ screen ä¸­ï¼Œå¦‚æœæƒ³ç¿»çœ‹ä¹‹å‰çš„å±å¹•è¾“å‡ºï¼Œä½¿ç”¨å‘ä¸Šé”®å’ŒpageUp éƒ½æ˜¯ä¸è¡Œçš„ï¼Œè¿™æ—¶å€™ä½¿ç”¨</p><blockquote><p>ctrl + a + [{ </p></blockquote><blockquote><p>ä»åå°è¿›ç¨‹é‡Œå‡ºæ¥ï¼ŒæŒ‰é”®ï¼šctrl+A+Dï¼Œå›åˆ°ä¸»ç»ˆç«¯ã€‚</p></blockquote><blockquote><p>ä½†å¦‚æœåœ¨ä¸»è¿›ç¨‹é‡Œctrl+A+Dï¼Œå°±ä¼šæ–­å¼€sshè¿æ¥</p></blockquote><p>ç»“æŸå½“å‰screençª—å£</p><blockquote><p>exit æˆ–è€… ctrl+d</p></blockquote><h2 id="é…ç½®é˜²ç«å¢™"><a href="#é…ç½®é˜²ç«å¢™" class="headerlink" title="é…ç½®é˜²ç«å¢™"></a>é…ç½®é˜²ç«å¢™</h2><p>æ·»åŠ ä¸€ä¸ªç«¯å£ï¼ˆ25565é»˜è®¤ï¼‰</p><blockquote><p>firewall-cmd â€“zone&#x3D;public â€“add-port&#x3D;25565&#x2F;tcp â€“permanent</p></blockquote><p>ç„¶å é‡å¯é˜²ç«å¢™</p><blockquote><p>firewall-cmd â€“reload</p></blockquote><p>æŸ¥çœ‹ç«¯å£çŠ¶æ€</p><blockquote><p>firewall-cmd â€“zone&#x3D; public â€“query-port&#x3D;25565&#x2F;tcp</p></blockquote><p>æœ‰å®‰å…¨ç»„çš„è®°å¾—æ”¾è¡Œç«¯å£</p><h2 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h2><p>ä¸å»ºè®®ä½¿ç”¨rootç³»ç»Ÿè¿›è¡Œåé¢çš„æ“ä½œï¼Œæ¥ä¸‹æ¥ä¸ºMinecraftåˆ›å»ºä¸€ä¸ªä¸“é—¨çš„ç”¨æˆ·ã€‚</p><blockquote><p>useradd -m Minecraft# æ–°å»ºä¸€ä¸ªåä¸ºMinecraftçš„ç”¨æˆ·</p></blockquote><blockquote><p>passwd Minecraft# ä¸ºç”¨æˆ·Minecraftè®¾ç½®å¯†ç </p></blockquote><blockquote><p>su - Minecraft# åˆ‡æ¢è‡³Minecraftç”¨æˆ·</p></blockquote><h2 id="MinecraftæœåŠ¡ç«¯"><a href="#MinecraftæœåŠ¡ç«¯" class="headerlink" title="MinecraftæœåŠ¡ç«¯"></a>MinecraftæœåŠ¡ç«¯</h2><p>ç»™MCæœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</p><blockquote><p>cd ~</p></blockquote><blockquote><p>mkdir MinecraftServer#åˆ›å»ºæ–‡ä»¶å¤¹</p></blockquote><blockquote><p>cd MinecraftServer#è¿›å…¥æ–‡ä»¶å¤¹</p></blockquote><h3 id="è·å–æœåŠ¡ç«¯"><a href="#è·å–æœåŠ¡ç«¯" class="headerlink" title="è·å–æœåŠ¡ç«¯"></a>è·å–æœåŠ¡ç«¯</h3><p>MCç›®å‰ä¸»æµçš„æœåŠ¡ç«¯åˆ†å¾ˆå¤šç§ï¼Œç®€å•å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š</p><p>â‘ åŸç‰ˆçº¯å‡€ï¼šå®˜ç½‘ç›´æ¥ä¸‹æœåŠ¡ç«¯ï¼Œä¸èƒ½è£…modä¸èƒ½è£…æ’ä»¶</p><p>â‘¡<a href="http://files.minecraftforge.net/">forgeæœåŠ¡ç«¯</a>ï¼šModæœï¼Œåªèƒ½è£…Modï¼Œä¸èƒ½è£…æ’ä»¶<br>â‘¢Craftbukkitã€SpigotæœåŠ¡ç«¯ï¼šæ’ä»¶æœï¼Œåªèƒ½è£…æ’ä»¶ï¼Œä¸èƒ½è£…Mod</p><p>â‘£<a href="https://catmc.org/">CatSetveræœåŠ¡ç«¯</a>ï¼šå›½äººå¼€å‘çš„ï¼ŒMOD+æ’ä»¶æœï¼Œç™½ç«ç°åœ¨åœ¨ç”¨ã€‚</p><p>ä¹Ÿå¯ä»¥å»è®ºå›ä¸‹è½½é…ç½®å¥½çš„æœåŠ¡ç«¯</p><p>ä½ å¯ä»¥åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šä¸‹è½½å¥½æœåŠ¡ç«¯ï¼Œç„¶ååˆ©ç”¨Xshellç­‰è¿œç¨‹ç»ˆç«¯çš„lrzszæ’ä»¶ï¼Œä¼ è¾“åˆ°æœåŠ¡å™¨ä¸Šã€‚</p><h4 id="Forgeæœ"><a href="#Forgeæœ" class="headerlink" title="Forgeæœ"></a>Forgeæœ</h4><blockquote><p>java -jar forge-1.12.2-14.23.4.2705-installer.jar -nogui -installServer</p></blockquote><h4 id="CatServeræœ"><a href="#CatServeræœ" class="headerlink" title="CatServeræœ"></a>CatServeræœ</h4><blockquote><p>java -Xmx2G -jar CatServer-2a9163f-universal.jar<br>å®‰è£…æœåŠ¡ç«¯ï¼Œä¸‹è½½ä¸€ä¼šæœåŠ¡ç«¯èµ„æºï¼Œç½‘ç»œæ¯”è¾ƒæ…¢ã€‚å…¶ä¸­<code>CatServer</code>æœç«¯å®‰è£…æœåŠ¡ç«¯çš„æŒ‡ä»¤ï¼Œå’Œåé¢æ­£çœŸè¿è¡ŒæœåŠ¡ç«¯çš„æŒ‡ä»¤æ˜¯ä¸€æ ·çš„ã€‚ï¼ˆ<code>Forge</code>åˆ™æ˜¯ä¸åŒçš„ï¼‰</p></blockquote><p>å¦‚æœæç¤ºä¸‹è½½å¤±è´¥äº†ï¼Œæˆ–éƒ¨åˆ†èµ„æºä¸‹è½½è¶…æ—¶äº†ï¼Œå°±å†é‡æ‰§è¡Œä¸€æ¬¡ä¸Šé¢çš„&gt;forge-*-installer.jar</p><p>ç”¨lsæŒ‡ä»¤æŸ¥çœ‹æ–‡ä»¶</p><h4 id="åŒæ„åè®®"><a href="#åŒæ„åè®®" class="headerlink" title="åŒæ„åè®®"></a>åŒæ„åè®®</h4><blockquote><p>vim eula.txt</p></blockquote><p>å°†<code>eula=false</code>æ”¹æˆ<code>eula=true</code>å³å¯</p><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><p>æ–¹ä¾¿ä»¥åå¼€æœï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª<code>startServer.sh</code>æ–‡ä»¶ï¼ˆåˆ«äººé…ç½®å¥½çš„æœåŠ¡ç«¯å¯èƒ½å·²ç»åˆ›å»ºè¿‡äº†ï¼‰</p><blockquote><p>vim startServer.sh</p></blockquote><p>#Forgeæœ</p><blockquote><p>java -Xmx1G -jar forge-1.12.2-14.23.4.2705-universal.jar</p></blockquote><p>#CatServeræœ</p><blockquote><p>java -Xmx2G -jar CatServer-2a9163f-universal.jar</p></blockquote><p>#å…¶å®å°±æ˜¯æŠŠè¿è¡ŒæœåŠ¡å™¨çš„æŒ‡ä»¤ï¼Œå†™è¿›äº†<code>shell</code>ä¸­ï¼Œçœçš„æ•²æŒ‡ä»¤äº†ï¼Œç›´æ¥è¿è¡Œshellå³å¯ã€‚</p><p>#è¿™å’Œwindowsçš„batæ‰¹å¤„ç†æ€§è´¨ç›¸ä¼¼</p><p>#åœ¨windoesä¸­å¼€æœï¼Œä¹Ÿæ˜¯æŠŠå¼€æœçš„æŒ‡ä»¤å†™è¿›]batä¸­ï¼Œæ¯æ¬¡è¿è¡Œbatå°±çœçš„æ•²æŒ‡ä»¤äº†ã€‚</p><p>ç»™start.shæ‰§è¡Œæƒé™</p><blockquote><p>chmod 777 startServer.sh</p></blockquote><p>æ‰§è¡Œstart.shå³å¯å¼€æœ</p><blockquote><p>.&#x2F;startServer.sh</p></blockquote><p> æ§åˆ¶å°ä¸å†è·³æ–°çš„ä¿¡æ¯æ—¶ï¼Œè¯´æ˜å¼€æœæˆåŠŸ<br> æˆ‘ä»¬å…ˆç»“æŸæœåŠ¡å™¨ï¼Œå®ŒæˆæœåŠ¡å™¨é…ç½®<br><code>stop</code>æˆ–è€…<code>ctrl c</code></p><p>é¦–æ¬¡æˆåŠŸå¼€æœåï¼Œä¼šäº§ç”Ÿä¸€ä¸ªserver.propertiesæ–‡ä»¶ï¼Œæ˜¯æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ã€‚</p><blockquote><p>vim server.properties#ä¿®æ”¹é…ç½®æ–‡ä»¶</p></blockquote><p>å…¶ä¸­online-mode&#x3D;trueæ˜¯æ£€æµ‹æ­£ç‰ˆç™»å½•ç”¨æˆ·ï¼Œ<br>trueæ˜¯åªå…è®¸æ­£ç‰ˆç©å®¶è¿›å…¥å¯ä»¥ä½¿ç”¨ï¼Œfalseåˆ™å…è®¸ç¦»çº¿è¿›å…¥ã€‚<br><code>éå®˜æ–¹å®¢æˆ·ç«¯è¦æ”¹æˆ</code>false</p><p><a href="https://minecraft-zh.gamepedia.com/index.php?title=Server.properties&variant=zh">æ›´å¤šé…ç½®å‚è€ƒ</a></p><h2 id="æ­£å¼å¼€æœ"><a href="#æ­£å¼å¼€æœ" class="headerlink" title="æ­£å¼å¼€æœ"></a>æ­£å¼å¼€æœ</h2><p>åˆ›å»ºä¸€ä¸ªåä¸ºMinecraftServerçš„screenï¼Œå¯ä»¥è®©æœåŠ¡å™¨åœ¨åå°è¿è¡Œï¼Œæ–­å¼€è¿œç¨‹è¿æ¥ä¹Ÿä¸ç»ˆæ­¢è¿›ç¨‹ã€‚</p><blockquote><p>screen -S MinecraftServer</p></blockquote><p>å¯åŠ¨æœåŠ¡å™¨</p><blockquote><p>.&#x2F;start.sh</p></blockquote><p>ç„¶åæŒ‰ä½Ctrl + A +D ï¼Œå°†screenåŠ å…¥åå°è¿è¡Œ</p><p>å½“ä½ éœ€è¦å›åˆ°è¿™ä¸ªsreené¡µé¢æ—¶</p><blockquote><p>screen -ls# æŸ¥çœ‹screenï¼Œè®°ä¸‹MinecraftServerçš„ç¼–å·</p></blockquote><blockquote><p>screen -r &lt;MinecraftServerçš„ç¼–å·&gt;</p></blockquote><p>å®¢æˆ·ç«¯è¾“å…¥ip:æ”¾è¡Œç«¯å£</p><h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><p>å¦‚æœæœåŠ¡ç«¯æ­£å¸¸å¼€æœï¼Œä½†æ˜¯<code>æ¸¸æˆå°±æ˜¯æ— æ³•è¿æ¥æœåŠ¡å™¨</code>ï¼Œä¸€èˆ¬éƒ½æ˜¯é˜²ç«å¢™çš„é—®é¢˜ã€‚å†é…ç½®ä¸‹é˜²ç«å¢™ã€‚</p><p>Modæ”¾åœ¨MinecraftServer&#x2F;modsä¸‹</p><p>å‰ææ˜¯ä½ çš„æœåŠ¡å™¨ç«¯æ”¯æŒmodï¼Œå¦‚Forgeç«¯ã€CatServerç«¯ã€‚</p><p>æ’ä»¶æ”¾åœ¨MinecraftServer&#x2F;pluginsä¸‹ã€‚</p><p>å‰ææ˜¯æœåŠ¡ç«¯æ”¯æŒæ’ä»¶ï¼Œå¦‚Craftbukkitã€Spigotã€CatServerã€‚</p><p>æˆ‘è¿˜æ˜¯ä¸ªå°ç™½,å¦‚æœ‰çº°æ¼,è¯·å¤šå¤šåŒ…æ¶µ,æ¬¢è¿æŒ‡æ­£</p><p><a href="https://www.cnblogs.com/shiraka/p/14532465.html">é™„ä¸ŠåŸæ–‡é“¾æ¥</a></p>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Minecraft </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2022/05/04/3l-linux-common-command/"/>
      <url>/2022/05/04/3l-linux-common-command/</url>
      
        <content type="html"><![CDATA[<p>ps:åˆšå†™å®Œæ­»æ´»å‘ä¸å‡ºæ¥,åæ¥å‘ç°é¢˜ç›®å°‘ä¸ªç©ºæ ¼</p><h2 id="å…³é—­é˜²ç«å¢™"><a href="#å…³é—­é˜²ç«å¢™" class="headerlink" title="å…³é—­é˜²ç«å¢™"></a>å…³é—­é˜²ç«å¢™</h2><blockquote><p>systemctl stop firewalld</p></blockquote><blockquote><p>systemctl start firewalld</p></blockquote><blockquote><p>systemctl stop firewalld</p></blockquote><blockquote><p>systemctl status firewalld</p></blockquote><blockquote><p>firewall-cmd â€“reload</p></blockquote><blockquote><p>yum install firewall -y, apt-get install firewalld</p></blockquote><p>å¼€æ”¾&#x2F;å…³é—­ç‰¹å®šç«¯å£<br><code>Ubuntu</code></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">&gt;firewall-cmd --zone&#x3D;public --add-port&#x3D;25565&#x2F;tcp --permanentfirewall-cmd --zone&#x3D;public --add-port&#x3D;25565&#x2F;tcp --permanent<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p> â€˜æœ‰å®‰å…¨ç»„çš„éœ€è¦åœ¨å®‰å…¨ç»„å¼€æ”¾ç«¯å£,æˆ‘æœ‰çš„æ—¶å€™è°ƒä¸å¥½ç›´æ¥æŠŠé˜²ç«å¢™å…³äº†â€™</p><h2 id="Screençš„å®‰è£…ä¸ä½¿ç”¨"><a href="#Screençš„å®‰è£…ä¸ä½¿ç”¨" class="headerlink" title="Screençš„å®‰è£…ä¸ä½¿ç”¨"></a>Screençš„å®‰è£…ä¸ä½¿ç”¨</h2><blockquote><p>yum install -y screen</p></blockquote><pre class="line-numbers language-linux" data-language="linux"><code class="language-linux">(1)åˆ›å»ºè¿›ç¨‹åç§°&gt;screen -S xxx   (2)æŸ¥çœ‹åˆ›å»ºçš„è¿›ç¨‹&gt;screen -ls(3)å¸¸ç”¨å‘½ä»¤&gt;screen -S session_name              # æ–°å»º&gt;screen -lsï¼ˆæˆ–è€…screen -listï¼‰      # åˆ—å‡ºæ‰€æœ‰session&gt;screen -r session_name               # å›åˆ°session_nameè¿™ä¸ªsession&gt;screen -d session_name               # è¿œç¨‹detachæŸä¸ªsession&gt;screen -d -r session_name            # ç»“æŸå½“å‰sessionå¹¶å›åˆ°session_nameè¿™ä¸ªsession&gt;screen -XS session_name  quit     #æ€æ­»åä¸ºseesion_nameçš„screenæˆ–è€…kill è¿›ç¨‹å·åœ¨ screen ä¸­ï¼Œå¦‚æœæƒ³ç¿»çœ‹ä¹‹å‰çš„å±å¹•è¾“å‡ºï¼Œä½¿ç”¨å‘ä¸Šé”®å’ŒpageUp éƒ½æ˜¯ä¸è¡Œçš„ï¼Œè¿™æ—¶å€™ä½¿ç”¨&gt;ctrl + a + [&#123; &gt;ä»åå°è¿›ç¨‹é‡Œå‡ºæ¥ï¼ŒæŒ‰é”®ï¼šctrl+A+Dï¼Œå›åˆ°ä¸»ç»ˆç«¯ã€‚&gt;ä½†å¦‚æœåœ¨ä¸»è¿›ç¨‹é‡Œctrl+A+Dï¼Œå°±ä¼šæ–­å¼€sshè¿æ¥ç»“æŸå½“å‰screençª—å£&gt;exit æˆ–è€… ctrl+d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æµ‹é€Ÿè„šæœ¬"><a href="#æµ‹é€Ÿè„šæœ¬" class="headerlink" title="æµ‹é€Ÿè„šæœ¬"></a>æµ‹é€Ÿè„šæœ¬</h2><blockquote><p>wget -qO- bench.sh | bash</p></blockquote><ul><li><p>lemonbench</p><blockquote><p>curl -fsL <a href="https://ilemonra.in/LemonBenchIntl">https://ilemonra.in/LemonBenchIntl</a> | bash -s fast<br>ä¸ªäººå¸¸ç”¨å¿«é€Ÿfastçš„<br>curl -fsL <a href="https://ilemonra.in/LemonBenchIntl">https://ilemonra.in/LemonBenchIntl</a> | bash -s full</p></blockquote></li><li><p>å®Œæ•´æµ‹è¯•</p><blockquote><p>curl -sL yabs.sh | bash<br>yabs.sh</p></blockquote></li><li><p>å¤‡ç”¨åœ°å€</p><blockquote><p>curl -sL <a href="https://jsdelivr.zeruns.tech/gh/masonr/yet-another-bench-script@master/yabs.sh">https://jsdelivr.zeruns.tech/gh/masonr/yet-another-bench-script@master/yabs.sh</a> | bash</p></blockquote></li></ul><blockquote><p>wget -N â€“no-check-certificate <a href="https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh">https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh</a> &amp;&amp; bash ZBench-CN.sh  æ±‰åŒ–</p></blockquote><h3 id="å…¨æµåª’ä½“è§£é”æµ‹è¯•"><a href="#å…¨æµåª’ä½“è§£é”æµ‹è¯•" class="headerlink" title="å…¨æµåª’ä½“è§£é”æµ‹è¯•"></a>å…¨æµåª’ä½“è§£é”æµ‹è¯•</h3><blockquote><p>bash &lt;(curl -L -s <a href="https://raw.githubusercontent.com/lmc999/RegionRestrictionCheck/main/check.sh">https://raw.githubusercontent.com/lmc999/RegionRestrictionCheck/main/check.sh</a>)</p></blockquote><h3 id="ç»¼åˆå·¥å…·ç®±"><a href="#ç»¼åˆå·¥å…·ç®±" class="headerlink" title="ç»¼åˆå·¥å…·ç®±"></a>ç»¼åˆå·¥å…·ç®±</h3><blockquote><p>wget -O box.sh <a href="https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh">https://raw.githubusercontent.com/BlueSkyXN/SKY-BOX/main/box.sh</a> &amp;&amp; chmod +x box.sh &amp;&amp; clear &amp;&amp; .&#x2F;box.sh<br>Superspeed.sh</p></blockquote><h3 id="ä¸€é”®æµ‹è¯•æœåŠ¡å™¨åˆ°å›½å†…çš„é€Ÿåº¦è„šæœ¬Superspeed-sh"><a href="#ä¸€é”®æµ‹è¯•æœåŠ¡å™¨åˆ°å›½å†…çš„é€Ÿåº¦è„šæœ¬Superspeed-sh" class="headerlink" title="ä¸€é”®æµ‹è¯•æœåŠ¡å™¨åˆ°å›½å†…çš„é€Ÿåº¦è„šæœ¬Superspeed.sh"></a>ä¸€é”®æµ‹è¯•æœåŠ¡å™¨åˆ°å›½å†…çš„é€Ÿåº¦è„šæœ¬Superspeed.sh</h3><blockquote><p>wget <a href="https://raw.githubusercontent.com/oooldking/script/master/superspeed.sh">https://raw.githubusercontent.com/oooldking/script/master/superspeed.sh</a><br>chmod +x superspeed.sh<br>sudo .&#x2F;superspeed.sh<br>SuperBench.sh</p></blockquote><p>ä¸€é”®æ£€æµ‹VPSçš„CPUã€å†…å­˜ã€è´Ÿè½½ã€IOè¯»å†™ã€æœºæˆ¿å¸¦å®½å’ŒæœåŠ¡å™¨ç±»å‹ç­‰è„šæœ¬SuperBench.shï¼š</p><blockquote><p>wget -N â€“no-check-certificate <a href="https://raw.githubusercontent.com/oooldking/script/master/superbench.sh">https://raw.githubusercontent.com/oooldking/script/master/superbench.sh</a><br>sudo bash superbench.sh</p></blockquote><p>æˆ–è€…</p><blockquote><p>curl -Lso- <a href="https://raw.githubusercontent.com/oooldking/script/master/superbench.sh">https://raw.githubusercontent.com/oooldking/script/master/superbench.sh</a> | bash</p></blockquote><h3 id="Zench"><a href="#Zench" class="headerlink" title="Zench"></a>Zench</h3><p>Zenchå¯ä»¥çœ‹ä½œæ˜¯Bench.sh å’Œ SuperBenchçš„ç»“åˆç‰ˆæœ¬ï¼ŒåŠ å…¥ Ping ä»¥åŠ è·¯ç”±æµ‹è¯• åŠŸèƒ½ï¼Œä¼šç”Ÿæˆæµ‹è¯„æŠ¥å‘Šï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åˆ†äº«ç»™å…¶ä»–æœ‹å‹çœ‹è‡ªå·±çš„æµ‹è¯„æ•°æ® ï¼š</p><blockquote><p>wget -N â€“no-check-certificate <a href="https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh">https://raw.githubusercontent.com/FunctionClub/ZBench/master/ZBench-CN.sh</a></p></blockquote><p>sudo bash ZBench-CN.sh<br><a href="https://github.com/FunctionClub/ZBench">é¡¹ç›®åœ°å€</a></p><h3 id="Serverreview-benchmarkç»¼åˆè¯„æµ‹å·¥å…·"><a href="#Serverreview-benchmarkç»¼åˆè¯„æµ‹å·¥å…·" class="headerlink" title="Serverreview-benchmarkç»¼åˆè¯„æµ‹å·¥å…·"></a>Serverreview-benchmarkç»¼åˆè¯„æµ‹å·¥å…·</h3><p>è¿™æ˜¯ä¸€ä¸ªè€å¤–å†™çš„VPSä¸»æœºç»¼åˆè¯„æµ‹å·¥å…·ï¼Œä¸»è¦è¯„æµ‹çš„é¡¹ç›®æœ‰VPSä¸»æœºç£ç›˜IOã€å†…å­˜è¯»å†™ã€CPUæ€§èƒ½ä»¥åŠBenchmarkæ€§èƒ½ï¼Œè¿˜æœ‰ç¾å›½ã€æ¬§æ´²ã€äºšæ´²ç­‰ä¸åŒèŠ‚ç‚¹çš„ä¸‹è½½é€Ÿåº¦ã€‚ä¸»é¡µï¼š<a href="https://github.com/sayem314/serverreview-benchmark">https://github.com/sayem314/serverreview-benchmark</a></p><blockquote><p>curl -LsO <a href="https://raw.githubusercontent.com/sayem314/serverreview-benchmark/master/bench.sh">https://raw.githubusercontent.com/sayem314/serverreview-benchmark/master/bench.sh</a>; chmod +x bench.sh &amp;&amp; .&#x2F;bench.sh -a share</p></blockquote><p>mPing</p><h3 id="ä¸€é”®æµ‹è¯•å›ç¨‹Pingå€¼å·¥å…·ï¼šmPing"><a href="#ä¸€é”®æµ‹è¯•å›ç¨‹Pingå€¼å·¥å…·ï¼šmPing" class="headerlink" title="ä¸€é”®æµ‹è¯•å›ç¨‹Pingå€¼å·¥å…·ï¼šmPing"></a>ä¸€é”®æµ‹è¯•å›ç¨‹Pingå€¼å·¥å…·ï¼šmPing</h3><blockquote><p>wget <a href="https://raw.githubusercontent.com/helloxz/mping/master/mping.sh">https://raw.githubusercontent.com/helloxz/mping/master/mping.sh</a></p></blockquote><p>bash mping.sh</p><h2 id="æŸ¥çœ‹ç«¯å£å ç”¨"><a href="#æŸ¥çœ‹ç«¯å£å ç”¨" class="headerlink" title="æŸ¥çœ‹ç«¯å£å ç”¨"></a>æŸ¥çœ‹ç«¯å£å ç”¨</h2><blockquote><p>netstat   -nultp</p></blockquote><blockquote><p>netstat -lnp|grep 44380</p></blockquote><blockquote><p>netstat -lnp|grep nginx</p></blockquote><p>å…³è¿›ç¨‹</p><blockquote><p>kill -9 è¿›ç¨‹å·</p></blockquote><h2 id="æŠ¥é”™é—®é¢˜"><a href="#æŠ¥é”™é—®é¢˜" class="headerlink" title="æŠ¥é”™é—®é¢˜"></a>æŠ¥é”™é—®é¢˜</h2><h3 id="curl-command-not-found-ï¼Œ"><a href="#curl-command-not-found-ï¼Œ" class="headerlink" title="curl: command not found ï¼Œ"></a>curl: command not found ï¼Œ</h3><p>åŸå› :æ²¡è£… Curl<br>(1)ubuntu&#x2F;debian ç³»ç»Ÿå®‰è£… Curl æ–¹æ³•</p><blockquote><p>apt-get install curl &amp;&amp; apt-get install curl -y</p></blockquote><p>(2)centos ç³»ç»Ÿå®‰è£… Curl æ–¹æ³•</p><blockquote><p>yum install curl -y</p></blockquote><h2 id="cmdè¿æ¥æœåŠ¡å™¨"><a href="#cmdè¿æ¥æœåŠ¡å™¨" class="headerlink" title="cmdè¿æ¥æœåŠ¡å™¨"></a>cmdè¿æ¥æœåŠ¡å™¨</h2><blockquote><p>ssh -p ç«¯å£ ç”¨æˆ·å@ip</p></blockquote><p>é»˜è®¤ç«¯å£ç”¨è¿™ä¸ª</p><blockquote><p>ssh ç”¨æˆ·å@ip</p></blockquote><h2 id="è§£å‹-ç§»åŠ¨æ–‡ä»¶å¤¹"><a href="#è§£å‹-ç§»åŠ¨æ–‡ä»¶å¤¹" class="headerlink" title="è§£å‹,ç§»åŠ¨æ–‡ä»¶å¤¹"></a>è§£å‹,ç§»åŠ¨æ–‡ä»¶å¤¹</h2><blockquote><p>tar -zxvf xxx<br>unzip xxxx</p></blockquote><p>1.å°†ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹</p><blockquote><p>cp -r &#x2F;home&#x2F;packageA&#x2F;* &#x2F;home&#x2F;cp&#x2F;packageB&#x2F;<br>æˆ–cp -r &#x2F;home&#x2F;packageA&#x2F;. &#x2F;home&#x2F;cp&#x2F;packageB&#x2F;<br>è¿™ä¸¤ç§æ–¹æ³•æ•ˆæœæ˜¯ä¸€æ ·çš„<br>2.å°†ä¸€ä¸ªæ–‡ä»¶å¤¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹<br>cp -r &#x2F;home&#x2F;packageA &#x2F;home&#x2F;packageB</p></blockquote><p>è¿è¡Œå‘½ä»¤ä¹‹åpackageBæ–‡ä»¶å¤¹ä¸‹å°±æœ‰packageAæ–‡ä»¶å¤¹äº†ã€‚<br>3.åˆ é™¤ä¸€ä¸ªæ–‡ä»¶å¤¹åŠå…¶ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶</p><blockquote><p>rm -rf &#x2F;home&#x2F;packageA</p></blockquote><p>-rè¡¨ç¤ºå‘ä¸‹é€’å½’ï¼Œä¸ç®¡æœ‰å¤šå°‘çº§ç›®å½•ï¼Œä¸€å¹¶åˆ é™¤<br>-fè¡¨ç¤ºç›´æ¥å¼ºè¡Œåˆ é™¤ï¼Œä¸ä½œä»»ä½•æç¤ºçš„æ„æ€<br>4.ç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶å¤¹åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢</p><blockquote><p>mv &#x2F;home&#x2F;packageA &#x2F;home&#x2F;packageB&#x2F;<br>æˆ–<br>mv &#x2F;home&#x2F;packageA &#x2F;home&#x2F;packageB<br>è¿™ä¸¤ç§æ–¹æ³•æ•ˆæœæ˜¯ä¸€æ ·çš„<br>5.ç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å†…å®¹åˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢<br>mv &#x2F;home&#x2F;packageA&#x2F;* &#x2F;home&#x2F;packageB&#x2F;</p></blockquote><h2 id="å®‰è£…ç±»å‘½ä»¤"><a href="#å®‰è£…ç±»å‘½ä»¤" class="headerlink" title="å®‰è£…ç±»å‘½ä»¤"></a>å®‰è£…ç±»å‘½ä»¤</h2><h3 id="å®‰è£…python3"><a href="#å®‰è£…python3" class="headerlink" title="å®‰è£…python3"></a>å®‰è£…python3</h3><pre class="line-numbers language-c" data-language="c"><code class="language-c">#è·å–å®‰è£…åŒ…wget https:&#x2F;&#x2F;www.python.org&#x2F;ftp&#x2F;python&#x2F;3.8.10&#x2F;Python-3.8.10.tgz#ä¸‹è½½å®Œæˆä¹‹åï¼Œå°†å®‰è£…åŒ…è§£å‹åˆ°å½“å‰ç›®å½•ï¼štar xvf Python-3.8.10.tgz#å®‰è£…éœ€è¦çš„ä¾èµ–apt -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel#å…ˆè¿›å…¥Python3ç›®å½•ä¸‹çš„Python-3.8.10ç›®å½•ï¼šcd Python-3.8.10#æŒ‡å®špython3å®‰è£…è·¯å¾„ï¼š.&#x2F;configure prefix&#x3D;&#x2F;usr&#x2F;local&#x2F;python3.8.10#ç¼–è¯‘+å®‰è£…make &amp;&amp; make install#æ·»åŠ python3è½¯é“¾æ¥ï¼šln -s &#x2F;usr&#x2F;local&#x2F;python3.8.10&#x2F;bin&#x2F;python3.8.10 &#x2F;usr&#x2F;bin&#x2F;python3#æ·»åŠ pip3è½¯é“¾æ¥ï¼š ln -s &#x2F;usr&#x2F;local&#x2F;python3.8.10&#x2F;bin&#x2F;pip3.8.10 &#x2F;usr&#x2F;bin&#x2F;pip3#é…ç½®pythonç¯å¢ƒå˜é‡é…ç½®ç¯å¢ƒå˜é‡ä¸»è¦æ˜¯èƒ½å¿«é€Ÿä½¿ç”¨pip3å®‰è£…å‘½ä»¤ã€‚vi ~&#x2F;.bash_profileæ·»åŠ å¦‚ä¸‹é…ç½®export PYTHON_HOME&#x3D;&#x2F;usr&#x2F;local&#x2F;python3.8.10export PATH&#x3D;$PYTHON_HOME&#x2F;bin:$PATH#ä½¿é…ç½®ç”Ÿæ•ˆsource ~&#x2F;.bash_profile#æ£€æŸ¥ç‰ˆæœ¬python3 --versionpython3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®‰è£…nodejs"><a href="#å®‰è£…nodejs" class="headerlink" title="å®‰è£…nodejs"></a>å®‰è£…nodejs</h3><p><a href="http://nodejs.cn/download/">nodejså®˜ç½‘</a></p><pre class="line-numbers language-c" data-language="c"><code class="language-c">wget https:&#x2F;&#x2F;nodejs.org&#x2F;dist&#x2F;v12.18.1&#x2F;node-v12.18.1-linux-x64.tar.xz         &#x2F;&#x2F; ä¸‹è½½tar xf node-v12.18.1-linux-x64.tar.xz                                        &#x2F;&#x2F; è§£å‹cd node-v12.18.1-linux-x64                                                   &#x2F;&#x2F; è¿›å…¥è§£å‹ç›®å½•&#x2F;&#x2F;è§£å‹æ–‡ä»¶çš„ bin ç›®å½•åº•ä¸‹åŒ…å«äº† nodeã€npm ç­‰å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¿®æ”¹linuxç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼ˆprofileï¼‰æ¥è®¾ç½®ç›´æ¥è¿è¡Œå‘½ä»¤ï¼š&#x2F;&#x2F;å»ºè®®å…ˆå¤‡ä»½ï¼Œå…»æˆä¿®æ”¹é‡è¦æ–‡ä»¶ä¹‹å‰å…ˆå¤‡ä»½çš„å¥½ä¹ æƒ¯ã€‚cp &#x2F;etc&#x2F;profile &#x2F;etc&#x2F;profile.bakvim &#x2F;etc&#x2F;profile&#x2F;&#x2F;åœ¨æœ€ä¸‹é¢æ·»åŠ  export PATH&#x3D;$PATH: åé¢è·Ÿä¸Š node ä¸‹ bin ç›®å½•çš„è·¯å¾„export PATH&#x3D;$PATH:&#x2F;root&#x2F;node-v12.18.1-linux-x64&#x2F;bin&#x2F;&#x2F;ç«‹å³ç”Ÿæ•ˆsource &#x2F;etc&#x2F;profile&#x2F;&#x2F;æŸ¥çœ‹ç‰ˆæœ¬node -vv12.18.1&#x2F;&#x2F;å®‰è£…æˆåŠŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæ­å»ºè¿‡ç¨‹ä¸­é‡åˆ°çš„å‘</title>
      <link href="/2022/05/03/2l-hexo-pit/"/>
      <url>/2022/05/03/2l-hexo-pit/</url>
      
        <content type="html"><![CDATA[<h2 id="hexoå¸¸ç”¨å‘½ä»¤ï¼š"><a href="#hexoå¸¸ç”¨å‘½ä»¤ï¼š" class="headerlink" title="hexoå¸¸ç”¨å‘½ä»¤ï¼š"></a>hexoå¸¸ç”¨å‘½ä»¤ï¼š</h2><blockquote><p>hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</p><p>hexo s &#x3D;&#x3D; hexo server</p><p>hexo g &#x3D;&#x3D; hexo generate</p><p>hexo d &#x3D;&#x3D; hexo deploy</p><p>hexo n &#x3D;&#x3D; hexo new</p><p>hexo clean</p><p>hexo g -d</p><p>hexo new â€˜my-first-blogâ€™ Â </p><p>npm install hexo-cli -g</p></blockquote><p>2024&#x2F;7&#x2F;13å‡ºç°èƒŒæ™¯å›¾ç‰‡æ— æ³•æ›´æ”¹çš„é—®é¢˜</p><img src="/2022/05/03/2l-hexo-pit/image-20240713192611561.png" class="" title="image-20240713192611561"><p>åˆ æ‰åå˜ä¸ºç©ºç™½</p><h2 id="Typoraä¸hexoæ— æ³•åŒæ—¶é¢„è§ˆå›¾ç‰‡çš„é—®é¢˜"><a href="#Typoraä¸hexoæ— æ³•åŒæ—¶é¢„è§ˆå›¾ç‰‡çš„é—®é¢˜" class="headerlink" title="Typoraä¸hexoæ— æ³•åŒæ—¶é¢„è§ˆå›¾ç‰‡çš„é—®é¢˜"></a>Typoraä¸hexoæ— æ³•åŒæ—¶é¢„è§ˆå›¾ç‰‡çš„é—®é¢˜</h2><p>é€šè¿‡å®‰è£…æŸä¸ªæ’ä»¶è§£å†³ï¼Œä½†æ˜¯è¯¥æ’ä»¶å¯èƒ½å¯¼è‡´è¿ç« å°é¢å¤±æ•ˆï¼Œå› ä¸ºæ— æ³•è¯†åˆ«.pngåç¼€çš„å›¾ç‰‡</p><h2 id="é¢„è§ˆä¸ä¸Šä¼ ä¸å¯å…¼"><a href="#é¢„è§ˆä¸ä¸Šä¼ ä¸å¯å…¼" class="headerlink" title="é¢„è§ˆä¸ä¸Šä¼ ä¸å¯å…¼"></a>é¢„è§ˆä¸ä¸Šä¼ ä¸å¯å…¼</h2><p>å…³äºtyporaé¢„è§ˆå›¾ç‰‡hexoä¸èƒ½æ˜¾ç¤º,hexoæ˜¾ç¤ºå›¾ç‰‡typoraä¸Šä¸èƒ½é¢„è§ˆçš„é—®é¢˜</p><p>æœªè§£å†³â€¦..</p><img src="/2022/05/03/2l-hexo-pit/image-20230905210325207.png" class="" title="image-20230905210325207"><p>typoraçš„å›¾ç‰‡è·¯å¾„.&#x2F;${filename}&#x2F;</p><p>å½“è®¾ç½®ä¸ºç›¸å¯¹è·¯å¾„æ—¶,ä»ä¸èƒ½æ­£å¸¸æ˜¾ç¤º</p><p>è§‚å¯Ÿhtmlä»£ç è·¯å¾„å‘ç°</p><blockquote><p><img src="/01.jpg" alt="01">è¿™ä¸ªå¯ä»¥hexoç½‘ç«™æ˜¾ç¤º,ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ˜¯æ’ä»¶å¯ä»¥è¯†åˆ«æ‹¼æ¥çš„æ ¼å¼,æ‰€ä»¥æˆ‘åªéœ€è¦æŠŠå›¾ç‰‡æ”¾åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹,ä½†æ˜¯å°±å¤ªä¹±äº†</p></blockquote><p>å› ä¸ºhexo-assert-imageæ’ä»¶çš„æºç </p><p>é€‚é…äº†è¿™ä¸ªè·¯å¾„å°†å®ƒæ›¿æ¢ä¸º,ä½†æ˜¯ä¸èƒ½é¢„è§ˆ</p><img src="/2022/05/03/2l-hexo-pit/image-20230908214200264.png" class="" title="image-20230908214200264"><p>å®˜æ–¹ä½¿ç”¨æ–¹æ³•</p><p><img src="/2022/05/03/2l-hexo-pit/image-20230908230632842.png" alt="image-20230908230632842"></p><p>æ‰€ä»¥åªè¦å¢åŠ å¯¹ä¸¤ç§æ ¼å¼ä»£ç çš„æ›¿æ¢å³å¯</p><img src="/2022/05/03/2l-hexo-pit/image-20230905210813363.png" class="" title="image-20230905210813363"><p>è¿™ä¸ªæ˜¯.&#x2F;${filename}&#x2F;ä¸‹,ç›¸å¯¹è·¯å¾„æ—¶,ç½‘ç«™çš„æ˜¾ç¤º,å·®äº†ä¸€ä¸ªæ—¥æœŸå’Œè§£ç çš„é—®é¢˜</p><img src="/2022/05/03/2l-hexo-pit/image-20230905210938026.png" class="" title="image-20230905210938026"><p>ä½†æ˜¯,<code>å¦‚01.jpgåœ¨åŒä¸€ä¸ªç›®å½•é‡Œé¢,é‚£ä¹ˆå°±å¯ä»¥å®ç°å³å¯ä»¥é¢„è§ˆåˆå¯ä»¥åœ¨ç½‘ç«™ä¸­æ­£ç¡®æ˜¾ç¤º</code></p><p>å‰©ä¸‹çš„å°±è¦ç ”ç©¶jsäº†</p><hr><p>æˆ‘æ„Ÿè§‰jsåŠ ä¸€ä¸ªåŒ¹é…å°±å¯ä»¥äº†,ä½†æ˜¯æˆ‘ä¸ä¼š,å¼€å‘çš„é‡è¦æ€§</p><p>markdownç”¨æ³•å’Œè¡¨æƒ…</p><p>å…¼çš„çš„åŠæ³•æ˜¯mdä¸å›¾ç‰‡æ”¾åœ¨ä¸€èµ·</p><p>æˆ–è€…è¯´,å…³äºé“¾æ¥çš„é—®é¢˜</p><p>æˆ–è€…,åŒ¹é…åˆ°ç›¸å¯¹è·¯å¾„,å»æ‰å‰é¢éƒ¨åˆ†</p><p>2024&#x2F;01&#x2F;29</p><blockquote><p>å‘ç°äº†å¦ä¸€ä¸ªhexo-assert-imgæ’ä»¶,å¯ä»¥å®ç°ç›¸å¯¹è·¯å¾„æ‹¼æ¥å›¾ç‰‡é“¾æ¥</p></blockquote><p>ä¸‹ä¸€é˜¶æ®µç›®æ ‡,è‡ªå·±å†™ä¸€ä¸ªè¿™æ ·çš„æ’ä»¶</p><p><a href="https://www.freesion.com/article/78201400603/">hexo å›¾ç‰‡æ˜¾ç¤ºé—®é¢˜åŠä½¿ç”¨typoraè®¾ç½®å›¾ç‰‡è·¯å¾„ - ç°ä¿¡ç½‘ï¼ˆè½¯ä»¶å¼€å‘åšå®¢èšåˆï¼‰ (freesion.com)</a></p><p><a href="https://zhuanlan.zhihu.com/p/645679541">è§£å†³Hexo+Github+Typoraå›¾ç‰‡æ— æ³•æ­£ç¡®æ˜¾ç¤ºçš„é—®é¢˜ - çŸ¥ä¹ (zhihu.com)</a></p><h2 id="err-Error-Spawn-failed"><a href="#err-Error-Spawn-failed" class="headerlink" title="err: Error: Spawn failed."></a>err: Error: Spawn failed.</h2><p>he correct access rights and the repository exists</p><p> (1)é¦–å…ˆé‡æ–°è®¾ç½®ä¸€ä¸‹gitçš„ç”¨æˆ·åå’Œé‚®ç®±</p><pre class="line-numbers language-c" data-language="c"><code class="language-c">git config --global user.name &quot;xxx&quot;    git config --global user.email &quot;xxx&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>(2) åˆ é™¤.sshæ–‡ä»¶å¤¹</p><p>(3)gitè¾“å…¥</p><blockquote><p>â€˜ssh-keygen -t rsa â€˜    æ”¾åˆ°githubä¸Šæ—¶è¦åŠ ä¸Šé‚®ç®±</p></blockquote><p>(4)æœåŠ¡ç«¯</p><blockquote><p>su fuchen</p></blockquote><blockquote><p>mkdir ~&#x2F;.ssh</p></blockquote><blockquote><p>vim ~&#x2F;.ssh&#x2F;authorized_keys</p></blockquote><p>(5)å¦‚æœé‡å¤å‡ºç°æ­¤é”™è¯¯,æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦ç”¨rootå»ºç«‹äº†.sshæ–‡ä»¶</p><p>(è¿˜æœ‰ä¸€ç§å¯èƒ½æ˜¯gitç¯å¢ƒçš„é…ç½®é—®é¢˜)</p><h2 id="ERROR-Deployer-not-found-git"><a href="#ERROR-Deployer-not-found-git" class="headerlink" title="ERROR Deployer not found: git"></a>ERROR Deployer not found: git</h2><p>è¿è¡Œhexo clean &amp;&amp; hexo g &amp;&amp; hexo då‘½ä»¤,å‡ºç°</p><blockquote><p>åŸå› ï¼šå°‘äº†hexoé’ˆå¯¹gitçš„deployç»„ä»¶</p></blockquote><blockquote><p>è§£å†³æ–¹æ³•ï¼šnpm install â€“save hexo-deployer-git</p></blockquote><blockquote><p>æå®šï¼Œè¿è¡ŒæˆåŠŸä¹‹åæç¤ºï¼šINFO  Deploy done: git</p></blockquote><h3 id="gitæŠ¥é”™â€”The-authenticity-of-host-canâ€™t-be-established"><a href="#gitæŠ¥é”™â€”The-authenticity-of-host-canâ€™t-be-established" class="headerlink" title="gitæŠ¥é”™â€”The authenticity of host canâ€™t be established."></a>gitæŠ¥é”™â€”The authenticity of host canâ€™t be established.</h3><p>æ‰“å¼€æœ¬åœ°çš„.sshæ–‡ä»¶å¤¹(C:\Users\Administrator.ssh)ä¼šå‘ç°æœ‰ä¸¤ä¸ªæ–‡ä»¶åˆ†åˆ«æ˜¯å…¬é’¥å’Œç§é’¥</p><p><strong>äº§ç”ŸåŸå› ï¼š</strong><br>æ–‡ä»¶å¤¹å†…å°‘äº†ä¸€ä¸ªknown_hostsæ–‡ä»¶ï¼Œæœ¬æ¥<a href="https://so.csdn.net/so/search?q=%E5%AF%86%E9%92%A5&spm=1001.2101.3001.7020">å¯†é’¥</a>æ–‡ä»¶åº”è¯¥æ˜¯ä¸‰ä¸ªï¼Œç°åœ¨åªæœ‰ä¸¤ä¸ªï¼Œä¾¿æŠ¥äº†è¿™æ ·çš„é”™è¯¯</p><blockquote><p>è§£å†³:è¾“å…¥yeså›è½¦ï¼Œç”Ÿæˆknown_hostsæ–‡ä»¶</p><p>æ³¨:ä¸è¦ç›´æ¥æŒ‰å›è½¦,è¦è¾“å…¥yesåå›è½¦</p></blockquote><h3 id="SSL-certificate-problem-unable-to-get-local-issuer-certificate"><a href="#SSL-certificate-problem-unable-to-get-local-issuer-certificate" class="headerlink" title="SSL certificate problem: unable to get local issuer certificate"></a>SSL certificate problem: unable to get local issuer certificate</h3><blockquote><p>è¿™æ˜¯ç”±äºå½“ä½ é€šè¿‡HTTPSè®¿é—®Gitè¿œç¨‹ä»“åº“çš„æ—¶å€™ï¼Œå¦‚æœæœåŠ¡å™¨ä¸Šçš„<a href="https://so.csdn.net/so/search?q=SSL&spm=1001.2101.3001.7020">SSL</a>è¯ä¹¦æœªç»è¿‡ç¬¬ä¸‰æ–¹æœºæ„è®¤è¯ï¼Œgitå°±ä¼šæŠ¥é”™ã€‚åŸå› æ˜¯å› ä¸ºæœªçŸ¥çš„æ²¡æœ‰ç­¾ç½²è¿‡çš„è¯ä¹¦æ„å‘³ç€å¯èƒ½å­˜åœ¨å¾ˆå¤§çš„é£é™©ã€‚è§£å†³åŠæ³•å°±æ˜¯é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å°†gitä¸­çš„sslverifyå…³æ‰ï¼š</p></blockquote><pre class="line-numbers language-none"><code class="language-none">git config --global http.sslverify false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ã€€ã€€ä¸Šé¢è¿™è¡Œå‘½ä»¤çš„å½±å“èŒƒå›´æ˜¯ç³»ç»Ÿå½“å‰ç”¨æˆ·ï¼Œå¦‚æœè¦è®¾ç½®ä¸ºå…¨å±€æ‰€æœ‰ç”¨æˆ·ï¼Œå¯ä»¥æ”¹æˆè¿™æ ·ï¼š</p><pre class="line-numbers language-none"><code class="language-none">git config --system http.sslverify false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ã€€ã€€å¦‚æœåªæ˜¯æƒ³é’ˆå¯¹å½“å‰ä»“åº“è¿›è¡Œè®¾ç½®ï¼Œå¯ä»¥åœ¨éœ€è¦ä¿®æ”¹çš„ä»“åº“ç›®å½•ä¸‹æ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">git config http.sslverify false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ã€€ã€€å¦‚æœä½ çš„ä»“åº“ä¸­å­˜åœ¨åµŒå¥—çš„gitå­æ¨¡å—ï¼ˆå°±æ˜¯å­æ¨¡å—ä¸­åˆå¼•ç”¨äº†å­æ¨¡å—ï¼‰ï¼Œåœ¨è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œä»ç„¶æœ‰å¯èƒ½é‡åˆ°self signed certificate in certificate chainçš„é”™è¯¯ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤æ¥è§£å†³ï¼š</p><pre class="line-numbers language-none"><code class="language-none">npm config set strict-ssl false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ‰§è¡Œremote-addæ—¶ï¼šfatal-Not-a-git-repository"><a href="#æ‰§è¡Œremote-addæ—¶ï¼šfatal-Not-a-git-repository" class="headerlink" title="æ‰§è¡Œremote addæ—¶ï¼šfatal: Not a git repository"></a>æ‰§è¡Œremote addæ—¶ï¼šfatal: Not a git repository</h2><blockquote><p>æ‰§è¡Œgit remote addå‘½ä»¤æ—¶æŠ¥è¿™ä¸ªé”™è¯¯ï¼š</p></blockquote><h4 id="fatal-Not-a-git-repository-or-any-of-the-parent-directories-git"><a href="#fatal-Not-a-git-repository-or-any-of-the-parent-directories-git" class="headerlink" title="fatal: Not a git repository (or any of the parent directories): .git"></a>fatal: Not a git repository (or any of the parent directories): .git</h4><blockquote><p>åŸå› ï¼š<br>å½“å‰æ‰€åœ¨çš„ç›®å½•ä¸æ˜¯ä¸€ä¸ªgitç›®å½•ï¼Œè¦ä¹ˆåˆ‡æ¢ç›®å½•åˆ°ä½ æƒ³æ·»åŠ çš„gitç›®å½•ä¸‹ï¼Œæˆ–è€…åœ¨å½“å‰ç›®å½•ä¸‹åˆå§‹åŒ–ä¸€ä¸ªgitç›®å½•ï¼šgit init</p></blockquote><h2 id="æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ…nginx"><a href="#æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ…nginx" class="headerlink" title="æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ…nginx"></a>æ²¡æœ‰å¯ç”¨è½¯ä»¶åŒ…nginx</h2><blockquote><p>yum install epel-release  epelæ‰©å±•</p></blockquote><blockquote><p>yum  update</p></blockquote><h2 id="æ›´æ”¹-config-yumlåå‡ºç°YAMLException"><a href="#æ›´æ”¹-config-yumlåå‡ºç°YAMLException" class="headerlink" title="æ›´æ”¹_config.yumlåå‡ºç°YAMLException:"></a>æ›´æ”¹_config.yumlåå‡ºç°YAMLException:</h2><p> YAMLException: duplicated mapping key (25:1)çš„è§£å†³æ–¹æ³•</p><blockquote><p>YAMLException:é‡å¤çš„æ˜ å°„é”®ï¼ˆ25:1),è§‚å¯Ÿ25è¡Œæ˜¯å¦é‡å¤,æ˜¯å¦å†²çª,</p></blockquote><blockquote><p>æ¯”å¦‚å‰é¢true åé¢false<br>éœ€è¦çœ‹çœ‹å‰åæœ‰æ²¡æœ‰å¤šä½™çš„ç²˜è´´!!</p></blockquote><h2 id="hexoæ›´æ¢ä¸»é¢˜åï¼šWARN-No-layout-index-html"><a href="#hexoæ›´æ¢ä¸»é¢˜åï¼šWARN-No-layout-index-html" class="headerlink" title="hexoæ›´æ¢ä¸»é¢˜åï¼šWARN No layout: index.html"></a>hexoæ›´æ¢ä¸»é¢˜åï¼šWARN No layout: index.html</h2><p> (1).æ£€æŸ¥ä¸‹è½½çš„ä¸»é¢˜æ˜¯ä¸æ˜¯æ”¾åœ¨äº†themesæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ¯”å¦‚nextä¸»é¢˜çš„æ”¾ç½®ï¼Œ</p><blockquote><p>ç‚¹å¼€themeså°±çœ‹åˆ°nextçš„æ–‡ä»¶å¤¹ï¼Œnextä¸‹é¢å°±æ˜¯ä¸»é¢˜çš„æ–‡ä»¶ï¼Œä¸èƒ½æ‰“å¼€nextæ–‡ä»¶å¤¹è¿˜æœ‰themes<br> è§£å†³æ–¹æ³•<br>æŠŠthemeä¸‹çš„æ–‡ä»¶å¤¹åç§°æ”¹ä¸ºnextã€‚</p></blockquote><p>(2).æ£€æŸ¥ç«™ç‚¹é…ç½®_config.ymlæ˜¯ä¸æ˜¯ä¸‹é¢çš„å½¢å¼<br>theme: ä½ çš„ä¸»é¢˜åå­—</p><blockquote><p>æ³¨æ„:ï¼ˆ1ï¼‰è¿™é‡Œæ˜¯themeï¼Œä¸æ˜¯themes.</p><blockquote><blockquote><p>ï¼ˆ2ï¼‰themeåé¢ä¸ä¸»é¢˜åç›´æ¥æœ‰ä¸€ä¸ªç©ºæ ¼ã€‚</p><blockquote><p>ï¼ˆ3ï¼‰ä¸»é¢˜åå­—æ˜¯å¦ä¸themesæ–‡ä»¶å¤¹ä¸‹ ä¸»é¢˜çš„åå­—ä¸€è‡´ã€‚</p></blockquote></blockquote></blockquote><blockquote><blockquote><blockquote><p>æ¯”å¦‚nextï¼štheme: next,å†’å·åé¢æœ‰ç©ºæ ¼ã€‚</p></blockquote></blockquote></blockquote></blockquote><h3 id="å‡å¦‚å…¨éƒ¨ä¸€è‡´è¿˜è¿è¡Œæœ‰é”™ï¼Œå»ºè®®æ¯æ¬¡ä¿®æ”¹å"><a href="#å‡å¦‚å…¨éƒ¨ä¸€è‡´è¿˜è¿è¡Œæœ‰é”™ï¼Œå»ºè®®æ¯æ¬¡ä¿®æ”¹å" class="headerlink" title="å‡å¦‚å…¨éƒ¨ä¸€è‡´è¿˜è¿è¡Œæœ‰é”™ï¼Œå»ºè®®æ¯æ¬¡ä¿®æ”¹å"></a>å‡å¦‚å…¨éƒ¨ä¸€è‡´è¿˜è¿è¡Œæœ‰é”™ï¼Œå»ºè®®æ¯æ¬¡ä¿®æ”¹å</h3><p>å…ˆè¾“å…¥å‘½ä»¤â€™hexo cleanâ€™æ¸…ç†ä¸€ä¸‹åŸæ¥çš„é…ç½®ï¼Œç„¶åè¿è¡Œ</p><h4 id="ç¬¬äºŒä¸ªé”™è¯¯"><a href="#ç¬¬äºŒä¸ªé”™è¯¯" class="headerlink" title="ç¬¬äºŒä¸ªé”™è¯¯"></a>ç¬¬äºŒä¸ªé”™è¯¯</h4><p>æœ¬åœ°ä¸»é¢˜æ ·å¼ä¿®æ”¹å®Œä¹‹åï¼Œæœ¬åœ°è¿è¡Œè®¿é—®éƒ½å¯¹ï¼Œ</p><p>ç„¶åhexo déƒ¨ç½²åˆ°githubä¸Šé¢åè®¿é—®æ²¡æœ‰æ ·å¼ã€‚</p><blockquote><p>æ‰“å¼€ç«™ç‚¹é…ç½®_config.yml,æ›´æ”¹å…¶ä¸­çš„urlå’Œrooté…ç½®</p></blockquote><blockquote><p>url: è¿™é‡Œæ˜¯GitHubç»™ä½ åˆ†é…çš„åœ°å€,root: &#x2F;é¡¹ç›®å</p></blockquote><blockquote><p>ç„¶åé‡æ–° hexo g,hexo d è§£å†³é—®é¢˜ã€‚</p></blockquote><h2 id="bash-hexo-command-not-found"><a href="#bash-hexo-command-not-found" class="headerlink" title="bash: hexo: command not found"></a>bash: hexo: command not found</h2><p>(1)gitå…³äº†é‡æ–°å¼€ä¸€ä¸‹</p><p>(2)æŸ¥<code>nodejs</code>å’Œ<code>npm</code>æ˜¯å¦æ­£å¸¸ï¼Œä¾æ¬¡è¾“å…¥å‘½ä»¤<code>node -v å’Œ</code>npm -v&#96;çœ‹çœ‹æ˜¯å¦æœ‰ç›¸å…³ç‰ˆæœ¬ä¿¡æ¯</p><blockquote><p>(3)æ­¤ç”µè„‘-&gt;å±æ€§-&gt;é«˜çº§ç³»ç»Ÿè®¾ç½®-&gt;ç¯å¢ƒå˜é‡-&gt;é€‰æ‹©ç³»ç»Ÿå˜é‡ Path</p></blockquote><blockquote><p>å°† node_modules ä¸‹çš„ .bin æ–‡ä»¶è·¯å¾„æ·»åŠ åˆ° Path é‡Œé¢</p></blockquote><p>ç¯å¢ƒå˜é‡æ·»åŠ å¥½äº†ä¹‹åé‡æ–°æ‰“å¼€ git å³å¯è¿è¡Œ hexo å‘½ä»¤</p><p>å¦‚æœæ­¤æ—¶ä»ç„¶æ— æ³•æ‰§è¡Œ hexo å‘½ä»¤ï¼Œé‚£å°±åªèƒ½é‡è£…è¯•è¯•äº†ï¼Œ</p><blockquote><p>è¿è¡Œå‘½ä»¤ npm install hexo-cli -g é‡æ–°å®‰è£… hexo å³å¯</p></blockquote><h2 id="YAMLException-end-of-the-stream-or-a-document-separator-is-expected"><a href="#YAMLException-end-of-the-stream-or-a-document-separator-is-expected" class="headerlink" title="YAMLException: end of the stream or a document separator is expected"></a>YAMLException: end of the stream or a document separator is expected</h2><blockquote><p>æ£€æŸ¥æ–‡ä»¶å¤´ç¼ºç©ºæ ¼</p></blockquote><blockquote><p>ä¸ºäº†é¿å…é…ç½®åå‡ºç°å¤§é‡é”™è¯¯,æ— ä»ä¸‹æ‰‹,å»ºè®®åˆ†éƒ¨é…ç½®,ä¸æŠ¥é”™äº†å†ç»§ç»­é…ç½®</p></blockquote><h3 id="c-Users-DELL-AppData-Roaming-npm-hexo-line-12-node-command-not-found"><a href="#c-Users-DELL-AppData-Roaming-npm-hexo-line-12-node-command-not-found" class="headerlink" title="&#x2F;c&#x2F;Users&#x2F;DELL&#x2F;AppData&#x2F;Roaming&#x2F;npm&#x2F;hexo: line 12: node: command not found"></a>&#x2F;c&#x2F;Users&#x2F;DELL&#x2F;AppData&#x2F;Roaming&#x2F;npm&#x2F;hexo: line 12: node: command not found</h3><p>é‡æ–°å®‰è£…gitå,è¿è¡Œhexoå‡ºç°è¿™æ ·çš„æŠ¥é”™,é‡æ–°å®‰è£…ä¸€ä¸‹<a href="https://www.wangfuchao.com/?golink=aHR0cHM6Ly9ub2RlanMub3JnL2VuLw==">node.js</a>å°±å¯ä»¥äº†</p><p><a href="https://blog.csdn.net/weixin_40486955/article/details/105967026">4.1å‚è€ƒæ–‡ç« </a></p><p><a href="https://blog.csdn.net/qq_55125921/article/details/125220576">4.2å‚è€ƒæ–‡ç« </a>)</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxæ­å»ºhexoåšå®¢(æœ¬åœ°ç«¯)</title>
      <link href="/2022/05/03/1l-hexo-blog/"/>
      <url>/2022/05/03/1l-hexo-blog/</url>
      
        <content type="html"><![CDATA[<h2 id="æœ¬åœ°ç”µè„‘å®‰è£…node-jså’Œgit"><a href="#æœ¬åœ°ç”µè„‘å®‰è£…node-jså’Œgit" class="headerlink" title="æœ¬åœ°ç”µè„‘å®‰è£…node.jså’Œgit"></a>æœ¬åœ°ç”µè„‘å®‰è£…node.jså’Œgit</h2><p><a href="https://git-scm.com/downloads">Gitä¸‹è½½</a><br><a href="https://nodejs.org/zh-cn/">nodeä¸‹è½½</a><br>æ³¨æ„é…ç½®ç¯å¢ƒå˜é‡ D:\Node,   D:\Git\cmd</p><h2 id="éªŒè¯nodeå®‰è£…å®Œæˆ"><a href="#éªŒè¯nodeå®‰è£…å®Œæˆ" class="headerlink" title="éªŒè¯nodeå®‰è£…å®Œæˆ"></a>éªŒè¯nodeå®‰è£…å®Œæˆ</h2><p>åœ¨cmdä¸­è¾“å…¥</p><blockquote><p>node -v<br> npm -v</p></blockquote><p>å‡ºç°ç‰ˆæœ¬å·ä»£è¡¨å®‰è£…å®Œæˆ</p><h2 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h2><p><a href="https://hexo.io/zh-cn/docs/">hexoæ–‡æ¡£</a></p><p>æ‰“å¼€cmd ç„¶ååœ¨cmdä¸­è¾“å…¥</p><blockquote><p>npm install -g hexo-cli</p></blockquote><h2 id="ç”ŸæˆHexo"><a href="#ç”ŸæˆHexo" class="headerlink" title="ç”ŸæˆHexo"></a>ç”ŸæˆHexo</h2><blockquote><p>hexo init blog </p></blockquote><p>å®‰è£…è¿‡ç¨‹ä¸­ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯Hexoçš„é…ç½®æ–‡ä»¶â€œblogâ€æ˜¯ä½ è¦ç”Ÿæˆåšå®¢çš„æ–‡ä»¶å¤¹åç§°ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½æ¥å–åç­‰å¾…å®‰è£…å®Œæˆ</p><p>å®Œæˆåï¼Œæˆ‘ä»¬è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹ï¼Œç”¨<code>hexo s</code>è¿™ä¸ªå‘½ä»¤æ¥å¯åŠ¨Hexo</p><p>è¾“å…¥å®ƒæç¤ºçš„ç½‘ç«™  è¿›å»ä¹‹åå°±å¯ä»¥çœ‹åˆ°<code>localhost:4000</code></p><blockquote><p>æš‚æ—¶æœ‰ä¸€ä¸ªé—®é¢˜ä¸æ˜ç™½,å¯ä¸å¯ä»¥ä¸ç”¨æœ¬åœ°ç«¯,åªç”¨æœåŠ¡å™¨,å°±å¯ä»¥æ­å»ºå‘¢</p></blockquote><blockquote><p><a href="http://fuchenchenle.cn/2020/08/17/%E8%85%BE%E8%AE%AF%E4%BA%91%EF%BC%8Bhexo-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">é™„ä¸ŠåŸæ–‡é“¾æ¥</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
